{"version":3,"file":"codeAction.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/editor/contrib/codeAction/test/codeAction.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { URI } from 'vs/base/common/uri';\nimport { Range } from 'vs/editor/common/core/range';\nimport { TextModel } from 'vs/editor/common/model/textModel';\nimport * as modes from 'vs/editor/common/modes';\nimport { CodeActionItem, getCodeActions } from 'vs/editor/contrib/codeAction/codeAction';\nimport { CodeActionKind } from 'vs/editor/contrib/codeAction/types';\nimport { IMarkerData, MarkerSeverity } from 'vs/platform/markers/common/markers';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { Progress } from 'vs/platform/progress/common/progress';\nimport { createTextModel } from 'vs/editor/test/common/editorTestUtils';\n\nfunction staticCodeActionProvider(...actions: modes.CodeAction[]): modes.CodeActionProvider {\n\treturn new class implements modes.CodeActionProvider {\n\t\tprovideCodeActions(): modes.CodeActionList {\n\t\t\treturn {\n\t\t\t\tactions: actions,\n\t\t\t\tdispose: () => { }\n\t\t\t};\n\t\t}\n\t};\n}\n\n\nsuite('CodeAction', () => {\n\n\tlet langId = new modes.LanguageIdentifier('fooLang', 17);\n\tlet uri = URI.parse('untitled:path');\n\tlet model: TextModel;\n\tconst disposables = new DisposableStore();\n\tlet testData = {\n\t\tdiagnostics: {\n\t\t\tabc: {\n\t\t\t\ttitle: 'bTitle',\n\t\t\t\tdiagnostics: [{\n\t\t\t\t\tstartLineNumber: 1,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: 2,\n\t\t\t\t\tendColumn: 1,\n\t\t\t\t\tseverity: MarkerSeverity.Error,\n\t\t\t\t\tmessage: 'abc'\n\t\t\t\t}]\n\t\t\t},\n\t\t\tbcd: {\n\t\t\t\ttitle: 'aTitle',\n\t\t\t\tdiagnostics: [{\n\t\t\t\t\tstartLineNumber: 1,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: 2,\n\t\t\t\t\tendColumn: 1,\n\t\t\t\t\tseverity: MarkerSeverity.Error,\n\t\t\t\t\tmessage: 'bcd'\n\t\t\t\t}]\n\t\t\t}\n\t\t},\n\t\tcommand: {\n\t\t\tabc: {\n\t\t\t\tcommand: new class implements modes.Command {\n\t\t\t\t\tid!: '1';\n\t\t\t\t\ttitle!: 'abc';\n\t\t\t\t},\n\t\t\t\ttitle: 'Extract to inner function in function \"test\"'\n\t\t\t}\n\t\t},\n\t\tspelling: {\n\t\t\tbcd: {\n\t\t\t\tdiagnostics: <IMarkerData[]>[],\n\t\t\t\tedit: new class implements modes.WorkspaceEdit {\n\t\t\t\t\tedits!: modes.WorkspaceTextEdit[];\n\t\t\t\t},\n\t\t\t\ttitle: 'abc'\n\t\t\t}\n\t\t},\n\t\ttsLint: {\n\t\t\tabc: {\n\t\t\t\t$ident: 57,\n\t\t\t\targuments: <IMarkerData[]>[],\n\t\t\t\tid: '_internal_command_delegation',\n\t\t\t\ttitle: 'abc'\n\t\t\t},\n\t\t\tbcd: {\n\t\t\t\t$ident: 47,\n\t\t\t\targuments: <IMarkerData[]>[],\n\t\t\t\tid: '_internal_command_delegation',\n\t\t\t\ttitle: 'bcd'\n\t\t\t}\n\t\t}\n\t};\n\n\tsetup(function () {\n\t\tdisposables.clear();\n\t\tmodel = createTextModel('test1\\ntest2\\ntest3', undefined, langId, uri);\n\t\tdisposables.add(model);\n\t});\n\n\tteardown(function () {\n\t\tdisposables.clear();\n\t});\n\n\ttest('CodeActions are sorted by type, #38623', async function () {\n\n\t\tconst provider = staticCodeActionProvider(\n\t\t\ttestData.command.abc,\n\t\t\ttestData.diagnostics.bcd,\n\t\t\ttestData.spelling.bcd,\n\t\t\ttestData.tsLint.bcd,\n\t\t\ttestData.tsLint.abc,\n\t\t\ttestData.diagnostics.abc\n\t\t);\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', provider));\n\n\t\tconst expected = [\n\t\t\t// CodeActions with a diagnostics array are shown first ordered by diagnostics.message\n\t\t\tnew CodeActionItem(testData.diagnostics.abc, provider),\n\t\t\tnew CodeActionItem(testData.diagnostics.bcd, provider),\n\n\t\t\t// CodeActions without diagnostics are shown in the given order without any further sorting\n\t\t\tnew CodeActionItem(testData.command.abc, provider),\n\t\t\tnew CodeActionItem(testData.spelling.bcd, provider), // empty diagnostics array\n\t\t\tnew CodeActionItem(testData.tsLint.bcd, provider),\n\t\t\tnew CodeActionItem(testData.tsLint.abc, provider)\n\t\t];\n\n\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Invoke }, Progress.None, CancellationToken.None);\n\t\tassert.strictEqual(actions.length, 6);\n\t\tassert.deepStrictEqual(actions, expected);\n\t});\n\n\ttest('getCodeActions should filter by scope', async function () {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: 'a' },\n\t\t\t{ title: 'b', kind: 'b' },\n\t\t\t{ title: 'a.b', kind: 'a.b' }\n\t\t);\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Auto, filter: { include: new CodeActionKind('a') } }, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(actions.length, 2);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t\tassert.strictEqual(actions[1].action.title, 'a.b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Auto, filter: { include: new CodeActionKind('a.b') } }, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a.b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Auto, filter: { include: new CodeActionKind('a.b.c') } }, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(actions.length, 0);\n\t\t}\n\t});\n\n\ttest('getCodeActions should forward requested scope to providers', async function () {\n\t\tconst provider = new class implements modes.CodeActionProvider {\n\t\t\tprovideCodeActions(_model: any, _range: Range, context: modes.CodeActionContext, _token: any): modes.CodeActionList {\n\t\t\t\treturn {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{ title: context.only || '', kind: context.only }\n\t\t\t\t\t],\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', provider));\n\n\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Auto, filter: { include: new CodeActionKind('a') } }, Progress.None, CancellationToken.None);\n\t\tassert.strictEqual(actions.length, 1);\n\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t});\n\n\ttest('getCodeActions should not return source code action by default', async function () {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: CodeActionKind.Source.value },\n\t\t\t{ title: 'b', kind: 'b' }\n\t\t);\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Auto }, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), { type: modes.CodeActionTriggerType.Auto, filter: { include: CodeActionKind.Source, includeSourceActions: true } }, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t}\n\t});\n\n\ttest('getCodeActions should support filtering out some requested source code actions #84602', async function () {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: CodeActionKind.Source.value },\n\t\t\t{ title: 'b', kind: CodeActionKind.Source.append('test').value },\n\t\t\t{ title: 'c', kind: 'c' }\n\t\t);\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), {\n\t\t\t\ttype: modes.CodeActionTriggerType.Auto, filter: {\n\t\t\t\t\tinclude: CodeActionKind.Source.append('test'),\n\t\t\t\t\texcludes: [CodeActionKind.Source],\n\t\t\t\t\tincludeSourceActions: true,\n\t\t\t\t}\n\t\t\t}, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'b');\n\t\t}\n\t});\n\n\ttest('getCodeActions no invoke a provider that has been excluded #84602', async function () {\n\t\tconst baseType = CodeActionKind.Refactor;\n\t\tconst subType = CodeActionKind.Refactor.append('sub');\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: baseType.value }\n\t\t)));\n\n\t\tlet didInvoke = false;\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', new class implements modes.CodeActionProvider {\n\n\t\t\tprovidedCodeActionKinds = [subType.value];\n\n\t\t\tprovideCodeActions(): modes.ProviderResult<modes.CodeActionList> {\n\t\t\t\tdidInvoke = true;\n\t\t\t\treturn {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{ title: 'x', kind: subType.value }\n\t\t\t\t\t],\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\n\t\t{\n\t\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), {\n\t\t\t\ttype: modes.CodeActionTriggerType.Auto, filter: {\n\t\t\t\t\tinclude: baseType,\n\t\t\t\t\texcludes: [subType],\n\t\t\t\t}\n\t\t\t}, Progress.None, CancellationToken.None);\n\t\t\tassert.strictEqual(didInvoke, false);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t}\n\t});\n\n\ttest('getCodeActions should not invoke code action providers filtered out by providedCodeActionKinds', async function () {\n\t\tlet wasInvoked = false;\n\t\tconst provider = new class implements modes.CodeActionProvider {\n\t\t\tprovideCodeActions(): modes.CodeActionList {\n\t\t\t\twasInvoked = true;\n\t\t\t\treturn { actions: [], dispose: () => { } };\n\t\t\t}\n\n\t\t\tprovidedCodeActionKinds = [CodeActionKind.Refactor.value];\n\t\t};\n\n\t\tdisposables.add(modes.CodeActionProviderRegistry.register('fooLang', provider));\n\n\t\tconst { validActions: actions } = await getCodeActions(model, new Range(1, 1, 2, 1), {\n\t\t\ttype: modes.CodeActionTriggerType.Auto,\n\t\t\tfilter: {\n\t\t\t\tinclude: CodeActionKind.QuickFix\n\t\t\t}\n\t\t}, Progress.None, CancellationToken.None);\n\t\tassert.strictEqual(actions.length, 0);\n\t\tassert.strictEqual(wasInvoked, false);\n\t});\n});\n"]}