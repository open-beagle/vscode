{"version":3,"sources":["vs/editor/contrib/folding/foldingDecorations.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAWnF,QAAA,mBAAmB,GAAG,CAAA,GAAA,2BAAY,CAAA,CAAC,kBAAkB,EAAE,kBAAO,CAAC,WAAW,EAAE,CAAA,GAAA,cAAQ,CAAA,CAAC,CAAqB,EAAE,IAAsD,CAAC,CAAC,CAAC;IACrK,QAAA,oBAAoB,GAAG,CAAA,GAAA,2BAAY,CAAA,CAAC,mBAAmB,EAAE,kBAAO,CAAC,YAAY,EAAE,CAAA,GAAA,cAAQ,CAAA,CAAC,CAAsB,EAAE,IAAuD,CAAC,CAAC,CAAC;IACvL,MAAa,yBAAyB;QAqCrC,YAA6B,MAAmB;YAAnB,WAAM,GAAN,MAAM,CAAa;YAJzC,4BAAuB,GAAY,IAAI,CAAC;YAExC,0BAAqB,GAAY,IAAI,CAAC;QAG7C,CAAC;QAED,mBAAmB,CAAC,WAAoB,EAAE,QAAiB;YAC1D,IAAI,QAAQ,EAAE;gBACb,OAAO,yBAAyB,CAAC,uBAAuB,CAAC;aACzD;YACD,IAAI,WAAW,EAAE;gBAChB,OAAO,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,yBAAyB,CAAC,uCAAuC,CAAC,CAAC,CAAC,yBAAyB,CAAC,2BAA2B,CAAC;aAC9J;iBAAM,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBACxC,OAAO,yBAAyB,CAAC,oCAAoC,CAAC;aACtE;iBAAM;gBACN,OAAO,yBAAyB,CAAC,0BAA0B,CAAC;aAC5D;QACF,CAAC;QAED,gBAAgB,CAAC,cAAwB,EAAE,cAAuC;YACjF,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;QACrE,CAAC;QAED,iBAAiB,CAAI,QAAgE;YACpF,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAChD,CAAC;;IA3DF,8DA4DC;IA1DwB,qDAA2B,GAAG,kCAAsB,CAAC,QAAQ,CAAC;QACrF,UAAU,qCAAoD;QAC9D,qBAAqB,EAAE,eAAe;QACtC,WAAW,EAAE,IAAI;QACjB,4BAA4B,EAAE,wBAAS,CAAC,WAAW,CAAC,4BAAoB,CAAC;KACzE,CAAC,CAAC;IAEqB,iEAAuC,GAAG,kCAAsB,CAAC,QAAQ,CAAC;QACjG,UAAU,qCAAoD;QAC9D,qBAAqB,EAAE,eAAe;QACtC,SAAS,EAAE,mBAAmB;QAC9B,WAAW,EAAE,IAAI;QACjB,4BAA4B,EAAE,wBAAS,CAAC,WAAW,CAAC,4BAAoB,CAAC;KACzE,CAAC,CAAC;IAEqB,8DAAoC,GAAG,kCAAsB,CAAC,QAAQ,CAAC;QAC9F,UAAU,qCAAoD;QAC9D,WAAW,EAAE,IAAI;QACjB,4BAA4B,EAAE,wBAAS,CAAC,WAAW,CAAC,2BAAmB,CAAC;KACxE,CAAC,CAAC;IAEqB,oDAA0B,GAAG,kCAAsB,CAAC,QAAQ,CAAC;QACpF,UAAU,qCAAoD;QAC9D,WAAW,EAAE,IAAI;QACjB,4BAA4B,EAAE,sBAAsB,GAAG,wBAAS,CAAC,WAAW,CAAC,2BAAmB,CAAC;KACjG,CAAC,CAAC;IAEqB,iDAAuB,GAAG,kCAAsB,CAAC,QAAQ,CAAC;QACjF,UAAU,qCAAoD;KAC9D,CAAC,CAAC","file":"foldingDecorations.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TrackedRangeStickiness, IModelDeltaDecoration, IModelDecorationsChangeAccessor } from 'vs/editor/common/model';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { IDecorationProvider } from 'vs/editor/contrib/folding/foldingModel';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { localize } from 'vs/nls';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { ThemeIcon } from 'vs/platform/theme/common/themeService';\n\nexport const foldingExpandedIcon = registerIcon('folding-expanded', Codicon.chevronDown, localize('foldingExpandedIcon', 'Icon for expanded ranges in the editor glyph margin.'));\nexport const foldingCollapsedIcon = registerIcon('folding-collapsed', Codicon.chevronRight, localize('foldingCollapsedIcon', 'Icon for collapsed ranges in the editor glyph margin.'));\nexport class FoldingDecorationProvider implements IDecorationProvider {\n\n\tprivate static readonly COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingCollapsedIcon)\n\t});\n\n\tprivate static readonly COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tafterContentClassName: 'inline-folded',\n\t\tclassName: 'folded-background',\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingCollapsedIcon)\n\t});\n\n\tprivate static readonly EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: ThemeIcon.asClassName(foldingExpandedIcon)\n\t});\n\n\tprivate static readonly EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tisWholeLine: true,\n\t\tfirstLineDecorationClassName: 'alwaysShowFoldIcons ' + ThemeIcon.asClassName(foldingExpandedIcon)\n\t});\n\n\tprivate static readonly HIDDEN_RANGE_DECORATION = ModelDecorationOptions.register({\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t});\n\n\tpublic autoHideFoldingControls: boolean = true;\n\n\tpublic showFoldingHighlights: boolean = true;\n\n\tconstructor(private readonly editor: ICodeEditor) {\n\t}\n\n\tgetDecorationOption(isCollapsed: boolean, isHidden: boolean): ModelDecorationOptions {\n\t\tif (isHidden) {\n\t\t\treturn FoldingDecorationProvider.HIDDEN_RANGE_DECORATION;\n\t\t}\n\t\tif (isCollapsed) {\n\t\t\treturn this.showFoldingHighlights ? FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION;\n\t\t} else if (this.autoHideFoldingControls) {\n\t\t\treturn FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;\n\t\t} else {\n\t\t\treturn FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;\n\t\t}\n\t}\n\n\tdeltaDecorations(oldDecorations: string[], newDecorations: IModelDeltaDecoration[]): string[] {\n\t\treturn this.editor.deltaDecorations(oldDecorations, newDecorations);\n\t}\n\n\tchangeDecorations<T>(callback: (changeAccessor: IModelDecorationsChangeAccessor) => T): T {\n\t\treturn this.editor.changeDecorations(callback);\n\t}\n}\n"]}