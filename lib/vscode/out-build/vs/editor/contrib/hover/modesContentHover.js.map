{"version":3,"file":"modesContentHover.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/editor/contrib/hover/modesContentHover.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { Color, RGBA } from 'vs/base/common/color';\nimport { IDisposable, DisposableStore, combinedDisposable } from 'vs/base/common/lifecycle';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition } from 'vs/editor/browser/editorBrowser';\nimport { Position } from 'vs/editor/common/core/position';\nimport { Range } from 'vs/editor/common/core/range';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { DocumentColorProvider, IColor, TokenizationRegistry } from 'vs/editor/common/modes';\nimport { getColorPresentations } from 'vs/editor/contrib/colorPicker/color';\nimport { ColorDetector } from 'vs/editor/contrib/colorPicker/colorDetector';\nimport { ColorPickerModel } from 'vs/editor/contrib/colorPicker/colorPickerModel';\nimport { ColorPickerWidget } from 'vs/editor/contrib/colorPicker/colorPickerWidget';\nimport { HoverOperation, HoverStartMode, IHoverComputer } from 'vs/editor/contrib/hover/hoverOperation';\nimport { IThemeService, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { coalesce } from 'vs/base/common/arrays';\nimport { IIdentifiedSingleEditOperation, IModelDecoration, TrackedRangeStickiness } from 'vs/editor/common/model';\nimport { ConfigurationChangedEvent, EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { Constants } from 'vs/base/common/uint';\nimport { textLinkForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { HoverWidget } from 'vs/base/browser/ui/hover/hoverWidget';\nimport { MarkerHover, MarkerHoverParticipant } from 'vs/editor/contrib/hover/markerHoverParticipant';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { MarkdownHover, MarkdownHoverParticipant } from 'vs/editor/contrib/hover/markdownHoverParticipant';\n\nexport interface IHoverPart {\n\treadonly range: Range;\n\tequals(other: IHoverPart): boolean;\n}\n\nexport interface IEditorHover {\n\thide(): void;\n\tonContentsChanged(): void;\n}\n\nexport interface IEditorHoverParticipant<T extends IHoverPart = IHoverPart> {\n\tcomputeSync(hoverRange: Range, lineDecorations: IModelDecoration[]): T[];\n\tcomputeAsync?(range: Range, token: CancellationToken): Promise<T[]>;\n\trenderHoverParts(hoverParts: T[], fragment: DocumentFragment): IDisposable;\n}\n\nclass ColorHover implements IHoverPart {\n\n\tconstructor(\n\t\tpublic readonly range: Range,\n\t\tpublic readonly color: IColor,\n\t\tpublic readonly provider: DocumentColorProvider\n\t) { }\n\n\tequals(other: IHoverPart): boolean {\n\t\treturn false;\n\t}\n}\n\nclass HoverPartInfo {\n\tconstructor(\n\t\tpublic readonly owner: IEditorHoverParticipant | null,\n\t\tpublic readonly data: IHoverPart\n\t) { }\n}\n\nclass ModesContentComputer implements IHoverComputer<HoverPartInfo[]> {\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate _result: HoverPartInfo[];\n\tprivate _range: Range | null;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tprivate readonly _markerHoverParticipant: IEditorHoverParticipant<MarkerHover>,\n\t\tprivate readonly _markdownHoverParticipant: MarkdownHoverParticipant\n\t) {\n\t\tthis._editor = editor;\n\t\tthis._result = [];\n\t\tthis._range = null;\n\t}\n\n\tpublic setRange(range: Range): void {\n\t\tthis._range = range;\n\t\tthis._result = [];\n\t}\n\n\tpublic clearResult(): void {\n\t\tthis._result = [];\n\t}\n\n\tpublic async computeAsync(token: CancellationToken): Promise<HoverPartInfo[]> {\n\t\tif (!this._editor.hasModel() || !this._range) {\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\n\t\tconst markdownHovers = await this._markdownHoverParticipant.computeAsync(this._range, token);\n\t\treturn markdownHovers.map(h => new HoverPartInfo(this._markdownHoverParticipant, h));\n\t}\n\n\tpublic computeSync(): HoverPartInfo[] {\n\t\tif (!this._editor.hasModel() || !this._range) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst model = this._editor.getModel();\n\t\tconst hoverRange = this._range;\n\t\tconst lineNumber = hoverRange.startLineNumber;\n\n\t\tif (lineNumber > this._editor.getModel().getLineCount()) {\n\t\t\t// Illegal line number => no results\n\t\t\treturn [];\n\t\t}\n\n\t\tconst maxColumn = model.getLineMaxColumn(lineNumber);\n\t\tconst lineDecorations = this._editor.getLineDecorations(lineNumber).filter((d) => {\n\t\t\tif (d.options.isWholeLine) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\n\t\t\tconst endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\n\t\t\tif (startColumn > hoverRange.startColumn || hoverRange.endColumn > endColumn) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tlet result: HoverPartInfo[] = [];\n\n\t\tconst colorDetector = ColorDetector.get(this._editor);\n\t\tfor (const d of lineDecorations) {\n\t\t\tconst colorData = colorDetector.getColorData(d.range.getStartPosition());\n\t\t\tif (colorData) {\n\t\t\t\tconst { color, range } = colorData.colorInfo;\n\t\t\t\tresult.push(new HoverPartInfo(null, new ColorHover(Range.lift(range), color, colorData.provider)));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst markdownHovers = this._markdownHoverParticipant.computeSync(this._range, lineDecorations);\n\t\tresult = result.concat(markdownHovers.map(h => new HoverPartInfo(this._markdownHoverParticipant, h)));\n\n\t\tconst markerHovers = this._markerHoverParticipant.computeSync(this._range, lineDecorations);\n\t\tresult = result.concat(markerHovers.map(h => new HoverPartInfo(this._markerHoverParticipant, h)));\n\n\t\treturn coalesce(result);\n\t}\n\n\tpublic onResult(result: HoverPartInfo[], isFromSynchronousComputation: boolean): void {\n\t\t// Always put synchronous messages before asynchronous ones\n\t\tif (isFromSynchronousComputation) {\n\t\t\tthis._result = result.concat(this._result);\n\t\t} else {\n\t\t\tthis._result = this._result.concat(result);\n\t\t}\n\t}\n\n\tpublic getResult(): HoverPartInfo[] {\n\t\treturn this._result.slice(0);\n\t}\n\n\tpublic getResultWithLoadingMessage(): HoverPartInfo[] {\n\t\tif (this._range) {\n\t\t\tconst loadingMessage = new HoverPartInfo(this._markdownHoverParticipant, this._markdownHoverParticipant.createLoadingMessage(this._range));\n\t\t\treturn this._result.slice(0).concat([loadingMessage]);\n\n\t\t}\n\t\treturn this._result.slice(0);\n\t}\n}\n\nexport class ModesContentHoverWidget extends Widget implements IContentWidget, IEditorHover {\n\n\tstatic readonly ID = 'editor.contrib.modesContentHoverWidget';\n\n\tprivate readonly _markerHoverParticipant: IEditorHoverParticipant<MarkerHover>;\n\tprivate readonly _markdownHoverParticipant: MarkdownHoverParticipant;\n\n\tprivate readonly _hover: HoverWidget;\n\tprivate readonly _id: string;\n\tprivate readonly _editor: ICodeEditor;\n\tprivate _isVisible: boolean;\n\tprivate _showAtPosition: Position | null;\n\tprivate _showAtRange: Range | null;\n\tprivate _stoleFocus: boolean;\n\n\t// IContentWidget.allowEditorOverflow\n\tpublic readonly allowEditorOverflow = true;\n\n\tprivate _messages: HoverPartInfo[];\n\tprivate _lastRange: Range | null;\n\tprivate readonly _computer: ModesContentComputer;\n\tprivate readonly _hoverOperation: HoverOperation<HoverPartInfo[]>;\n\tprivate _highlightDecorations: string[];\n\tprivate _isChangingDecorations: boolean;\n\tprivate _shouldFocus: boolean;\n\tprivate _colorPicker: ColorPickerWidget | null;\n\tprivate _renderDisposable: IDisposable | null;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tprivate readonly _hoverVisibleKey: IContextKey<boolean>,\n\t\tinstantiationService: IInstantiationService,\n\t\tprivate readonly _themeService: IThemeService,\n\t) {\n\t\tsuper();\n\n\t\tthis._markerHoverParticipant = instantiationService.createInstance(MarkerHoverParticipant, editor, this);\n\t\tthis._markdownHoverParticipant = instantiationService.createInstance(MarkdownHoverParticipant, editor, this);\n\n\t\tthis._hover = this._register(new HoverWidget());\n\t\tthis._id = ModesContentHoverWidget.ID;\n\t\tthis._editor = editor;\n\t\tthis._isVisible = false;\n\t\tthis._stoleFocus = false;\n\t\tthis._renderDisposable = null;\n\n\t\tthis.onkeydown(this._hover.containerDomNode, (e: IKeyboardEvent) => {\n\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t});\n\n\t\tthis._register(this._editor.onDidChangeConfiguration((e: ConfigurationChangedEvent) => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\tthis._updateFont();\n\t\t\t}\n\t\t}));\n\n\t\tthis._editor.onDidLayoutChange(() => this.layout());\n\n\t\tthis.layout();\n\t\tthis._editor.addContentWidget(this);\n\t\tthis._showAtPosition = null;\n\t\tthis._showAtRange = null;\n\t\tthis._stoleFocus = false;\n\n\t\tthis._messages = [];\n\t\tthis._lastRange = null;\n\t\tthis._computer = new ModesContentComputer(this._editor, this._markerHoverParticipant, this._markdownHoverParticipant);\n\t\tthis._highlightDecorations = [];\n\t\tthis._isChangingDecorations = false;\n\t\tthis._shouldFocus = false;\n\t\tthis._colorPicker = null;\n\n\t\tthis._hoverOperation = new HoverOperation(\n\t\t\tthis._computer,\n\t\t\tresult => this._withResult(result, true),\n\t\t\tnull,\n\t\t\tresult => this._withResult(result, false),\n\t\t\tthis._editor.getOption(EditorOption.hover).delay\n\t\t);\n\n\t\tthis._register(dom.addStandardDisposableListener(this.getDomNode(), dom.EventType.FOCUS, () => {\n\t\t\tif (this._colorPicker) {\n\t\t\t\tthis.getDomNode().classList.add('colorpicker-hover');\n\t\t\t}\n\t\t}));\n\t\tthis._register(dom.addStandardDisposableListener(this.getDomNode(), dom.EventType.BLUR, () => {\n\t\t\tthis.getDomNode().classList.remove('colorpicker-hover');\n\t\t}));\n\t\tthis._register(editor.onDidChangeConfiguration(() => {\n\t\t\tthis._hoverOperation.setHoverTime(this._editor.getOption(EditorOption.hover).delay);\n\t\t}));\n\t\tthis._register(TokenizationRegistry.onDidChange(() => {\n\t\t\tif (this._isVisible && this._lastRange && this._messages.length > 0) {\n\t\t\t\tthis._messages = this._messages.map(msg => {\n\t\t\t\t\t// If a color hover is visible, we need to update the message that\n\t\t\t\t\t// created it so that the color matches the last chosen color\n\t\t\t\t\tif (msg.data instanceof ColorHover && !!this._lastRange?.intersectRanges(msg.data.range) && this._colorPicker?.model.color) {\n\t\t\t\t\t\tconst color = this._colorPicker.model.color;\n\t\t\t\t\t\tconst newColor = {\n\t\t\t\t\t\t\tred: color.rgba.r / 255,\n\t\t\t\t\t\t\tgreen: color.rgba.g / 255,\n\t\t\t\t\t\t\tblue: color.rgba.b / 255,\n\t\t\t\t\t\t\talpha: color.rgba.a\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn new HoverPartInfo(msg.owner, new ColorHover(msg.data.range, newColor, msg.data.provider));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn msg;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._hover.contentsDomNode.textContent = '';\n\t\t\t\tthis._renderMessages(this._lastRange, this._messages);\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._hoverOperation.cancel();\n\t\tthis._editor.removeContentWidget(this);\n\t\tsuper.dispose();\n\t}\n\n\tpublic getId(): string {\n\t\treturn this._id;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._hover.containerDomNode;\n\t}\n\n\tpublic showAt(position: Position, range: Range | null, focus: boolean): void {\n\t\t// Position has changed\n\t\tthis._showAtPosition = position;\n\t\tthis._showAtRange = range;\n\t\tthis._hoverVisibleKey.set(true);\n\t\tthis._isVisible = true;\n\t\tthis._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);\n\n\t\tthis._editor.layoutContentWidget(this);\n\t\t// Simply force a synchronous render on the editor\n\t\t// such that the widget does not really render with left = '0px'\n\t\tthis._editor.render();\n\t\tthis._stoleFocus = focus;\n\t\tif (focus) {\n\t\t\tthis._hover.containerDomNode.focus();\n\t\t}\n\t}\n\n\tpublic getPosition(): IContentWidgetPosition | null {\n\t\tif (this._isVisible) {\n\t\t\treturn {\n\t\t\t\tposition: this._showAtPosition,\n\t\t\t\trange: this._showAtRange,\n\t\t\t\tpreference: [\n\t\t\t\t\tContentWidgetPositionPreference.ABOVE,\n\t\t\t\t\tContentWidgetPositionPreference.BELOW\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate _updateFont(): void {\n\t\tconst codeClasses: HTMLElement[] = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));\n\t\tcodeClasses.forEach(node => this._editor.applyFontInfo(node));\n\t}\n\n\tprivate _updateContents(node: Node): void {\n\t\tthis._hover.contentsDomNode.textContent = '';\n\t\tthis._hover.contentsDomNode.appendChild(node);\n\t\tthis._updateFont();\n\n\t\tthis._editor.layoutContentWidget(this);\n\t\tthis._hover.onContentsChanged();\n\t}\n\n\tprivate layout(): void {\n\t\tconst height = Math.max(this._editor.getLayoutInfo().height / 4, 250);\n\t\tconst { fontSize, lineHeight } = this._editor.getOption(EditorOption.fontInfo);\n\n\t\tthis._hover.contentsDomNode.style.fontSize = `${fontSize}px`;\n\t\tthis._hover.contentsDomNode.style.lineHeight = `${lineHeight}px`;\n\t\tthis._hover.contentsDomNode.style.maxHeight = `${height}px`;\n\t\tthis._hover.contentsDomNode.style.maxWidth = `${Math.max(this._editor.getLayoutInfo().width * 0.66, 500)}px`;\n\t}\n\n\tpublic onModelDecorationsChanged(): void {\n\t\tif (this._isChangingDecorations) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._isVisible) {\n\t\t\t// The decorations have changed and the hover is visible,\n\t\t\t// we need to recompute the displayed text\n\t\t\tthis._hoverOperation.cancel();\n\t\t\tthis._computer.clearResult();\n\n\t\t\tif (!this._colorPicker) { // TODO@Michel ensure that displayed text for other decorations is computed even if color picker is in place\n\t\t\t\tthis._hoverOperation.start(HoverStartMode.Delayed);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic startShowingAt(range: Range, mode: HoverStartMode, focus: boolean): void {\n\t\tif (this._lastRange && this._lastRange.equalsRange(range)) {\n\t\t\t// We have to show the widget at the exact same range as before, so no work is needed\n\t\t\treturn;\n\t\t}\n\n\t\tthis._hoverOperation.cancel();\n\n\t\tif (this._isVisible) {\n\t\t\t// The range might have changed, but the hover is visible\n\t\t\t// Instead of hiding it completely, filter out messages that are still in the new range and\n\t\t\t// kick off a new computation\n\t\t\tif (!this._showAtPosition || this._showAtPosition.lineNumber !== range.startLineNumber) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tlet filteredMessages: HoverPartInfo[] = [];\n\t\t\t\tfor (let i = 0, len = this._messages.length; i < len; i++) {\n\t\t\t\t\tconst msg = this._messages[i];\n\t\t\t\t\tconst rng = msg.data.range;\n\t\t\t\t\tif (rng && rng.startColumn <= range.startColumn && rng.endColumn >= range.endColumn) {\n\t\t\t\t\t\tfilteredMessages.push(msg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (filteredMessages.length > 0) {\n\t\t\t\t\tif (hoverContentsEquals(filteredMessages, this._messages)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._renderMessages(range, filteredMessages);\n\t\t\t\t} else {\n\t\t\t\t\tthis.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._lastRange = range;\n\t\tthis._computer.setRange(range);\n\t\tthis._shouldFocus = focus;\n\t\tthis._hoverOperation.start(mode);\n\t}\n\n\tpublic hide(): void {\n\t\tthis._lastRange = null;\n\t\tthis._hoverOperation.cancel();\n\n\t\tif (this._isVisible) {\n\t\t\tsetTimeout(() => {\n\t\t\t\t// Give commands a chance to see the key\n\t\t\t\tif (!this._isVisible) {\n\t\t\t\t\tthis._hoverVisibleKey.set(false);\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t\tthis._isVisible = false;\n\t\t\tthis._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);\n\n\t\t\tthis._editor.layoutContentWidget(this);\n\t\t\tif (this._stoleFocus) {\n\t\t\t\tthis._editor.focus();\n\t\t\t}\n\t\t}\n\n\t\tthis._isChangingDecorations = true;\n\t\tthis._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, []);\n\t\tthis._isChangingDecorations = false;\n\t\tif (this._renderDisposable) {\n\t\t\tthis._renderDisposable.dispose();\n\t\t\tthis._renderDisposable = null;\n\t\t}\n\t\tthis._colorPicker = null;\n\t}\n\n\tpublic isColorPickerVisible(): boolean {\n\t\treturn !!this._colorPicker;\n\t}\n\n\tpublic onContentsChanged(): void {\n\t\tthis._hover.onContentsChanged();\n\t}\n\n\tprivate _withResult(result: HoverPartInfo[], complete: boolean): void {\n\t\tthis._messages = result;\n\n\t\tif (this._lastRange && this._messages.length > 0) {\n\t\t\tthis._renderMessages(this._lastRange, this._messages);\n\t\t} else if (complete) {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tprivate _renderMessages(renderRange: Range, messages: HoverPartInfo[]): void {\n\t\tif (this._renderDisposable) {\n\t\t\tthis._renderDisposable.dispose();\n\t\t\tthis._renderDisposable = null;\n\t\t}\n\t\tthis._colorPicker = null;\n\n\t\t// update column from which to show\n\t\tlet renderColumn = Constants.MAX_SAFE_SMALL_INTEGER;\n\t\tlet highlightRange: Range | null = messages[0].data.range ? Range.lift(messages[0].data.range) : null;\n\t\tlet fragment = document.createDocumentFragment();\n\n\t\tlet containColorPicker = false;\n\t\tconst disposables = new DisposableStore();\n\t\tconst markerMessages: MarkerHover[] = [];\n\t\tconst markdownParts: MarkdownHover[] = [];\n\t\tmessages.forEach((_msg) => {\n\t\t\tconst msg = _msg.data;\n\t\t\tif (!msg.range) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trenderColumn = Math.min(renderColumn, msg.range.startColumn);\n\t\t\thighlightRange = highlightRange ? Range.plusRange(highlightRange, msg.range) : Range.lift(msg.range);\n\n\t\t\tif (msg instanceof ColorHover) {\n\t\t\t\tcontainColorPicker = true;\n\n\t\t\t\tconst { red, green, blue, alpha } = msg.color;\n\t\t\t\tconst rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n\t\t\t\tconst color = new Color(rgba);\n\n\t\t\t\tif (!this._editor.hasModel()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst editorModel = this._editor.getModel();\n\t\t\t\tlet range = new Range(msg.range.startLineNumber, msg.range.startColumn, msg.range.endLineNumber, msg.range.endColumn);\n\t\t\t\tlet colorInfo = { range: msg.range, color: msg.color };\n\n\t\t\t\t// create blank olor picker model and widget first to ensure it's positioned correctly.\n\t\t\t\tconst model = new ColorPickerModel(color, [], 0);\n\t\t\t\tconst widget = new ColorPickerWidget(fragment, model, this._editor.getOption(EditorOption.pixelRatio), this._themeService);\n\n\t\t\t\tgetColorPresentations(editorModel, colorInfo, msg.provider, CancellationToken.None).then(colorPresentations => {\n\t\t\t\t\tmodel.colorPresentations = colorPresentations || [];\n\t\t\t\t\tif (!this._editor.hasModel()) {\n\t\t\t\t\t\t// gone...\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst originalText = this._editor.getModel().getValueInRange(msg.range);\n\t\t\t\t\tmodel.guessColorPresentation(color, originalText);\n\n\t\t\t\t\tconst updateEditorModel = () => {\n\t\t\t\t\t\tlet textEdits: IIdentifiedSingleEditOperation[];\n\t\t\t\t\t\tlet newRange: Range;\n\t\t\t\t\t\tif (model.presentation.textEdit) {\n\t\t\t\t\t\t\ttextEdits = [model.presentation.textEdit as IIdentifiedSingleEditOperation];\n\t\t\t\t\t\t\tnewRange = new Range(\n\t\t\t\t\t\t\t\tmodel.presentation.textEdit.range.startLineNumber,\n\t\t\t\t\t\t\t\tmodel.presentation.textEdit.range.startColumn,\n\t\t\t\t\t\t\t\tmodel.presentation.textEdit.range.endLineNumber,\n\t\t\t\t\t\t\t\tmodel.presentation.textEdit.range.endColumn\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst trackedRange = this._editor.getModel()!._setTrackedRange(null, newRange, TrackedRangeStickiness.GrowsOnlyWhenTypingAfter);\n\t\t\t\t\t\t\tthis._editor.pushUndoStop();\n\t\t\t\t\t\t\tthis._editor.executeEdits('colorpicker', textEdits);\n\t\t\t\t\t\t\tnewRange = this._editor.getModel()!._getTrackedRange(trackedRange) || newRange;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttextEdits = [{ identifier: null, range, text: model.presentation.label, forceMoveMarkers: false }];\n\t\t\t\t\t\t\tnewRange = range.setEndPosition(range.endLineNumber, range.startColumn + model.presentation.label.length);\n\t\t\t\t\t\t\tthis._editor.pushUndoStop();\n\t\t\t\t\t\t\tthis._editor.executeEdits('colorpicker', textEdits);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (model.presentation.additionalTextEdits) {\n\t\t\t\t\t\t\ttextEdits = [...model.presentation.additionalTextEdits as IIdentifiedSingleEditOperation[]];\n\t\t\t\t\t\t\tthis._editor.executeEdits('colorpicker', textEdits);\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._editor.pushUndoStop();\n\t\t\t\t\t\trange = newRange;\n\t\t\t\t\t};\n\n\t\t\t\t\tconst updateColorPresentations = (color: Color) => {\n\t\t\t\t\t\treturn getColorPresentations(editorModel, {\n\t\t\t\t\t\t\trange: range,\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\tred: color.rgba.r / 255,\n\t\t\t\t\t\t\t\tgreen: color.rgba.g / 255,\n\t\t\t\t\t\t\t\tblue: color.rgba.b / 255,\n\t\t\t\t\t\t\t\talpha: color.rgba.a\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, msg.provider, CancellationToken.None).then((colorPresentations) => {\n\t\t\t\t\t\t\tmodel.colorPresentations = colorPresentations || [];\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tconst colorListener = model.onColorFlushed((color: Color) => {\n\t\t\t\t\t\tupdateColorPresentations(color).then(updateEditorModel);\n\t\t\t\t\t});\n\t\t\t\t\tconst colorChangeListener = model.onDidChangeColor(updateColorPresentations);\n\n\t\t\t\t\tthis._colorPicker = widget;\n\t\t\t\t\tthis.showAt(range.getStartPosition(), range, this._shouldFocus);\n\t\t\t\t\tthis._updateContents(fragment);\n\t\t\t\t\tthis._colorPicker.layout();\n\n\t\t\t\t\tthis._renderDisposable = combinedDisposable(colorListener, colorChangeListener, widget, disposables);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (msg instanceof MarkerHover) {\n\t\t\t\t\tmarkerMessages.push(msg);\n\t\t\t\t} else {\n\t\t\t\t\tif (msg instanceof MarkdownHover) {\n\t\t\t\t\t\tmarkdownParts.push(msg);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (markdownParts.length > 0) {\n\t\t\tdisposables.add(this._markdownHoverParticipant.renderHoverParts(markdownParts, fragment));\n\t\t}\n\n\t\tif (markerMessages.length) {\n\t\t\tdisposables.add(this._markerHoverParticipant.renderHoverParts(markerMessages, fragment));\n\t\t}\n\n\t\tthis._renderDisposable = disposables;\n\n\t\t// show\n\n\t\tif (!containColorPicker && fragment.hasChildNodes()) {\n\t\t\tthis.showAt(new Position(renderRange.startLineNumber, renderColumn), highlightRange, this._shouldFocus);\n\t\t\tthis._updateContents(fragment);\n\t\t}\n\n\t\tthis._isChangingDecorations = true;\n\t\tthis._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, highlightRange ? [{\n\t\t\trange: highlightRange,\n\t\t\toptions: ModesContentHoverWidget._DECORATION_OPTIONS\n\t\t}] : []);\n\t\tthis._isChangingDecorations = false;\n\t}\n\n\tprivate static readonly _DECORATION_OPTIONS = ModelDecorationOptions.register({\n\t\tclassName: 'hoverHighlight'\n\t});\n}\n\nfunction hoverContentsEquals(first: HoverPartInfo[], second: HoverPartInfo[]): boolean {\n\tif (first.length !== second.length) {\n\t\treturn false;\n\t}\n\tfor (let i = 0; i < first.length; i++) {\n\t\tif (!first[i].data.equals(second[i].data)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst linkFg = theme.getColor(textLinkForeground);\n\tif (linkFg) {\n\t\tcollector.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${linkFg}; }`);\n\t}\n});\n"]}