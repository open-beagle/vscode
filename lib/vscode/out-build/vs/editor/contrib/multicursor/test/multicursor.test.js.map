{"version":3,"file":"multicursor.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/editor/contrib/multicursor/test/multicursor.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { Event } from 'vs/base/common/event';\nimport { Range } from 'vs/editor/common/core/range';\nimport { Selection } from 'vs/editor/common/core/selection';\nimport { Handler } from 'vs/editor/common/editorCommon';\nimport { EndOfLineSequence } from 'vs/editor/common/model';\nimport { CommonFindController } from 'vs/editor/contrib/find/findController';\nimport { AddSelectionToNextFindMatchAction, InsertCursorAbove, InsertCursorBelow, MultiCursorSelectionController, SelectHighlightsAction } from 'vs/editor/contrib/multicursor/multicursor';\nimport { ITestCodeEditor, withTestCodeEditor } from 'vs/editor/test/browser/testCodeEditor';\nimport { ServiceCollection } from 'vs/platform/instantiation/common/serviceCollection';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\n\nsuite('Multicursor', () => {\n\n\ttest('issue #2205: Multi-cursor pastes in reverse order', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abc',\n\t\t\t'def'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tlet addCursorUpAction = new InsertCursorAbove();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 2, 1));\n\t\t\taddCursorUpAction.run(null!, editor, {});\n\t\t\tassert.strictEqual(viewModel.getSelections().length, 2);\n\n\t\t\teditor.trigger('test', Handler.Paste, {\n\t\t\t\ttext: '1\\n2',\n\t\t\t\tmulticursorText: [\n\t\t\t\t\t'1',\n\t\t\t\t\t'2'\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(1), '1abc');\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(2), '2def');\n\t\t});\n\t});\n\n\ttest('issue #1336: Insert cursor below on last line adds a cursor to the end of the current line', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abc'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tlet addCursorDownAction = new InsertCursorBelow();\n\t\t\taddCursorDownAction.run(null!, editor, {});\n\t\t\tassert.strictEqual(viewModel.getSelections().length, 1);\n\t\t});\n\t});\n\n});\n\nfunction fromRange(rng: Range): number[] {\n\treturn [rng.startLineNumber, rng.startColumn, rng.endLineNumber, rng.endColumn];\n}\n\nsuite('Multicursor selection', () => {\n\tlet queryState: { [key: string]: any; } = {};\n\tlet serviceCollection = new ServiceCollection();\n\tserviceCollection.set(IStorageService, {\n\t\t_serviceBrand: undefined,\n\t\tonDidChangeValue: Event.None,\n\t\tonDidChangeTarget: Event.None,\n\t\tonWillSaveState: Event.None,\n\t\tget: (key: string) => queryState[key],\n\t\tgetBoolean: (key: string) => !!queryState[key],\n\t\tgetNumber: (key: string) => undefined!,\n\t\tstore: (key: string, value: any) => { queryState[key] = value; return Promise.resolve(); },\n\t\tremove: (key) => undefined,\n\t\tlogStorage: () => undefined,\n\t\tmigrate: (toWorkspace) => Promise.resolve(undefined),\n\t\tflush: () => Promise.resolve(undefined),\n\t\tisNew: () => true,\n\t\tkeys: () => []\n\t} as IStorageService);\n\n\ttest('issue #8817: Cursor position changes when you cancel multicursor', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tlet multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tlet selectHighlightsAction = new SelectHighlightsAction();\n\n\t\t\teditor.setSelection(new Selection(2, 9, 2, 16));\n\n\t\t\tselectHighlightsAction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 9, 2, 16],\n\t\t\t\t[1, 9, 1, 16],\n\t\t\t\t[3, 9, 3, 16],\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 9, 2, 16]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #5400: \"Select All Occurrences of Find Match\" does not select all if find uses regex', () => {\n\t\twithTestCodeEditor([\n\t\t\t'something',\n\t\t\t'someething',\n\t\t\t'someeething',\n\t\t\t'nothing'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tlet multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tlet selectHighlightsAction = new SelectHighlightsAction();\n\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 1));\n\t\t\tfindController.getState().change({ searchString: 'some+thing', isRegex: true, isRevealed: true }, false);\n\n\t\t\tselectHighlightsAction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 10],\n\t\t\t\t[2, 1, 2, 11],\n\t\t\t\t[3, 1, 3, 12],\n\t\t\t]);\n\n\t\t\tassert.strictEqual(findController.getState().searchString, 'some+thing');\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction can work with multiline', () => {\n\t\twithTestCodeEditor([\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'rty',\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'',\n\t\t\t'rty',\n\t\t\t'qwe',\n\t\t\t'rty'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tlet multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tlet addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 3, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 1, 3, 4],\n\t\t\t\t[8, 1, 9, 4]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 1, 3, 4]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #6661: AddSelectionToNextFindMatchAction can work with touching ranges', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abcabc',\n\t\t\t'abc',\n\t\t\t'abcabc',\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tlet multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tlet addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 4],\n\t\t\t\t[1, 4, 1, 7]\n\t\t\t]);\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 4],\n\t\t\t\t[1, 4, 1, 7],\n\t\t\t\t[2, 1, 2, 4],\n\t\t\t\t[3, 1, 3, 4],\n\t\t\t\t[3, 4, 3, 7]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', Handler.Type, { text: 'z' });\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 3, 1, 3],\n\t\t\t\t[2, 2, 2, 2],\n\t\t\t\t[3, 2, 3, 2],\n\t\t\t\t[3, 3, 3, 3]\n\t\t\t]);\n\t\t\tassert.strictEqual(editor.getValue(), [\n\t\t\t\t'zz',\n\t\t\t\t'z',\n\t\t\t\t'zz',\n\t\t\t].join('\\n'));\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #23541: Multiline Ctrl+D does not work in CRLF files', () => {\n\t\twithTestCodeEditor([\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'rty',\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'',\n\t\t\t'rty',\n\t\t\t'qwe',\n\t\t\t'rty'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\teditor.getModel()!.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tlet findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tlet multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tlet addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 3, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 1, 3, 4],\n\t\t\t\t[8, 1, 9, 4]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 1, 3, 4]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\tfunction testMulticursor(text: string[], callback: (editor: ITestCodeEditor, findController: CommonFindController) => void): void {\n\t\twithTestCodeEditor(text, { serviceCollection: serviceCollection }, (editor) => {\n\t\t\tlet findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tlet multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\n\t\t\tcallback(editor, findController);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t}\n\n\tfunction testAddSelectionToNextFindMatchAction(text: string[], callback: (editor: ITestCodeEditor, action: AddSelectionToNextFindMatchAction, findController: CommonFindController) => void): void {\n\t\ttestMulticursor(text, (editor, findController) => {\n\t\t\tlet action = new AddSelectionToNextFindMatchAction();\n\t\t\tcallback(editor, action, findController);\n\t\t});\n\t}\n\n\ttest('AddSelectionToNextFindMatchAction starting with single collapsed selection', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 1)', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 2)', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with all collapsed selections', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t\tnew Selection(3, 1, 3, 1),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with all collapsed selections on different words', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 6, 1, 6),\n\t\t\t\tnew Selection(2, 6, 2, 6),\n\t\t\t\tnew Selection(3, 6, 3, 6),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 5, 1, 10),\n\t\t\t\tnew Selection(2, 5, 2, 10),\n\t\t\t\tnew Selection(3, 5, 3, 8),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 5, 1, 10),\n\t\t\t\tnew Selection(2, 5, 2, 10),\n\t\t\t\tnew Selection(3, 5, 3, 8),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #20651: AddSelectionToNextFindMatchAction case insensitive', () => {\n\t\tconst text = [\n\t\t\t'test',\n\t\t\t'testte',\n\t\t\t'Test',\n\t\t\t'testte',\n\t\t\t'test'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t\tnew Selection(5, 1, 5, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t\tnew Selection(5, 1, 5, 5),\n\t\t\t]);\n\t\t});\n\t});\n\n\tsuite('Find state disassociation', () => {\n\n\t\tconst text = [\n\t\t\t'app',\n\t\t\t'apples',\n\t\t\t'whatsapp',\n\t\t\t'app',\n\t\t\t'App',\n\t\t\t' app'\n\t\t];\n\n\t\ttest('enters mode', () => {\n\t\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t\ttest('leaves mode when selection changes', () => {\n\t\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t]);\n\n\t\t\t\t// change selection\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t\ttest('Select Highlights respects mode ', () => {\n\t\t\ttestMulticursor(text, (editor, findController) => {\n\t\t\t\tlet action = new SelectHighlightsAction();\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t});\n});\n"]}