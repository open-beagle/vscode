{"version":3,"sources":["vs/editor/contrib/suggest/suggestWidgetRenderer.ts"],"names":[],"mappings":"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","file":"suggestWidgetRenderer.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport { createMatches } from 'vs/base/common/filters';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { append, $, hide, show } from 'vs/base/browser/dom';\nimport { IListRenderer } from 'vs/base/browser/ui/list/list';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { CompletionItem } from './suggest';\nimport { IThemeService, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { IModeService } from 'vs/editor/common/services/modeService';\nimport { CompletionItemKind, completionKindToCssClass, CompletionItemTag } from 'vs/editor/common/modes';\nimport { IconLabel, IIconLabelValueOptions } from 'vs/base/browser/ui/iconLabel/iconLabel';\nimport { getIconClasses } from 'vs/editor/common/services/getIconClasses';\nimport { IModelService } from 'vs/editor/common/services/modelService';\nimport { URI } from 'vs/base/common/uri';\nimport { FileKind } from 'vs/platform/files/common/files';\nimport { flatten } from 'vs/base/common/arrays';\nimport { canExpandCompletionItem } from './suggestWidgetDetails';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\n\nexport function getAriaId(index: number): string {\n\treturn `suggest-aria-id:${index}`;\n}\n\nexport const suggestMoreInfoIcon = registerIcon('suggest-more-info', Codicon.chevronRight, nls.localize('suggestMoreInfoIcon', 'Icon for more information in the suggest widget.'));\n\nconst _completionItemColor = new class ColorExtractor {\n\n\tprivate static _regexRelaxed = /(#([\\da-fA-F]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))/;\n\tprivate static _regexStrict = new RegExp(`^${ColorExtractor._regexRelaxed.source}$`, 'i');\n\n\textract(item: CompletionItem, out: string[]): boolean {\n\t\tif (item.textLabel.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.textLabel;\n\t\t\treturn true;\n\t\t}\n\t\tif (item.completion.detail && item.completion.detail.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.completion.detail;\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof item.completion.documentation === 'string') {\n\t\t\tconst match = ColorExtractor._regexRelaxed.exec(item.completion.documentation);\n\t\t\tif (match && (match.index === 0 || match.index + match[0].length === item.completion.documentation.length)) {\n\t\t\t\tout[0] = match[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\n\nexport interface ISuggestionTemplateData {\n\troot: HTMLElement;\n\n\t/**\n\t * Flexbox\n\t * < ------------- left ------------ >     < --- right -- >\n\t * <icon><label><signature><qualifier>     <type><readmore>\n\t */\n\tleft: HTMLElement;\n\tright: HTMLElement;\n\n\ticon: HTMLElement;\n\tcolorspan: HTMLElement;\n\ticonLabel: IconLabel;\n\ticonContainer: HTMLElement;\n\tparametersLabel: HTMLElement;\n\tqualifierLabel: HTMLElement;\n\t/**\n\t * Showing either `CompletionItem#details` or `CompletionItemLabel#type`\n\t */\n\tdetailsLabel: HTMLElement;\n\treadMore: HTMLElement;\n\tdisposables: DisposableStore;\n}\n\nexport class ItemRenderer implements IListRenderer<CompletionItem, ISuggestionTemplateData> {\n\n\tprivate readonly _onDidToggleDetails = new Emitter<void>();\n\treadonly onDidToggleDetails: Event<void> = this._onDidToggleDetails.event;\n\n\treadonly templateId = 'suggestion';\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@IModeService private readonly _modeService: IModeService,\n\t\t@IThemeService private readonly _themeService: IThemeService\n\t) { }\n\n\tdispose(): void {\n\t\tthis._onDidToggleDetails.dispose();\n\t}\n\n\trenderTemplate(container: HTMLElement): ISuggestionTemplateData {\n\t\tconst data = <ISuggestionTemplateData>Object.create(null);\n\t\tdata.disposables = new DisposableStore();\n\n\t\tdata.root = container;\n\t\tdata.root.classList.add('show-file-icons');\n\n\t\tdata.icon = append(container, $('.icon'));\n\t\tdata.colorspan = append(data.icon, $('span.colorspan'));\n\n\t\tconst text = append(container, $('.contents'));\n\t\tconst main = append(text, $('.main'));\n\n\t\tdata.iconContainer = append(main, $('.icon-label.codicon'));\n\t\tdata.left = append(main, $('span.left'));\n\t\tdata.right = append(main, $('span.right'));\n\n\t\tdata.iconLabel = new IconLabel(data.left, { supportHighlights: true, supportIcons: true });\n\t\tdata.disposables.add(data.iconLabel);\n\n\t\tdata.parametersLabel = append(data.left, $('span.signature-label'));\n\t\tdata.qualifierLabel = append(data.left, $('span.qualifier-label'));\n\t\tdata.detailsLabel = append(data.right, $('span.details-label'));\n\n\t\tdata.readMore = append(data.right, $('span.readMore' + ThemeIcon.asCSSSelector(suggestMoreInfoIcon)));\n\t\tdata.readMore.title = nls.localize('readMore', \"Read More\");\n\n\t\tconst configureFont = () => {\n\t\t\tconst options = this._editor.getOptions();\n\t\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\t\tconst fontFamily = fontInfo.fontFamily;\n\t\t\tconst fontFeatureSettings = fontInfo.fontFeatureSettings;\n\t\t\tconst fontSize = options.get(EditorOption.suggestFontSize) || fontInfo.fontSize;\n\t\t\tconst lineHeight = options.get(EditorOption.suggestLineHeight) || fontInfo.lineHeight;\n\t\t\tconst fontWeight = fontInfo.fontWeight;\n\t\t\tconst fontSizePx = `${fontSize}px`;\n\t\t\tconst lineHeightPx = `${lineHeight}px`;\n\n\t\t\tdata.root.style.fontSize = fontSizePx;\n\t\t\tdata.root.style.fontWeight = fontWeight;\n\t\t\tmain.style.fontFamily = fontFamily;\n\t\t\tmain.style.fontFeatureSettings = fontFeatureSettings;\n\t\t\tmain.style.lineHeight = lineHeightPx;\n\t\t\tdata.icon.style.height = lineHeightPx;\n\t\t\tdata.icon.style.width = lineHeightPx;\n\t\t\tdata.readMore.style.height = lineHeightPx;\n\t\t\tdata.readMore.style.width = lineHeightPx;\n\t\t};\n\n\t\tconfigureFont();\n\n\t\tdata.disposables.add(this._editor.onDidChangeConfiguration(e => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo) || e.hasChanged(EditorOption.suggestFontSize) || e.hasChanged(EditorOption.suggestLineHeight)) {\n\t\t\t\tconfigureFont();\n\t\t\t}\n\t\t}));\n\n\t\treturn data;\n\t}\n\n\trenderElement(element: CompletionItem, index: number, data: ISuggestionTemplateData): void {\n\t\tconst { completion } = element;\n\t\tdata.root.id = getAriaId(index);\n\t\tdata.colorspan.style.backgroundColor = '';\n\n\t\tconst labelOptions: IIconLabelValueOptions = {\n\t\t\tlabelEscapeNewLines: true,\n\t\t\tmatches: createMatches(element.score)\n\t\t};\n\n\t\tlet color: string[] = [];\n\t\tif (completion.kind === CompletionItemKind.Color && _completionItemColor.extract(element, color)) {\n\t\t\t// special logic for 'color' completion items\n\t\t\tdata.icon.className = 'icon customcolor';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tdata.colorspan.style.backgroundColor = color[0];\n\n\t\t} else if (completion.kind === CompletionItemKind.File && this._themeService.getFileIconTheme().hasFileIcons) {\n\t\t\t// special logic for 'file' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tconst labelClasses = getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FILE);\n\t\t\tconst detailClasses = getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FILE);\n\t\t\tlabelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;\n\n\t\t} else if (completion.kind === CompletionItemKind.Folder && this._themeService.getFileIconTheme().hasFolderIcons) {\n\t\t\t// special logic for 'folder' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tlabelOptions.extraClasses = flatten([\n\t\t\t\tgetIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FOLDER),\n\t\t\t\tgetIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FOLDER)\n\t\t\t]);\n\t\t} else {\n\t\t\t// normal icon\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = '';\n\t\t\tdata.iconContainer.classList.add('suggest-icon', ...completionKindToCssClass(completion.kind).split(' '));\n\t\t}\n\n\t\tif (completion.tags && completion.tags.indexOf(CompletionItemTag.Deprecated) >= 0) {\n\t\t\tlabelOptions.extraClasses = (labelOptions.extraClasses || []).concat(['deprecated']);\n\t\t\tlabelOptions.matches = [];\n\t\t}\n\n\t\tdata.iconLabel.setLabel(element.textLabel, undefined, labelOptions);\n\t\tif (typeof completion.label === 'string') {\n\t\t\tdata.parametersLabel.textContent = '';\n\t\t\tdata.qualifierLabel.textContent = '';\n\t\t\tdata.detailsLabel.textContent = (completion.detail || '').replace(/\\n.*$/m, '');\n\t\t\tdata.root.classList.add('string-label');\n\t\t\tdata.root.title = '';\n\t\t} else {\n\t\t\tdata.parametersLabel.textContent = (completion.label.parameters || '').replace(/\\n.*$/m, '');\n\t\t\tdata.qualifierLabel.textContent = (completion.label.qualifier || '').replace(/\\n.*$/m, '');\n\t\t\tdata.detailsLabel.textContent = (completion.label.type || '').replace(/\\n.*$/m, '');\n\t\t\tdata.root.classList.remove('string-label');\n\t\t\tdata.root.title = `${element.textLabel}${completion.label.parameters ?? ''}  ${completion.label.qualifier ?? ''}  ${completion.label.type ?? ''}`;\n\t\t}\n\n\t\tif (this._editor.getOption(EditorOption.suggest).showInlineDetails) {\n\t\t\tshow(data.detailsLabel);\n\t\t} else {\n\t\t\thide(data.detailsLabel);\n\t\t}\n\n\t\tif (canExpandCompletionItem(element)) {\n\t\t\tdata.right.classList.add('can-expand-details');\n\t\t\tshow(data.readMore);\n\t\t\tdata.readMore.onmousedown = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t};\n\t\t\tdata.readMore.onclick = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._onDidToggleDetails.fire();\n\t\t\t};\n\t\t} else {\n\t\t\tdata.right.classList.remove('can-expand-details');\n\t\t\thide(data.readMore);\n\t\t\tdata.readMore.onmousedown = null;\n\t\t\tdata.readMore.onclick = null;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISuggestionTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n"]}