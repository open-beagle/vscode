{"version":3,"file":"completionModel.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/editor/contrib/suggest/test/completionModel.test.ts"],"names":[],"mappings":";;;;IAYA,SAAgB,iBAAiB,CAAC,KAAa,EAAE,eAAuB,EAAE,IAAI,mBAAoC,EAAE,aAAsB,KAAK,EAAE,WAAsB,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,QAAiB,EAAE,UAAmB;QAC1O,MAAM,UAAU,GAAyB;YACxC,KAAK;YACL,QAAQ;YACR,UAAU;YACV,KAAK,EAAE,EAAE,eAAe,EAAE,QAAQ,CAAC,UAAU,EAAE,WAAW,EAAE,QAAQ,CAAC,MAAM,GAAG,eAAe,EAAE,aAAa,EAAE,QAAQ,CAAC,UAAU,EAAE,SAAS,EAAE,QAAQ,CAAC,MAAM,EAAE;YAC/J,UAAU,EAAE,KAAK;YACjB,IAAI;SACJ,CAAC;QACF,MAAM,SAAS,GAAyB;YACvC,UAAU;YACV,WAAW,EAAE,CAAC,UAAU,CAAC;SACzB,CAAC;QACF,MAAM,QAAQ,GAAiC;YAC9C,sBAAsB;gBACrB,OAAO;YACR,CAAC;SACD,CAAC;QAEF,OAAO,IAAI,wBAAc,CAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;IACtE,CAAC;IApBD,8CAoBC;IACD,KAAK,CAAC,iBAAiB,EAAE;QAExB,IAAI,cAAc,GAA2B;YAC5C,UAAU,EAAE,QAAQ;YACpB,+BAA+B,EAAE,IAAI;YACrC,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,KAAK;YACpB,sBAAsB,EAAE,KAAK;YAC7B,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI;YACjB,aAAa,EAAE,IAAI;YACnB,gBAAgB,EAAE,IAAI;YACtB,UAAU,EAAE,IAAI;YAChB,aAAa,EAAE,IAAI;YACnB,WAAW,EAAE,IAAI;YACjB,WAAW,EAAE,IAAI;YACjB,cAAc,EAAE,IAAI;YACpB,WAAW,EAAE,IAAI;YACjB,cAAc,EAAE,IAAI;YACpB,UAAU,EAAE,IAAI;YAChB,aAAa,EAAE,IAAI;YACnB,SAAS,EAAE,IAAI;YACf,UAAU,EAAE,IAAI;YAChB,aAAa,EAAE,IAAI;YACnB,SAAS,EAAE,IAAI;YACf,eAAe,EAAE,IAAI;YACrB,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,IAAI;YACf,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,cAAc,EAAE,IAAI;YACpB,WAAW,EAAE,IAAI;YACjB,kBAAkB,EAAE,IAAI;YACxB,YAAY,EAAE,IAAI;SAClB,CAAC;QAEF,IAAI,KAAsB,CAAC;QAE3B,KAAK,CAAC;YAEL,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;aAC3B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,KAAK;gBACzB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;QACrH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,oBAAoB,EAAE;YAE1B,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;YAC7B,IAAI,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;YAC5B,MAAM,CAAC,EAAE,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC;YAElC,yBAAyB;YACzB,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,KAAK,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YAC1E,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;YACxB,MAAM,CAAC,EAAE,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC;YAElC,8BAA8B;YAC9B,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YAC3E,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;YACxB,MAAM,CAAC,EAAE,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,qBAAqB,EAAE,GAAG,EAAE;YAEhC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAE7C,IAAI,eAAe,GAAG,IAAI,iCAAe,CAAC;gBACzC,iBAAiB,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC;gBAC5C,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;aAC3B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,KAAK;gBACzB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YACpH,MAAM,CAAC,WAAW,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,mBAAmB,EAAE,GAAG,EAAE;YAE9B,MAAM,YAAY,GAAG,iBAAiB,CAAC,QAAQ,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACpG,MAAM,cAAc,GAAG,iBAAiB,CAAC,QAAQ,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YAErG,MAAM,KAAK,GAAG,IAAI,iCAAe,CAAC,CAAC,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,EAAE,EAAE,kBAAkB,EAAE,GAAG,EAAE,mBAAmB,EAAE,CAAC,EAAE,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAC3O,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAC7C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,MAAM,EAAE,UAAU,EAAE,GAAG,KAAK,CAAC;YAC7B,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YAEzC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACvC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnD,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YACvC,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,YAAY,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,mFAAmF,EAAE;YACzF,MAAM,aAAa,GAAG,iBAAiB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACtG,MAAM,aAAa,GAAG,iBAAiB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACtG,MAAM,aAAa,GAAG,iBAAiB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACtG,MAAM,aAAa,GAAG,iBAAiB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACtG,MAAM,aAAa,GAAG,iBAAiB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YACtG,MAAM,eAAe,GAAG,iBAAiB,CAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YAEvG,MAAM,KAAK,GAAG,IAAI,iCAAe,CAChC;gBACC,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,eAAe;aACf,EAAE,CAAC,EAAE,EAAE,kBAAkB,EAAE,GAAG,EAAE,mBAAmB,EAAE,CAAC,EAAE,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAC1K,CAAC;YACF,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAC7C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,MAAM,EAAE,UAAU,EAAE,GAAG,KAAK,CAAC;YAC7B,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YAEzC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACvC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpD,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,2CAA2C,EAAE;YAEjD,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,WAAW,EAAE,CAAC,CAAC;gBACjC,iBAAiB,CAAC,GAAG,EAAE,CAAC,CAAC;gBACzB,iBAAiB,CAAC,GAAG,EAAE,CAAC,CAAC;gBACzB,iBAAiB,CAAC,WAAW,EAAE,CAAC,CAAC;gBACjC,iBAAiB,CAAC,SAAS,EAAE,CAAC,CAAC;aAC/B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,MAAM;gBAC1B,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAEpH,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YACjC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;YACpD,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;YACpD,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YAC5C,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,+CAA+C,EAAE;YAErD,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,UAAU,EAAE,CAAC,mBAAmC;gBAClE,iBAAiB,CAAC,UAAU,EAAE,CAAC,mBAAmC;gBAClE,iBAAiB,CAAC,QAAQ,EAAE,CAAC,mBAAoC;aACjE,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,GAAG;gBACvB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;YAExD,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3B,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YACnD,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YACjD,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,0BAA0B;QAEzD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kDAAkD,EAAE;YAExD,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,UAAU,EAAE,CAAC,mBAAmC;gBAClE,iBAAiB,CAAC,UAAU,EAAE,CAAC,mBAAmC;gBAClE,iBAAiB,CAAC,QAAQ,EAAE,CAAC,mBAAoC;aACjE,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,GAAG;gBACvB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YAE3D,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3B,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YACjD,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YACnD,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,yBAAyB;QACxD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kDAAkD,EAAE;YAExD,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,UAAU,EAAE,CAAC,mBAAmC;gBAClE,iBAAiB,CAAC,UAAU,EAAE,CAAC,mBAAmC;gBAClE,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC;aAC9B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,GAAG;gBACvB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YAE3D,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3B,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YACnD,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YACjD,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,yBAAyB;QACxD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,oDAAoD,EAAE;YAE1D,MAAM,KAAK,GAAG,iBAAiB,CAAC,iBAAiB,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YACzG,MAAM,KAAK,GAAG,iBAAiB,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;YAEtD,KAAK,GAAG,IAAI,iCAAe,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE;gBAC9C,kBAAkB,EAAE,GAAG;gBACvB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAEpH,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,KAAK,CAAC,WAAW,GAAG;gBACnB,kBAAkB,EAAE,MAAM;gBAC1B,mBAAmB,EAAE,CAAC;aACtB,CAAC;YACF,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,6FAA6F,EAAE;YAEnG,MAAM,KAAK,GAAG,iBAAiB,CAAC,WAAW,EAAE,CAAC,oBAAqC,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;YAC7I,MAAM,KAAK,GAAG,iBAAiB,CAAC,QAAQ,EAAE,CAAC,oBAAqC,KAAK,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;YACxI,MAAM,KAAK,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,CAAA,GAAA,iCAAuB,CAAA,gBAAyB,CAAC,CAAC;YAEpF,KAAK,GAAG,IAAI,iCAAe,CAAC,KAAK,EAAE,CAAC,EAAE;gBACrC,kBAAkB,EAAE,IAAI;gBACxB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAEpH,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YACrD,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,wEAAwE,EAAE;YAC9E,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,SAAS,EAAE,CAAC,CAAC;gBAC/B,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC9B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;aAC3B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,EAAE;gBACtB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAEpH,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,mBAAmB;YACnB,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YACxE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,oEAAoE;YACpE,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YACzE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,0CAA0C;YAC1C,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,EAAE,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YACvE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,qDAAqD,EAAE;YAC3D,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC9B,iBAAiB,CAAC,aAAa,EAAE,CAAC,CAAC;gBACnC,iBAAiB,CAAC,aAAa,EAAE,CAAC,CAAC;gBACnC,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3B,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC;aAC3B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,EAAE;gBACtB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAEpH,oEAAoE;YACpE,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YAC3E,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAE1C,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,mBAAmB;YACzE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,CAAE,mBAAmB;YAChF,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,CAAE,mBAAmB;QAChF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4EAA4E,EAAE;YAClF,KAAK,GAAG,IAAI,iCAAe,CAAC;gBAC3B,iBAAiB,CAAC,MAAM,EAAE,CAAC,CAAC;gBAC5B,iBAAiB,CAAC,MAAM,EAAE,CAAC,CAAC;gBAC5B,iBAAiB,CAAC,UAAU,EAAE,CAAC,CAAC;gBAChC,iBAAiB,CAAC,oBAAoB,EAAE,CAAC,CAAC;gBAC1C,iBAAiB,CAAC,SAAS,EAAE,CAAC,CAAC;aAC/B,EAAE,CAAC,EAAE;gBACL,kBAAkB,EAAE,EAAE;gBACtB,mBAAmB,EAAE,CAAC;aACtB,EAAE,2BAAY,CAAC,IAAI,EAAE,6BAAa,CAAC,OAAO,CAAC,YAAY,EAAE,6BAAa,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;YAEpH,KAAK,CAAC,WAAW,GAAG,EAAE,kBAAkB,EAAE,MAAM,EAAE,mBAAmB,EAAE,CAAC,EAAE,CAAC;YAC3E,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,mBAAmB;YACvE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAE,mBAAmB;YAC7E,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAE,mBAAmB;QACzE,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { IPosition } from 'vs/editor/common/core/position';\nimport * as modes from 'vs/editor/common/modes';\nimport { CompletionModel } from 'vs/editor/contrib/suggest/completionModel';\nimport { CompletionItem, getSuggestionComparator, SnippetSortOrder } from 'vs/editor/contrib/suggest/suggest';\nimport { WordDistance } from 'vs/editor/contrib/suggest/wordDistance';\nimport { EditorOptions, InternalSuggestOptions } from 'vs/editor/common/config/editorOptions';\n\nexport function createSuggestItem(label: string, overwriteBefore: number, kind = modes.CompletionItemKind.Property, incomplete: boolean = false, position: IPosition = { lineNumber: 1, column: 1 }, sortText?: string, filterText?: string): CompletionItem {\n\tconst suggestion: modes.CompletionItem = {\n\t\tlabel,\n\t\tsortText,\n\t\tfilterText,\n\t\trange: { startLineNumber: position.lineNumber, startColumn: position.column - overwriteBefore, endLineNumber: position.lineNumber, endColumn: position.column },\n\t\tinsertText: label,\n\t\tkind\n\t};\n\tconst container: modes.CompletionList = {\n\t\tincomplete,\n\t\tsuggestions: [suggestion]\n\t};\n\tconst provider: modes.CompletionItemProvider = {\n\t\tprovideCompletionItems(): any {\n\t\t\treturn;\n\t\t}\n\t};\n\n\treturn new CompletionItem(position, suggestion, container, provider);\n}\nsuite('CompletionModel', function () {\n\n\tlet defaultOptions = <InternalSuggestOptions>{\n\t\tinsertMode: 'insert',\n\t\tsnippetsPreventQuickSuggestions: true,\n\t\tfilterGraceful: true,\n\t\tlocalityBonus: false,\n\t\tshareSuggestSelections: false,\n\t\tshowIcons: true,\n\t\tshowMethods: true,\n\t\tshowFunctions: true,\n\t\tshowConstructors: true,\n\t\tshowFields: true,\n\t\tshowVariables: true,\n\t\tshowClasses: true,\n\t\tshowStructs: true,\n\t\tshowInterfaces: true,\n\t\tshowModules: true,\n\t\tshowProperties: true,\n\t\tshowEvents: true,\n\t\tshowOperators: true,\n\t\tshowUnits: true,\n\t\tshowValues: true,\n\t\tshowConstants: true,\n\t\tshowEnums: true,\n\t\tshowEnumMembers: true,\n\t\tshowKeywords: true,\n\t\tshowWords: true,\n\t\tshowColors: true,\n\t\tshowFiles: true,\n\t\tshowReferences: true,\n\t\tshowFolders: true,\n\t\tshowTypeParameters: true,\n\t\tshowSnippets: true,\n\t};\n\n\tlet model: CompletionModel;\n\n\tsetup(function () {\n\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('foo', 3),\n\t\t\tcreateSuggestItem('Foo', 3),\n\t\t\tcreateSuggestItem('foo', 2),\n\t\t], 1, {\n\t\t\tleadingLineContent: 'foo',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\t});\n\n\ttest('filtering - cached', function () {\n\n\t\tconst itemsNow = model.items;\n\t\tlet itemsThen = model.items;\n\t\tassert.ok(itemsNow === itemsThen);\n\n\t\t// still the same context\n\t\tmodel.lineContext = { leadingLineContent: 'foo', characterCountDelta: 0 };\n\t\titemsThen = model.items;\n\t\tassert.ok(itemsNow === itemsThen);\n\n\t\t// different context, refilter\n\t\tmodel.lineContext = { leadingLineContent: 'foo1', characterCountDelta: 1 };\n\t\titemsThen = model.items;\n\t\tassert.ok(itemsNow !== itemsThen);\n\t});\n\n\n\ttest('complete/incomplete', () => {\n\n\t\tassert.strictEqual(model.incomplete.size, 0);\n\n\t\tlet incompleteModel = new CompletionModel([\n\t\t\tcreateSuggestItem('foo', 3, undefined, true),\n\t\t\tcreateSuggestItem('foo', 2),\n\t\t], 1, {\n\t\t\tleadingLineContent: 'foo',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\t\tassert.strictEqual(incompleteModel.incomplete.size, 1);\n\t});\n\n\ttest('replaceIncomplete', () => {\n\n\t\tconst completeItem = createSuggestItem('foobar', 1, undefined, false, { lineNumber: 1, column: 2 });\n\t\tconst incompleteItem = createSuggestItem('foofoo', 1, undefined, true, { lineNumber: 1, column: 2 });\n\n\t\tconst model = new CompletionModel([completeItem, incompleteItem], 2, { leadingLineContent: 'f', characterCountDelta: 0 }, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\t\tassert.strictEqual(model.incomplete.size, 1);\n\t\tassert.strictEqual(model.items.length, 2);\n\n\t\tconst { incomplete } = model;\n\t\tconst complete = model.adopt(incomplete);\n\n\t\tassert.strictEqual(incomplete.size, 1);\n\t\tassert.ok(incomplete.has(incompleteItem.provider));\n\t\tassert.strictEqual(complete.length, 1);\n\t\tassert.ok(complete[0] === completeItem);\n\t});\n\n\ttest('Fuzzy matching of snippets stopped working with inline snippet suggestions #49895', function () {\n\t\tconst completeItem1 = createSuggestItem('foobar1', 1, undefined, false, { lineNumber: 1, column: 2 });\n\t\tconst completeItem2 = createSuggestItem('foobar2', 1, undefined, false, { lineNumber: 1, column: 2 });\n\t\tconst completeItem3 = createSuggestItem('foobar3', 1, undefined, false, { lineNumber: 1, column: 2 });\n\t\tconst completeItem4 = createSuggestItem('foobar4', 1, undefined, false, { lineNumber: 1, column: 2 });\n\t\tconst completeItem5 = createSuggestItem('foobar5', 1, undefined, false, { lineNumber: 1, column: 2 });\n\t\tconst incompleteItem1 = createSuggestItem('foofoo1', 1, undefined, true, { lineNumber: 1, column: 2 });\n\n\t\tconst model = new CompletionModel(\n\t\t\t[\n\t\t\t\tcompleteItem1,\n\t\t\t\tcompleteItem2,\n\t\t\t\tcompleteItem3,\n\t\t\t\tcompleteItem4,\n\t\t\t\tcompleteItem5,\n\t\t\t\tincompleteItem1,\n\t\t\t], 2, { leadingLineContent: 'f', characterCountDelta: 0 }, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined\n\t\t);\n\t\tassert.strictEqual(model.incomplete.size, 1);\n\t\tassert.strictEqual(model.items.length, 6);\n\n\t\tconst { incomplete } = model;\n\t\tconst complete = model.adopt(incomplete);\n\n\t\tassert.strictEqual(incomplete.size, 1);\n\t\tassert.ok(incomplete.has(incompleteItem1.provider));\n\t\tassert.strictEqual(complete.length, 5);\n\t});\n\n\ttest('proper current word when length=0, #16380', function () {\n\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('    </div', 4),\n\t\t\tcreateSuggestItem('a', 0),\n\t\t\tcreateSuggestItem('p', 0),\n\t\t\tcreateSuggestItem('    </tag', 4),\n\t\t\tcreateSuggestItem('    XYZ', 4),\n\t\t], 1, {\n\t\t\tleadingLineContent: '   <',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\n\t\tassert.strictEqual(model.items.length, 4);\n\n\t\tconst [a, b, c, d] = model.items;\n\t\tassert.strictEqual(a.completion.label, '    </div');\n\t\tassert.strictEqual(b.completion.label, '    </tag');\n\t\tassert.strictEqual(c.completion.label, 'a');\n\t\tassert.strictEqual(d.completion.label, 'p');\n\t});\n\n\ttest('keep snippet sorting with prefix: top, #25495', function () {\n\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('Snippet1', 1, modes.CompletionItemKind.Snippet),\n\t\t\tcreateSuggestItem('tnippet2', 1, modes.CompletionItemKind.Snippet),\n\t\t\tcreateSuggestItem('semver', 1, modes.CompletionItemKind.Property),\n\t\t], 1, {\n\t\t\tleadingLineContent: 's',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, defaultOptions, 'top', undefined);\n\n\t\tassert.strictEqual(model.items.length, 2);\n\t\tconst [a, b] = model.items;\n\t\tassert.strictEqual(a.completion.label, 'Snippet1');\n\t\tassert.strictEqual(b.completion.label, 'semver');\n\t\tassert.ok(a.score < b.score); // snippet really promoted\n\n\t});\n\n\ttest('keep snippet sorting with prefix: bottom, #25495', function () {\n\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('snippet1', 1, modes.CompletionItemKind.Snippet),\n\t\t\tcreateSuggestItem('tnippet2', 1, modes.CompletionItemKind.Snippet),\n\t\t\tcreateSuggestItem('Semver', 1, modes.CompletionItemKind.Property),\n\t\t], 1, {\n\t\t\tleadingLineContent: 's',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, defaultOptions, 'bottom', undefined);\n\n\t\tassert.strictEqual(model.items.length, 2);\n\t\tconst [a, b] = model.items;\n\t\tassert.strictEqual(a.completion.label, 'Semver');\n\t\tassert.strictEqual(b.completion.label, 'snippet1');\n\t\tassert.ok(a.score < b.score); // snippet really demoted\n\t});\n\n\ttest('keep snippet sorting with prefix: inline, #25495', function () {\n\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('snippet1', 1, modes.CompletionItemKind.Snippet),\n\t\t\tcreateSuggestItem('tnippet2', 1, modes.CompletionItemKind.Snippet),\n\t\t\tcreateSuggestItem('Semver', 1),\n\t\t], 1, {\n\t\t\tleadingLineContent: 's',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, defaultOptions, 'inline', undefined);\n\n\t\tassert.strictEqual(model.items.length, 2);\n\t\tconst [a, b] = model.items;\n\t\tassert.strictEqual(a.completion.label, 'snippet1');\n\t\tassert.strictEqual(b.completion.label, 'Semver');\n\t\tassert.ok(a.score > b.score); // snippet really demoted\n\t});\n\n\ttest('filterText seems ignored in autocompletion, #26874', function () {\n\n\t\tconst item1 = createSuggestItem('Map - java.util', 1, undefined, undefined, undefined, undefined, 'Map');\n\t\tconst item2 = createSuggestItem('Map - java.util', 1);\n\n\t\tmodel = new CompletionModel([item1, item2], 1, {\n\t\t\tleadingLineContent: 'M',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\n\t\tassert.strictEqual(model.items.length, 2);\n\n\t\tmodel.lineContext = {\n\t\t\tleadingLineContent: 'Map ',\n\t\t\tcharacterCountDelta: 3\n\t\t};\n\t\tassert.strictEqual(model.items.length, 1);\n\t});\n\n\ttest('Vscode 1.12 no longer obeys \\'sortText\\' in completion items (from language server), #26096', function () {\n\n\t\tconst item1 = createSuggestItem('<- groups', 2, modes.CompletionItemKind.Property, false, { lineNumber: 1, column: 3 }, '00002', '  groups');\n\t\tconst item2 = createSuggestItem('source', 0, modes.CompletionItemKind.Property, false, { lineNumber: 1, column: 3 }, '00001', 'source');\n\t\tconst items = [item1, item2].sort(getSuggestionComparator(SnippetSortOrder.Inline));\n\n\t\tmodel = new CompletionModel(items, 3, {\n\t\t\tleadingLineContent: '  ',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\n\t\tassert.strictEqual(model.items.length, 2);\n\n\t\tconst [first, second] = model.items;\n\t\tassert.strictEqual(first.completion.label, 'source');\n\t\tassert.strictEqual(second.completion.label, '<- groups');\n\t});\n\n\ttest('Score only filtered items when typing more, score all when typing less', function () {\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('console', 0),\n\t\t\tcreateSuggestItem('co_new', 0),\n\t\t\tcreateSuggestItem('bar', 0),\n\t\t\tcreateSuggestItem('car', 0),\n\t\t\tcreateSuggestItem('foo', 0),\n\t\t], 1, {\n\t\t\tleadingLineContent: '',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\n\t\tassert.strictEqual(model.items.length, 5);\n\n\t\t// narrow down once\n\t\tmodel.lineContext = { leadingLineContent: 'c', characterCountDelta: 1 };\n\t\tassert.strictEqual(model.items.length, 3);\n\n\t\t// query gets longer, narrow down the narrow-down'ed-set from before\n\t\tmodel.lineContext = { leadingLineContent: 'cn', characterCountDelta: 2 };\n\t\tassert.strictEqual(model.items.length, 2);\n\n\t\t// query gets shorter, refilter everything\n\t\tmodel.lineContext = { leadingLineContent: '', characterCountDelta: 0 };\n\t\tassert.strictEqual(model.items.length, 5);\n\t});\n\n\ttest('Have more relaxed suggest matching algorithm #15419', function () {\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('result', 0),\n\t\t\tcreateSuggestItem('replyToUser', 0),\n\t\t\tcreateSuggestItem('randomLolut', 0),\n\t\t\tcreateSuggestItem('car', 0),\n\t\t\tcreateSuggestItem('foo', 0),\n\t\t], 1, {\n\t\t\tleadingLineContent: '',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\n\t\t// query gets longer, narrow down the narrow-down'ed-set from before\n\t\tmodel.lineContext = { leadingLineContent: 'rlut', characterCountDelta: 4 };\n\t\tassert.strictEqual(model.items.length, 3);\n\n\t\tconst [first, second, third] = model.items;\n\t\tassert.strictEqual(first.completion.label, 'result'); // best with `rult`\n\t\tassert.strictEqual(second.completion.label, 'replyToUser');  // best with `rltu`\n\t\tassert.strictEqual(third.completion.label, 'randomLolut');  // best with `rlut`\n\t});\n\n\ttest('Emmet suggestion not appearing at the top of the list in jsx files, #39518', function () {\n\t\tmodel = new CompletionModel([\n\t\t\tcreateSuggestItem('from', 0),\n\t\t\tcreateSuggestItem('form', 0),\n\t\t\tcreateSuggestItem('form:get', 0),\n\t\t\tcreateSuggestItem('testForeignMeasure', 0),\n\t\t\tcreateSuggestItem('fooRoom', 0),\n\t\t], 1, {\n\t\t\tleadingLineContent: '',\n\t\t\tcharacterCountDelta: 0\n\t\t}, WordDistance.None, EditorOptions.suggest.defaultValue, EditorOptions.snippetSuggestions.defaultValue, undefined);\n\n\t\tmodel.lineContext = { leadingLineContent: 'form', characterCountDelta: 4 };\n\t\tassert.strictEqual(model.items.length, 5);\n\t\tconst [first, second, third] = model.items;\n\t\tassert.strictEqual(first.completion.label, 'form'); // best with `form`\n\t\tassert.strictEqual(second.completion.label, 'form:get');  // best with `form`\n\t\tassert.strictEqual(third.completion.label, 'from');  // best with `from`\n\t});\n});\n"]}