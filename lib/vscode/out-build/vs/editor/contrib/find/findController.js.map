{"version":3,"sources":["vs/editor/contrib/find/findController.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IA2BhG,MAAM,wBAAwB,GAAG,MAAM,CAAC;IAExC,SAAgB,wBAAwB,CAAC,MAAmB,EAAE,gCAAuD,QAAQ;QAC5H,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE;YACvB,OAAO,IAAI,CAAC;SACZ;QAED,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACxC,oEAAoE;QAEpE,IAAI,CAAC,6BAA6B,KAAK,QAAQ,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,CAAC;eACrG,6BAA6B,KAAK,UAAU,EAAE;YACjD,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE;gBACxB,MAAM,cAAc,GAAG,MAAM,CAAC,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC,CAAC;gBACxF,IAAI,cAAc,EAAE;oBACnB,OAAO,cAAc,CAAC,IAAI,CAAC;iBAC3B;aACD;iBAAM;gBACN,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,qBAAqB,CAAC,SAAS,CAAC,GAAG,wBAAwB,EAAE;oBAClF,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;iBACpD;aACD;SACD;QAED,OAAO,IAAI,CAAC;IACb,CAAC;IAvBD,4DAuBC;IAED,IAAkB,oBAIjB;IAJD,WAAkB,oBAAoB;QACrC,iFAAa,CAAA;QACb,mFAAc,CAAA;QACd,yFAAiB,CAAA;IAClB,CAAC,EAJiB,oBAAoB,GAApB,4BAAoB,KAApB,4BAAoB,QAIrC;IAYD,IAAa,oBAAoB,GAAjC,MAAa,oBAAqB,SAAQ,sBAAU;QAqBnD,YACC,MAAmB,EACC,iBAAqC,EACxC,cAA+B,EAC7B,gBAAmC;YAEtD,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,kBAAkB,GAAG,uCAA2B,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;YAChF,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;YAC5C,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;YACtC,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;YAE1C,IAAI,CAAC,qBAAqB,GAAG,IAAI,eAAO,CAAO,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,4BAAgB,EAAE,CAAC,CAAC;YACrD,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAErF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,EAAE;gBACjD,IAAI,iBAAiB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAE5E,IAAI,CAAC,YAAY,EAAE,CAAC;gBAEpB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;oBAClB,WAAW,EAAE,IAAI;oBACjB,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,qBAA0B,KAAK,CAAC;oBAC7F,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,qBAA0B,KAAK,CAAC;oBAC7F,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,qBAA0B,KAAK,CAAC;oBACzF,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,qBAAqB,qBAA0B,KAAK,CAAC;iBACnG,EAAE,KAAK,CAAC,CAAC;gBAEV,IAAI,iBAAiB,EAAE;oBACtB,IAAI,CAAC,MAAM,CAAC;wBACX,kBAAkB,EAAE,KAAK;wBACzB,6BAA6B,EAAE,MAAM;wBACrC,mCAAmC,EAAE,KAAK;wBAC1C,WAAW,uBAAoC;wBAC/C,aAAa,EAAE,KAAK;wBACpB,iBAAiB,EAAE,KAAK;wBACxB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,eAAmB,CAAC,IAAI;qBACpD,CAAC,CAAC;iBACH;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QArDD,IAAI,MAAM;YACT,OAAO,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QAEM,MAAM,CAAC,GAAG,CAAC,MAAmB;YACpC,OAAO,MAAM,CAAC,eAAe,CAAuB,oBAAoB,CAAC,EAAE,CAAC,CAAC;QAC9E,CAAC;QAiDe,OAAO;YACtB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,KAAK,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QAEO,YAAY;YACnB,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;gBACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;aACnB;QACF,CAAC;QAEO,eAAe,CAAC,CAA+B;YACtD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAEvB,IAAI,CAAC,CAAC,UAAU,EAAE;gBACjB,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;oBAC3B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iBAClC;qBAAM;oBACN,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;oBAChC,IAAI,CAAC,YAAY,EAAE,CAAC;iBACpB;aACD;YACD,IAAI,CAAC,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;aACnD;QACF,CAAC;QAEO,cAAc,CAAC,CAA+B;YACrD,IAAI,CAAC,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,kCAA6C,CAAC;aACpH;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,kCAA6C,CAAC;aACxH;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,kCAA6C,CAAC;aACxH;YACD,IAAI,CAAC,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,kBAAkB,kCAA6C,CAAC;aAC9H;QACF,CAAC;QAEO,cAAc;YACrB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBAClB,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,qBAA0B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;gBAC7G,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,kBAAkB,qBAA0B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;gBAC7G,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,qBAA0B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;gBACvG,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,qBAAqB,qBAA0B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;aACtH,EAAE,KAAK,CAAC,CAAC;QACX,CAAC;QAEM,kBAAkB;YACxB,OAAO,CAAC,CAAC,sCAA0B,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACvE,CAAC;QAEM,QAAQ;YACd,OAAO,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;QAEM,eAAe;YACrB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBAClB,UAAU,EAAE,KAAK;gBACjB,WAAW,EAAE,IAAI;aACjB,EAAE,KAAK,CAAC,CAAC;YACV,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACtB,CAAC;QAEM,mBAAmB;YACzB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;YACjE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC5B;QACF,CAAC;QAEM,gBAAgB;YACtB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;YACjE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC5B;QACF,CAAC;QAEM,WAAW;YACjB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,CAAC;YAC7D,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC5B;QACF,CAAC;QAEM,kBAAkB;YACxB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,KAAK,CAAC,CAAC;YACvE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC5B;QACF,CAAC;QAEM,iBAAiB;YACvB,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;gBAC5B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;aAChD;iBAAM;gBACN,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;oBAC5B,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;oBAC9C,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;wBAC1B,IAAI,SAAS,CAAC,SAAS,KAAK,CAAC,IAAI,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,eAAe,EAAE;4BACrF,SAAS,GAAG,SAAS,CAAC,cAAc,CACnC,SAAS,CAAC,aAAa,GAAG,CAAC,EAC3B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAG,CAAC,gBAAgB,CAAC,SAAS,CAAC,aAAa,GAAG,CAAC,CAAC,CACtE,CAAC;yBACF;wBACD,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE;4BACzB,OAAO,SAAS,CAAC;yBACjB;wBACD,OAAO,IAAI,CAAC;oBACb,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;oBAEhC,IAAI,UAAU,CAAC,MAAM,EAAE;wBACtB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,EAAE,IAAI,CAAC,CAAC;qBACtD;iBACD;aACD;QACF,CAAC;QAEM,eAAe,CAAC,YAAoB;YAC1C,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACxB,YAAY,GAAG,OAAO,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC;aAC5D;YACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,YAAY,EAAE,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;QAEM,oBAAoB,CAAC,oBAA6B,KAAK;YAC7D,0BAA0B;QAC3B,CAAC;QAES,KAAK,CAAC,MAAM,CAAC,IAAuB;YAC7C,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;gBAC7B,iEAAiE;gBACjE,OAAO;aACP;YAED,IAAI,YAAY,GAAyB;gBACxC,UAAU,EAAE,IAAI;aAChB,CAAC;YAEF,IAAI,IAAI,CAAC,6BAA6B,KAAK,QAAQ,EAAE;gBACpD,IAAI,qBAAqB,GAAG,wBAAwB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,6BAA6B,CAAC,CAAC;gBACvG,IAAI,qBAAqB,EAAE;oBAC1B,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;wBACxB,YAAY,CAAC,YAAY,GAAG,OAAO,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,CAAC;qBAClF;yBAAM;wBACN,YAAY,CAAC,YAAY,GAAG,qBAAqB,CAAC;qBAClD;iBACD;aACD;iBAAM,IAAI,IAAI,CAAC,6BAA6B,KAAK,UAAU,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBACxF,IAAI,qBAAqB,GAAG,wBAAwB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,6BAA6B,CAAC,CAAC;gBACvG,IAAI,qBAAqB,EAAE;oBAC1B,YAAY,CAAC,YAAY,GAAG,qBAAqB,CAAC;iBAClD;aACD;YAED,IAAI,CAAC,YAAY,CAAC,YAAY,IAAI,IAAI,CAAC,mCAAmC,EAAE;gBAC3E,IAAI,qBAAqB,GAAG,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAE7D,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;oBAC7B,gDAAgD;oBAChD,OAAO;iBACP;gBAED,IAAI,qBAAqB,EAAE;oBAC1B,YAAY,CAAC,YAAY,GAAG,qBAAqB,CAAC;iBAClD;aACD;YAED,8BAA8B;YAC9B,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC5B,YAAY,CAAC,iBAAiB,GAAG,IAAI,CAAC;aACtC;iBAAM,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,EAAE;gBAC1C,YAAY,CAAC,iBAAiB,GAAG,KAAK,CAAC;aACvC;YAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC3B,IAAI,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;gBACrD,IAAI,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE;oBAC9D,YAAY,CAAC,WAAW,GAAG,iBAAiB,CAAC;iBAC7C;aACD;YAED,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAE9B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YAExC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,uCAA2B,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;aACzE;QACF,CAAC;QAEM,KAAK,CAAC,IAAuB;YACnC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC;QAEM,eAAe;YACrB,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;gBAC9B,OAAO,IAAI,CAAC;aACZ;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEM,eAAe;YACrB,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;gBAC9B,OAAO,IAAI,CAAC;aACZ;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEM,OAAO;YACb,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;gBACtB,OAAO,IAAI,CAAC;aACZ;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEM,UAAU;YAChB,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;gBACzB,OAAO,IAAI,CAAC;aACZ;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEM,gBAAgB;YACtB,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;gBAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACrB,OAAO,IAAI,CAAC;aACZ;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QAEM,KAAK,CAAC,mBAAmB;YAC/B,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,eAAmB,CAAC,mBAAmB;mBAC7D,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;mBACvB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,oBAAoB,EAAE,EACjD;gBACD,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;aAC7C;YACD,OAAO,EAAE,CAAC;QACX,CAAC;QAEM,mBAAmB,CAAC,IAAY;YACtC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,eAAmB,CAAC,mBAAmB;mBAC7D,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;mBACvB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,oBAAoB,EAAE,EACjD;gBACD,4BAA4B;gBAC5B,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAC3C;QACF,CAAC;KACD,CAAA;IAvUuB,uBAAE,GAAG,+BAA+B,CAAC;IAFhD,oBAAoB;QAuB9B,WAAA,+BAAkB,CAAA;QAClB,WAAA,yBAAe,CAAA;QACf,WAAA,oCAAiB,CAAA;OAzBP,oBAAoB,CAyUhC;IAzUY,oDAAoB;IA2UjC,IAAa,cAAc,GAA3B,MAAa,cAAe,SAAQ,oBAAoB;QAKvD,YACC,MAAmB,EACmB,mBAAwC,EAC1D,kBAAsC,EACrB,kBAAsC,EAC3C,aAA4B,EACrB,oBAA0C,EAChE,eAAgC,EAC9B,gBAAmC;YAEtD,KAAK,CAAC,MAAM,EAAE,kBAAkB,EAAE,eAAe,EAAE,gBAAgB,CAAC,CAAC;YAR/B,wBAAmB,GAAnB,mBAAmB,CAAqB;YAEzC,uBAAkB,GAAlB,kBAAkB,CAAoB;YAC3C,kBAAa,GAAb,aAAa,CAAe;YACrB,yBAAoB,GAApB,oBAAoB,CAAsB;YAKjF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAChC,CAAC;QAEkB,KAAK,CAAC,MAAM,CAAC,IAAuB;YACtD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBAClB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aACzB;YAED,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAC9C,IAAI,iBAAiB,GAAG,KAAK,CAAC;YAE9B,QAAQ,IAAI,CAAC,OAAO,CAAC,SAAS,eAAmB,CAAC,mBAAmB,EAAE;gBACtE,KAAK,QAAQ;oBACZ,iBAAiB,GAAG,IAAI,CAAC;oBACzB,MAAM;gBACP,KAAK,OAAO;oBACX,iBAAiB,GAAG,KAAK,CAAC;oBAC1B,MAAM;gBACP,KAAK,WAAW;oBACf,MAAM,uBAAuB,GAAG,CAAC,CAAC,SAAS,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,CAAC;oBACrG,iBAAiB,GAAG,uBAAuB,CAAC;oBAC5C,MAAM;gBAEP;oBACC,MAAM;aACP;YAED,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;YAE3C,MAAM,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAEzB,IAAI,IAAI,CAAC,OAAO,EAAE;gBACjB,IAAI,IAAI,CAAC,WAAW,8BAA2C,EAAE;oBAChE,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;iBACjC;qBAAM,IAAI,IAAI,CAAC,WAAW,2BAAwC,EAAE;oBACpE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;iBAC9B;aACD;QACF,CAAC;QAEe,oBAAoB,CAAC,oBAA6B,KAAK;YACtE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBAClB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aACzB;YACD,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,CAAC,iBAAiB,EAAE;gBACjD,IAAI,CAAC,OAAQ,CAAC,oBAAoB,EAAE,CAAC;aACrC;iBAAM;gBACN,IAAI,CAAC,kBAAmB,CAAC,oBAAoB,EAAE,CAAC;aAChD;QACF,CAAC;QAEO,iBAAiB;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,uBAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;YAChO,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,qCAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QACzI,CAAC;QAED,aAAa;;YACZ,OAAO,MAAA,IAAI,CAAC,OAAO,0CAAE,YAAY,EAAE,CAAC;QACrC,CAAC;QAED,gBAAgB,CAAC,KAAU;;YAC1B,MAAA,IAAI,CAAC,OAAO,0CAAE,YAAY,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;KACD,CAAA;IAhFY,cAAc;QAOxB,WAAA,iCAAmB,CAAA;QACnB,WAAA,+BAAkB,CAAA;QAClB,WAAA,+BAAkB,CAAA;QAClB,WAAA,4BAAa,CAAA;QACb,WAAA,mCAAoB,CAAA;QACpB,WAAA,yBAAe,CAAA;QACf,WAAA,oCAAiB,CAAA;OAbP,cAAc,CAgF1B;IAhFY,wCAAc;IAkFd,QAAA,eAAe,GAAG,CAAA,GAAA,4CAAyB,CAAA,CAAC,IAAI,oCAAiB,CAAC;QAC9E,EAAE,EAAE,oBAAQ,CAAC,eAAe;QAC5B,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAiB,EAAE,IAAM,CAAC;QAC9C,KAAK,EAAE,MAAM;QACb,YAAY,EAAE,2BAAc,CAAC,EAAE,CAAC,qCAAiB,CAAC,KAAK,EAAE,2BAAc,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC5F,MAAM,EAAE;YACP,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE,mCAA8B;YACvC,MAAM,yBAAgC;SACtC;QACD,QAAQ,EAAE;YACT,MAAM,EAAE,gBAAM,CAAC,eAAe;YAC9B,KAAK,EAAE,QAAQ;YACf,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAqD,CAAnD,CAAqD,EAAlD,EAAE,AAAwD,CAAC,OAAjD,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;YACvE,KAAK,EAAE,CAAC;SACR;KACD,CAAC,CAAC,CAAC;IAEJ,uBAAe,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,QAA0B,EAAE,IAAS,EAA2B,EAAE;QACvG,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,sCAAkB,CAAC,CAAC;QAC3D,MAAM,MAAM,GAAG,iBAAiB,CAAC,oBAAoB,EAAE,IAAI,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;QACnG,IAAI,CAAC,MAAM,EAAE;YACZ,OAAO,KAAK,CAAC;SACb;QACD,MAAM,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,EAAE;YAChB,OAAO,KAAK,CAAC;SACb;QACD,OAAO,UAAU,CAAC,KAAK,CAAC;YACvB,kBAAkB,EAAE,KAAK;YACzB,6BAA6B,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,6BAA6B,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM;YACpH,mCAAmC,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,mBAAmB;YAC5F,WAAW,wBAAqC;YAChD,aAAa,EAAE,IAAI;YACnB,iBAAiB,EAAE,KAAK;YACxB,IAAI,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,IAAI;SAC9C,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,MAAa,4BAA6B,SAAQ,+BAAY;QAE7D;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,sBAAsB;gBACnC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAA8B,EAAE,IAAqB,CAAC;gBAC1E,KAAK,EAAE,qBAAqB;gBAC5B,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,IAAI;oBACZ,OAAO,EAAE,CAAC;oBACV,GAAG,EAAE;wBACJ,OAAO,EAAE,mCAA8B;qBACvC;oBACD,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAEM,KAAK,CAAC,GAAG,CAAC,QAAiC,EAAE,MAAmB;YACtE,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClD,IAAI,UAAU,EAAE;gBACf,MAAM,UAAU,CAAC,KAAK,CAAC;oBACtB,kBAAkB,EAAE,KAAK;oBACzB,6BAA6B,EAAE,UAAU;oBACzC,mCAAmC,EAAE,KAAK;oBAC1C,WAAW,uBAAoC;oBAC/C,aAAa,EAAE,IAAI;oBACnB,iBAAiB,EAAE,KAAK;oBACxB,IAAI,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,IAAI;iBAC9C,CAAC,CAAC;gBAEH,UAAU,CAAC,mBAAmB,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,CAAC;aACnE;QACF,CAAC;KACD;IAnCD,oEAmCC;IACD,MAAsB,eAAgB,SAAQ,+BAAY;QAClD,KAAK,CAAC,GAAG,CAAC,QAAiC,EAAE,MAAmB;YACtE,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClD,IAAI,UAAU,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;gBACzC,MAAM,UAAU,CAAC,KAAK,CAAC;oBACtB,kBAAkB,EAAE,KAAK;oBACzB,6BAA6B,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,SAAS,eAAmB,CAAC,6BAA6B,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM;oBACzK,mCAAmC,EAAE,IAAI;oBACzC,WAAW,uBAAoC;oBAC/C,aAAa,EAAE,IAAI;oBACnB,iBAAiB,EAAE,KAAK;oBACxB,IAAI,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,IAAI;iBAC9C,CAAC,CAAC;gBACH,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACtB;QACF,CAAC;KAGD;IAlBD,0CAkBC;IAED,MAAa,mBAAoB,SAAQ,eAAe;QAEvD;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,mBAAmB;gBAChC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAqB,EAAE,IAAW,CAAC;gBACvD,KAAK,EAAE,WAAW;gBAClB,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,qCAAiB,CAAC,KAAK;oBAC/B,OAAO,aAAY;oBACnB,GAAG,EAAE,EAAE,OAAO,EAAE,mCAA8B,EAAE,SAAS,EAAE,aAAY,EAAE;oBACzE,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAES,IAAI,CAAC,UAAgC;YAC9C,MAAM,MAAM,GAAG,UAAU,CAAC,eAAe,EAAE,CAAC;YAC5C,IAAI,MAAM,EAAE;gBACX,UAAU,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;gBACjC,OAAO,IAAI,CAAC;aACZ;YAED,OAAO,KAAK,CAAC;QACd,CAAC;KACD;IA1BD,kDA0BC;IAED,MAAa,oBAAqB,SAAQ,eAAe;QAExD;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,mBAAmB;gBAChC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAqB,EAAE,IAAW,CAAC;gBACvD,KAAK,EAAE,WAAW;gBAClB,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,2BAAc,CAAC,GAAG,CAAC,qCAAiB,CAAC,KAAK,EAAE,sCAA0B,CAAC;oBAC/E,OAAO,eAAe;oBACtB,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAES,IAAI,CAAC,UAAgC;YAC9C,MAAM,MAAM,GAAG,UAAU,CAAC,eAAe,EAAE,CAAC;YAC5C,IAAI,MAAM,EAAE;gBACX,UAAU,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;gBACjC,OAAO,IAAI,CAAC;aACZ;YAED,OAAO,KAAK,CAAC;QACd,CAAC;KACD;IAzBD,oDAyBC;IAED,MAAa,uBAAwB,SAAQ,eAAe;QAE3D;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,uBAAuB;gBACpC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAyB,EAAE,IAAe,CAAC;gBAC/D,KAAK,EAAE,eAAe;gBACtB,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,qCAAiB,CAAC,KAAK;oBAC/B,OAAO,EAAE,8BAAyB;oBAClC,GAAG,EAAE,EAAE,OAAO,EAAE,qCAA6B,iBAAgB,EAAE,SAAS,EAAE,CAAC,8BAAyB,CAAC,EAAE;oBACvG,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAES,IAAI,CAAC,UAAgC;YAC9C,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC;KACD;IApBD,0DAoBC;IAED,MAAa,wBAAyB,SAAQ,eAAe;QAE5D;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,uBAAuB;gBACpC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAyB,EAAE,IAAe,CAAC;gBAC/D,KAAK,EAAE,eAAe;gBACtB,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,2BAAc,CAAC,GAAG,CAAC,qCAAiB,CAAC,KAAK,EAAE,sCAA0B,CAAC;oBAC/E,OAAO,EAAE,gCAA4B;oBACrC,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAES,IAAI,CAAC,UAAgC;YAC9C,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC;KACD;IAnBD,4DAmBC;IAED,MAAsB,wBAAyB,SAAQ,+BAAY;QAC3D,KAAK,CAAC,GAAG,CAAC,QAAiC,EAAE,MAAmB;YACtE,IAAI,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClD,IAAI,CAAC,UAAU,EAAE;gBAChB,OAAO;aACP;YACD,IAAI,qBAAqB,GAAG,wBAAwB,CAAC,MAAM,CAAC,CAAC;YAC7D,IAAI,qBAAqB,EAAE;gBAC1B,UAAU,CAAC,eAAe,CAAC,qBAAqB,CAAC,CAAC;aAClD;YACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;gBAC3B,MAAM,UAAU,CAAC,KAAK,CAAC;oBACtB,kBAAkB,EAAE,KAAK;oBACzB,6BAA6B,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,6BAA6B,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM;oBACpH,mCAAmC,EAAE,KAAK;oBAC1C,WAAW,uBAAoC;oBAC/C,aAAa,EAAE,IAAI;oBACnB,iBAAiB,EAAE,KAAK;oBACxB,IAAI,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,IAAI;iBAC9C,CAAC,CAAC;gBACH,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACtB;QACF,CAAC;KAGD;IAzBD,4DAyBC;IAED,MAAa,4BAA6B,SAAQ,wBAAwB;QAEzE;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,4BAA4B;gBACzC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAA8B,EAAE,IAAqB,CAAC;gBAC1E,KAAK,EAAE,qBAAqB;gBAC5B,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,qCAAiB,CAAC,KAAK;oBAC/B,OAAO,EAAE,gCAA2B;oBACpC,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAES,IAAI,CAAC,UAAgC;YAC9C,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC;KACD;IAnBD,oEAmBC;IAED,MAAa,gCAAiC,SAAQ,wBAAwB;QAE7E;YACC,KAAK,CAAC;gBACL,EAAE,EAAE,oBAAQ,CAAC,gCAAgC;gBAC7C,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAkC,EAAE,IAAyB,CAAC;gBAClF,KAAK,EAAE,yBAAyB;gBAChC,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE;oBACP,MAAM,EAAE,qCAAiB,CAAC,KAAK;oBAC/B,OAAO,EAAE,qCAA6B,cAAa;oBACnD,MAAM,yBAAgC;iBACtC;aACD,CAAC,CAAC;QACJ,CAAC;QAES,IAAI,CAAC,UAAgC;YAC9C,OAAO,UAAU,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC;KACD;IAnBD,4EAmBC;IAEY,QAAA,sBAAsB,GAAG,CAAA,GAAA,4CAAyB,CAAA,CAAC,IAAI,oCAAiB,CAAC;QACrF,EAAE,EAAE,oBAAQ,CAAC,sBAAsB;QACnC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAc,EAAE,IAAS,CAAC;QAC9C,KAAK,EAAE,SAAS;QAChB,YAAY,EAAE,2BAAc,CAAC,EAAE,CAAC,qCAAiB,CAAC,KAAK,EAAE,2BAAc,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC5F,MAAM,EAAE;YACP,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE,mCAA8B;YACvC,GAAG,EAAE,EAAE,OAAO,EAAE,kCAA2B,iBAAgB,EAAE;YAC7D,MAAM,yBAAgC;SACtC;QACD,QAAQ,EAAE;YACT,MAAM,EAAE,gBAAM,CAAC,eAAe;YAC9B,KAAK,EAAE,QAAQ;YACf,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,AAAsD,EAAE,CAArD,EAAE,CAA8D,CAAC,SAApD,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;YAC1E,KAAK,EAAE,CAAC;SACR;KACD,CAAC,CAAC,CAAC;IAEJ,8BAAsB,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,QAA0B,EAAE,IAAS,EAA2B,EAAE;QAC9G,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,sCAAkB,CAAC,CAAC;QAC3D,MAAM,MAAM,GAAG,iBAAiB,CAAC,oBAAoB,EAAE,IAAI,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;QACnG,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,MAAM,CAAC,SAAS,mBAAuB,EAAE;YAC7E,OAAO,KAAK,CAAC;SACb;QACD,MAAM,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,EAAE;YAChB,OAAO,KAAK,CAAC;SACb;QAED,MAAM,gBAAgB,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC/C,MAAM,gBAAgB,GAAG,UAAU,CAAC,kBAAkB,EAAE,CAAC;QACzD,qGAAqG;QACrG,kCAAkC;QAClC,MAAM,6BAA6B,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE;eAC7D,gBAAgB,CAAC,eAAe,KAAK,gBAAgB,CAAC,aAAa,IAAI,MAAM,CAAC,SAAS,eAAmB,CAAC,6BAA6B;eACxI,CAAC,gBAAgB,CAAC;QACtB;;;;;;UAME;QACF,MAAM,WAAW,GAAG,CAAC,gBAAgB,IAAI,6BAA6B,CAAC,CAAC,CAAC;sCACjC,CAAC,uBAAoC,CAAC;QAE9E,OAAO,UAAU,CAAC,KAAK,CAAC;YACvB,kBAAkB,EAAE,IAAI;YACxB,6BAA6B,EAAE,6BAA6B,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM;YAChF,mCAAmC,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,6BAA6B;YACtG,WAAW,EAAE,WAAW;YACxB,aAAa,EAAE,IAAI;YACnB,iBAAiB,EAAE,KAAK;YACxB,IAAI,EAAE,MAAM,CAAC,SAAS,eAAmB,CAAC,IAAI;SAC9C,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,CAAA,GAAA,6CAA0B,CAAA,CAAC,oBAAoB,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;IAEpE,CAAA,GAAA,uCAAoB,CAAA,CAAC,4BAA4B,CAAC,CAAC;IACnD,CAAA,GAAA,uCAAoB,CAAA,CAAC,mBAAmB,CAAC,CAAC;IAC1C,CAAA,GAAA,uCAAoB,CAAA,CAAC,oBAAoB,CAAC,CAAC;IAC3C,CAAA,GAAA,uCAAoB,CAAA,CAAC,uBAAuB,CAAC,CAAC;IAC9C,CAAA,GAAA,uCAAoB,CAAA,CAAC,wBAAwB,CAAC,CAAC;IAC/C,CAAA,GAAA,uCAAoB,CAAA,CAAC,4BAA4B,CAAC,CAAC;IACnD,CAAA,GAAA,uCAAoB,CAAA,CAAC,gCAAgC,CAAC,CAAC;IAEvD,MAAM,WAAW,GAAG,gCAAa,CAAC,kBAAkB,CAAuB,oBAAoB,CAAC,GAAG,CAAC,CAAC;IAErG,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,sBAAsB;QACnC,YAAY,EAAE,uCAA2B;QACzC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,EAAE;QACjC,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,2BAAc,CAAC,GAAG,CAAC,qCAAiB,CAAC,KAAK,EAAE,2BAAc,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACtF,OAAO,gBAAgB;YACvB,SAAS,EAAE,CAAC,iCAA6B,CAAC;SAC1C;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,0BAA0B;QACvC,YAAY,EAAE,SAAS;QACvB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,mBAAmB,EAAE;QACrC,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,yCAA6B,CAAC,OAAO;YAC9C,GAAG,EAAE,yCAA6B,CAAC,GAAG;YACtC,GAAG,EAAE,yCAA6B,CAAC,GAAG;YACtC,KAAK,EAAE,yCAA6B,CAAC,KAAK;SAC1C;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,sBAAsB;QACnC,YAAY,EAAE,SAAS;QACvB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,EAAE;QAClC,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,qCAAyB,CAAC,OAAO;YAC1C,GAAG,EAAE,qCAAyB,CAAC,GAAG;YAClC,GAAG,EAAE,qCAAyB,CAAC,GAAG;YAClC,KAAK,EAAE,qCAAyB,CAAC,KAAK;SACtC;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,kBAAkB;QAC/B,YAAY,EAAE,SAAS;QACvB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE;QAC7B,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,iCAAqB,CAAC,OAAO;YACtC,GAAG,EAAE,iCAAqB,CAAC,GAAG;YAC9B,GAAG,EAAE,iCAAqB,CAAC,GAAG;YAC9B,KAAK,EAAE,iCAAqB,CAAC,KAAK;SAClC;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,wBAAwB;QACrC,YAAY,EAAE,SAAS;QACvB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,EAAE;QACnC,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,uCAA2B,CAAC,OAAO;YAC5C,GAAG,EAAE,uCAA2B,CAAC,GAAG;YACpC,GAAG,EAAE,uCAA2B,CAAC,GAAG;YACpC,KAAK,EAAE,uCAA2B,CAAC,KAAK;SACxC;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,yBAAyB;QACtC,YAAY,EAAE,SAAS;QACvB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,EAAE;QACpC,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,wCAA4B,CAAC,OAAO;YAC7C,GAAG,EAAE,wCAA4B,CAAC,GAAG;YACrC,GAAG,EAAE,wCAA4B,CAAC,GAAG;YACrC,KAAK,EAAE,wCAA4B,CAAC,KAAK;SACzC;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,gBAAgB;QAC7B,YAAY,EAAE,uCAA2B;QACzC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE;QACzB,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,qCAA6B,iBAAgB;SACtD;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,gBAAgB;QAC7B,YAAY,EAAE,uCAA2B;QACzC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE;QACzB,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,2BAAc,CAAC,GAAG,CAAC,qCAAiB,CAAC,KAAK,EAAE,yCAA6B,CAAC;YAClF,OAAO,eAAe;SACtB;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,gBAAgB;QAC7B,YAAY,EAAE,uCAA2B;QACzC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,EAAE;QAC5B,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,kCAA2B,gBAAgB;SACpD;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,gBAAgB;QAC7B,YAAY,EAAE,uCAA2B;QACzC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,EAAE;QAC5B,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,2BAAc,CAAC,GAAG,CAAC,qCAAiB,CAAC,KAAK,EAAE,yCAA6B,CAAC;YAClF,OAAO,EAAE,SAAS;YAClB,GAAG,EAAE;gBACJ,OAAO,EAAE,kCAA8B;aACvC;SACD;KACD,CAAC,CAAC,CAAC;IAEJ,CAAA,GAAA,wCAAqB,CAAA,CAAC,IAAI,WAAW,CAAC;QACrC,EAAE,EAAE,oBAAQ,CAAC,sBAAsB;QACnC,YAAY,EAAE,uCAA2B;QACzC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,gBAAgB,EAAE;QAClC,MAAM,EAAE;YACP,MAAM,EAAE,0BAAiC,CAAC;YAC1C,MAAM,EAAE,qCAAiB,CAAC,KAAK;YAC/B,OAAO,EAAE,6BAA0B;SACnC;KACD,CAAC,CAAC,CAAC","file":"findController.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport { Delayer } from 'vs/base/common/async';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport * as strings from 'vs/base/common/strings';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { EditorAction, EditorCommand, ServicesAccessor, registerEditorAction, registerEditorCommand, registerEditorContribution, MultiEditorAction, registerMultiEditorAction } from 'vs/editor/browser/editorExtensions';\nimport { IEditorContribution } from 'vs/editor/common/editorCommon';\nimport { EditorContextKeys } from 'vs/editor/common/editorContextKeys';\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_FIND_WIDGET_VISIBLE, FIND_IDS, FindModelBoundToEditorModel, ToggleCaseSensitiveKeybinding, TogglePreserveCaseKeybinding, ToggleRegexKeybinding, ToggleSearchScopeKeybinding, ToggleWholeWordKeybinding, CONTEXT_REPLACE_INPUT_FOCUSED } from 'vs/editor/contrib/find/findModel';\nimport { FindOptionsWidget } from 'vs/editor/contrib/find/findOptionsWidget';\nimport { FindReplaceState, FindReplaceStateChangedEvent, INewFindReplaceState } from 'vs/editor/contrib/find/findState';\nimport { FindWidget, IFindController } from 'vs/editor/contrib/find/findWidget';\nimport { MenuId } from 'vs/platform/actions/common/actions';\nimport { IClipboardService } from 'vs/platform/clipboard/common/clipboardService';\nimport { IContextKey, IContextKeyService, ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\n\nconst SEARCH_STRING_MAX_LENGTH = 524288;\n\nexport function getSelectionSearchString(editor: ICodeEditor, seedSearchStringFromSelection: 'single' | 'multiple' = 'single'): string | null {\n\tif (!editor.hasModel()) {\n\t\treturn null;\n\t}\n\n\tconst selection = editor.getSelection();\n\t// if selection spans multiple lines, default search string to empty\n\n\tif ((seedSearchStringFromSelection === 'single' && selection.startLineNumber === selection.endLineNumber)\n\t\t|| seedSearchStringFromSelection === 'multiple') {\n\t\tif (selection.isEmpty()) {\n\t\t\tconst wordAtPosition = editor.getConfiguredWordAtPosition(selection.getStartPosition());\n\t\t\tif (wordAtPosition) {\n\t\t\t\treturn wordAtPosition.word;\n\t\t\t}\n\t\t} else {\n\t\t\tif (editor.getModel().getValueLengthInRange(selection) < SEARCH_STRING_MAX_LENGTH) {\n\t\t\t\treturn editor.getModel().getValueInRange(selection);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n\nexport const enum FindStartFocusAction {\n\tNoFocusChange,\n\tFocusFindInput,\n\tFocusReplaceInput\n}\n\nexport interface IFindStartOptions {\n\tforceRevealReplace: boolean;\n\tseedSearchStringFromSelection: 'none' | 'single' | 'multiple';\n\tseedSearchStringFromGlobalClipboard: boolean;\n\tshouldFocus: FindStartFocusAction;\n\tshouldAnimate: boolean;\n\tupdateSearchScope: boolean;\n\tloop: boolean;\n}\n\nexport class CommonFindController extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID = 'editor.contrib.findController';\n\n\tprotected _editor: ICodeEditor;\n\tprivate readonly _findWidgetVisible: IContextKey<boolean>;\n\tprotected _state: FindReplaceState;\n\tprotected _updateHistoryDelayer: Delayer<void>;\n\tprivate _model: FindModelBoundToEditorModel | null;\n\tprotected readonly _storageService: IStorageService;\n\tprivate readonly _clipboardService: IClipboardService;\n\tprotected readonly _contextKeyService: IContextKeyService;\n\n\tget editor() {\n\t\treturn this._editor;\n\t}\n\n\tpublic static get(editor: ICodeEditor): CommonFindController {\n\t\treturn editor.getContribution<CommonFindController>(CommonFindController.ID);\n\t}\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IClipboardService clipboardService: IClipboardService\n\t) {\n\t\tsuper();\n\t\tthis._editor = editor;\n\t\tthis._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\n\t\tthis._contextKeyService = contextKeyService;\n\t\tthis._storageService = storageService;\n\t\tthis._clipboardService = clipboardService;\n\n\t\tthis._updateHistoryDelayer = new Delayer<void>(500);\n\t\tthis._state = this._register(new FindReplaceState());\n\t\tthis.loadQueryState();\n\t\tthis._register(this._state.onFindReplaceStateChange((e) => this._onStateChanged(e)));\n\n\t\tthis._model = null;\n\n\t\tthis._register(this._editor.onDidChangeModel(() => {\n\t\t\tlet shouldRestartFind = (this._editor.getModel() && this._state.isRevealed);\n\n\t\t\tthis.disposeModel();\n\n\t\t\tthis._state.change({\n\t\t\t\tsearchScope: null,\n\t\t\t\tmatchCase: this._storageService.getBoolean('editor.matchCase', StorageScope.WORKSPACE, false),\n\t\t\t\twholeWord: this._storageService.getBoolean('editor.wholeWord', StorageScope.WORKSPACE, false),\n\t\t\t\tisRegex: this._storageService.getBoolean('editor.isRegex', StorageScope.WORKSPACE, false),\n\t\t\t\tpreserveCase: this._storageService.getBoolean('editor.preserveCase', StorageScope.WORKSPACE, false)\n\t\t\t}, false);\n\n\t\t\tif (shouldRestartFind) {\n\t\t\t\tthis._start({\n\t\t\t\t\tforceRevealReplace: false,\n\t\t\t\t\tseedSearchStringFromSelection: 'none',\n\t\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\t\tshouldAnimate: false,\n\t\t\t\t\tupdateSearchScope: false,\n\t\t\t\t\tloop: this._editor.getOption(EditorOption.find).loop\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis.disposeModel();\n\t\tsuper.dispose();\n\t}\n\n\tprivate disposeModel(): void {\n\t\tif (this._model) {\n\t\t\tthis._model.dispose();\n\t\t\tthis._model = null;\n\t\t}\n\t}\n\n\tprivate _onStateChanged(e: FindReplaceStateChangedEvent): void {\n\t\tthis.saveQueryState(e);\n\n\t\tif (e.isRevealed) {\n\t\t\tif (this._state.isRevealed) {\n\t\t\t\tthis._findWidgetVisible.set(true);\n\t\t\t} else {\n\t\t\t\tthis._findWidgetVisible.reset();\n\t\t\t\tthis.disposeModel();\n\t\t\t}\n\t\t}\n\t\tif (e.searchString) {\n\t\t\tthis.setGlobalBufferTerm(this._state.searchString);\n\t\t}\n\t}\n\n\tprivate saveQueryState(e: FindReplaceStateChangedEvent) {\n\t\tif (e.isRegex) {\n\t\t\tthis._storageService.store('editor.isRegex', this._state.actualIsRegex, StorageScope.WORKSPACE, StorageTarget.USER);\n\t\t}\n\t\tif (e.wholeWord) {\n\t\t\tthis._storageService.store('editor.wholeWord', this._state.actualWholeWord, StorageScope.WORKSPACE, StorageTarget.USER);\n\t\t}\n\t\tif (e.matchCase) {\n\t\t\tthis._storageService.store('editor.matchCase', this._state.actualMatchCase, StorageScope.WORKSPACE, StorageTarget.USER);\n\t\t}\n\t\tif (e.preserveCase) {\n\t\t\tthis._storageService.store('editor.preserveCase', this._state.actualPreserveCase, StorageScope.WORKSPACE, StorageTarget.USER);\n\t\t}\n\t}\n\n\tprivate loadQueryState() {\n\t\tthis._state.change({\n\t\t\tmatchCase: this._storageService.getBoolean('editor.matchCase', StorageScope.WORKSPACE, this._state.matchCase),\n\t\t\twholeWord: this._storageService.getBoolean('editor.wholeWord', StorageScope.WORKSPACE, this._state.wholeWord),\n\t\t\tisRegex: this._storageService.getBoolean('editor.isRegex', StorageScope.WORKSPACE, this._state.isRegex),\n\t\t\tpreserveCase: this._storageService.getBoolean('editor.preserveCase', StorageScope.WORKSPACE, this._state.preserveCase)\n\t\t}, false);\n\t}\n\n\tpublic isFindInputFocused(): boolean {\n\t\treturn !!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);\n\t}\n\n\tpublic getState(): FindReplaceState {\n\t\treturn this._state;\n\t}\n\n\tpublic closeFindWidget(): void {\n\t\tthis._state.change({\n\t\t\tisRevealed: false,\n\t\t\tsearchScope: null\n\t\t}, false);\n\t\tthis._editor.focus();\n\t}\n\n\tpublic toggleCaseSensitive(): void {\n\t\tthis._state.change({ matchCase: !this._state.matchCase }, false);\n\t\tif (!this._state.isRevealed) {\n\t\t\tthis.highlightFindOptions();\n\t\t}\n\t}\n\n\tpublic toggleWholeWords(): void {\n\t\tthis._state.change({ wholeWord: !this._state.wholeWord }, false);\n\t\tif (!this._state.isRevealed) {\n\t\t\tthis.highlightFindOptions();\n\t\t}\n\t}\n\n\tpublic toggleRegex(): void {\n\t\tthis._state.change({ isRegex: !this._state.isRegex }, false);\n\t\tif (!this._state.isRevealed) {\n\t\t\tthis.highlightFindOptions();\n\t\t}\n\t}\n\n\tpublic togglePreserveCase(): void {\n\t\tthis._state.change({ preserveCase: !this._state.preserveCase }, false);\n\t\tif (!this._state.isRevealed) {\n\t\t\tthis.highlightFindOptions();\n\t\t}\n\t}\n\n\tpublic toggleSearchScope(): void {\n\t\tif (this._state.searchScope) {\n\t\t\tthis._state.change({ searchScope: null }, true);\n\t\t} else {\n\t\t\tif (this._editor.hasModel()) {\n\t\t\t\tlet selections = this._editor.getSelections();\n\t\t\t\tselections.map(selection => {\n\t\t\t\t\tif (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n\t\t\t\t\t\tselection = selection.setEndPosition(\n\t\t\t\t\t\t\tselection.endLineNumber - 1,\n\t\t\t\t\t\t\tthis._editor.getModel()!.getLineMaxColumn(selection.endLineNumber - 1)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (!selection.isEmpty()) {\n\t\t\t\t\t\treturn selection;\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(element => !!element);\n\n\t\t\t\tif (selections.length) {\n\t\t\t\t\tthis._state.change({ searchScope: selections }, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic setSearchString(searchString: string): void {\n\t\tif (this._state.isRegex) {\n\t\t\tsearchString = strings.escapeRegExpCharacters(searchString);\n\t\t}\n\t\tthis._state.change({ searchString: searchString }, false);\n\t}\n\n\tpublic highlightFindOptions(ignoreWhenVisible: boolean = false): void {\n\t\t// overwritten in subclass\n\t}\n\n\tprotected async _start(opts: IFindStartOptions): Promise<void> {\n\t\tthis.disposeModel();\n\n\t\tif (!this._editor.hasModel()) {\n\t\t\t// cannot do anything with an editor that doesn't have a model...\n\t\t\treturn;\n\t\t}\n\n\t\tlet stateChanges: INewFindReplaceState = {\n\t\t\tisRevealed: true\n\t\t};\n\n\t\tif (opts.seedSearchStringFromSelection === 'single') {\n\t\t\tlet selectionSearchString = getSelectionSearchString(this._editor, opts.seedSearchStringFromSelection);\n\t\t\tif (selectionSearchString) {\n\t\t\t\tif (this._state.isRegex) {\n\t\t\t\t\tstateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\n\t\t\t\t} else {\n\t\t\t\t\tstateChanges.searchString = selectionSearchString;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (opts.seedSearchStringFromSelection === 'multiple' && !opts.updateSearchScope) {\n\t\t\tlet selectionSearchString = getSelectionSearchString(this._editor, opts.seedSearchStringFromSelection);\n\t\t\tif (selectionSearchString) {\n\t\t\t\tstateChanges.searchString = selectionSearchString;\n\t\t\t}\n\t\t}\n\n\t\tif (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\n\t\t\tlet selectionSearchString = await this.getGlobalBufferTerm();\n\n\t\t\tif (!this._editor.hasModel()) {\n\t\t\t\t// the editor has lost its model in the meantime\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (selectionSearchString) {\n\t\t\t\tstateChanges.searchString = selectionSearchString;\n\t\t\t}\n\t\t}\n\n\t\t// Overwrite isReplaceRevealed\n\t\tif (opts.forceRevealReplace) {\n\t\t\tstateChanges.isReplaceRevealed = true;\n\t\t} else if (!this._findWidgetVisible.get()) {\n\t\t\tstateChanges.isReplaceRevealed = false;\n\t\t}\n\n\t\tif (opts.updateSearchScope) {\n\t\t\tlet currentSelections = this._editor.getSelections();\n\t\t\tif (currentSelections.some(selection => !selection.isEmpty())) {\n\t\t\t\tstateChanges.searchScope = currentSelections;\n\t\t\t}\n\t\t}\n\n\t\tstateChanges.loop = opts.loop;\n\n\t\tthis._state.change(stateChanges, false);\n\n\t\tif (!this._model) {\n\t\t\tthis._model = new FindModelBoundToEditorModel(this._editor, this._state);\n\t\t}\n\t}\n\n\tpublic start(opts: IFindStartOptions): Promise<void> {\n\t\treturn this._start(opts);\n\t}\n\n\tpublic moveToNextMatch(): boolean {\n\t\tif (this._model) {\n\t\t\tthis._model.moveToNextMatch();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic moveToPrevMatch(): boolean {\n\t\tif (this._model) {\n\t\t\tthis._model.moveToPrevMatch();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic replace(): boolean {\n\t\tif (this._model) {\n\t\t\tthis._model.replace();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic replaceAll(): boolean {\n\t\tif (this._model) {\n\t\t\tthis._model.replaceAll();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic selectAllMatches(): boolean {\n\t\tif (this._model) {\n\t\t\tthis._model.selectAllMatches();\n\t\t\tthis._editor.focus();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic async getGlobalBufferTerm(): Promise<string> {\n\t\tif (this._editor.getOption(EditorOption.find).globalFindClipboard\n\t\t\t&& this._editor.hasModel()\n\t\t\t&& !this._editor.getModel().isTooLargeForSyncing()\n\t\t) {\n\t\t\treturn this._clipboardService.readFindText();\n\t\t}\n\t\treturn '';\n\t}\n\n\tpublic setGlobalBufferTerm(text: string): void {\n\t\tif (this._editor.getOption(EditorOption.find).globalFindClipboard\n\t\t\t&& this._editor.hasModel()\n\t\t\t&& !this._editor.getModel().isTooLargeForSyncing()\n\t\t) {\n\t\t\t// intentionally not awaited\n\t\t\tthis._clipboardService.writeFindText(text);\n\t\t}\n\t}\n}\n\nexport class FindController extends CommonFindController implements IFindController {\n\n\tprivate _widget: FindWidget | null;\n\tprivate _findOptionsWidget: FindOptionsWidget | null;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService _contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@IStorageService _storageService: IStorageService,\n\t\t@IClipboardService clipboardService: IClipboardService,\n\t) {\n\t\tsuper(editor, _contextKeyService, _storageService, clipboardService);\n\t\tthis._widget = null;\n\t\tthis._findOptionsWidget = null;\n\t}\n\n\tprotected override async _start(opts: IFindStartOptions): Promise<void> {\n\t\tif (!this._widget) {\n\t\t\tthis._createFindWidget();\n\t\t}\n\n\t\tconst selection = this._editor.getSelection();\n\t\tlet updateSearchScope = false;\n\n\t\tswitch (this._editor.getOption(EditorOption.find).autoFindInSelection) {\n\t\t\tcase 'always':\n\t\t\t\tupdateSearchScope = true;\n\t\t\t\tbreak;\n\t\t\tcase 'never':\n\t\t\t\tupdateSearchScope = false;\n\t\t\t\tbreak;\n\t\t\tcase 'multiline':\n\t\t\t\tconst isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\n\t\t\t\tupdateSearchScope = isSelectionMultipleLine;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\topts.updateSearchScope = updateSearchScope;\n\n\t\tawait super._start(opts);\n\n\t\tif (this._widget) {\n\t\t\tif (opts.shouldFocus === FindStartFocusAction.FocusReplaceInput) {\n\t\t\t\tthis._widget.focusReplaceInput();\n\t\t\t} else if (opts.shouldFocus === FindStartFocusAction.FocusFindInput) {\n\t\t\t\tthis._widget.focusFindInput();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic override highlightFindOptions(ignoreWhenVisible: boolean = false): void {\n\t\tif (!this._widget) {\n\t\t\tthis._createFindWidget();\n\t\t}\n\t\tif (this._state.isRevealed && !ignoreWhenVisible) {\n\t\t\tthis._widget!.highlightFindOptions();\n\t\t} else {\n\t\t\tthis._findOptionsWidget!.highlightFindOptions();\n\t\t}\n\t}\n\n\tprivate _createFindWidget() {\n\t\tthis._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));\n\t\tthis._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService, this._themeService));\n\t}\n\n\tsaveViewState(): any {\n\t\treturn this._widget?.getViewState();\n\t}\n\n\trestoreViewState(state: any): void {\n\t\tthis._widget?.setViewState(state);\n\t}\n}\n\nexport const StartFindAction = registerMultiEditorAction(new MultiEditorAction({\n\tid: FIND_IDS.StartFindAction,\n\tlabel: nls.localize('startFindAction', \"Find\"),\n\talias: 'Find',\n\tprecondition: ContextKeyExpr.or(EditorContextKeys.focus, ContextKeyExpr.has('editorIsOpen')),\n\tkbOpts: {\n\t\tkbExpr: null,\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_F,\n\t\tweight: KeybindingWeight.EditorContrib\n\t},\n\tmenuOpts: {\n\t\tmenuId: MenuId.MenubarEditMenu,\n\t\tgroup: '3_find',\n\t\ttitle: nls.localize({ key: 'miFind', comment: ['&& denotes a mnemonic'] }, \"&&Find\"),\n\t\torder: 1\n\t}\n}));\n\nStartFindAction.addImplementation(0, (accessor: ServicesAccessor, args: any): boolean | Promise<void> => {\n\tconst codeEditorService = accessor.get(ICodeEditorService);\n\tconst editor = codeEditorService.getFocusedCodeEditor() || codeEditorService.getActiveCodeEditor();\n\tif (!editor) {\n\t\treturn false;\n\t}\n\tconst controller = CommonFindController.get(editor);\n\tif (!controller) {\n\t\treturn false;\n\t}\n\treturn controller.start({\n\t\tforceRevealReplace: false,\n\t\tseedSearchStringFromSelection: editor.getOption(EditorOption.find).seedSearchStringFromSelection ? 'single' : 'none',\n\t\tseedSearchStringFromGlobalClipboard: editor.getOption(EditorOption.find).globalFindClipboard,\n\t\tshouldFocus: FindStartFocusAction.FocusFindInput,\n\t\tshouldAnimate: true,\n\t\tupdateSearchScope: false,\n\t\tloop: editor.getOption(EditorOption.find).loop\n\t});\n});\n\nexport class StartFindWithSelectionAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.StartFindWithSelection,\n\t\t\tlabel: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\n\t\t\talias: 'Find With Selection',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: null,\n\t\t\t\tprimary: 0,\n\t\t\t\tmac: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_E,\n\t\t\t\t},\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic async run(accessor: ServicesAccessor | null, editor: ICodeEditor): Promise<void> {\n\t\tlet controller = CommonFindController.get(editor);\n\t\tif (controller) {\n\t\t\tawait controller.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: 'multiple',\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: true,\n\t\t\t\tupdateSearchScope: false,\n\t\t\t\tloop: editor.getOption(EditorOption.find).loop\n\t\t\t});\n\n\t\t\tcontroller.setGlobalBufferTerm(controller.getState().searchString);\n\t\t}\n\t}\n}\nexport abstract class MatchFindAction extends EditorAction {\n\tpublic async run(accessor: ServicesAccessor | null, editor: ICodeEditor): Promise<void> {\n\t\tlet controller = CommonFindController.get(editor);\n\t\tif (controller && !this._run(controller)) {\n\t\t\tawait controller.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getOption(EditorOption.find).seedSearchStringFromSelection ? 'single' : 'none',\n\t\t\t\tseedSearchStringFromGlobalClipboard: true,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: true,\n\t\t\t\tupdateSearchScope: false,\n\t\t\t\tloop: editor.getOption(EditorOption.find).loop\n\t\t\t});\n\t\t\tthis._run(controller);\n\t\t}\n\t}\n\n\tprotected abstract _run(controller: CommonFindController): boolean;\n}\n\nexport class NextMatchFindAction extends MatchFindAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.NextMatchFindAction,\n\t\t\tlabel: nls.localize('findNextMatchAction', \"Find Next\"),\n\t\t\talias: 'Find Next',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.focus,\n\t\t\t\tprimary: KeyCode.F3,\n\t\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyCode.KEY_G, secondary: [KeyCode.F3] },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _run(controller: CommonFindController): boolean {\n\t\tconst result = controller.moveToNextMatch();\n\t\tif (result) {\n\t\t\tcontroller.editor.pushUndoStop();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport class NextMatchFindAction2 extends MatchFindAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.NextMatchFindAction,\n\t\t\tlabel: nls.localize('findNextMatchAction', \"Find Next\"),\n\t\t\talias: 'Find Next',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _run(controller: CommonFindController): boolean {\n\t\tconst result = controller.moveToNextMatch();\n\t\tif (result) {\n\t\t\tcontroller.editor.pushUndoStop();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport class PreviousMatchFindAction extends MatchFindAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.PreviousMatchFindAction,\n\t\t\tlabel: nls.localize('findPreviousMatchAction', \"Find Previous\"),\n\t\t\talias: 'Find Previous',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.focus,\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.F3,\n\t\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KEY_G, secondary: [KeyMod.Shift | KeyCode.F3] },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _run(controller: CommonFindController): boolean {\n\t\treturn controller.moveToPrevMatch();\n\t}\n}\n\nexport class PreviousMatchFindAction2 extends MatchFindAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.PreviousMatchFindAction,\n\t\t\tlabel: nls.localize('findPreviousMatchAction', \"Find Previous\"),\n\t\t\talias: 'Find Previous',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _run(controller: CommonFindController): boolean {\n\t\treturn controller.moveToPrevMatch();\n\t}\n}\n\nexport abstract class SelectionMatchFindAction extends EditorAction {\n\tpublic async run(accessor: ServicesAccessor | null, editor: ICodeEditor): Promise<void> {\n\t\tlet controller = CommonFindController.get(editor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tlet selectionSearchString = getSelectionSearchString(editor);\n\t\tif (selectionSearchString) {\n\t\t\tcontroller.setSearchString(selectionSearchString);\n\t\t}\n\t\tif (!this._run(controller)) {\n\t\t\tawait controller.start({\n\t\t\t\tforceRevealReplace: false,\n\t\t\t\tseedSearchStringFromSelection: editor.getOption(EditorOption.find).seedSearchStringFromSelection ? 'single' : 'none',\n\t\t\t\tseedSearchStringFromGlobalClipboard: false,\n\t\t\t\tshouldFocus: FindStartFocusAction.NoFocusChange,\n\t\t\t\tshouldAnimate: true,\n\t\t\t\tupdateSearchScope: false,\n\t\t\t\tloop: editor.getOption(EditorOption.find).loop\n\t\t\t});\n\t\t\tthis._run(controller);\n\t\t}\n\t}\n\n\tprotected abstract _run(controller: CommonFindController): boolean;\n}\n\nexport class NextSelectionMatchFindAction extends SelectionMatchFindAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.NextSelectionMatchFindAction,\n\t\t\tlabel: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\n\t\t\talias: 'Find Next Selection',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.focus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F3,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _run(controller: CommonFindController): boolean {\n\t\treturn controller.moveToNextMatch();\n\t}\n}\n\nexport class PreviousSelectionMatchFindAction extends SelectionMatchFindAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FIND_IDS.PreviousSelectionMatchFindAction,\n\t\t\tlabel: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\n\t\t\talias: 'Find Previous Selection',\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.focus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F3,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _run(controller: CommonFindController): boolean {\n\t\treturn controller.moveToPrevMatch();\n\t}\n}\n\nexport const StartFindReplaceAction = registerMultiEditorAction(new MultiEditorAction({\n\tid: FIND_IDS.StartFindReplaceAction,\n\tlabel: nls.localize('startReplace', \"Replace\"),\n\talias: 'Replace',\n\tprecondition: ContextKeyExpr.or(EditorContextKeys.focus, ContextKeyExpr.has('editorIsOpen')),\n\tkbOpts: {\n\t\tkbExpr: null,\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_H,\n\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KEY_F },\n\t\tweight: KeybindingWeight.EditorContrib\n\t},\n\tmenuOpts: {\n\t\tmenuId: MenuId.MenubarEditMenu,\n\t\tgroup: '3_find',\n\t\ttitle: nls.localize({ key: 'miReplace', comment: ['&& denotes a mnemonic'] }, \"&&Replace\"),\n\t\torder: 2\n\t}\n}));\n\nStartFindReplaceAction.addImplementation(0, (accessor: ServicesAccessor, args: any): boolean | Promise<void> => {\n\tconst codeEditorService = accessor.get(ICodeEditorService);\n\tconst editor = codeEditorService.getFocusedCodeEditor() || codeEditorService.getActiveCodeEditor();\n\tif (!editor || !editor.hasModel() || editor.getOption(EditorOption.readOnly)) {\n\t\treturn false;\n\t}\n\tconst controller = CommonFindController.get(editor);\n\tif (!controller) {\n\t\treturn false;\n\t}\n\n\tconst currentSelection = editor.getSelection();\n\tconst findInputFocused = controller.isFindInputFocused();\n\t// we only seed search string from selection when the current selection is single line and not empty,\n\t// + the find input is not focused\n\tconst seedSearchStringFromSelection = !currentSelection.isEmpty()\n\t\t&& currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getOption(EditorOption.find).seedSearchStringFromSelection\n\t\t&& !findInputFocused;\n\t/*\n\t* if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.\n\n\t* findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput\n\t* findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput\n\t* findInputFocused false seedSearchStringFromSelection false FocusFindInput\n\t*/\n\tconst shouldFocus = (findInputFocused || seedSearchStringFromSelection) ?\n\t\tFindStartFocusAction.FocusReplaceInput : FindStartFocusAction.FocusFindInput;\n\n\treturn controller.start({\n\t\tforceRevealReplace: true,\n\t\tseedSearchStringFromSelection: seedSearchStringFromSelection ? 'single' : 'none',\n\t\tseedSearchStringFromGlobalClipboard: editor.getOption(EditorOption.find).seedSearchStringFromSelection,\n\t\tshouldFocus: shouldFocus,\n\t\tshouldAnimate: true,\n\t\tupdateSearchScope: false,\n\t\tloop: editor.getOption(EditorOption.find).loop\n\t});\n});\n\nregisterEditorContribution(CommonFindController.ID, FindController);\n\nregisterEditorAction(StartFindWithSelectionAction);\nregisterEditorAction(NextMatchFindAction);\nregisterEditorAction(NextMatchFindAction2);\nregisterEditorAction(PreviousMatchFindAction);\nregisterEditorAction(PreviousMatchFindAction2);\nregisterEditorAction(NextSelectionMatchFindAction);\nregisterEditorAction(PreviousSelectionMatchFindAction);\n\nconst FindCommand = EditorCommand.bindToContribution<CommonFindController>(CommonFindController.get);\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.CloseFindWidgetCommand,\n\tprecondition: CONTEXT_FIND_WIDGET_VISIBLE,\n\thandler: x => x.closeFindWidget(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: ContextKeyExpr.and(EditorContextKeys.focus, ContextKeyExpr.not('isComposing')),\n\t\tprimary: KeyCode.Escape,\n\t\tsecondary: [KeyMod.Shift | KeyCode.Escape]\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ToggleCaseSensitiveCommand,\n\tprecondition: undefined,\n\thandler: x => x.toggleCaseSensitive(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: ToggleCaseSensitiveKeybinding.primary,\n\t\tmac: ToggleCaseSensitiveKeybinding.mac,\n\t\twin: ToggleCaseSensitiveKeybinding.win,\n\t\tlinux: ToggleCaseSensitiveKeybinding.linux\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ToggleWholeWordCommand,\n\tprecondition: undefined,\n\thandler: x => x.toggleWholeWords(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: ToggleWholeWordKeybinding.primary,\n\t\tmac: ToggleWholeWordKeybinding.mac,\n\t\twin: ToggleWholeWordKeybinding.win,\n\t\tlinux: ToggleWholeWordKeybinding.linux\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ToggleRegexCommand,\n\tprecondition: undefined,\n\thandler: x => x.toggleRegex(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: ToggleRegexKeybinding.primary,\n\t\tmac: ToggleRegexKeybinding.mac,\n\t\twin: ToggleRegexKeybinding.win,\n\t\tlinux: ToggleRegexKeybinding.linux\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ToggleSearchScopeCommand,\n\tprecondition: undefined,\n\thandler: x => x.toggleSearchScope(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: ToggleSearchScopeKeybinding.primary,\n\t\tmac: ToggleSearchScopeKeybinding.mac,\n\t\twin: ToggleSearchScopeKeybinding.win,\n\t\tlinux: ToggleSearchScopeKeybinding.linux\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.TogglePreserveCaseCommand,\n\tprecondition: undefined,\n\thandler: x => x.togglePreserveCase(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: TogglePreserveCaseKeybinding.primary,\n\t\tmac: TogglePreserveCaseKeybinding.mac,\n\t\twin: TogglePreserveCaseKeybinding.win,\n\t\tlinux: TogglePreserveCaseKeybinding.linux\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ReplaceOneAction,\n\tprecondition: CONTEXT_FIND_WIDGET_VISIBLE,\n\thandler: x => x.replace(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KEY_1\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ReplaceOneAction,\n\tprecondition: CONTEXT_FIND_WIDGET_VISIBLE,\n\thandler: x => x.replace(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\n\t\tprimary: KeyCode.Enter\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ReplaceAllAction,\n\tprecondition: CONTEXT_FIND_WIDGET_VISIBLE,\n\thandler: x => x.replaceAll(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Enter\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.ReplaceAllAction,\n\tprecondition: CONTEXT_FIND_WIDGET_VISIBLE,\n\thandler: x => x.replaceAll(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\n\t\tprimary: undefined,\n\t\tmac: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\t\t}\n\t}\n}));\n\nregisterEditorCommand(new FindCommand({\n\tid: FIND_IDS.SelectAllMatchesAction,\n\tprecondition: CONTEXT_FIND_WIDGET_VISIBLE,\n\thandler: x => x.selectAllMatches(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib + 5,\n\t\tkbExpr: EditorContextKeys.focus,\n\t\tprimary: KeyMod.Alt | KeyCode.Enter\n\t}\n}));\n"]}