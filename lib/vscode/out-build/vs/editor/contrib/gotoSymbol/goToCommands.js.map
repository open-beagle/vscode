{"version":3,"sources":["vs/editor/contrib/gotoSymbol/goToCommands.ts"],"names":[],"mappings":"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","file":"goToCommands.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from 'vs/base/browser/ui/aria/aria';\nimport { createCancelablePromise, raceCancellation } from 'vs/base/common/async';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { KeyChord, KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { isWeb } from 'vs/base/common/platform';\nimport { ICodeEditor, isCodeEditor, IActiveCodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { EditorAction, IActionOptions, registerInstantiatedEditorAction, ServicesAccessor } from 'vs/editor/browser/editorExtensions';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\nimport * as corePosition from 'vs/editor/common/core/position';\nimport { Range, IRange } from 'vs/editor/common/core/range';\nimport { EditorContextKeys } from 'vs/editor/common/editorContextKeys';\nimport { ITextModel, IWordAtPosition } from 'vs/editor/common/model';\nimport { LocationLink, Location, isLocationLink } from 'vs/editor/common/modes';\nimport { MessageController } from 'vs/editor/contrib/message/messageController';\nimport { PeekContext } from 'vs/editor/contrib/peekView/peekView';\nimport { ReferencesController } from 'vs/editor/contrib/gotoSymbol/peek/referencesController';\nimport { ReferencesModel } from 'vs/editor/contrib/gotoSymbol/referencesModel';\nimport * as nls from 'vs/nls';\nimport { MenuId, MenuRegistry, ISubmenuItem } from 'vs/platform/actions/common/actions';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IEditorProgressService } from 'vs/platform/progress/common/progress';\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition, getReferencesAtPosition } from './goToSymbol';\nimport { CommandsRegistry, ICommandService } from 'vs/platform/commands/common/commands';\nimport { EditorStateCancellationTokenSource, CodeEditorStateFlag } from 'vs/editor/browser/core/editorState';\nimport { ISymbolNavigationService } from 'vs/editor/contrib/gotoSymbol/symbolNavigation';\nimport { EditorOption, GoToLocationValues } from 'vs/editor/common/config/editorOptions';\nimport { isStandalone } from 'vs/base/browser/browser';\nimport { URI } from 'vs/base/common/uri';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ScrollType, IEditorAction } from 'vs/editor/common/editorCommon';\nimport { assertType } from 'vs/base/common/types';\nimport { EmbeddedCodeEditorWidget } from 'vs/editor/browser/widget/embeddedCodeEditorWidget';\nimport { TextEditorSelectionRevealType } from 'vs/platform/editor/common/editor';\n\n\nMenuRegistry.appendMenuItem(MenuId.EditorContext, <ISubmenuItem>{\n\tsubmenu: MenuId.EditorContextPeek,\n\ttitle: nls.localize('peek.submenu', \"Peek\"),\n\tgroup: 'navigation',\n\torder: 100\n});\n\nexport interface SymbolNavigationActionConfig {\n\topenToSide: boolean;\n\topenInPeek: boolean;\n\tmuteMessage: boolean;\n}\n\n\nconst _goToActionIds = new Set<string>();\n\nfunction registerGoToAction<T extends EditorAction>(ctor: { new(): T; }): T {\n\tconst result = new ctor();\n\tregisterInstantiatedEditorAction(result);\n\t_goToActionIds.add(result.id);\n\treturn result;\n}\n\nabstract class SymbolNavigationAction extends EditorAction {\n\n\tprivate readonly _configuration: SymbolNavigationActionConfig;\n\n\tconstructor(configuration: SymbolNavigationActionConfig, opts: IActionOptions) {\n\t\tsuper(opts);\n\t\tthis._configuration = configuration;\n\t}\n\n\trun(accessor: ServicesAccessor, editor: ICodeEditor): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst progressService = accessor.get(IEditorProgressService);\n\t\tconst symbolNavService = accessor.get(ISymbolNavigationService);\n\n\t\tconst model = editor.getModel();\n\t\tconst pos = editor.getPosition();\n\n\t\tconst cts = new EditorStateCancellationTokenSource(editor, CodeEditorStateFlag.Value | CodeEditorStateFlag.Position);\n\n\t\tconst promise = raceCancellation(this._getLocationModel(model, pos, cts.token), cts.token).then(async references => {\n\n\t\t\tif (!references || cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\talert(references.ariaMessage);\n\n\t\t\tlet altAction: IEditorAction | null | undefined;\n\t\t\tif (references.referenceAt(model.uri, pos)) {\n\t\t\t\tconst altActionId = this._getAlternativeCommand(editor);\n\t\t\t\tif (altActionId !== this.id && _goToActionIds.has(altActionId)) {\n\t\t\t\t\taltAction = editor.getAction(altActionId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst referenceCount = references.references.length;\n\n\t\t\tif (referenceCount === 0) {\n\t\t\t\t// no result -> show message\n\t\t\t\tif (!this._configuration.muteMessage) {\n\t\t\t\t\tconst info = model.getWordAtPosition(pos);\n\t\t\t\t\tMessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\n\t\t\t\t}\n\t\t\t} else if (referenceCount === 1 && altAction) {\n\t\t\t\t// already at the only result, run alternative\n\t\t\t\taltAction.run();\n\n\t\t\t} else {\n\t\t\t\t// normal results handling\n\t\t\t\treturn this._onResult(editorService, symbolNavService, editor, references);\n\t\t\t}\n\n\t\t}, (err) => {\n\t\t\t// report an error\n\t\t\tnotificationService.error(err);\n\t\t}).finally(() => {\n\t\t\tcts.dispose();\n\t\t});\n\n\t\tprogressService.showWhile(promise, 250);\n\t\treturn promise;\n\t}\n\n\tprotected abstract _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel | undefined>;\n\n\tprotected abstract _getNoResultFoundMessage(info: IWordAtPosition | null): string;\n\n\tprotected abstract _getAlternativeCommand(editor: IActiveCodeEditor): string;\n\n\tprotected abstract _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues;\n\n\tprivate async _onResult(editorService: ICodeEditorService, symbolNavService: ISymbolNavigationService, editor: IActiveCodeEditor, model: ReferencesModel): Promise<void> {\n\n\t\tconst gotoLocation = this._getGoToPreference(editor);\n\t\tif (!(editor instanceof EmbeddedCodeEditorWidget) && (this._configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) {\n\t\t\tthis._openInPeek(editor, model);\n\n\t\t} else {\n\t\t\tconst next = model.firstReference()!;\n\t\t\tconst peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n\t\t\tconst targetEditor = await this._openReference(editor, editorService, next, this._configuration.openToSide, !peek);\n\t\t\tif (peek && targetEditor) {\n\t\t\t\tthis._openInPeek(targetEditor, model);\n\t\t\t} else {\n\t\t\t\tmodel.dispose();\n\t\t\t}\n\n\t\t\t// keep remaining locations around when using\n\t\t\t// 'goto'-mode\n\t\t\tif (gotoLocation === 'goto') {\n\t\t\t\tsymbolNavService.put(next);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async _openReference(editor: ICodeEditor, editorService: ICodeEditorService, reference: Location | LocationLink, sideBySide: boolean, highlight: boolean): Promise<ICodeEditor | undefined> {\n\t\t// range is the target-selection-range when we have one\n\t\t// and the fallback is the 'full' range\n\t\tlet range: IRange | undefined = undefined;\n\t\tif (isLocationLink(reference)) {\n\t\t\trange = reference.targetSelectionRange;\n\t\t}\n\t\tif (!range) {\n\t\t\trange = reference.range;\n\t\t}\n\t\tif (!range) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst targetEditor = await editorService.openCodeEditor({\n\t\t\tresource: reference.uri,\n\t\t\toptions: {\n\t\t\t\tselection: Range.collapseToStart(range),\n\t\t\t\tselectionRevealType: TextEditorSelectionRevealType.NearTopIfOutsideViewport\n\t\t\t}\n\t\t}, editor, sideBySide);\n\n\t\tif (!targetEditor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (highlight) {\n\t\t\tconst modelNow = targetEditor.getModel();\n\t\t\tconst ids = targetEditor.deltaDecorations([], [{ range, options: { className: 'symbolHighlight' } }]);\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (targetEditor.getModel() === modelNow) {\n\t\t\t\t\ttargetEditor.deltaDecorations(ids, []);\n\t\t\t\t}\n\t\t\t}, 350);\n\t\t}\n\n\t\treturn targetEditor;\n\t}\n\n\tprivate _openInPeek(target: ICodeEditor, model: ReferencesModel) {\n\t\tlet controller = ReferencesController.get(target);\n\t\tif (controller && target.hasModel()) {\n\t\t\tcontroller.toggleWidget(target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this._configuration.openInPeek);\n\t\t} else {\n\t\t\tmodel.dispose();\n\t\t}\n\t}\n}\n\n//#region --- DEFINITION\n\nexport class DefinitionAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getDefinitionsAtPosition(model, position, token), nls.localize('def.title', 'Definitions'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('generic.noResults', \"No definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDefinitions;\n\t}\n}\n\nconst goToDefinitionKb = isWeb && !isStandalone\n\t? KeyMod.CtrlCmd | KeyCode.F12\n\t: KeyCode.F12;\n\nregisterGoToAction(class GoToDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToDefinitionAction.id,\n\t\t\tlabel: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n\t\t\talias: 'Go to Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: goToDefinitionKb,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.1\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tmenuId: MenuId.MenubarGoMenu,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 2,\n\t\t\t\ttitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n\t}\n});\n\nregisterGoToAction(class OpenDefinitionToSideAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinitionAside';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: true,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: OpenDefinitionToSideAction.id,\n\t\t\tlabel: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n\t\t\talias: 'Open Definition to the Side',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KEY_K, goToDefinitionKb),\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n\t}\n});\n\nregisterGoToAction(class PeekDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.peekDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekDefinitionAction.id,\n\t\t\tlabel: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n\t\t\talias: 'Peek Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.F12,\n\t\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F10 },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tmenuId: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 2\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n\t}\n});\n\n//#endregion\n\n//#region --- DECLARATION\n\nclass DeclarationAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getDeclarationsAtPosition(model, position, token), nls.localize('decl.title', 'Declarations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeDeclarationCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDeclarations;\n\t}\n}\n\nregisterGoToAction(class GoToDeclarationAction extends DeclarationAction {\n\n\tstatic readonly id = 'editor.action.revealDeclaration';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToDeclarationAction.id,\n\t\t\tlabel: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n\t\t\talias: 'Go to Declaration',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.3\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tmenuId: MenuId.MenubarGoMenu,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 3,\n\t\t\t\ttitle: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\")\n\t\t\t},\n\t\t});\n\t}\n\n\tprotected override _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n});\n\nregisterGoToAction(class PeekDeclarationAction extends DeclarationAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.peekDeclaration',\n\t\t\tlabel: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n\t\t\talias: 'Peek Declaration',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tcontextMenuOpts: {\n\t\t\t\tmenuId: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 3\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- TYPE DEFINITION\n\nclass TypeDefinitionAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getTypeDefinitionsAtPosition(model, position, token), nls.localize('typedef.title', 'Type Definitions'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeTypeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleTypeDefinitions;\n\t}\n}\n\nregisterGoToAction(class GoToTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.goToTypeDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToTypeDefinitionAction.ID,\n\t\t\tlabel: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n\t\t\talias: 'Go to Type Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: 0,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.4\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tmenuId: MenuId.MenubarGoMenu,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 3,\n\t\t\t\ttitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\n\t\t\t}\n\t\t});\n\t}\n});\n\nregisterGoToAction(class PeekTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.peekTypeDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekTypeDefinitionAction.ID,\n\t\t\tlabel: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n\t\t\talias: 'Peek Type Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tcontextMenuOpts: {\n\t\t\t\tmenuId: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 4\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- IMPLEMENTATION\n\nclass ImplementationAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getImplementationsAtPosition(model, position, token), nls.localize('impl.title', 'Implementations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeImplementationCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleImplementations;\n\t}\n}\n\nregisterGoToAction(class GoToImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.goToImplementation';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToImplementationAction.ID,\n\t\t\tlabel: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\n\t\t\talias: 'Go to Implementations',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tmenuId: MenuId.MenubarGoMenu,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 4,\n\t\t\t\ttitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\")\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.45\n\t\t\t}\n\t\t});\n\t}\n});\n\nregisterGoToAction(class PeekImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.peekImplementation';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekImplementationAction.ID,\n\t\t\tlabel: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\n\t\t\talias: 'Peek Implementations',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tmenuId: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 5\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- REFERENCES\n\nabstract class ReferencesAction extends SymbolNavigationAction {\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info\n\t\t\t? nls.localize('references.no', \"No references found for '{0}'\", info.word)\n\t\t\t: nls.localize('references.noGeneric', \"No references found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeReferenceCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n}\n\nregisterGoToAction(class GoToReferencesAction extends ReferencesAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.goToReferences',\n\t\t\tlabel: nls.localize('goToReferences.label', \"Go to References\"),\n\t\t\talias: 'Go to References',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.45\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tmenuId: MenuId.MenubarGoMenu,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 5,\n\t\t\t\ttitle: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\")\n\t\t\t},\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getReferencesAtPosition(model, position, true, token), nls.localize('ref.title', 'References'));\n\t}\n});\n\nregisterGoToAction(class PeekReferencesAction extends ReferencesAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.referenceSearch.trigger',\n\t\t\tlabel: nls.localize('references.action.label', \"Peek References\"),\n\t\t\talias: 'Peek References',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t\tcontextMenuOpts: {\n\t\t\t\tmenuId: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 6\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getReferencesAtPosition(model, position, false, token), nls.localize('ref.title', 'References'));\n\t}\n});\n\n//#endregion\n\n\n//#region --- GENERIC goto symbols command\n\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n\n\tconstructor(\n\t\tconfig: SymbolNavigationActionConfig,\n\t\tprivate readonly _references: Location[],\n\t\tprivate readonly _gotoMultipleBehaviour: GoToLocationValues | undefined,\n\t) {\n\t\tsuper(config, {\n\t\t\tid: 'editor.action.goToLocation',\n\t\t\tlabel: nls.localize('label.generic', \"Go To Any Symbol\"),\n\t\t\talias: 'Go To Any Symbol',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInWalkThroughSnippet.toNegated()\n\t\t\t),\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(_model: ITextModel, _position: corePosition.Position, _token: CancellationToken): Promise<ReferencesModel | undefined> {\n\t\treturn new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn this._gotoMultipleBehaviour ?? editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n\n\tprotected _getAlternativeCommand() { return ''; }\n}\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.goToLocations',\n\tdescription: {\n\t\tdescription: 'Go to locations from a position in a file',\n\t\targs: [\n\t\t\t{ name: 'uri', description: 'The text document in which to start', constraint: URI },\n\t\t\t{ name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n\t\t\t{ name: 'locations', description: 'An array of locations.', constraint: Array },\n\t\t\t{ name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\n\t\t\t{ name: 'noResultsMessage', description: 'Human readable message that shows when locations is empty.' },\n\t\t]\n\t},\n\thandler: async (accessor: ServicesAccessor, resource: any, position: any, references: any, multiple?: any, noResultsMessage?: string, openInPeek?: boolean) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\t\tassertType(Array.isArray(references));\n\t\tassertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n\t\tassertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst editor = await editorService.openCodeEditor({ resource }, editorService.getFocusedCodeEditor());\n\n\t\tif (isCodeEditor(editor)) {\n\t\t\teditor.setPosition(position);\n\t\t\teditor.revealPositionInCenterIfOutsideViewport(position, ScrollType.Smooth);\n\n\t\t\treturn editor.invokeWithinContext(accessor => {\n\t\t\t\tconst command = new class extends GenericGoToLocationAction {\n\t\t\t\t\toverride _getNoResultFoundMessage(info: IWordAtPosition | null) {\n\t\t\t\t\t\treturn noResultsMessage || super._getNoResultFoundMessage(info);\n\t\t\t\t\t}\n\t\t\t\t}({\n\t\t\t\t\tmuteMessage: !Boolean(noResultsMessage),\n\t\t\t\t\topenInPeek: Boolean(openInPeek),\n\t\t\t\t\topenToSide: false\n\t\t\t\t}, references, multiple as GoToLocationValues);\n\n\t\t\t\taccessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n\t\t\t});\n\t\t}\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.peekLocations',\n\tdescription: {\n\t\tdescription: 'Peek locations from a position in a file',\n\t\targs: [\n\t\t\t{ name: 'uri', description: 'The text document in which to start', constraint: URI },\n\t\t\t{ name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n\t\t\t{ name: 'locations', description: 'An array of locations.', constraint: Array },\n\t\t\t{ name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\n\t\t]\n\t},\n\thandler: async (accessor: ServicesAccessor, resource: any, position: any, references: any, multiple?: any) => {\n\t\taccessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n\t}\n});\n\n//#endregion\n\n\n//#region --- REFERENCE search special commands\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.findReferences',\n\thandler: (accessor: ServicesAccessor, resource: any, position: any) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\treturn codeEditorService.openCodeEditor({ resource }, codeEditorService.getFocusedCodeEditor()).then(control => {\n\t\t\tif (!isCodeEditor(control) || !control.hasModel()) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst controller = ReferencesController.get(control);\n\t\t\tif (!controller) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst references = createCancelablePromise(token => getReferencesAtPosition(control.getModel(), corePosition.Position.lift(position), false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n\t\t\tconst range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n\t\t\treturn Promise.resolve(controller.toggleWidget(range, references, false));\n\t\t});\n\t}\n});\n\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n\n//#endregion\n"]}