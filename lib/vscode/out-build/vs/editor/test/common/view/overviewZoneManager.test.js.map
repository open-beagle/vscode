{"version":3,"file":"overviewZoneManager.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/editor/test/common/view/overviewZoneManager.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { ColorZone, OverviewRulerZone, OverviewZoneManager } from 'vs/editor/common/view/overviewZoneManager';\n\nsuite('Editor View - OverviewZoneManager', () => {\n\n\ttest('pixel ratio 1, dom height 600', () => {\n\t\tconst LINE_COUNT = 50;\n\t\tconst LINE_HEIGHT = 20;\n\t\tlet manager = new OverviewZoneManager((lineNumber) => LINE_HEIGHT * lineNumber);\n\t\tmanager.setDOMWidth(30);\n\t\tmanager.setDOMHeight(600);\n\t\tmanager.setOuterHeight(LINE_COUNT * LINE_HEIGHT);\n\t\tmanager.setLineHeight(LINE_HEIGHT);\n\t\tmanager.setPixelRatio(1);\n\n\t\tmanager.setZones([\n\t\t\tnew OverviewRulerZone(1, 1, '1'),\n\t\t\tnew OverviewRulerZone(10, 10, '2'),\n\t\t\tnew OverviewRulerZone(30, 31, '3'),\n\t\t\tnew OverviewRulerZone(50, 50, '4'),\n\t\t]);\n\n\t\t// one line = 12, but cap is at 6\n\t\tassert.deepStrictEqual(manager.resolveColorZones(), [\n\t\t\tnew ColorZone(12, 24, 1), //\n\t\t\tnew ColorZone(120, 132, 2), // 120 -> 132\n\t\t\tnew ColorZone(360, 384, 3), // 360 -> 372 [360 -> 384]\n\t\t\tnew ColorZone(588, 600, 4), // 588 -> 600\n\t\t]);\n\t});\n\n\ttest('pixel ratio 1, dom height 300', () => {\n\t\tconst LINE_COUNT = 50;\n\t\tconst LINE_HEIGHT = 20;\n\t\tlet manager = new OverviewZoneManager((lineNumber) => LINE_HEIGHT * lineNumber);\n\t\tmanager.setDOMWidth(30);\n\t\tmanager.setDOMHeight(300);\n\t\tmanager.setOuterHeight(LINE_COUNT * LINE_HEIGHT);\n\t\tmanager.setLineHeight(LINE_HEIGHT);\n\t\tmanager.setPixelRatio(1);\n\n\t\tmanager.setZones([\n\t\t\tnew OverviewRulerZone(1, 1, '1'),\n\t\t\tnew OverviewRulerZone(10, 10, '2'),\n\t\t\tnew OverviewRulerZone(30, 31, '3'),\n\t\t\tnew OverviewRulerZone(50, 50, '4'),\n\t\t]);\n\n\t\t// one line = 6, cap is at 6\n\t\tassert.deepStrictEqual(manager.resolveColorZones(), [\n\t\t\tnew ColorZone(6, 12, 1), //\n\t\t\tnew ColorZone(60, 66, 2), // 60 -> 66\n\t\t\tnew ColorZone(180, 192, 3), // 180 -> 192\n\t\t\tnew ColorZone(294, 300, 4), // 294 -> 300\n\t\t]);\n\t});\n\n\ttest('pixel ratio 2, dom height 300', () => {\n\t\tconst LINE_COUNT = 50;\n\t\tconst LINE_HEIGHT = 20;\n\t\tlet manager = new OverviewZoneManager((lineNumber) => LINE_HEIGHT * lineNumber);\n\t\tmanager.setDOMWidth(30);\n\t\tmanager.setDOMHeight(300);\n\t\tmanager.setOuterHeight(LINE_COUNT * LINE_HEIGHT);\n\t\tmanager.setLineHeight(LINE_HEIGHT);\n\t\tmanager.setPixelRatio(2);\n\n\t\tmanager.setZones([\n\t\t\tnew OverviewRulerZone(1, 1, '1'),\n\t\t\tnew OverviewRulerZone(10, 10, '2'),\n\t\t\tnew OverviewRulerZone(30, 31, '3'),\n\t\t\tnew OverviewRulerZone(50, 50, '4'),\n\t\t]);\n\n\t\t// one line = 6, cap is at 12\n\t\tassert.deepStrictEqual(manager.resolveColorZones(), [\n\t\t\tnew ColorZone(12, 24, 1), //\n\t\t\tnew ColorZone(120, 132, 2), // 120 -> 132\n\t\t\tnew ColorZone(360, 384, 3), // 360 -> 384\n\t\t\tnew ColorZone(588, 600, 4), // 588 -> 600\n\t\t]);\n\t});\n});\n"]}