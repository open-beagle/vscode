{"version":3,"sources":["vs/editor/browser/widget/codeEditorWidget.ts"],"names":[],"mappings":"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","file":"codeEditorWidget.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/editor/browser/services/markerDecorations';\n\nimport 'vs/css!./media/editor';\nimport * as nls from 'vs/nls';\nimport * as dom from 'vs/base/browser/dom';\nimport { IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { IMouseEvent, IMouseWheelEvent } from 'vs/base/browser/mouseEvent';\nimport { Color } from 'vs/base/common/color';\nimport { onUnexpectedError } from 'vs/base/common/errors';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { hash } from 'vs/base/common/hash';\nimport { Disposable, IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport { Schemas } from 'vs/base/common/network';\nimport { Configuration } from 'vs/editor/browser/config/configuration';\nimport * as editorBrowser from 'vs/editor/browser/editorBrowser';\nimport { EditorExtensionsRegistry, IEditorContributionDescription } from 'vs/editor/browser/editorExtensions';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\nimport { ICommandDelegate } from 'vs/editor/browser/view/viewController';\nimport { IContentWidgetData, IOverlayWidgetData, View } from 'vs/editor/browser/view/viewImpl';\nimport { ViewUserInputEvents } from 'vs/editor/browser/view/viewUserInputEvents';\nimport { ConfigurationChangedEvent, EditorLayoutInfo, IEditorOptions, EditorOption, IComputedEditorOptions, FindComputedEditorOptionValueById, filterValidationDecorations } from 'vs/editor/common/config/editorOptions';\nimport { Cursor } from 'vs/editor/common/controller/cursor';\nimport { CursorColumns } from 'vs/editor/common/controller/cursorCommon';\nimport { CursorChangeReason, ICursorPositionChangedEvent, ICursorSelectionChangedEvent } from 'vs/editor/common/controller/cursorEvents';\nimport { IPosition, Position } from 'vs/editor/common/core/position';\nimport { IRange, Range } from 'vs/editor/common/core/range';\nimport { ISelection, Selection } from 'vs/editor/common/core/selection';\nimport { InternalEditorAction } from 'vs/editor/common/editorAction';\nimport * as editorCommon from 'vs/editor/common/editorCommon';\nimport { EditorContextKeys } from 'vs/editor/common/editorContextKeys';\nimport { EndOfLinePreference, IIdentifiedSingleEditOperation, IModelDecoration, IModelDecorationOptions, IModelDecorationsChangeAccessor, IModelDeltaDecoration, ITextModel, ICursorStateComputer, IWordAtPosition } from 'vs/editor/common/model';\nimport { ClassName } from 'vs/editor/common/model/intervalTree';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { IModelContentChangedEvent, IModelDecorationsChangedEvent, IModelLanguageChangedEvent, IModelLanguageConfigurationChangedEvent, IModelOptionsChangedEvent } from 'vs/editor/common/model/textModelEvents';\nimport * as modes from 'vs/editor/common/modes';\nimport { editorUnnecessaryCodeBorder, editorUnnecessaryCodeOpacity } from 'vs/editor/common/view/editorColorRegistry';\nimport { editorErrorBorder, editorErrorForeground, editorHintBorder, editorHintForeground, editorInfoBorder, editorInfoForeground, editorWarningBorder, editorWarningForeground, editorForeground, editorErrorBackground, editorInfoBackground, editorWarningBackground } from 'vs/platform/theme/common/colorRegistry';\nimport { VerticalRevealType } from 'vs/editor/common/view/viewEvents';\nimport { IEditorWhitespace } from 'vs/editor/common/viewLayout/linesLayout';\nimport { ViewModel } from 'vs/editor/common/viewModel/viewModelImpl';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { ServiceCollection } from 'vs/platform/instantiation/common/serviceCollection';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IThemeService, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { IAccessibilityService } from 'vs/platform/accessibility/common/accessibility';\nimport { withNullAsUndefined } from 'vs/base/common/types';\nimport { MonospaceLineBreaksComputerFactory } from 'vs/editor/common/viewModel/monospaceLineBreaksComputer';\nimport { DOMLineBreaksComputerFactory } from 'vs/editor/browser/view/domLineBreaksComputer';\nimport { WordOperations } from 'vs/editor/common/controller/cursorWordOperations';\nimport { IViewModel } from 'vs/editor/common/viewModel/viewModel';\nimport { OutgoingViewModelEventKind } from 'vs/editor/common/viewModel/viewModelEventDispatcher';\n\nlet EDITOR_ID = 0;\n\nexport interface ICodeEditorWidgetOptions {\n\t/**\n\t * Is this a simple widget (not a real code editor) ?\n\t * Defaults to false.\n\t */\n\tisSimpleWidget?: boolean;\n\n\t/**\n\t * Contributions to instantiate.\n\t * Defaults to EditorExtensionsRegistry.getEditorContributions().\n\t */\n\tcontributions?: IEditorContributionDescription[];\n\n\t/**\n\t * Telemetry data associated with this CodeEditorWidget.\n\t * Defaults to null.\n\t */\n\ttelemetryData?: object;\n}\n\nclass ModelData {\n\tpublic readonly model: ITextModel;\n\tpublic readonly viewModel: ViewModel;\n\tpublic readonly view: View;\n\tpublic readonly hasRealView: boolean;\n\tpublic readonly listenersToRemove: IDisposable[];\n\n\tconstructor(model: ITextModel, viewModel: ViewModel, view: View, hasRealView: boolean, listenersToRemove: IDisposable[]) {\n\t\tthis.model = model;\n\t\tthis.viewModel = viewModel;\n\t\tthis.view = view;\n\t\tthis.hasRealView = hasRealView;\n\t\tthis.listenersToRemove = listenersToRemove;\n\t}\n\n\tpublic dispose(): void {\n\t\tdispose(this.listenersToRemove);\n\t\tthis.model.onBeforeDetached();\n\t\tif (this.hasRealView) {\n\t\t\tthis.view.dispose();\n\t\t}\n\t\tthis.viewModel.dispose();\n\t}\n}\n\nexport class CodeEditorWidget extends Disposable implements editorBrowser.ICodeEditor {\n\n\t//#region Eventing\n\tprivate readonly _onDidDispose: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidDispose: Event<void> = this._onDidDispose.event;\n\n\tprivate readonly _onDidChangeModelContent: Emitter<IModelContentChangedEvent> = this._register(new Emitter<IModelContentChangedEvent>());\n\tpublic readonly onDidChangeModelContent: Event<IModelContentChangedEvent> = this._onDidChangeModelContent.event;\n\n\tprivate readonly _onDidChangeModelLanguage: Emitter<IModelLanguageChangedEvent> = this._register(new Emitter<IModelLanguageChangedEvent>());\n\tpublic readonly onDidChangeModelLanguage: Event<IModelLanguageChangedEvent> = this._onDidChangeModelLanguage.event;\n\n\tprivate readonly _onDidChangeModelLanguageConfiguration: Emitter<IModelLanguageConfigurationChangedEvent> = this._register(new Emitter<IModelLanguageConfigurationChangedEvent>());\n\tpublic readonly onDidChangeModelLanguageConfiguration: Event<IModelLanguageConfigurationChangedEvent> = this._onDidChangeModelLanguageConfiguration.event;\n\n\tprivate readonly _onDidChangeModelOptions: Emitter<IModelOptionsChangedEvent> = this._register(new Emitter<IModelOptionsChangedEvent>());\n\tpublic readonly onDidChangeModelOptions: Event<IModelOptionsChangedEvent> = this._onDidChangeModelOptions.event;\n\n\tprivate readonly _onDidChangeModelDecorations: Emitter<IModelDecorationsChangedEvent> = this._register(new Emitter<IModelDecorationsChangedEvent>());\n\tpublic readonly onDidChangeModelDecorations: Event<IModelDecorationsChangedEvent> = this._onDidChangeModelDecorations.event;\n\n\tprivate readonly _onDidChangeConfiguration: Emitter<ConfigurationChangedEvent> = this._register(new Emitter<ConfigurationChangedEvent>());\n\tpublic readonly onDidChangeConfiguration: Event<ConfigurationChangedEvent> = this._onDidChangeConfiguration.event;\n\n\tprotected readonly _onDidChangeModel: Emitter<editorCommon.IModelChangedEvent> = this._register(new Emitter<editorCommon.IModelChangedEvent>());\n\tpublic readonly onDidChangeModel: Event<editorCommon.IModelChangedEvent> = this._onDidChangeModel.event;\n\n\tprivate readonly _onDidChangeCursorPosition: Emitter<ICursorPositionChangedEvent> = this._register(new Emitter<ICursorPositionChangedEvent>());\n\tpublic readonly onDidChangeCursorPosition: Event<ICursorPositionChangedEvent> = this._onDidChangeCursorPosition.event;\n\n\tprivate readonly _onDidChangeCursorSelection: Emitter<ICursorSelectionChangedEvent> = this._register(new Emitter<ICursorSelectionChangedEvent>());\n\tpublic readonly onDidChangeCursorSelection: Event<ICursorSelectionChangedEvent> = this._onDidChangeCursorSelection.event;\n\n\tprivate readonly _onDidAttemptReadOnlyEdit: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidAttemptReadOnlyEdit: Event<void> = this._onDidAttemptReadOnlyEdit.event;\n\n\tprivate readonly _onDidLayoutChange: Emitter<EditorLayoutInfo> = this._register(new Emitter<EditorLayoutInfo>());\n\tpublic readonly onDidLayoutChange: Event<EditorLayoutInfo> = this._onDidLayoutChange.event;\n\n\tprivate readonly _editorTextFocus: BooleanEventEmitter = this._register(new BooleanEventEmitter());\n\tpublic readonly onDidFocusEditorText: Event<void> = this._editorTextFocus.onDidChangeToTrue;\n\tpublic readonly onDidBlurEditorText: Event<void> = this._editorTextFocus.onDidChangeToFalse;\n\n\tprivate readonly _editorWidgetFocus: BooleanEventEmitter = this._register(new BooleanEventEmitter());\n\tpublic readonly onDidFocusEditorWidget: Event<void> = this._editorWidgetFocus.onDidChangeToTrue;\n\tpublic readonly onDidBlurEditorWidget: Event<void> = this._editorWidgetFocus.onDidChangeToFalse;\n\n\tprivate readonly _onWillType: Emitter<string> = this._register(new Emitter<string>());\n\tpublic readonly onWillType = this._onWillType.event;\n\n\tprivate readonly _onDidType: Emitter<string> = this._register(new Emitter<string>());\n\tpublic readonly onDidType = this._onDidType.event;\n\n\tprivate readonly _onDidCompositionStart: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidCompositionStart = this._onDidCompositionStart.event;\n\n\tprivate readonly _onDidCompositionEnd: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidCompositionEnd = this._onDidCompositionEnd.event;\n\n\tprivate readonly _onDidPaste: Emitter<editorBrowser.IPasteEvent> = this._register(new Emitter<editorBrowser.IPasteEvent>());\n\tpublic readonly onDidPaste = this._onDidPaste.event;\n\n\tprivate readonly _onMouseUp: Emitter<editorBrowser.IEditorMouseEvent> = this._register(new Emitter<editorBrowser.IEditorMouseEvent>());\n\tpublic readonly onMouseUp: Event<editorBrowser.IEditorMouseEvent> = this._onMouseUp.event;\n\n\tprivate readonly _onMouseDown: Emitter<editorBrowser.IEditorMouseEvent> = this._register(new Emitter<editorBrowser.IEditorMouseEvent>());\n\tpublic readonly onMouseDown: Event<editorBrowser.IEditorMouseEvent> = this._onMouseDown.event;\n\n\tprivate readonly _onMouseDrag: Emitter<editorBrowser.IEditorMouseEvent> = this._register(new Emitter<editorBrowser.IEditorMouseEvent>());\n\tpublic readonly onMouseDrag: Event<editorBrowser.IEditorMouseEvent> = this._onMouseDrag.event;\n\n\tprivate readonly _onMouseDrop: Emitter<editorBrowser.IPartialEditorMouseEvent> = this._register(new Emitter<editorBrowser.IPartialEditorMouseEvent>());\n\tpublic readonly onMouseDrop: Event<editorBrowser.IPartialEditorMouseEvent> = this._onMouseDrop.event;\n\n\tprivate readonly _onMouseDropCanceled: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onMouseDropCanceled: Event<void> = this._onMouseDropCanceled.event;\n\n\tprivate readonly _onContextMenu: Emitter<editorBrowser.IEditorMouseEvent> = this._register(new Emitter<editorBrowser.IEditorMouseEvent>());\n\tpublic readonly onContextMenu: Event<editorBrowser.IEditorMouseEvent> = this._onContextMenu.event;\n\n\tprivate readonly _onMouseMove: Emitter<editorBrowser.IEditorMouseEvent> = this._register(new Emitter<editorBrowser.IEditorMouseEvent>());\n\tpublic readonly onMouseMove: Event<editorBrowser.IEditorMouseEvent> = this._onMouseMove.event;\n\n\tprivate readonly _onMouseLeave: Emitter<editorBrowser.IPartialEditorMouseEvent> = this._register(new Emitter<editorBrowser.IPartialEditorMouseEvent>());\n\tpublic readonly onMouseLeave: Event<editorBrowser.IPartialEditorMouseEvent> = this._onMouseLeave.event;\n\n\tprivate readonly _onMouseWheel: Emitter<IMouseWheelEvent> = this._register(new Emitter<IMouseWheelEvent>());\n\tpublic readonly onMouseWheel: Event<IMouseWheelEvent> = this._onMouseWheel.event;\n\n\tprivate readonly _onKeyUp: Emitter<IKeyboardEvent> = this._register(new Emitter<IKeyboardEvent>());\n\tpublic readonly onKeyUp: Event<IKeyboardEvent> = this._onKeyUp.event;\n\n\tprivate readonly _onKeyDown: Emitter<IKeyboardEvent> = this._register(new Emitter<IKeyboardEvent>());\n\tpublic readonly onKeyDown: Event<IKeyboardEvent> = this._onKeyDown.event;\n\n\tprivate readonly _onDidContentSizeChange: Emitter<editorCommon.IContentSizeChangedEvent> = this._register(new Emitter<editorCommon.IContentSizeChangedEvent>());\n\tpublic readonly onDidContentSizeChange: Event<editorCommon.IContentSizeChangedEvent> = this._onDidContentSizeChange.event;\n\n\tprivate readonly _onDidScrollChange: Emitter<editorCommon.IScrollEvent> = this._register(new Emitter<editorCommon.IScrollEvent>());\n\tpublic readonly onDidScrollChange: Event<editorCommon.IScrollEvent> = this._onDidScrollChange.event;\n\n\tprivate readonly _onDidChangeViewZones: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeViewZones: Event<void> = this._onDidChangeViewZones.event;\n\t//#endregion\n\n\tpublic readonly isSimpleWidget: boolean;\n\tprivate readonly _telemetryData?: object;\n\n\tprivate readonly _domElement: HTMLElement;\n\tprivate readonly _overflowWidgetsDomNode: HTMLElement | undefined;\n\tprivate readonly _id: number;\n\tprivate readonly _configuration: editorCommon.IConfiguration;\n\n\tprotected readonly _contributions: { [key: string]: editorCommon.IEditorContribution; };\n\tprotected readonly _actions: { [key: string]: editorCommon.IEditorAction; };\n\n\t// --- Members logically associated to a model\n\tprotected _modelData: ModelData | null;\n\n\tprotected readonly _instantiationService: IInstantiationService;\n\tprotected readonly _contextKeyService: IContextKeyService;\n\tprivate readonly _notificationService: INotificationService;\n\tprivate readonly _codeEditorService: ICodeEditorService;\n\tprivate readonly _commandService: ICommandService;\n\tprivate readonly _themeService: IThemeService;\n\n\tprivate readonly _focusTracker: CodeEditorWidgetFocusTracker;\n\n\tprivate readonly _contentWidgets: { [key: string]: IContentWidgetData; };\n\tprivate readonly _overlayWidgets: { [key: string]: IOverlayWidgetData; };\n\n\t/**\n\t * map from \"parent\" decoration type to live decoration ids.\n\t */\n\tprivate _decorationTypeKeysToIds: { [decorationTypeKey: string]: string[] };\n\tprivate _decorationTypeSubtypes: { [decorationTypeKey: string]: { [subtype: string]: boolean } };\n\n\tconstructor(\n\t\tdomElement: HTMLElement,\n\t\t_options: Readonly<editorBrowser.IEditorConstructionOptions>,\n\t\tcodeEditorWidgetOptions: ICodeEditorWidgetOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IAccessibilityService accessibilityService: IAccessibilityService\n\t) {\n\t\tsuper();\n\n\t\tconst options = { ..._options };\n\n\t\tthis._domElement = domElement;\n\t\tthis._overflowWidgetsDomNode = options.overflowWidgetsDomNode;\n\t\tdelete options.overflowWidgetsDomNode;\n\t\tthis._id = (++EDITOR_ID);\n\t\tthis._decorationTypeKeysToIds = {};\n\t\tthis._decorationTypeSubtypes = {};\n\t\tthis.isSimpleWidget = codeEditorWidgetOptions.isSimpleWidget || false;\n\t\tthis._telemetryData = codeEditorWidgetOptions.telemetryData;\n\n\t\tthis._configuration = this._register(this._createConfiguration(options, accessibilityService));\n\t\tthis._register(this._configuration.onDidChange((e) => {\n\t\t\tthis._onDidChangeConfiguration.fire(e);\n\n\t\t\tconst options = this._configuration.options;\n\t\t\tif (e.hasChanged(EditorOption.layoutInfo)) {\n\t\t\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\t\t\tthis._onDidLayoutChange.fire(layoutInfo);\n\t\t\t}\n\t\t}));\n\n\t\tthis._contextKeyService = this._register(contextKeyService.createScoped(this._domElement));\n\t\tthis._notificationService = notificationService;\n\t\tthis._codeEditorService = codeEditorService;\n\t\tthis._commandService = commandService;\n\t\tthis._themeService = themeService;\n\t\tthis._register(new EditorContextKeysManager(this, this._contextKeyService));\n\t\tthis._register(new EditorModeContext(this, this._contextKeyService));\n\n\t\tthis._instantiationService = instantiationService.createChild(new ServiceCollection([IContextKeyService, this._contextKeyService]));\n\n\t\tthis._modelData = null;\n\n\t\tthis._contributions = {};\n\t\tthis._actions = {};\n\n\t\tthis._focusTracker = new CodeEditorWidgetFocusTracker(domElement);\n\t\tthis._focusTracker.onChange(() => {\n\t\t\tthis._editorWidgetFocus.setValue(this._focusTracker.hasFocus());\n\t\t});\n\n\t\tthis._contentWidgets = {};\n\t\tthis._overlayWidgets = {};\n\n\t\tlet contributions: IEditorContributionDescription[];\n\t\tif (Array.isArray(codeEditorWidgetOptions.contributions)) {\n\t\t\tcontributions = codeEditorWidgetOptions.contributions;\n\t\t} else {\n\t\t\tcontributions = EditorExtensionsRegistry.getEditorContributions();\n\t\t}\n\t\tfor (const desc of contributions) {\n\t\t\ttry {\n\t\t\t\tconst contribution = this._instantiationService.createInstance(desc.ctor, this);\n\t\t\t\tthis._contributions[desc.id] = contribution;\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\n\t\tEditorExtensionsRegistry.getEditorActions().forEach((action) => {\n\t\t\tconst internalAction = new InternalEditorAction(\n\t\t\t\taction.id,\n\t\t\t\taction.label,\n\t\t\t\taction.alias,\n\t\t\t\twithNullAsUndefined(action.precondition),\n\t\t\t\t(): Promise<void> => {\n\t\t\t\t\treturn this._instantiationService.invokeFunction((accessor) => {\n\t\t\t\t\t\treturn Promise.resolve(action.runEditorCommand(accessor, this, null));\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tthis._contextKeyService\n\t\t\t);\n\t\t\tthis._actions[internalAction.id] = internalAction;\n\t\t});\n\n\t\tthis._codeEditorService.addCodeEditor(this);\n\t}\n\n\tprotected _createConfiguration(options: Readonly<editorBrowser.IEditorConstructionOptions>, accessibilityService: IAccessibilityService): editorCommon.IConfiguration {\n\t\treturn new Configuration(this.isSimpleWidget, options, this._domElement, accessibilityService);\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.getEditorType() + ':' + this._id;\n\t}\n\n\tpublic getEditorType(): string {\n\t\treturn editorCommon.EditorType.ICodeEditor;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._codeEditorService.removeCodeEditor(this);\n\n\t\tthis._focusTracker.dispose();\n\n\t\tconst keys = Object.keys(this._contributions);\n\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\tconst contributionId = keys[i];\n\t\t\tthis._contributions[contributionId].dispose();\n\t\t}\n\n\t\tthis._removeDecorationTypes();\n\t\tthis._postDetachModelCleanup(this._detachModel());\n\n\t\tthis._onDidDispose.fire();\n\n\t\tsuper.dispose();\n\t}\n\n\tpublic invokeWithinContext<T>(fn: (accessor: ServicesAccessor) => T): T {\n\t\treturn this._instantiationService.invokeFunction(fn);\n\t}\n\n\tpublic updateOptions(newOptions: Readonly<IEditorOptions>): void {\n\t\tthis._configuration.updateOptions(newOptions);\n\t}\n\n\tpublic getOptions(): IComputedEditorOptions {\n\t\treturn this._configuration.options;\n\t}\n\n\tpublic getOption<T extends EditorOption>(id: T): FindComputedEditorOptionValueById<T> {\n\t\treturn this._configuration.options.get(id);\n\t}\n\n\tpublic getRawOptions(): IEditorOptions {\n\t\treturn this._configuration.getRawOptions();\n\t}\n\n\tpublic getOverflowWidgetsDomNode(): HTMLElement | undefined {\n\t\treturn this._overflowWidgetsDomNode;\n\t}\n\n\tpublic getConfiguredWordAtPosition(position: Position): IWordAtPosition | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn WordOperations.getWordAtPosition(this._modelData.model, this._configuration.options.get(EditorOption.wordSeparators), position);\n\t}\n\n\tpublic getValue(options: { preserveBOM: boolean; lineEnding: string; } | null = null): string {\n\t\tif (!this._modelData) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst preserveBOM: boolean = (options && options.preserveBOM) ? true : false;\n\t\tlet eolPreference = EndOfLinePreference.TextDefined;\n\t\tif (options && options.lineEnding && options.lineEnding === '\\n') {\n\t\t\teolPreference = EndOfLinePreference.LF;\n\t\t} else if (options && options.lineEnding && options.lineEnding === '\\r\\n') {\n\t\t\teolPreference = EndOfLinePreference.CRLF;\n\t\t}\n\t\treturn this._modelData.model.getValue(eolPreference, preserveBOM);\n\t}\n\n\tpublic setValue(newValue: string): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.model.setValue(newValue);\n\t}\n\n\tpublic getModel(): ITextModel | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model;\n\t}\n\n\tpublic setModel(_model: ITextModel | editorCommon.IDiffEditorModel | null = null): void {\n\t\tconst model = <ITextModel | null>_model;\n\t\tif (this._modelData === null && model === null) {\n\t\t\t// Current model is the new model\n\t\t\treturn;\n\t\t}\n\t\tif (this._modelData && this._modelData.model === model) {\n\t\t\t// Current model is the new model\n\t\t\treturn;\n\t\t}\n\t\tconst hasTextFocus = this.hasTextFocus();\n\t\tconst detachedModel = this._detachModel();\n\t\tthis._attachModel(model);\n\t\tif (hasTextFocus && this.hasModel()) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tconst e: editorCommon.IModelChangedEvent = {\n\t\t\toldModelUrl: detachedModel ? detachedModel.uri : null,\n\t\t\tnewModelUrl: model ? model.uri : null\n\t\t};\n\n\t\tthis._removeDecorationTypes();\n\t\tthis._onDidChangeModel.fire(e);\n\t\tthis._postDetachModelCleanup(detachedModel);\n\t}\n\n\tprivate _removeDecorationTypes(): void {\n\t\tthis._decorationTypeKeysToIds = {};\n\t\tif (this._decorationTypeSubtypes) {\n\t\t\tfor (let decorationType in this._decorationTypeSubtypes) {\n\t\t\t\tconst subTypes = this._decorationTypeSubtypes[decorationType];\n\t\t\t\tfor (let subType in subTypes) {\n\t\t\t\t\tthis._removeDecorationType(decorationType + '-' + subType);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._decorationTypeSubtypes = {};\n\t\t}\n\t}\n\n\tpublic getVisibleRanges(): Range[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this._modelData.viewModel.getVisibleRanges();\n\t}\n\n\tpublic getVisibleRangesPlusViewportAboveBelow(): Range[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow();\n\t}\n\n\tpublic getWhitespaces(): IEditorWhitespace[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getWhitespaces();\n\t}\n\n\tprivate static _getVerticalOffsetForPosition(modelData: ModelData, modelLineNumber: number, modelColumn: number): number {\n\t\tconst modelPosition = modelData.model.validatePosition({\n\t\t\tlineNumber: modelLineNumber,\n\t\t\tcolumn: modelColumn\n\t\t});\n\t\tconst viewPosition = modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n\t\treturn modelData.viewModel.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);\n\t}\n\n\tpublic getTopForLineNumber(lineNumber: number): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn CodeEditorWidget._getVerticalOffsetForPosition(this._modelData, lineNumber, 1);\n\t}\n\n\tpublic getTopForPosition(lineNumber: number, column: number): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn CodeEditorWidget._getVerticalOffsetForPosition(this._modelData, lineNumber, column);\n\t}\n\n\tpublic setHiddenAreas(ranges: IRange[]): void {\n\t\tif (this._modelData) {\n\t\t\tthis._modelData.viewModel.setHiddenAreas(ranges.map(r => Range.lift(r)));\n\t\t}\n\t}\n\n\tpublic getVisibleColumnFromPosition(rawPosition: IPosition): number {\n\t\tif (!this._modelData) {\n\t\t\treturn rawPosition.column;\n\t\t}\n\n\t\tconst position = this._modelData.model.validatePosition(rawPosition);\n\t\tconst tabSize = this._modelData.model.getOptions().tabSize;\n\n\t\treturn CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(position.lineNumber), position.column, tabSize) + 1;\n\t}\n\n\tpublic getStatusbarColumn(rawPosition: IPosition): number {\n\t\tif (!this._modelData) {\n\t\t\treturn rawPosition.column;\n\t\t}\n\n\t\tconst position = this._modelData.model.validatePosition(rawPosition);\n\t\tconst tabSize = this._modelData.model.getOptions().tabSize;\n\n\t\treturn CursorColumns.toStatusbarColumn(this._modelData.model.getLineContent(position.lineNumber), position.column, tabSize);\n\t}\n\n\tpublic getPosition(): Position | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel.getPosition();\n\t}\n\n\tpublic setPosition(position: IPosition): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (!Position.isIPosition(position)) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis._modelData.viewModel.setSelections('api', [{\n\t\t\tselectionStartLineNumber: position.lineNumber,\n\t\t\tselectionStartColumn: position.column,\n\t\t\tpositionLineNumber: position.lineNumber,\n\t\t\tpositionColumn: position.column\n\t\t}]);\n\t}\n\n\tprivate _sendRevealRange(modelRange: Range, verticalType: VerticalRevealType, revealHorizontal: boolean, scrollType: editorCommon.ScrollType): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (!Range.isIRange(modelRange)) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tconst validatedModelRange = this._modelData.model.validateRange(modelRange);\n\t\tconst viewRange = this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(validatedModelRange);\n\n\t\tthis._modelData.viewModel.revealRange('api', revealHorizontal, viewRange, verticalType, scrollType);\n\t}\n\n\tpublic revealLine(lineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.Simple, scrollType);\n\t}\n\n\tpublic revealLineInCenter(lineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.Center, scrollType);\n\t}\n\n\tpublic revealLineInCenterIfOutsideViewport(lineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.CenterIfOutsideViewport, scrollType);\n\t}\n\n\tpublic revealLineNearTop(lineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLine(lineNumber, VerticalRevealType.NearTop, scrollType);\n\t}\n\n\tprivate _revealLine(lineNumber: number, revealType: VerticalRevealType, scrollType: editorCommon.ScrollType): void {\n\t\tif (typeof lineNumber !== 'number') {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tnew Range(lineNumber, 1, lineNumber, 1),\n\t\t\trevealType,\n\t\t\tfalse,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealPosition(position: IPosition, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.Simple,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealPositionInCenter(position: IPosition, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.Center,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealPositionInCenterIfOutsideViewport(position: IPosition, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealPositionNearTop(position: IPosition, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealPosition(\n\t\t\tposition,\n\t\t\tVerticalRevealType.NearTop,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tprivate _revealPosition(position: IPosition, verticalType: VerticalRevealType, revealHorizontal: boolean, scrollType: editorCommon.ScrollType): void {\n\t\tif (!Position.isIPosition(position)) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tnew Range(position.lineNumber, position.column, position.lineNumber, position.column),\n\t\t\tverticalType,\n\t\t\trevealHorizontal,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic getSelection(): Selection | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel.getSelection();\n\t}\n\n\tpublic getSelections(): Selection[] | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel.getSelections();\n\t}\n\n\tpublic setSelection(range: IRange): void;\n\tpublic setSelection(editorRange: Range): void;\n\tpublic setSelection(selection: ISelection): void;\n\tpublic setSelection(editorSelection: Selection): void;\n\tpublic setSelection(something: any): void {\n\t\tconst isSelection = Selection.isISelection(something);\n\t\tconst isRange = Range.isIRange(something);\n\n\t\tif (!isSelection && !isRange) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\n\t\tif (isSelection) {\n\t\t\tthis._setSelectionImpl(<ISelection>something);\n\t\t} else if (isRange) {\n\t\t\t// act as if it was an IRange\n\t\t\tconst selection: ISelection = {\n\t\t\t\tselectionStartLineNumber: something.startLineNumber,\n\t\t\t\tselectionStartColumn: something.startColumn,\n\t\t\t\tpositionLineNumber: something.endLineNumber,\n\t\t\t\tpositionColumn: something.endColumn\n\t\t\t};\n\t\t\tthis._setSelectionImpl(selection);\n\t\t}\n\t}\n\n\tprivate _setSelectionImpl(sel: ISelection): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tconst selection = new Selection(sel.selectionStartLineNumber, sel.selectionStartColumn, sel.positionLineNumber, sel.positionColumn);\n\t\tthis._modelData.viewModel.setSelections('api', [selection]);\n\t}\n\n\tpublic revealLines(startLineNumber: number, endLineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.Simple,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealLinesInCenter(startLineNumber: number, endLineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.Center,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealLinesInCenterIfOutsideViewport(startLineNumber: number, endLineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealLinesNearTop(startLineNumber: number, endLineNumber: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealLines(\n\t\t\tstartLineNumber,\n\t\t\tendLineNumber,\n\t\t\tVerticalRevealType.NearTop,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tprivate _revealLines(startLineNumber: number, endLineNumber: number, verticalType: VerticalRevealType, scrollType: editorCommon.ScrollType): void {\n\t\tif (typeof startLineNumber !== 'number' || typeof endLineNumber !== 'number') {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tnew Range(startLineNumber, 1, endLineNumber, 1),\n\t\t\tverticalType,\n\t\t\tfalse,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealRange(range: IRange, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth, revealVerticalInCenter: boolean = false, revealHorizontal: boolean = true): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\trevealVerticalInCenter ? VerticalRevealType.Center : VerticalRevealType.Simple,\n\t\t\trevealHorizontal,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealRangeInCenter(range: IRange, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.Center,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealRangeInCenterIfOutsideViewport(range: IRange, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.CenterIfOutsideViewport,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealRangeNearTop(range: IRange, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.NearTop,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealRangeNearTopIfOutsideViewport(range: IRange, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.NearTopIfOutsideViewport,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic revealRangeAtTop(range: IRange, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Smooth): void {\n\t\tthis._revealRange(\n\t\t\trange,\n\t\t\tVerticalRevealType.Top,\n\t\t\ttrue,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tprivate _revealRange(range: IRange, verticalType: VerticalRevealType, revealHorizontal: boolean, scrollType: editorCommon.ScrollType): void {\n\t\tif (!Range.isIRange(range)) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\n\t\tthis._sendRevealRange(\n\t\t\tRange.lift(range),\n\t\t\tverticalType,\n\t\t\trevealHorizontal,\n\t\t\tscrollType\n\t\t);\n\t}\n\n\tpublic setSelections(ranges: readonly ISelection[], source: string = 'api', reason = CursorChangeReason.NotSet): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (!ranges || ranges.length === 0) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tfor (let i = 0, len = ranges.length; i < len; i++) {\n\t\t\tif (!Selection.isISelection(ranges[i])) {\n\t\t\t\tthrow new Error('Invalid arguments');\n\t\t\t}\n\t\t}\n\t\tthis._modelData.viewModel.setSelections(source, ranges, reason);\n\t}\n\n\tpublic getContentWidth(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getContentWidth();\n\t}\n\n\tpublic getScrollWidth(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getScrollWidth();\n\t}\n\tpublic getScrollLeft(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getCurrentScrollLeft();\n\t}\n\n\tpublic getContentHeight(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getContentHeight();\n\t}\n\n\tpublic getScrollHeight(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getScrollHeight();\n\t}\n\tpublic getScrollTop(): number {\n\t\tif (!this._modelData) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.viewModel.viewLayout.getCurrentScrollTop();\n\t}\n\n\tpublic setScrollLeft(newScrollLeft: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Immediate): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof newScrollLeft !== 'number') {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis._modelData.viewModel.setScrollPosition({\n\t\t\tscrollLeft: newScrollLeft\n\t\t}, scrollType);\n\t}\n\tpublic setScrollTop(newScrollTop: number, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Immediate): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof newScrollTop !== 'number') {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis._modelData.viewModel.setScrollPosition({\n\t\t\tscrollTop: newScrollTop\n\t\t}, scrollType);\n\t}\n\tpublic setScrollPosition(position: editorCommon.INewScrollPosition, scrollType: editorCommon.ScrollType = editorCommon.ScrollType.Immediate): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.setScrollPosition(position, scrollType);\n\t}\n\n\tpublic saveViewState(): editorCommon.ICodeEditorViewState | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\tconst contributionsState: { [key: string]: any } = {};\n\n\t\tconst keys = Object.keys(this._contributions);\n\t\tfor (const id of keys) {\n\t\t\tconst contribution = this._contributions[id];\n\t\t\tif (typeof contribution.saveViewState === 'function') {\n\t\t\t\tcontributionsState[id] = contribution.saveViewState();\n\t\t\t}\n\t\t}\n\n\t\tconst cursorState = this._modelData.viewModel.saveCursorState();\n\t\tconst viewState = this._modelData.viewModel.saveState();\n\t\treturn {\n\t\t\tcursorState: cursorState,\n\t\t\tviewState: viewState,\n\t\t\tcontributionsState: contributionsState\n\t\t};\n\t}\n\n\tpublic restoreViewState(s: editorCommon.IEditorViewState | null): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tconst codeEditorState = s as editorCommon.ICodeEditorViewState | null;\n\t\tif (codeEditorState && codeEditorState.cursorState && codeEditorState.viewState) {\n\t\t\tconst cursorState = <any>codeEditorState.cursorState;\n\t\t\tif (Array.isArray(cursorState)) {\n\t\t\t\tthis._modelData.viewModel.restoreCursorState(<editorCommon.ICursorState[]>cursorState);\n\t\t\t} else {\n\t\t\t\t// Backwards compatibility\n\t\t\t\tthis._modelData.viewModel.restoreCursorState([<editorCommon.ICursorState>cursorState]);\n\t\t\t}\n\n\t\t\tconst contributionsState = codeEditorState.contributionsState || {};\n\t\t\tconst keys = Object.keys(this._contributions);\n\t\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tconst id = keys[i];\n\t\t\t\tconst contribution = this._contributions[id];\n\t\t\t\tif (typeof contribution.restoreViewState === 'function') {\n\t\t\t\t\tcontribution.restoreViewState(contributionsState[id]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst reducedState = this._modelData.viewModel.reduceRestoreState(codeEditorState.viewState);\n\t\t\tthis._modelData.view.restoreState(reducedState);\n\t\t}\n\t}\n\n\tpublic onVisible(): void {\n\t\tthis._modelData?.view.refreshFocusState();\n\t}\n\n\tpublic onHide(): void {\n\t\tthis._modelData?.view.refreshFocusState();\n\t\tthis._focusTracker.refreshState();\n\t}\n\n\tpublic getContribution<T extends editorCommon.IEditorContribution>(id: string): T {\n\t\treturn <T>(this._contributions[id] || null);\n\t}\n\n\tpublic getActions(): editorCommon.IEditorAction[] {\n\t\tconst result: editorCommon.IEditorAction[] = [];\n\n\t\tconst keys = Object.keys(this._actions);\n\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\tconst id = keys[i];\n\t\t\tresult.push(this._actions[id]);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getSupportedActions(): editorCommon.IEditorAction[] {\n\t\tlet result = this.getActions();\n\n\t\tresult = result.filter(action => action.isSupported());\n\n\t\treturn result;\n\t}\n\n\tpublic getAction(id: string): editorCommon.IEditorAction {\n\t\treturn this._actions[id] || null;\n\t}\n\n\tpublic trigger(source: string | null | undefined, handlerId: string, payload: any): void {\n\t\tpayload = payload || {};\n\n\t\tswitch (handlerId) {\n\t\t\tcase editorCommon.Handler.CompositionStart:\n\t\t\t\tthis._startComposition();\n\t\t\t\treturn;\n\t\t\tcase editorCommon.Handler.CompositionEnd:\n\t\t\t\tthis._endComposition(source);\n\t\t\t\treturn;\n\t\t\tcase editorCommon.Handler.Type: {\n\t\t\t\tconst args = <Partial<editorCommon.TypePayload>>payload;\n\t\t\t\tthis._type(source, args.text || '');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcase editorCommon.Handler.ReplacePreviousChar: {\n\t\t\t\tconst args = <Partial<editorCommon.ReplacePreviousCharPayload>>payload;\n\t\t\t\tthis._compositionType(source, args.text || '', args.replaceCharCnt || 0, 0, 0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcase editorCommon.Handler.CompositionType: {\n\t\t\t\tconst args = <Partial<editorCommon.CompositionTypePayload>>payload;\n\t\t\t\tthis._compositionType(source, args.text || '', args.replacePrevCharCnt || 0, args.replaceNextCharCnt || 0, args.positionDelta || 0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcase editorCommon.Handler.Paste: {\n\t\t\t\tconst args = <Partial<editorCommon.PastePayload>>payload;\n\t\t\t\tthis._paste(source, args.text || '', args.pasteOnNewLine || false, args.multicursorText || null, args.mode || null);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcase editorCommon.Handler.Cut:\n\t\t\t\tthis._cut(source);\n\t\t\t\treturn;\n\t\t}\n\n\t\tconst action = this.getAction(handlerId);\n\t\tif (action) {\n\t\t\tPromise.resolve(action.run()).then(undefined, onUnexpectedError);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._triggerEditorCommand(source, handlerId, payload)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._commandService.executeCommand(handlerId, payload);\n\t}\n\n\tprivate _startComposition(): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.startComposition();\n\t\tthis._onDidCompositionStart.fire();\n\t}\n\n\tprivate _endComposition(source: string | null | undefined): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.endComposition(source);\n\t\tthis._onDidCompositionEnd.fire();\n\t}\n\n\tprivate _type(source: string | null | undefined, text: string): void {\n\t\tif (!this._modelData || text.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (source === 'keyboard') {\n\t\t\tthis._onWillType.fire(text);\n\t\t}\n\t\tthis._modelData.viewModel.type(text, source);\n\t\tif (source === 'keyboard') {\n\t\t\tthis._onDidType.fire(text);\n\t\t}\n\t}\n\n\tprivate _compositionType(source: string | null | undefined, text: string, replacePrevCharCnt: number, replaceNextCharCnt: number, positionDelta: number): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.compositionType(text, replacePrevCharCnt, replaceNextCharCnt, positionDelta, source);\n\t}\n\n\tprivate _paste(source: string | null | undefined, text: string, pasteOnNewLine: boolean, multicursorText: string[] | null, mode: string | null): void {\n\t\tif (!this._modelData || text.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst startPosition = this._modelData.viewModel.getSelection().getStartPosition();\n\t\tthis._modelData.viewModel.paste(text, pasteOnNewLine, multicursorText, source);\n\t\tconst endPosition = this._modelData.viewModel.getSelection().getStartPosition();\n\t\tif (source === 'keyboard') {\n\t\t\tthis._onDidPaste.fire({\n\t\t\t\trange: new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column),\n\t\t\t\tmode: mode\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _cut(source: string | null | undefined): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.cut(source);\n\t}\n\n\tprivate _triggerEditorCommand(source: string | null | undefined, handlerId: string, payload: any): boolean {\n\t\tconst command = EditorExtensionsRegistry.getEditorCommand(handlerId);\n\t\tif (command) {\n\t\t\tpayload = payload || {};\n\t\t\tpayload.source = source;\n\t\t\tthis._instantiationService.invokeFunction((accessor) => {\n\t\t\t\tPromise.resolve(command.runEditorCommand(accessor, this, payload)).then(undefined, onUnexpectedError);\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic _getViewModel(): IViewModel | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.viewModel;\n\t}\n\n\tpublic pushUndoStop(): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._configuration.options.get(EditorOption.readOnly)) {\n\t\t\t// read only editor => sorry!\n\t\t\treturn false;\n\t\t}\n\t\tthis._modelData.model.pushStackElement();\n\t\treturn true;\n\t}\n\n\tpublic popUndoStop(): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._configuration.options.get(EditorOption.readOnly)) {\n\t\t\t// read only editor => sorry!\n\t\t\treturn false;\n\t\t}\n\t\tthis._modelData.model.popStackElement();\n\t\treturn true;\n\t}\n\n\tpublic executeEdits(source: string | null | undefined, edits: IIdentifiedSingleEditOperation[], endCursorState?: ICursorStateComputer | Selection[]): boolean {\n\t\tif (!this._modelData) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._configuration.options.get(EditorOption.readOnly)) {\n\t\t\t// read only editor => sorry!\n\t\t\treturn false;\n\t\t}\n\n\t\tlet cursorStateComputer: ICursorStateComputer;\n\t\tif (!endCursorState) {\n\t\t\tcursorStateComputer = () => null;\n\t\t} else if (Array.isArray(endCursorState)) {\n\t\t\tcursorStateComputer = () => endCursorState;\n\t\t} else {\n\t\t\tcursorStateComputer = endCursorState;\n\t\t}\n\n\t\tthis._modelData.viewModel.executeEdits(source, edits, cursorStateComputer);\n\t\treturn true;\n\t}\n\n\tpublic executeCommand(source: string | null | undefined, command: editorCommon.ICommand): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.executeCommand(command, source);\n\t}\n\n\tpublic executeCommands(source: string | null | undefined, commands: editorCommon.ICommand[]): void {\n\t\tif (!this._modelData) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.viewModel.executeCommands(commands, source);\n\t}\n\n\tpublic changeDecorations(callback: (changeAccessor: IModelDecorationsChangeAccessor) => any): any {\n\t\tif (!this._modelData) {\n\t\t\t// callback will not be called\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model.changeDecorations(callback, this._id);\n\t}\n\n\tpublic getLineDecorations(lineNumber: number): IModelDecoration[] | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.model.getLineDecorations(lineNumber, this._id, filterValidationDecorations(this._configuration.options));\n\t}\n\n\tpublic deltaDecorations(oldDecorations: string[], newDecorations: IModelDeltaDecoration[]): string[] {\n\t\tif (!this._modelData) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (oldDecorations.length === 0 && newDecorations.length === 0) {\n\t\t\treturn oldDecorations;\n\t\t}\n\n\t\treturn this._modelData.model.deltaDecorations(oldDecorations, newDecorations, this._id);\n\t}\n\n\tpublic setDecorations(decorationTypeKey: string, decorationOptions: editorCommon.IDecorationOptions[]): void {\n\n\t\tconst newDecorationsSubTypes: { [key: string]: boolean } = {};\n\t\tconst oldDecorationsSubTypes = this._decorationTypeSubtypes[decorationTypeKey] || {};\n\t\tthis._decorationTypeSubtypes[decorationTypeKey] = newDecorationsSubTypes;\n\n\t\tconst newModelDecorations: IModelDeltaDecoration[] = [];\n\n\t\tfor (let decorationOption of decorationOptions) {\n\t\t\tlet typeKey = decorationTypeKey;\n\t\t\tif (decorationOption.renderOptions) {\n\t\t\t\t// identify custom reder options by a hash code over all keys and values\n\t\t\t\t// For custom render options register a decoration type if necessary\n\t\t\t\tconst subType = hash(decorationOption.renderOptions).toString(16);\n\t\t\t\t// The fact that `decorationTypeKey` appears in the typeKey has no influence\n\t\t\t\t// it is just a mechanism to get predictable and unique keys (repeatable for the same options and unique across clients)\n\t\t\t\ttypeKey = decorationTypeKey + '-' + subType;\n\t\t\t\tif (!oldDecorationsSubTypes[subType] && !newDecorationsSubTypes[subType]) {\n\t\t\t\t\t// decoration type did not exist before, register new one\n\t\t\t\t\tthis._registerDecorationType(typeKey, decorationOption.renderOptions, decorationTypeKey);\n\t\t\t\t}\n\t\t\t\tnewDecorationsSubTypes[subType] = true;\n\t\t\t}\n\t\t\tconst opts = this._resolveDecorationOptions(typeKey, !!decorationOption.hoverMessage);\n\t\t\tif (decorationOption.hoverMessage) {\n\t\t\t\topts.hoverMessage = decorationOption.hoverMessage;\n\t\t\t}\n\t\t\tnewModelDecorations.push({ range: decorationOption.range, options: opts });\n\t\t}\n\n\t\t// remove decoration sub types that are no longer used, deregister decoration type if necessary\n\t\tfor (let subType in oldDecorationsSubTypes) {\n\t\t\tif (!newDecorationsSubTypes[subType]) {\n\t\t\t\tthis._removeDecorationType(decorationTypeKey + '-' + subType);\n\t\t\t}\n\t\t}\n\n\t\t// update all decorations\n\t\tconst oldDecorationsIds = this._decorationTypeKeysToIds[decorationTypeKey] || [];\n\t\tthis._decorationTypeKeysToIds[decorationTypeKey] = this.deltaDecorations(oldDecorationsIds, newModelDecorations);\n\t}\n\n\tpublic setDecorationsFast(decorationTypeKey: string, ranges: IRange[]): void {\n\n\t\t// remove decoration sub types that are no longer used, deregister decoration type if necessary\n\t\tconst oldDecorationsSubTypes = this._decorationTypeSubtypes[decorationTypeKey] || {};\n\t\tfor (let subType in oldDecorationsSubTypes) {\n\t\t\tthis._removeDecorationType(decorationTypeKey + '-' + subType);\n\t\t}\n\t\tthis._decorationTypeSubtypes[decorationTypeKey] = {};\n\n\t\tconst opts = ModelDecorationOptions.createDynamic(this._resolveDecorationOptions(decorationTypeKey, false));\n\t\tconst newModelDecorations: IModelDeltaDecoration[] = new Array<IModelDeltaDecoration>(ranges.length);\n\t\tfor (let i = 0, len = ranges.length; i < len; i++) {\n\t\t\tnewModelDecorations[i] = { range: ranges[i], options: opts };\n\t\t}\n\n\t\t// update all decorations\n\t\tconst oldDecorationsIds = this._decorationTypeKeysToIds[decorationTypeKey] || [];\n\t\tthis._decorationTypeKeysToIds[decorationTypeKey] = this.deltaDecorations(oldDecorationsIds, newModelDecorations);\n\t}\n\n\tpublic removeDecorations(decorationTypeKey: string): void {\n\t\t// remove decorations for type and sub type\n\t\tconst oldDecorationsIds = this._decorationTypeKeysToIds[decorationTypeKey];\n\t\tif (oldDecorationsIds) {\n\t\t\tthis.deltaDecorations(oldDecorationsIds, []);\n\t\t}\n\t\tif (this._decorationTypeKeysToIds.hasOwnProperty(decorationTypeKey)) {\n\t\t\tdelete this._decorationTypeKeysToIds[decorationTypeKey];\n\t\t}\n\t\tif (this._decorationTypeSubtypes.hasOwnProperty(decorationTypeKey)) {\n\t\t\tdelete this._decorationTypeSubtypes[decorationTypeKey];\n\t\t}\n\t}\n\n\tpublic getLayoutInfo(): EditorLayoutInfo {\n\t\tconst options = this._configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\treturn layoutInfo;\n\t}\n\n\tpublic createOverviewRuler(cssClassName: string): editorBrowser.IOverviewRuler | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.view.createOverviewRuler(cssClassName);\n\t}\n\n\tpublic getContainerDomNode(): HTMLElement {\n\t\treturn this._domElement;\n\t}\n\n\tpublic getDomNode(): HTMLElement | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.view.domNode.domNode;\n\t}\n\n\tpublic delegateVerticalScrollbarMouseDown(browserEvent: IMouseEvent): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.delegateVerticalScrollbarMouseDown(browserEvent);\n\t}\n\n\tpublic layout(dimension?: editorCommon.IDimension): void {\n\t\tthis._configuration.observeReferenceElement(dimension);\n\t\tthis.render();\n\t}\n\n\tpublic focus(): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.focus();\n\t}\n\n\tpublic hasTextFocus(): boolean {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._modelData.view.isFocused();\n\t}\n\n\tpublic hasWidgetFocus(): boolean {\n\t\treturn this._focusTracker && this._focusTracker.hasFocus();\n\t}\n\n\tpublic addContentWidget(widget: editorBrowser.IContentWidget): void {\n\t\tconst widgetData: IContentWidgetData = {\n\t\t\twidget: widget,\n\t\t\tposition: widget.getPosition()\n\t\t};\n\n\t\tif (this._contentWidgets.hasOwnProperty(widget.getId())) {\n\t\t\tconsole.warn('Overwriting a content widget with the same id.');\n\t\t}\n\n\t\tthis._contentWidgets[widget.getId()] = widgetData;\n\n\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\tthis._modelData.view.addContentWidget(widgetData);\n\t\t}\n\t}\n\n\tpublic layoutContentWidget(widget: editorBrowser.IContentWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._contentWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._contentWidgets[widgetId];\n\t\t\twidgetData.position = widget.getPosition();\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.layoutContentWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic removeContentWidget(widget: editorBrowser.IContentWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._contentWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._contentWidgets[widgetId];\n\t\t\tdelete this._contentWidgets[widgetId];\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.removeContentWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic addOverlayWidget(widget: editorBrowser.IOverlayWidget): void {\n\t\tconst widgetData: IOverlayWidgetData = {\n\t\t\twidget: widget,\n\t\t\tposition: widget.getPosition()\n\t\t};\n\n\t\tif (this._overlayWidgets.hasOwnProperty(widget.getId())) {\n\t\t\tconsole.warn('Overwriting an overlay widget with the same id.');\n\t\t}\n\n\t\tthis._overlayWidgets[widget.getId()] = widgetData;\n\n\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\tthis._modelData.view.addOverlayWidget(widgetData);\n\t\t}\n\t}\n\n\tpublic layoutOverlayWidget(widget: editorBrowser.IOverlayWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._overlayWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._overlayWidgets[widgetId];\n\t\t\twidgetData.position = widget.getPosition();\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.layoutOverlayWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic removeOverlayWidget(widget: editorBrowser.IOverlayWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._overlayWidgets.hasOwnProperty(widgetId)) {\n\t\t\tconst widgetData = this._overlayWidgets[widgetId];\n\t\t\tdelete this._overlayWidgets[widgetId];\n\t\t\tif (this._modelData && this._modelData.hasRealView) {\n\t\t\t\tthis._modelData.view.removeOverlayWidget(widgetData);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic changeViewZones(callback: (accessor: editorBrowser.IViewZoneChangeAccessor) => void): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.change(callback);\n\t}\n\n\tpublic getTargetAtClientPoint(clientX: number, clientY: number): editorBrowser.IMouseTarget | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._modelData.view.getTargetAtClientPoint(clientX, clientY);\n\t}\n\n\tpublic getScrolledVisiblePosition(rawPosition: IPosition): { top: number; left: number; height: number; } | null {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst position = this._modelData.model.validatePosition(rawPosition);\n\t\tconst options = this._configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\n\t\tconst top = CodeEditorWidget._getVerticalOffsetForPosition(this._modelData, position.lineNumber, position.column) - this.getScrollTop();\n\t\tconst left = this._modelData.view.getOffsetForColumn(position.lineNumber, position.column) + layoutInfo.glyphMarginWidth + layoutInfo.lineNumbersWidth + layoutInfo.decorationsWidth - this.getScrollLeft();\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\theight: options.get(EditorOption.lineHeight)\n\t\t};\n\t}\n\n\tpublic getOffsetForColumn(lineNumber: number, column: number): number {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn this._modelData.view.getOffsetForColumn(lineNumber, column);\n\t}\n\n\tpublic render(forceRedraw: boolean = false): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.render(true, forceRedraw);\n\t}\n\n\tpublic setAriaOptions(options: editorBrowser.IEditorAriaOptions): void {\n\t\tif (!this._modelData || !this._modelData.hasRealView) {\n\t\t\treturn;\n\t\t}\n\t\tthis._modelData.view.setAriaOptions(options);\n\t}\n\n\tpublic applyFontInfo(target: HTMLElement): void {\n\t\tConfiguration.applyFontInfoSlow(target, this._configuration.options.get(EditorOption.fontInfo));\n\t}\n\n\tprotected _attachModel(model: ITextModel | null): void {\n\t\tif (!model) {\n\t\t\tthis._modelData = null;\n\t\t\treturn;\n\t\t}\n\n\t\tconst listenersToRemove: IDisposable[] = [];\n\n\t\tthis._domElement.setAttribute('data-mode-id', model.getLanguageIdentifier().language);\n\t\tthis._configuration.setIsDominatedByLongLines(model.isDominatedByLongLines());\n\t\tthis._configuration.setMaxLineNumber(model.getLineCount());\n\n\t\tmodel.onBeforeAttached();\n\n\t\tconst viewModel = new ViewModel(\n\t\t\tthis._id,\n\t\t\tthis._configuration,\n\t\t\tmodel,\n\t\t\tDOMLineBreaksComputerFactory.create(),\n\t\t\tMonospaceLineBreaksComputerFactory.create(this._configuration.options),\n\t\t\t(callback) => dom.scheduleAtNextAnimationFrame(callback)\n\t\t);\n\n\t\tlistenersToRemove.push(model.onDidChangeDecorations((e) => this._onDidChangeModelDecorations.fire(e)));\n\t\tlistenersToRemove.push(model.onDidChangeLanguage((e) => {\n\t\t\tthis._domElement.setAttribute('data-mode-id', model.getLanguageIdentifier().language);\n\t\t\tthis._onDidChangeModelLanguage.fire(e);\n\t\t}));\n\t\tlistenersToRemove.push(model.onDidChangeLanguageConfiguration((e) => this._onDidChangeModelLanguageConfiguration.fire(e)));\n\t\tlistenersToRemove.push(model.onDidChangeContent((e) => this._onDidChangeModelContent.fire(e)));\n\t\tlistenersToRemove.push(model.onDidChangeOptions((e) => this._onDidChangeModelOptions.fire(e)));\n\t\t// Someone might destroy the model from under the editor, so prevent any exceptions by setting a null model\n\t\tlistenersToRemove.push(model.onWillDispose(() => this.setModel(null)));\n\n\t\tlistenersToRemove.push(viewModel.onEvent((e) => {\n\t\t\tswitch (e.kind) {\n\t\t\t\tcase OutgoingViewModelEventKind.ContentSizeChanged:\n\t\t\t\t\tthis._onDidContentSizeChange.fire(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase OutgoingViewModelEventKind.FocusChanged:\n\t\t\t\t\tthis._editorTextFocus.setValue(e.hasFocus);\n\t\t\t\t\tbreak;\n\t\t\t\tcase OutgoingViewModelEventKind.ScrollChanged:\n\t\t\t\t\tthis._onDidScrollChange.fire(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase OutgoingViewModelEventKind.ViewZonesChanged:\n\t\t\t\t\tthis._onDidChangeViewZones.fire();\n\t\t\t\t\tbreak;\n\t\t\t\tcase OutgoingViewModelEventKind.ReadOnlyEditAttempt:\n\t\t\t\t\tthis._onDidAttemptReadOnlyEdit.fire();\n\t\t\t\t\tbreak;\n\t\t\t\tcase OutgoingViewModelEventKind.CursorStateChanged: {\n\t\t\t\t\tif (e.reachedMaxCursorCount) {\n\t\t\t\t\t\tthis._notificationService.warn(nls.localize('cursors.maximum', \"The number of cursors has been limited to {0}.\", Cursor.MAX_CURSOR_COUNT));\n\t\t\t\t\t}\n\n\t\t\t\t\tconst positions: Position[] = [];\n\t\t\t\t\tfor (let i = 0, len = e.selections.length; i < len; i++) {\n\t\t\t\t\t\tpositions[i] = e.selections[i].getPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst e1: ICursorPositionChangedEvent = {\n\t\t\t\t\t\tposition: positions[0],\n\t\t\t\t\t\tsecondaryPositions: positions.slice(1),\n\t\t\t\t\t\treason: e.reason,\n\t\t\t\t\t\tsource: e.source\n\t\t\t\t\t};\n\t\t\t\t\tthis._onDidChangeCursorPosition.fire(e1);\n\n\t\t\t\t\tconst e2: ICursorSelectionChangedEvent = {\n\t\t\t\t\t\tselection: e.selections[0],\n\t\t\t\t\t\tsecondarySelections: e.selections.slice(1),\n\t\t\t\t\t\tmodelVersionId: e.modelVersionId,\n\t\t\t\t\t\toldSelections: e.oldSelections,\n\t\t\t\t\t\toldModelVersionId: e.oldModelVersionId,\n\t\t\t\t\t\tsource: e.source,\n\t\t\t\t\t\treason: e.reason\n\t\t\t\t\t};\n\t\t\t\t\tthis._onDidChangeCursorSelection.fire(e2);\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}));\n\n\t\tconst [view, hasRealView] = this._createView(viewModel);\n\t\tif (hasRealView) {\n\t\t\tthis._domElement.appendChild(view.domNode.domNode);\n\n\t\t\tlet keys = Object.keys(this._contentWidgets);\n\t\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tconst widgetId = keys[i];\n\t\t\t\tview.addContentWidget(this._contentWidgets[widgetId]);\n\t\t\t}\n\n\t\t\tkeys = Object.keys(this._overlayWidgets);\n\t\t\tfor (let i = 0, len = keys.length; i < len; i++) {\n\t\t\t\tconst widgetId = keys[i];\n\t\t\t\tview.addOverlayWidget(this._overlayWidgets[widgetId]);\n\t\t\t}\n\n\t\t\tview.render(false, true);\n\t\t\tview.domNode.domNode.setAttribute('data-uri', model.uri.toString());\n\t\t}\n\n\t\tthis._modelData = new ModelData(model, viewModel, view, hasRealView, listenersToRemove);\n\t}\n\n\tprotected _createView(viewModel: ViewModel): [View, boolean] {\n\t\tlet commandDelegate: ICommandDelegate;\n\t\tif (this.isSimpleWidget) {\n\t\t\tcommandDelegate = {\n\t\t\t\tpaste: (text: string, pasteOnNewLine: boolean, multicursorText: string[] | null, mode: string | null) => {\n\t\t\t\t\tthis._paste('keyboard', text, pasteOnNewLine, multicursorText, mode);\n\t\t\t\t},\n\t\t\t\ttype: (text: string) => {\n\t\t\t\t\tthis._type('keyboard', text);\n\t\t\t\t},\n\t\t\t\tcompositionType: (text: string, replacePrevCharCnt: number, replaceNextCharCnt: number, positionDelta: number) => {\n\t\t\t\t\tthis._compositionType('keyboard', text, replacePrevCharCnt, replaceNextCharCnt, positionDelta);\n\t\t\t\t},\n\t\t\t\tstartComposition: () => {\n\t\t\t\t\tthis._startComposition();\n\t\t\t\t},\n\t\t\t\tendComposition: () => {\n\t\t\t\t\tthis._endComposition('keyboard');\n\t\t\t\t},\n\t\t\t\tcut: () => {\n\t\t\t\t\tthis._cut('keyboard');\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tcommandDelegate = {\n\t\t\t\tpaste: (text: string, pasteOnNewLine: boolean, multicursorText: string[] | null, mode: string | null) => {\n\t\t\t\t\tconst payload: editorCommon.PastePayload = { text, pasteOnNewLine, multicursorText, mode };\n\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.Paste, payload);\n\t\t\t\t},\n\t\t\t\ttype: (text: string) => {\n\t\t\t\t\tconst payload: editorCommon.TypePayload = { text };\n\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.Type, payload);\n\t\t\t\t},\n\t\t\t\tcompositionType: (text: string, replacePrevCharCnt: number, replaceNextCharCnt: number, positionDelta: number) => {\n\t\t\t\t\t// Try if possible to go through the existing `replacePreviousChar` command\n\t\t\t\t\tif (replaceNextCharCnt || positionDelta) {\n\t\t\t\t\t\t// must be handled through the new command\n\t\t\t\t\t\tconst payload: editorCommon.CompositionTypePayload = { text, replacePrevCharCnt, replaceNextCharCnt, positionDelta };\n\t\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.CompositionType, payload);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst payload: editorCommon.ReplacePreviousCharPayload = { text, replaceCharCnt: replacePrevCharCnt };\n\t\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.ReplacePreviousChar, payload);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstartComposition: () => {\n\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.CompositionStart, {});\n\t\t\t\t},\n\t\t\t\tendComposition: () => {\n\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.CompositionEnd, {});\n\t\t\t\t},\n\t\t\t\tcut: () => {\n\t\t\t\t\tthis._commandService.executeCommand(editorCommon.Handler.Cut, {});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tconst viewUserInputEvents = new ViewUserInputEvents(viewModel.coordinatesConverter);\n\t\tviewUserInputEvents.onKeyDown = (e) => this._onKeyDown.fire(e);\n\t\tviewUserInputEvents.onKeyUp = (e) => this._onKeyUp.fire(e);\n\t\tviewUserInputEvents.onContextMenu = (e) => this._onContextMenu.fire(e);\n\t\tviewUserInputEvents.onMouseMove = (e) => this._onMouseMove.fire(e);\n\t\tviewUserInputEvents.onMouseLeave = (e) => this._onMouseLeave.fire(e);\n\t\tviewUserInputEvents.onMouseDown = (e) => this._onMouseDown.fire(e);\n\t\tviewUserInputEvents.onMouseUp = (e) => this._onMouseUp.fire(e);\n\t\tviewUserInputEvents.onMouseDrag = (e) => this._onMouseDrag.fire(e);\n\t\tviewUserInputEvents.onMouseDrop = (e) => this._onMouseDrop.fire(e);\n\t\tviewUserInputEvents.onMouseDropCanceled = (e) => this._onMouseDropCanceled.fire(e);\n\t\tviewUserInputEvents.onMouseWheel = (e) => this._onMouseWheel.fire(e);\n\n\t\tconst view = new View(\n\t\t\tcommandDelegate,\n\t\t\tthis._configuration,\n\t\t\tthis._themeService,\n\t\t\tviewModel,\n\t\t\tviewUserInputEvents,\n\t\t\tthis._overflowWidgetsDomNode\n\t\t);\n\n\t\treturn [view, true];\n\t}\n\n\tprotected _postDetachModelCleanup(detachedModel: ITextModel | null): void {\n\t\tif (detachedModel) {\n\t\t\tdetachedModel.removeAllDecorationsWithOwnerId(this._id);\n\t\t}\n\t}\n\n\tprivate _detachModel(): ITextModel | null {\n\t\tif (!this._modelData) {\n\t\t\treturn null;\n\t\t}\n\t\tconst model = this._modelData.model;\n\t\tconst removeDomNode = this._modelData.hasRealView ? this._modelData.view.domNode.domNode : null;\n\n\t\tthis._modelData.dispose();\n\t\tthis._modelData = null;\n\n\t\tthis._domElement.removeAttribute('data-mode-id');\n\t\tif (removeDomNode && this._domElement.contains(removeDomNode)) {\n\t\t\tthis._domElement.removeChild(removeDomNode);\n\t\t}\n\n\t\treturn model;\n\t}\n\n\tprivate _registerDecorationType(key: string, options: editorCommon.IDecorationRenderOptions, parentTypeKey?: string): void {\n\t\tthis._codeEditorService.registerDecorationType(key, options, parentTypeKey, this);\n\t}\n\n\tprivate _removeDecorationType(key: string): void {\n\t\tthis._codeEditorService.removeDecorationType(key);\n\t}\n\n\tprivate _resolveDecorationOptions(typeKey: string, writable: boolean): IModelDecorationOptions {\n\t\treturn this._codeEditorService.resolveDecorationOptions(typeKey, writable);\n\t}\n\n\tpublic getTelemetryData(): { [key: string]: any; } | undefined {\n\t\treturn this._telemetryData;\n\t}\n\n\tpublic hasModel(): this is editorBrowser.IActiveCodeEditor {\n\t\treturn (this._modelData !== null);\n\t}\n}\n\nconst enum BooleanEventValue {\n\tNotSet,\n\tFalse,\n\tTrue\n}\n\nexport class BooleanEventEmitter extends Disposable {\n\tprivate readonly _onDidChangeToTrue: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeToTrue: Event<void> = this._onDidChangeToTrue.event;\n\n\tprivate readonly _onDidChangeToFalse: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeToFalse: Event<void> = this._onDidChangeToFalse.event;\n\n\tprivate _value: BooleanEventValue;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._value = BooleanEventValue.NotSet;\n\t}\n\n\tpublic setValue(_value: boolean) {\n\t\tconst value = (_value ? BooleanEventValue.True : BooleanEventValue.False);\n\t\tif (this._value === value) {\n\t\t\treturn;\n\t\t}\n\t\tthis._value = value;\n\t\tif (this._value === BooleanEventValue.True) {\n\t\t\tthis._onDidChangeToTrue.fire();\n\t\t} else if (this._value === BooleanEventValue.False) {\n\t\t\tthis._onDidChangeToFalse.fire();\n\t\t}\n\t}\n}\n\nclass EditorContextKeysManager extends Disposable {\n\n\tprivate readonly _editor: CodeEditorWidget;\n\tprivate readonly _editorSimpleInput: IContextKey<boolean>;\n\tprivate readonly _editorFocus: IContextKey<boolean>;\n\tprivate readonly _textInputFocus: IContextKey<boolean>;\n\tprivate readonly _editorTextFocus: IContextKey<boolean>;\n\tprivate readonly _editorTabMovesFocus: IContextKey<boolean>;\n\tprivate readonly _editorReadonly: IContextKey<boolean>;\n\tprivate readonly _inDiffEditor: IContextKey<boolean>;\n\tprivate readonly _editorColumnSelection: IContextKey<boolean>;\n\tprivate readonly _hasMultipleSelections: IContextKey<boolean>;\n\tprivate readonly _hasNonEmptySelection: IContextKey<boolean>;\n\tprivate readonly _canUndo: IContextKey<boolean>;\n\tprivate readonly _canRedo: IContextKey<boolean>;\n\n\tconstructor(\n\t\teditor: CodeEditorWidget,\n\t\tcontextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\n\t\tcontextKeyService.createKey('editorId', editor.getId());\n\n\t\tthis._editorSimpleInput = EditorContextKeys.editorSimpleInput.bindTo(contextKeyService);\n\t\tthis._editorFocus = EditorContextKeys.focus.bindTo(contextKeyService);\n\t\tthis._textInputFocus = EditorContextKeys.textInputFocus.bindTo(contextKeyService);\n\t\tthis._editorTextFocus = EditorContextKeys.editorTextFocus.bindTo(contextKeyService);\n\t\tthis._editorTabMovesFocus = EditorContextKeys.tabMovesFocus.bindTo(contextKeyService);\n\t\tthis._editorReadonly = EditorContextKeys.readOnly.bindTo(contextKeyService);\n\t\tthis._inDiffEditor = EditorContextKeys.inDiffEditor.bindTo(contextKeyService);\n\t\tthis._editorColumnSelection = EditorContextKeys.columnSelection.bindTo(contextKeyService);\n\t\tthis._hasMultipleSelections = EditorContextKeys.hasMultipleSelections.bindTo(contextKeyService);\n\t\tthis._hasNonEmptySelection = EditorContextKeys.hasNonEmptySelection.bindTo(contextKeyService);\n\t\tthis._canUndo = EditorContextKeys.canUndo.bindTo(contextKeyService);\n\t\tthis._canRedo = EditorContextKeys.canRedo.bindTo(contextKeyService);\n\n\t\tthis._register(this._editor.onDidChangeConfiguration(() => this._updateFromConfig()));\n\t\tthis._register(this._editor.onDidChangeCursorSelection(() => this._updateFromSelection()));\n\t\tthis._register(this._editor.onDidFocusEditorWidget(() => this._updateFromFocus()));\n\t\tthis._register(this._editor.onDidBlurEditorWidget(() => this._updateFromFocus()));\n\t\tthis._register(this._editor.onDidFocusEditorText(() => this._updateFromFocus()));\n\t\tthis._register(this._editor.onDidBlurEditorText(() => this._updateFromFocus()));\n\t\tthis._register(this._editor.onDidChangeModel(() => this._updateFromModel()));\n\t\tthis._register(this._editor.onDidChangeConfiguration(() => this._updateFromModel()));\n\n\t\tthis._updateFromConfig();\n\t\tthis._updateFromSelection();\n\t\tthis._updateFromFocus();\n\t\tthis._updateFromModel();\n\n\t\tthis._editorSimpleInput.set(this._editor.isSimpleWidget);\n\t}\n\n\tprivate _updateFromConfig(): void {\n\t\tconst options = this._editor.getOptions();\n\n\t\tthis._editorTabMovesFocus.set(options.get(EditorOption.tabFocusMode));\n\t\tthis._editorReadonly.set(options.get(EditorOption.readOnly));\n\t\tthis._inDiffEditor.set(options.get(EditorOption.inDiffEditor));\n\t\tthis._editorColumnSelection.set(options.get(EditorOption.columnSelection));\n\t}\n\n\tprivate _updateFromSelection(): void {\n\t\tconst selections = this._editor.getSelections();\n\t\tif (!selections) {\n\t\t\tthis._hasMultipleSelections.reset();\n\t\t\tthis._hasNonEmptySelection.reset();\n\t\t} else {\n\t\t\tthis._hasMultipleSelections.set(selections.length > 1);\n\t\t\tthis._hasNonEmptySelection.set(selections.some(s => !s.isEmpty()));\n\t\t}\n\t}\n\n\tprivate _updateFromFocus(): void {\n\t\tthis._editorFocus.set(this._editor.hasWidgetFocus() && !this._editor.isSimpleWidget);\n\t\tthis._editorTextFocus.set(this._editor.hasTextFocus() && !this._editor.isSimpleWidget);\n\t\tthis._textInputFocus.set(this._editor.hasTextFocus());\n\t}\n\n\tprivate _updateFromModel(): void {\n\t\tconst model = this._editor.getModel();\n\t\tthis._canUndo.set(Boolean(model && model.canUndo()));\n\t\tthis._canRedo.set(Boolean(model && model.canRedo()));\n\t}\n}\n\nexport class EditorModeContext extends Disposable {\n\n\tprivate readonly _langId: IContextKey<string>;\n\tprivate readonly _hasCompletionItemProvider: IContextKey<boolean>;\n\tprivate readonly _hasCodeActionsProvider: IContextKey<boolean>;\n\tprivate readonly _hasCodeLensProvider: IContextKey<boolean>;\n\tprivate readonly _hasDefinitionProvider: IContextKey<boolean>;\n\tprivate readonly _hasDeclarationProvider: IContextKey<boolean>;\n\tprivate readonly _hasImplementationProvider: IContextKey<boolean>;\n\tprivate readonly _hasTypeDefinitionProvider: IContextKey<boolean>;\n\tprivate readonly _hasHoverProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentHighlightProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentSymbolProvider: IContextKey<boolean>;\n\tprivate readonly _hasReferenceProvider: IContextKey<boolean>;\n\tprivate readonly _hasRenameProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasDocumentSelectionFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasMultipleDocumentFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasMultipleDocumentSelectionFormattingProvider: IContextKey<boolean>;\n\tprivate readonly _hasSignatureHelpProvider: IContextKey<boolean>;\n\tprivate readonly _hasInlineHintsProvider: IContextKey<boolean>;\n\tprivate readonly _isInWalkThrough: IContextKey<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _editor: CodeEditorWidget,\n\t\tprivate readonly _contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\n\t\tthis._langId = EditorContextKeys.languageId.bindTo(_contextKeyService);\n\t\tthis._hasCompletionItemProvider = EditorContextKeys.hasCompletionItemProvider.bindTo(_contextKeyService);\n\t\tthis._hasCodeActionsProvider = EditorContextKeys.hasCodeActionsProvider.bindTo(_contextKeyService);\n\t\tthis._hasCodeLensProvider = EditorContextKeys.hasCodeLensProvider.bindTo(_contextKeyService);\n\t\tthis._hasDefinitionProvider = EditorContextKeys.hasDefinitionProvider.bindTo(_contextKeyService);\n\t\tthis._hasDeclarationProvider = EditorContextKeys.hasDeclarationProvider.bindTo(_contextKeyService);\n\t\tthis._hasImplementationProvider = EditorContextKeys.hasImplementationProvider.bindTo(_contextKeyService);\n\t\tthis._hasTypeDefinitionProvider = EditorContextKeys.hasTypeDefinitionProvider.bindTo(_contextKeyService);\n\t\tthis._hasHoverProvider = EditorContextKeys.hasHoverProvider.bindTo(_contextKeyService);\n\t\tthis._hasDocumentHighlightProvider = EditorContextKeys.hasDocumentHighlightProvider.bindTo(_contextKeyService);\n\t\tthis._hasDocumentSymbolProvider = EditorContextKeys.hasDocumentSymbolProvider.bindTo(_contextKeyService);\n\t\tthis._hasReferenceProvider = EditorContextKeys.hasReferenceProvider.bindTo(_contextKeyService);\n\t\tthis._hasRenameProvider = EditorContextKeys.hasRenameProvider.bindTo(_contextKeyService);\n\t\tthis._hasSignatureHelpProvider = EditorContextKeys.hasSignatureHelpProvider.bindTo(_contextKeyService);\n\t\tthis._hasInlineHintsProvider = EditorContextKeys.hasInlineHintsProvider.bindTo(_contextKeyService);\n\t\tthis._hasDocumentFormattingProvider = EditorContextKeys.hasDocumentFormattingProvider.bindTo(_contextKeyService);\n\t\tthis._hasDocumentSelectionFormattingProvider = EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(_contextKeyService);\n\t\tthis._hasMultipleDocumentFormattingProvider = EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(_contextKeyService);\n\t\tthis._hasMultipleDocumentSelectionFormattingProvider = EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(_contextKeyService);\n\t\tthis._isInWalkThrough = EditorContextKeys.isInWalkThroughSnippet.bindTo(_contextKeyService);\n\n\t\tconst update = () => this._update();\n\n\t\t// update when model/mode changes\n\t\tthis._register(_editor.onDidChangeModel(update));\n\t\tthis._register(_editor.onDidChangeModelLanguage(update));\n\n\t\t// update when registries change\n\t\tthis._register(modes.CompletionProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.CodeActionProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.CodeLensProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.DefinitionProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.DeclarationProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.ImplementationProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.TypeDefinitionProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.HoverProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.DocumentHighlightProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.DocumentSymbolProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.ReferenceProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.RenameProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.DocumentFormattingEditProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.DocumentRangeFormattingEditProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.SignatureHelpProviderRegistry.onDidChange(update));\n\t\tthis._register(modes.InlineHintsProviderRegistry.onDidChange(update));\n\n\t\tupdate();\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t}\n\n\treset() {\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis._langId.reset();\n\t\t\tthis._hasCompletionItemProvider.reset();\n\t\t\tthis._hasCodeActionsProvider.reset();\n\t\t\tthis._hasCodeLensProvider.reset();\n\t\t\tthis._hasDefinitionProvider.reset();\n\t\t\tthis._hasDeclarationProvider.reset();\n\t\t\tthis._hasImplementationProvider.reset();\n\t\t\tthis._hasTypeDefinitionProvider.reset();\n\t\t\tthis._hasHoverProvider.reset();\n\t\t\tthis._hasDocumentHighlightProvider.reset();\n\t\t\tthis._hasDocumentSymbolProvider.reset();\n\t\t\tthis._hasReferenceProvider.reset();\n\t\t\tthis._hasRenameProvider.reset();\n\t\t\tthis._hasDocumentFormattingProvider.reset();\n\t\t\tthis._hasDocumentSelectionFormattingProvider.reset();\n\t\t\tthis._hasSignatureHelpProvider.reset();\n\t\t\tthis._isInWalkThrough.reset();\n\t\t});\n\t}\n\n\tprivate _update() {\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\t\tthis._contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis._langId.set(model.getLanguageIdentifier().language);\n\t\t\tthis._hasCompletionItemProvider.set(modes.CompletionProviderRegistry.has(model));\n\t\t\tthis._hasCodeActionsProvider.set(modes.CodeActionProviderRegistry.has(model));\n\t\t\tthis._hasCodeLensProvider.set(modes.CodeLensProviderRegistry.has(model));\n\t\t\tthis._hasDefinitionProvider.set(modes.DefinitionProviderRegistry.has(model));\n\t\t\tthis._hasDeclarationProvider.set(modes.DeclarationProviderRegistry.has(model));\n\t\t\tthis._hasImplementationProvider.set(modes.ImplementationProviderRegistry.has(model));\n\t\t\tthis._hasTypeDefinitionProvider.set(modes.TypeDefinitionProviderRegistry.has(model));\n\t\t\tthis._hasHoverProvider.set(modes.HoverProviderRegistry.has(model));\n\t\t\tthis._hasDocumentHighlightProvider.set(modes.DocumentHighlightProviderRegistry.has(model));\n\t\t\tthis._hasDocumentSymbolProvider.set(modes.DocumentSymbolProviderRegistry.has(model));\n\t\t\tthis._hasReferenceProvider.set(modes.ReferenceProviderRegistry.has(model));\n\t\t\tthis._hasRenameProvider.set(modes.RenameProviderRegistry.has(model));\n\t\t\tthis._hasSignatureHelpProvider.set(modes.SignatureHelpProviderRegistry.has(model));\n\t\t\tthis._hasInlineHintsProvider.set(modes.InlineHintsProviderRegistry.has(model));\n\t\t\tthis._hasDocumentFormattingProvider.set(modes.DocumentFormattingEditProviderRegistry.has(model) || modes.DocumentRangeFormattingEditProviderRegistry.has(model));\n\t\t\tthis._hasDocumentSelectionFormattingProvider.set(modes.DocumentRangeFormattingEditProviderRegistry.has(model));\n\t\t\tthis._hasMultipleDocumentFormattingProvider.set(modes.DocumentFormattingEditProviderRegistry.all(model).length + modes.DocumentRangeFormattingEditProviderRegistry.all(model).length > 1);\n\t\t\tthis._hasMultipleDocumentSelectionFormattingProvider.set(modes.DocumentRangeFormattingEditProviderRegistry.all(model).length > 1);\n\t\t\tthis._isInWalkThrough.set(model.uri.scheme === Schemas.walkThroughSnippet);\n\t\t});\n\t}\n}\n\nclass CodeEditorWidgetFocusTracker extends Disposable {\n\n\tprivate _hasFocus: boolean;\n\tprivate readonly _domFocusTracker: dom.IFocusTracker;\n\n\tprivate readonly _onChange: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onChange: Event<void> = this._onChange.event;\n\n\tconstructor(domElement: HTMLElement) {\n\t\tsuper();\n\n\t\tthis._hasFocus = false;\n\t\tthis._domFocusTracker = this._register(dom.trackFocus(domElement));\n\n\t\tthis._register(this._domFocusTracker.onDidFocus(() => {\n\t\t\tthis._hasFocus = true;\n\t\t\tthis._onChange.fire(undefined);\n\t\t}));\n\t\tthis._register(this._domFocusTracker.onDidBlur(() => {\n\t\t\tthis._hasFocus = false;\n\t\t\tthis._onChange.fire(undefined);\n\t\t}));\n\t}\n\n\tpublic hasFocus(): boolean {\n\t\treturn this._hasFocus;\n\t}\n\n\tpublic refreshState(): void {\n\t\tif (this._domFocusTracker.refreshState) {\n\t\t\tthis._domFocusTracker.refreshState();\n\t\t}\n\t}\n}\n\nconst squigglyStart = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='`);\nconst squigglyEnd = encodeURIComponent(`'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>`);\n\nfunction getSquigglySVGData(color: Color) {\n\treturn squigglyStart + encodeURIComponent(color.toString()) + squigglyEnd;\n}\n\nconst dotdotdotStart = encodeURIComponent(`<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"3\" width=\"12\"><g fill=\"`);\nconst dotdotdotEnd = encodeURIComponent(`\"><circle cx=\"1\" cy=\"1\" r=\"1\"/><circle cx=\"5\" cy=\"1\" r=\"1\"/><circle cx=\"9\" cy=\"1\" r=\"1\"/></g></svg>`);\n\nfunction getDotDotDotSVGData(color: Color) {\n\treturn dotdotdotStart + encodeURIComponent(color.toString()) + dotdotdotEnd;\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst errorBorderColor = theme.getColor(editorErrorBorder);\n\tif (errorBorderColor) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorErrorDecoration} { border-bottom: 4px double ${errorBorderColor}; }`);\n\t}\n\tconst errorForeground = theme.getColor(editorErrorForeground);\n\tif (errorForeground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorErrorDecoration} { background: url(\"data:image/svg+xml,${getSquigglySVGData(errorForeground)}\") repeat-x bottom left; }`);\n\t}\n\tconst errorBackground = theme.getColor(editorErrorBackground);\n\tif (errorBackground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorErrorDecoration}::before { display: block; content: ''; width: 100%; height: 100%; background: ${errorBackground}; }`);\n\t}\n\n\tconst warningBorderColor = theme.getColor(editorWarningBorder);\n\tif (warningBorderColor) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorWarningDecoration} { border-bottom: 4px double ${warningBorderColor}; }`);\n\t}\n\tconst warningForeground = theme.getColor(editorWarningForeground);\n\tif (warningForeground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorWarningDecoration} { background: url(\"data:image/svg+xml,${getSquigglySVGData(warningForeground)}\") repeat-x bottom left; }`);\n\t}\n\tconst warningBackground = theme.getColor(editorWarningBackground);\n\tif (warningBackground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorWarningDecoration}::before { display: block; content: ''; width: 100%; height: 100%; background: ${warningBackground}; }`);\n\t}\n\n\tconst infoBorderColor = theme.getColor(editorInfoBorder);\n\tif (infoBorderColor) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorInfoDecoration} { border-bottom: 4px double ${infoBorderColor}; }`);\n\t}\n\tconst infoForeground = theme.getColor(editorInfoForeground);\n\tif (infoForeground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorInfoDecoration} { background: url(\"data:image/svg+xml,${getSquigglySVGData(infoForeground)}\") repeat-x bottom left; }`);\n\t}\n\tconst infoBackground = theme.getColor(editorInfoBackground);\n\tif (infoBackground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorInfoDecoration}::before { display: block; content: ''; width: 100%; height: 100%; background: ${infoBackground}; }`);\n\t}\n\n\tconst hintBorderColor = theme.getColor(editorHintBorder);\n\tif (hintBorderColor) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorHintDecoration} { border-bottom: 2px dotted ${hintBorderColor}; }`);\n\t}\n\tconst hintForeground = theme.getColor(editorHintForeground);\n\tif (hintForeground) {\n\t\tcollector.addRule(`.monaco-editor .${ClassName.EditorHintDecoration} { background: url(\"data:image/svg+xml,${getDotDotDotSVGData(hintForeground)}\") no-repeat bottom left; }`);\n\t}\n\n\tconst unnecessaryForeground = theme.getColor(editorUnnecessaryCodeOpacity);\n\tif (unnecessaryForeground) {\n\t\tcollector.addRule(`.monaco-editor.showUnused .${ClassName.EditorUnnecessaryInlineDecoration} { opacity: ${unnecessaryForeground.rgba.a}; }`);\n\t}\n\n\tconst unnecessaryBorder = theme.getColor(editorUnnecessaryCodeBorder);\n\tif (unnecessaryBorder) {\n\t\tcollector.addRule(`.monaco-editor.showUnused .${ClassName.EditorUnnecessaryDecoration} { border-bottom: 2px dashed ${unnecessaryBorder}; }`);\n\t}\n\n\tconst deprecatedForeground = theme.getColor(editorForeground) || 'inherit';\n\tcollector.addRule(`.monaco-editor.showDeprecated .${ClassName.EditorDeprecatedInlineDecoration} { text-decoration: line-through; text-decoration-color: ${deprecatedForeground}}`);\n});\n"]}