{"version":3,"sources":["vs/workbench/browser/parts/sidebar/sidebarPart.ts"],"names":[],"mappings":"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","file":"sidebarPart.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/sidebarpart';\nimport { localize } from 'vs/nls';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { CompositePart } from 'vs/workbench/browser/parts/compositePart';\nimport { Viewlet, ViewletRegistry, Extensions as ViewletExtensions, ViewletDescriptor } from 'vs/workbench/browser/viewlet';\nimport { Action2, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { IViewletService } from 'vs/workbench/services/viewlet/browser/viewlet';\nimport { IWorkbenchLayoutService, Parts, Position as SideBarPosition } from 'vs/workbench/services/layout/browser/layoutService';\nimport { IViewlet, SidebarFocusContext, ActiveViewletContext } from 'vs/workbench/common/viewlet';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { KeyMod, KeyCode } from 'vs/base/common/keyCodes';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { contrastBorder } from 'vs/platform/theme/common/colorRegistry';\nimport { SIDE_BAR_TITLE_FOREGROUND, SIDE_BAR_BACKGROUND, SIDE_BAR_FOREGROUND, SIDE_BAR_BORDER, SIDE_BAR_DRAG_AND_DROP_BACKGROUND } from 'vs/workbench/common/theme';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { EventType, addDisposableListener, trackFocus } from 'vs/base/browser/dom';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { AnchorAlignment } from 'vs/base/browser/ui/contextview/contextview';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { registerSingleton } from 'vs/platform/instantiation/common/extensions';\nimport { LayoutPriority } from 'vs/base/browser/ui/grid/grid';\nimport { assertIsDefined } from 'vs/base/common/types';\nimport { CompositeDragAndDropObserver } from 'vs/workbench/browser/dnd';\nimport { IViewDescriptorService, ViewContainerLocation } from 'vs/workbench/common/views';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { CATEGORIES } from 'vs/workbench/common/actions';\n\nexport class SidebarPart extends CompositePart<Viewlet> implements IViewletService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tstatic readonly activeViewletSettingsKey = 'workbench.sidebar.activeviewletid';\n\n\t//#region IView\n\n\treadonly minimumWidth: number = 170;\n\treadonly maximumWidth: number = Number.POSITIVE_INFINITY;\n\treadonly minimumHeight: number = 0;\n\treadonly maximumHeight: number = Number.POSITIVE_INFINITY;\n\n\treadonly priority: LayoutPriority = LayoutPriority.Low;\n\n\treadonly snap = true;\n\n\tget preferredWidth(): number | undefined {\n\t\tconst viewlet = this.getActiveViewlet();\n\n\t\tif (!viewlet) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst width = viewlet.getOptimalWidth();\n\t\tif (typeof width !== 'number') {\n\t\t\treturn;\n\t\t}\n\n\t\treturn Math.max(width, 300);\n\t}\n\n\t//#endregion\n\n\tget onDidViewletRegister(): Event<ViewletDescriptor> { return <Event<ViewletDescriptor>>this.viewletRegistry.onDidRegister; }\n\n\tprivate _onDidViewletDeregister = this._register(new Emitter<ViewletDescriptor>());\n\treadonly onDidViewletDeregister = this._onDidViewletDeregister.event;\n\n\tget onDidViewletOpen(): Event<IViewlet> { return Event.map(this.onDidCompositeOpen.event, compositeEvent => <IViewlet>compositeEvent.composite); }\n\tget onDidViewletClose(): Event<IViewlet> { return this.onDidCompositeClose.event as Event<IViewlet>; }\n\n\tprivate readonly viewletRegistry = Registry.as<ViewletRegistry>(ViewletExtensions.Viewlets);\n\n\tprivate readonly sideBarFocusContextKey = SidebarFocusContext.bindTo(this.contextKeyService);\n\tprivate readonly activeViewletContextKey = ActiveViewletContext.bindTo(this.contextKeyService);\n\n\tprivate blockOpeningViewlet = false;\n\n\tconstructor(\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService\n\t) {\n\t\tsuper(\n\t\t\tnotificationService,\n\t\t\tstorageService,\n\t\t\ttelemetryService,\n\t\t\tcontextMenuService,\n\t\t\tlayoutService,\n\t\t\tkeybindingService,\n\t\t\tinstantiationService,\n\t\t\tthemeService,\n\t\t\tRegistry.as<ViewletRegistry>(ViewletExtensions.Viewlets),\n\t\t\tSidebarPart.activeViewletSettingsKey,\n\t\t\tviewDescriptorService.getDefaultViewContainer(ViewContainerLocation.Sidebar)!.id,\n\t\t\t'sideBar',\n\t\t\t'viewlet',\n\t\t\tSIDE_BAR_TITLE_FOREGROUND,\n\t\t\tParts.SIDEBAR_PART,\n\t\t\t{ hasTitle: true, borderWidth: () => (this.getColor(SIDE_BAR_BORDER) || this.getColor(contrastBorder)) ? 1 : 0 }\n\t\t);\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Viewlet open\n\t\tthis._register(this.onDidViewletOpen(viewlet => {\n\t\t\tthis.activeViewletContextKey.set(viewlet.getId());\n\t\t}));\n\n\t\t// Viewlet close\n\t\tthis._register(this.onDidViewletClose(viewlet => {\n\t\t\tif (this.activeViewletContextKey.get() === viewlet.getId()) {\n\t\t\t\tthis.activeViewletContextKey.reset();\n\t\t\t}\n\t\t}));\n\n\t\t// Viewlet deregister\n\t\tthis._register(this.registry.onDidDeregister(async (viewletDescriptor: ViewletDescriptor) => {\n\n\t\t\tconst activeContainers = this.viewDescriptorService.getViewContainersByLocation(ViewContainerLocation.Sidebar)\n\t\t\t\t.filter(container => this.viewDescriptorService.getViewContainerModel(container).activeViewDescriptors.length > 0);\n\n\t\t\tif (activeContainers.length) {\n\t\t\t\tif (this.getActiveComposite()?.getId() === viewletDescriptor.id) {\n\t\t\t\t\tconst defaultViewletId = this.viewDescriptorService.getDefaultViewContainer(ViewContainerLocation.Sidebar)?.id;\n\t\t\t\t\tconst containerToOpen = activeContainers.filter(c => c.id === defaultViewletId)[0] || activeContainers[0];\n\t\t\t\t\tawait this.openViewlet(containerToOpen.id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.layoutService.setSideBarHidden(true);\n\t\t\t}\n\n\t\t\tthis.removeComposite(viewletDescriptor.id);\n\t\t\tthis._onDidViewletDeregister.fire(viewletDescriptor);\n\t\t}));\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tthis.element = parent;\n\n\t\tsuper.create(parent);\n\n\t\tconst focusTracker = this._register(trackFocus(parent));\n\t\tthis._register(focusTracker.onDidFocus(() => this.sideBarFocusContextKey.set(true)));\n\t\tthis._register(focusTracker.onDidBlur(() => this.sideBarFocusContextKey.set(false)));\n\t}\n\n\toverride createTitleArea(parent: HTMLElement): HTMLElement {\n\t\tconst titleArea = super.createTitleArea(parent);\n\n\t\tthis._register(addDisposableListener(titleArea, EventType.CONTEXT_MENU, e => {\n\t\t\tthis.onTitleAreaContextMenu(new StandardMouseEvent(e));\n\t\t}));\n\n\t\tthis.titleLabelElement!.draggable = true;\n\n\t\tconst draggedItemProvider = (): { type: 'view' | 'composite', id: string } => {\n\t\t\tconst activeViewlet = this.getActiveViewlet()!;\n\t\t\treturn { type: 'composite', id: activeViewlet.getId() };\n\t\t};\n\n\t\tthis._register(CompositeDragAndDropObserver.INSTANCE.registerDraggable(this.titleLabelElement!, draggedItemProvider, {}));\n\t\treturn titleArea;\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\t// Part container\n\t\tconst container = assertIsDefined(this.getContainer());\n\n\t\tcontainer.style.backgroundColor = this.getColor(SIDE_BAR_BACKGROUND) || '';\n\t\tcontainer.style.color = this.getColor(SIDE_BAR_FOREGROUND) || '';\n\n\t\tconst borderColor = this.getColor(SIDE_BAR_BORDER) || this.getColor(contrastBorder);\n\t\tconst isPositionLeft = this.layoutService.getSideBarPosition() === SideBarPosition.LEFT;\n\t\tcontainer.style.borderRightWidth = borderColor && isPositionLeft ? '1px' : '';\n\t\tcontainer.style.borderRightStyle = borderColor && isPositionLeft ? 'solid' : '';\n\t\tcontainer.style.borderRightColor = isPositionLeft ? borderColor || '' : '';\n\t\tcontainer.style.borderLeftWidth = borderColor && !isPositionLeft ? '1px' : '';\n\t\tcontainer.style.borderLeftStyle = borderColor && !isPositionLeft ? 'solid' : '';\n\t\tcontainer.style.borderLeftColor = !isPositionLeft ? borderColor || '' : '';\n\t\tcontainer.style.outlineColor = this.getColor(SIDE_BAR_DRAG_AND_DROP_BACKGROUND) ?? '';\n\t}\n\n\toverride layout(width: number, height: number): void {\n\t\tif (!this.layoutService.isVisible(Parts.SIDEBAR_PART)) {\n\t\t\treturn;\n\t\t}\n\n\t\tsuper.layout(width, height);\n\t}\n\n\t// Viewlet service\n\n\tgetActiveViewlet(): IViewlet | undefined {\n\t\treturn <IViewlet>this.getActiveComposite();\n\t}\n\n\tgetLastActiveViewletId(): string {\n\t\treturn this.getLastActiveCompositetId();\n\t}\n\n\thideActiveViewlet(): void {\n\t\tthis.hideActiveComposite();\n\t}\n\n\tasync openViewlet(id: string | undefined, focus?: boolean): Promise<IViewlet | undefined> {\n\t\tif (typeof id === 'string' && this.getViewlet(id)) {\n\t\t\treturn this.doOpenViewlet(id, focus);\n\t\t}\n\n\t\tawait this.extensionService.whenInstalledExtensionsRegistered();\n\n\t\tif (typeof id === 'string' && this.getViewlet(id)) {\n\t\t\treturn this.doOpenViewlet(id, focus);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tgetViewlets(): ViewletDescriptor[] {\n\t\treturn this.viewletRegistry.getViewlets().sort((v1, v2) => {\n\t\t\tif (typeof v1.order !== 'number') {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (typeof v2.order !== 'number') {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn v1.order - v2.order;\n\t\t});\n\t}\n\n\tgetViewlet(id: string): ViewletDescriptor {\n\t\treturn this.getViewlets().filter(viewlet => viewlet.id === id)[0];\n\t}\n\n\tprivate doOpenViewlet(id: string, focus?: boolean): Viewlet | undefined {\n\t\tif (this.blockOpeningViewlet) {\n\t\t\treturn undefined; // Workaround against a potential race condition\n\t\t}\n\n\t\t// First check if sidebar is hidden and show if so\n\t\tif (!this.layoutService.isVisible(Parts.SIDEBAR_PART)) {\n\t\t\ttry {\n\t\t\t\tthis.blockOpeningViewlet = true;\n\t\t\t\tthis.layoutService.setSideBarHidden(false);\n\t\t\t} finally {\n\t\t\t\tthis.blockOpeningViewlet = false;\n\t\t\t}\n\t\t}\n\n\t\treturn this.openComposite(id, focus) as Viewlet;\n\t}\n\n\tprotected override getTitleAreaDropDownAnchorAlignment(): AnchorAlignment {\n\t\treturn this.layoutService.getSideBarPosition() === SideBarPosition.LEFT ? AnchorAlignment.LEFT : AnchorAlignment.RIGHT;\n\t}\n\n\tprivate onTitleAreaContextMenu(event: StandardMouseEvent): void {\n\t\tconst activeViewlet = this.getActiveViewlet() as Viewlet;\n\t\tif (activeViewlet) {\n\t\t\tconst contextMenuActions = activeViewlet ? activeViewlet.getContextMenuActions() : [];\n\t\t\tif (contextMenuActions.length) {\n\t\t\t\tconst anchor: { x: number, y: number } = { x: event.posx, y: event.posy };\n\t\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\t\tgetAnchor: () => anchor,\n\t\t\t\t\tgetActions: () => contextMenuActions.slice(),\n\t\t\t\t\tgetActionViewItem: action => this.actionViewItemProvider(action),\n\t\t\t\t\tactionRunner: activeViewlet.getActionRunner()\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.SIDEBAR_PART\n\t\t};\n\t}\n}\n\nclass FocusSideBarAction extends Action2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.focusSideBar',\n\t\t\ttitle: { value: localize('focusSideBar', \"Focus into Side Bar\"), original: 'Focus into Side Bar' },\n\t\t\tcategory: CATEGORIES.View,\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\twhen: null,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_0\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst layoutService = accessor.get(IWorkbenchLayoutService);\n\t\tconst viewletService = accessor.get(IViewletService);\n\n\t\t// Show side bar\n\t\tif (!layoutService.isVisible(Parts.SIDEBAR_PART)) {\n\t\t\tlayoutService.setSideBarHidden(false);\n\t\t\treturn;\n\t\t}\n\n\t\t// Focus into active viewlet\n\t\tconst viewlet = viewletService.getActiveViewlet();\n\t\tif (viewlet) {\n\t\t\tviewlet.focus();\n\t\t}\n\t}\n}\n\nregisterAction2(FocusSideBarAction);\n\nregisterSingleton(IViewletService, SidebarPart);\n"]}