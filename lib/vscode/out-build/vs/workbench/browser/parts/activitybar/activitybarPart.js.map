{"version":3,"sources":["vs/workbench/browser/parts/activitybar/activitybarPart.ts"],"names":[],"mappings":"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","file":"activitybarPart.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/activitybarpart';\nimport { localize } from 'vs/nls';\nimport { ActionsOrientation, ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { GLOBAL_ACTIVITY_ID, IActivity, ACCOUNTS_ACTIVITY_ID } from 'vs/workbench/common/activity';\nimport { Part } from 'vs/workbench/browser/part';\nimport { GlobalActivityActionViewItem, ViewContainerActivityAction, PlaceHolderToggleCompositePinnedAction, PlaceHolderViewContainerActivityAction, AccountsActivityActionViewItem } from 'vs/workbench/browser/parts/activitybar/activitybarActions';\nimport { IBadge, NumberBadge } from 'vs/workbench/services/activity/common/activity';\nimport { IWorkbenchLayoutService, Parts, Position } from 'vs/workbench/services/layout/browser/layoutService';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IDisposable, toDisposable, DisposableStore, Disposable } from 'vs/base/common/lifecycle';\nimport { ToggleActivityBarVisibilityAction, ToggleSidebarPositionAction } from 'vs/workbench/browser/actions/layoutActions';\nimport { IThemeService, IColorTheme, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { ACTIVITY_BAR_BACKGROUND, ACTIVITY_BAR_BORDER, ACTIVITY_BAR_FOREGROUND, ACTIVITY_BAR_ACTIVE_BORDER, ACTIVITY_BAR_BADGE_BACKGROUND, ACTIVITY_BAR_BADGE_FOREGROUND, ACTIVITY_BAR_INACTIVE_FOREGROUND, ACTIVITY_BAR_ACTIVE_BACKGROUND, ACTIVITY_BAR_DRAG_AND_DROP_BORDER } from 'vs/workbench/common/theme';\nimport { contrastBorder } from 'vs/platform/theme/common/colorRegistry';\nimport { CompositeBar, ICompositeBarItem, CompositeDragAndDrop } from 'vs/workbench/browser/parts/compositeBar';\nimport { Dimension, createCSSRule, asCSSUrl, addDisposableListener, EventType } from 'vs/base/browser/dom';\nimport { IStorageService, StorageScope, IStorageValueChangeEvent, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { URI, UriComponents } from 'vs/base/common/uri';\nimport { ToggleCompositePinnedAction, ICompositeBarColors, ActivityAction, ICompositeActivity, IActivityHoverOptions } from 'vs/workbench/browser/parts/compositeBarActions';\nimport { IViewDescriptorService, ViewContainer, IViewContainerModel, ViewContainerLocation, IViewsService, getEnabledViewContainerContextKey } from 'vs/workbench/common/views';\nimport { IContextKeyService, ContextKeyExpr, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { assertIsDefined, isString } from 'vs/base/common/types';\nimport { IActivityBarService } from 'vs/workbench/services/activityBar/browser/activityBarService';\nimport { registerSingleton } from 'vs/platform/instantiation/common/extensions';\nimport { IWorkbenchEnvironmentService } from 'vs/workbench/services/environment/common/environmentService';\nimport { CustomMenubarControl } from 'vs/workbench/browser/parts/titlebar/menubarControl';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { getMenuBarVisibility } from 'vs/platform/windows/common/windows';\nimport { isNative } from 'vs/base/common/platform';\nimport { Before2D } from 'vs/workbench/browser/dnd';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { IAction, Separator, toAction } from 'vs/base/common/actions';\nimport { Event } from 'vs/base/common/event';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { Action2, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { CATEGORIES } from 'vs/workbench/common/actions';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\nimport { StringSHA1 } from 'vs/base/common/hash';\nimport { HoverPosition } from 'vs/base/browser/ui/hover/hoverWidget';\n\ninterface IPlaceholderViewContainer {\n\treadonly id: string;\n\treadonly name?: string;\n\treadonly iconUrl?: UriComponents;\n\treadonly themeIcon?: ThemeIcon;\n\treadonly isBuiltin?: boolean;\n\treadonly views?: { when?: string; }[];\n}\n\ninterface IPinnedViewContainer {\n\treadonly id: string;\n\treadonly pinned: boolean;\n\treadonly order?: number;\n\treadonly visible: boolean;\n}\n\ninterface ICachedViewContainer {\n\treadonly id: string;\n\tname?: string;\n\ticon?: URI | ThemeIcon;\n\treadonly pinned: boolean;\n\treadonly order?: number;\n\tvisible: boolean;\n\tisBuiltin?: boolean;\n\tviews?: { when?: string; }[];\n}\n\nexport class ActivitybarPart extends Part implements IActivityBarService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate static readonly PINNED_VIEW_CONTAINERS = 'workbench.activity.pinnedViewlets2';\n\tprivate static readonly PLACEHOLDER_VIEW_CONTAINERS = 'workbench.activity.placeholderViewlets';\n\tprivate static readonly ACTION_HEIGHT = 48;\n\tprivate static readonly ACCOUNTS_ACTION_INDEX = 0;\n\n\tprivate static readonly GEAR_ICON = registerIcon('settings-view-bar-icon', Codicon.settingsGear, localize('settingsViewBarIcon', \"Settings icon in the view bar.\"));\n\tprivate static readonly ACCOUNTS_ICON = registerIcon('accounts-view-bar-icon', Codicon.account, localize('accountsViewBarIcon', \"Accounts icon in the view bar.\"));\n\n\t//#region IView\n\n\treadonly minimumWidth: number = 48;\n\treadonly maximumWidth: number = 48;\n\treadonly minimumHeight: number = 0;\n\treadonly maximumHeight: number = Number.POSITIVE_INFINITY;\n\n\t//#endregion\n\n\tprivate content: HTMLElement | undefined;\n\n\tprivate menuBar: CustomMenubarControl | undefined;\n\tprivate menuBarContainer: HTMLElement | undefined;\n\n\tprivate compositeBar: CompositeBar;\n\tprivate compositeBarContainer: HTMLElement | undefined;\n\n\tprivate globalActivityAction: ActivityAction | undefined;\n\tprivate globalActivityActionBar: ActionBar | undefined;\n\tprivate globalActivitiesContainer: HTMLElement | undefined;\n\tprivate readonly globalActivity: ICompositeActivity[] = [];\n\n\tprivate accountsActivityAction: ActivityAction | undefined;\n\n\tprivate readonly accountsActivity: ICompositeActivity[] = [];\n\n\tprivate readonly compositeActions = new Map<string, { activityAction: ViewContainerActivityAction, pinnedAction: ToggleCompositePinnedAction; }>();\n\tprivate readonly viewContainerDisposables = new Map<string, IDisposable>();\n\n\tprivate readonly keyboardNavigationDisposables = this._register(new DisposableStore());\n\n\tprivate readonly location = ViewContainerLocation.Sidebar;\n\tprivate hasExtensionsRegistered: boolean = false;\n\n\tprivate readonly enabledViewContainersContextKeys: Map<string, IContextKey<boolean>> = new Map<string, IContextKey<boolean>>();\n\n\tconstructor(\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService,\n\t\t@IViewsService private readonly viewsService: IViewsService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t) {\n\t\tsuper(Parts.ACTIVITYBAR_PART, { hasTitle: false }, themeService, storageService, layoutService);\n\n\t\tfor (const cachedViewContainer of this.cachedViewContainers) {\n\t\t\tcachedViewContainer.visible = !this.shouldBeHidden(cachedViewContainer.id, cachedViewContainer);\n\t\t}\n\t\tthis.compositeBar = this.createCompositeBar();\n\n\t\tthis.onDidRegisterViewContainers(this.getViewContainers());\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate createCompositeBar() {\n\t\tconst cachedItems = this.cachedViewContainers\n\t\t\t.map(container => ({\n\t\t\t\tid: container.id,\n\t\t\t\tname: container.name,\n\t\t\t\tvisible: container.visible,\n\t\t\t\torder: container.order,\n\t\t\t\tpinned: container.pinned\n\t\t\t}));\n\n\t\treturn this._register(this.instantiationService.createInstance(CompositeBar, cachedItems, {\n\t\t\ticon: true,\n\t\t\torientation: ActionsOrientation.VERTICAL,\n\t\t\tactivityHoverOptions: this.getActivityHoverOptions(),\n\t\t\tpreventLoopNavigation: true,\n\t\t\topenComposite: compositeId => this.viewsService.openViewContainer(compositeId, true),\n\t\t\tgetActivityAction: compositeId => this.getCompositeActions(compositeId).activityAction,\n\t\t\tgetCompositePinnedAction: compositeId => this.getCompositeActions(compositeId).pinnedAction,\n\t\t\tgetOnCompositeClickAction: compositeId => toAction({ id: compositeId, label: '', run: async () => this.viewsService.isViewContainerVisible(compositeId) ? this.viewsService.closeViewContainer(compositeId) : this.viewsService.openViewContainer(compositeId) }),\n\t\t\tfillExtraContextMenuActions: actions => {\n\t\t\t\tconst topActions: IAction[] = [];\n\n\t\t\t\t// Menu\n\t\t\t\tconst menuBarVisibility = getMenuBarVisibility(this.configurationService);\n\t\t\t\tif (menuBarVisibility === 'compact' || menuBarVisibility === 'hidden' || menuBarVisibility === 'toggle') {\n\t\t\t\t\ttopActions.push({\n\t\t\t\t\t\tid: 'toggleMenuVisibility',\n\t\t\t\t\t\tlabel: localize('menu', \"Menu\"),\n\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\ttooltip: localize('menu', \"Menu\"),\n\t\t\t\t\t\tchecked: menuBarVisibility === 'compact',\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\trun: async () => this.configurationService.updateValue('window.menuBarVisibility', menuBarVisibility === 'compact' ? 'toggle' : 'compact'),\n\t\t\t\t\t\tdispose: () => { }\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (topActions.length) {\n\t\t\t\t\tactions.unshift(...topActions, new Separator());\n\t\t\t\t}\n\n\t\t\t\t// Accounts\n\t\t\t\tactions.push(new Separator());\n\t\t\t\tactions.push({\n\t\t\t\t\tid: 'toggleAccountsVisibility',\n\t\t\t\t\tlabel: localize('accounts', \"Accounts\"),\n\t\t\t\t\tclass: undefined,\n\t\t\t\t\ttooltip: localize('accounts', \"Accounts\"),\n\t\t\t\t\tchecked: this.accountsVisibilityPreference,\n\t\t\t\t\tenabled: true,\n\t\t\t\t\trun: async () => this.accountsVisibilityPreference = !this.accountsVisibilityPreference,\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t});\n\n\t\t\t\tactions.push(new Separator());\n\n\t\t\t\t// Toggle Sidebar\n\t\t\t\tactions.push(this.instantiationService.createInstance(ToggleSidebarPositionAction, ToggleSidebarPositionAction.ID, ToggleSidebarPositionAction.getLabel(this.layoutService)));\n\n\t\t\t\t// Toggle Activity Bar\n\t\t\t\tactions.push(toAction({ id: ToggleActivityBarVisibilityAction.ID, label: localize('hideActivitBar', \"Hide Activity Bar\"), run: async () => this.instantiationService.invokeFunction(accessor => new ToggleActivityBarVisibilityAction().run(accessor)) }));\n\t\t\t},\n\t\t\tgetContextMenuActionsForComposite: compositeId => this.getContextMenuActionsForComposite(compositeId),\n\t\t\tgetDefaultCompositeId: () => this.viewDescriptorService.getDefaultViewContainer(this.location)!.id,\n\t\t\thidePart: () => this.layoutService.setSideBarHidden(true),\n\t\t\tdndHandler: new CompositeDragAndDrop(this.viewDescriptorService, ViewContainerLocation.Sidebar,\n\t\t\t\t(id: string, focus?: boolean) => this.viewsService.openViewContainer(id, focus),\n\t\t\t\t(from: string, to: string, before?: Before2D) => this.compositeBar.move(from, to, before?.verticallyBefore),\n\t\t\t\t() => this.compositeBar.getCompositeBarItems(),\n\t\t\t),\n\t\t\tcompositeSize: 52,\n\t\t\tcolors: (theme: IColorTheme) => this.getActivitybarItemColors(theme),\n\t\t\toverflowActionSize: ActivitybarPart.ACTION_HEIGHT\n\t\t}));\n\t}\n\n\tprivate getActivityHoverOptions(): IActivityHoverOptions {\n\t\treturn {\n\t\t\tposition: () => this.layoutService.getSideBarPosition() === Position.LEFT ? HoverPosition.RIGHT : HoverPosition.LEFT,\n\t\t\tdelay: () => 0\n\t\t};\n\t}\n\n\tprivate getContextMenuActionsForComposite(compositeId: string): IAction[] {\n\t\tconst actions: IAction[] = [];\n\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(compositeId)!;\n\t\tconst defaultLocation = this.viewDescriptorService.getDefaultViewContainerLocation(viewContainer)!;\n\t\tif (defaultLocation !== this.viewDescriptorService.getViewContainerLocation(viewContainer)) {\n\t\t\tactions.push(toAction({ id: 'resetLocationAction', label: localize('resetLocation', \"Reset Location\"), run: () => this.viewDescriptorService.moveViewContainerToLocation(viewContainer, defaultLocation) }));\n\t\t} else {\n\t\t\tconst viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);\n\t\t\tif (viewContainerModel.allViewDescriptors.length === 1) {\n\t\t\t\tconst viewToReset = viewContainerModel.allViewDescriptors[0];\n\t\t\t\tconst defaultContainer = this.viewDescriptorService.getDefaultContainerById(viewToReset.id)!;\n\t\t\t\tif (defaultContainer !== viewContainer) {\n\t\t\t\t\tactions.push(toAction({ id: 'resetLocationAction', label: localize('resetLocation', \"Reset Location\"), run: () => this.viewDescriptorService.moveViewsToContainer([viewToReset], defaultContainer) }));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// View Container Changes\n\t\tthis._register(this.viewDescriptorService.onDidChangeViewContainers(({ added, removed }) => this.onDidChangeViewContainers(added, removed)));\n\t\tthis._register(this.viewDescriptorService.onDidChangeContainerLocation(({ viewContainer, from, to }) => this.onDidChangeViewContainerLocation(viewContainer, from, to)));\n\n\t\t// View Container Visibility Changes\n\t\tthis._register(Event.filter(this.viewsService.onDidChangeViewContainerVisibility, e => e.location === this.location)(({ id, visible }) => this.onDidChangeViewContainerVisibility(id, visible)));\n\n\t\t// Extension registration\n\t\tlet disposables = this._register(new DisposableStore());\n\t\tthis._register(this.extensionService.onDidRegisterExtensions(() => {\n\t\t\tdisposables.clear();\n\t\t\tthis.onDidRegisterExtensions();\n\t\t\tthis.compositeBar.onDidChange(() => this.saveCachedViewContainers(), this, disposables);\n\t\t\tthis.storageService.onDidChangeValue(e => this.onDidStorageValueChange(e), this, disposables);\n\t\t}));\n\n\t\t// Register for configuration changes\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('window.menuBarVisibility')) {\n\t\t\t\tif (getMenuBarVisibility(this.configurationService) === 'compact') {\n\t\t\t\t\tthis.installMenubar();\n\t\t\t\t} else {\n\t\t\t\t\tthis.uninstallMenubar();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate onDidChangeViewContainers(added: readonly { container: ViewContainer, location: ViewContainerLocation; }[], removed: readonly { container: ViewContainer, location: ViewContainerLocation; }[]) {\n\t\tremoved.filter(({ location }) => location === ViewContainerLocation.Sidebar).forEach(({ container }) => this.onDidDeregisterViewContainer(container));\n\t\tthis.onDidRegisterViewContainers(added.filter(({ location }) => location === ViewContainerLocation.Sidebar).map(({ container }) => container));\n\t}\n\n\tprivate onDidChangeViewContainerLocation(container: ViewContainer, from: ViewContainerLocation, to: ViewContainerLocation) {\n\t\tif (from === this.location) {\n\t\t\tthis.onDidDeregisterViewContainer(container);\n\t\t}\n\n\t\tif (to === this.location) {\n\t\t\tthis.onDidRegisterViewContainers([container]);\n\t\t}\n\t}\n\n\tprivate onDidChangeViewContainerVisibility(id: string, visible: boolean) {\n\t\tif (visible) {\n\t\t\t// Activate view container action on opening of a view container\n\t\t\tthis.onDidViewContainerVisible(id);\n\t\t} else {\n\t\t\t// Deactivate view container action on close\n\t\t\tthis.compositeBar.deactivateComposite(id);\n\t\t}\n\t}\n\n\tprivate onDidRegisterExtensions(): void {\n\t\tthis.hasExtensionsRegistered = true;\n\n\t\t// show/hide/remove composites\n\t\tfor (const { id } of this.cachedViewContainers) {\n\t\t\tconst viewContainer = this.getViewContainer(id);\n\t\t\tif (viewContainer) {\n\t\t\t\tthis.showOrHideViewContainer(viewContainer);\n\t\t\t} else {\n\t\t\t\tif (this.viewDescriptorService.isViewContainerRemovedPermanently(id)) {\n\t\t\t\t\tthis.removeComposite(id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.hideComposite(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.saveCachedViewContainers();\n\t}\n\n\tprivate onDidViewContainerVisible(id: string): void {\n\t\tconst viewContainer = this.getViewContainer(id);\n\t\tif (viewContainer) {\n\n\t\t\t// Update the composite bar by adding\n\t\t\tthis.addComposite(viewContainer);\n\t\t\tthis.compositeBar.activateComposite(viewContainer.id);\n\n\t\t\tif (this.shouldBeHidden(viewContainer)) {\n\t\t\t\tconst viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);\n\t\t\t\tif (viewContainerModel.activeViewDescriptors.length === 0) {\n\t\t\t\t\t// Update the composite bar by hiding\n\t\t\t\t\tthis.hideComposite(viewContainer.id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tshowActivity(viewContainerOrActionId: string, badge: IBadge, clazz?: string, priority?: number): IDisposable {\n\t\tif (this.getViewContainer(viewContainerOrActionId)) {\n\t\t\treturn this.compositeBar.showActivity(viewContainerOrActionId, badge, clazz, priority);\n\t\t}\n\n\t\tif (viewContainerOrActionId === GLOBAL_ACTIVITY_ID) {\n\t\t\treturn this.showGlobalActivity(GLOBAL_ACTIVITY_ID, badge, clazz, priority);\n\t\t}\n\n\t\tif (viewContainerOrActionId === ACCOUNTS_ACTIVITY_ID) {\n\t\t\treturn this.showGlobalActivity(ACCOUNTS_ACTIVITY_ID, badge, clazz, priority);\n\t\t}\n\n\t\treturn Disposable.None;\n\t}\n\n\tprivate showGlobalActivity(activityId: string, badge: IBadge, clazz?: string, priority?: number): IDisposable {\n\t\tif (typeof priority !== 'number') {\n\t\t\tpriority = 0;\n\t\t}\n\n\t\tconst activity: ICompositeActivity = { badge, clazz, priority };\n\t\tconst activityCache = activityId === GLOBAL_ACTIVITY_ID ? this.globalActivity : this.accountsActivity;\n\n\t\tfor (let i = 0; i <= activityCache.length; i++) {\n\t\t\tif (i === activityCache.length) {\n\t\t\t\tactivityCache.push(activity);\n\t\t\t\tbreak;\n\t\t\t} else if (activityCache[i].priority <= priority) {\n\t\t\t\tactivityCache.splice(i, 0, activity);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.updateGlobalActivity(activityId);\n\n\t\treturn toDisposable(() => this.removeGlobalActivity(activityId, activity));\n\t}\n\n\tprivate removeGlobalActivity(activityId: string, activity: ICompositeActivity): void {\n\t\tconst activityCache = activityId === GLOBAL_ACTIVITY_ID ? this.globalActivity : this.accountsActivity;\n\t\tconst index = activityCache.indexOf(activity);\n\t\tif (index !== -1) {\n\t\t\tactivityCache.splice(index, 1);\n\t\t\tthis.updateGlobalActivity(activityId);\n\t\t}\n\t}\n\n\tprivate updateGlobalActivity(activityId: string): void {\n\t\tconst activityAction = activityId === GLOBAL_ACTIVITY_ID ? this.globalActivityAction : this.accountsActivityAction;\n\t\tif (!activityAction) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activityCache = activityId === GLOBAL_ACTIVITY_ID ? this.globalActivity : this.accountsActivity;\n\t\tif (activityCache.length) {\n\t\t\tconst [{ badge, clazz, priority }] = activityCache;\n\t\t\tif (badge instanceof NumberBadge && activityCache.length > 1) {\n\t\t\t\tconst cumulativeNumberBadge = this.getCumulativeNumberBadge(activityCache, priority);\n\t\t\t\tactivityAction.setBadge(cumulativeNumberBadge);\n\t\t\t} else {\n\t\t\t\tactivityAction.setBadge(badge, clazz);\n\t\t\t}\n\t\t} else {\n\t\t\tactivityAction.setBadge(undefined);\n\t\t}\n\t}\n\n\tprivate getCumulativeNumberBadge(activityCache: ICompositeActivity[], priority: number): NumberBadge {\n\t\tconst numberActivities = activityCache.filter(activity => activity.badge instanceof NumberBadge && activity.priority === priority);\n\t\tconst number = numberActivities.reduce((result, activity) => { return result + (<NumberBadge>activity.badge).number; }, 0);\n\t\tconst descriptorFn = (): string => {\n\t\t\treturn numberActivities.reduce((result, activity, index) => {\n\t\t\t\tresult = result + (<NumberBadge>activity.badge).getDescription();\n\t\t\t\tif (index < numberActivities.length - 1) {\n\t\t\t\t\tresult = `${result}\\n`;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, '');\n\t\t};\n\n\t\treturn new NumberBadge(number, descriptorFn);\n\t}\n\n\tprivate uninstallMenubar() {\n\t\tif (this.menuBar) {\n\t\t\tthis.menuBar.dispose();\n\t\t\tthis.menuBar = undefined;\n\t\t}\n\n\t\tif (this.menuBarContainer) {\n\t\t\tthis.menuBarContainer.remove();\n\t\t\tthis.menuBarContainer = undefined;\n\t\t\tthis.registerKeyboardNavigationListeners();\n\t\t}\n\t}\n\n\tprivate installMenubar() {\n\t\tif (this.menuBar) {\n\t\t\treturn; // prevent menu bar from installing twice #110720\n\t\t}\n\n\t\tthis.menuBarContainer = document.createElement('div');\n\t\tthis.menuBarContainer.classList.add('menubar');\n\n\t\tconst content = assertIsDefined(this.content);\n\t\tcontent.prepend(this.menuBarContainer);\n\n\t\t// Menubar: install a custom menu bar depending on configuration\n\t\tthis.menuBar = this._register(this.instantiationService.createInstance(CustomMenubarControl));\n\t\tthis.menuBar.create(this.menuBarContainer);\n\n\t\tthis.registerKeyboardNavigationListeners();\n\t}\n\n\toverride createContentArea(parent: HTMLElement): HTMLElement {\n\t\tthis.element = parent;\n\n\t\tthis.content = document.createElement('div');\n\t\tthis.content.classList.add('content');\n\t\tparent.appendChild(this.content);\n\n\t\t// Install menubar if compact\n\t\tif (getMenuBarVisibility(this.configurationService) === 'compact') {\n\t\t\tthis.installMenubar();\n\t\t}\n\n\t\t// View Containers action bar\n\t\tthis.compositeBarContainer = this.compositeBar.create(this.content);\n\n\t\t// Global action bar\n\t\tthis.globalActivitiesContainer = document.createElement('div');\n\t\tthis.content.appendChild(this.globalActivitiesContainer);\n\n\t\tthis.createGlobalActivityActionBar(this.globalActivitiesContainer);\n\n\t\t// Keyboard Navigation\n\t\tthis.registerKeyboardNavigationListeners();\n\n\t\treturn this.content;\n\t}\n\n\tprivate registerKeyboardNavigationListeners(): void {\n\t\tthis.keyboardNavigationDisposables.clear();\n\n\t\t// Up/Down arrow on compact menu\n\t\tif (this.menuBarContainer) {\n\t\t\tthis.keyboardNavigationDisposables.add(addDisposableListener(this.menuBarContainer, EventType.KEY_DOWN, e => {\n\t\t\t\tconst kbEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (kbEvent.equals(KeyCode.DownArrow) || kbEvent.equals(KeyCode.RightArrow)) {\n\t\t\t\t\tif (this.compositeBar) {\n\t\t\t\t\t\tthis.compositeBar.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\t// Up/Down on Activity Icons\n\t\tif (this.compositeBarContainer) {\n\t\t\tthis.keyboardNavigationDisposables.add(addDisposableListener(this.compositeBarContainer, EventType.KEY_DOWN, e => {\n\t\t\t\tconst kbEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (kbEvent.equals(KeyCode.DownArrow) || kbEvent.equals(KeyCode.RightArrow)) {\n\t\t\t\t\tif (this.globalActivityActionBar) {\n\t\t\t\t\t\tthis.globalActivityActionBar.focus(true);\n\t\t\t\t\t}\n\t\t\t\t} else if (kbEvent.equals(KeyCode.UpArrow) || kbEvent.equals(KeyCode.LeftArrow)) {\n\t\t\t\t\tif (this.menuBar) {\n\t\t\t\t\t\tthis.menuBar.toggleFocus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\t// Up arrow on global icons\n\t\tif (this.globalActivitiesContainer) {\n\t\t\tthis.keyboardNavigationDisposables.add(addDisposableListener(this.globalActivitiesContainer, EventType.KEY_DOWN, e => {\n\t\t\t\tconst kbEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (kbEvent.equals(KeyCode.UpArrow) || kbEvent.equals(KeyCode.LeftArrow)) {\n\t\t\t\t\tif (this.compositeBar) {\n\t\t\t\t\t\tthis.compositeBar.focus(this.getVisibleViewContainerIds().length - 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate createGlobalActivityActionBar(container: HTMLElement): void {\n\t\tthis.globalActivityActionBar = this._register(new ActionBar(container, {\n\t\t\tactionViewItemProvider: action => {\n\t\t\t\tif (action.id === 'workbench.actions.manage') {\n\t\t\t\t\treturn this.instantiationService.createInstance(GlobalActivityActionViewItem, action as ActivityAction, () => this.compositeBar.getContextMenuActions(), (theme: IColorTheme) => this.getActivitybarItemColors(theme), this.getActivityHoverOptions());\n\t\t\t\t}\n\n\t\t\t\tif (action.id === 'workbench.actions.accounts') {\n\t\t\t\t\treturn this.instantiationService.createInstance(AccountsActivityActionViewItem, action as ActivityAction, () => this.compositeBar.getContextMenuActions(), (theme: IColorTheme) => this.getActivitybarItemColors(theme), this.getActivityHoverOptions());\n\t\t\t\t}\n\n\t\t\t\tthrow new Error(`No view item for action '${action.id}'`);\n\t\t\t},\n\t\t\torientation: ActionsOrientation.VERTICAL,\n\t\t\tariaLabel: localize('manage', \"Manage\"),\n\t\t\tanimated: false,\n\t\t\tpreventLoopNavigation: true\n\t\t}));\n\n\t\tthis.globalActivityAction = this._register(new ActivityAction({\n\t\t\tid: 'workbench.actions.manage',\n\t\t\tname: localize('manage', \"Manage\"),\n\t\t\tcssClass: ThemeIcon.asClassName(ActivitybarPart.GEAR_ICON)\n\t\t}));\n\n\t\tif (this.accountsVisibilityPreference) {\n\t\t\tthis.accountsActivityAction = this._register(new ActivityAction({\n\t\t\t\tid: 'workbench.actions.accounts',\n\t\t\t\tname: localize('accounts', \"Accounts\"),\n\t\t\t\tcssClass: ThemeIcon.asClassName(ActivitybarPart.ACCOUNTS_ICON)\n\t\t\t}));\n\n\t\t\tthis.globalActivityActionBar.push(this.accountsActivityAction, { index: ActivitybarPart.ACCOUNTS_ACTION_INDEX });\n\t\t}\n\n\t\tthis.globalActivityActionBar.push(this.globalActivityAction);\n\t}\n\n\tprivate toggleAccountsActivity() {\n\t\tif (this.globalActivityActionBar) {\n\t\t\tif (this.accountsActivityAction) {\n\t\t\t\tthis.globalActivityActionBar.pull(ActivitybarPart.ACCOUNTS_ACTION_INDEX);\n\t\t\t\tthis.accountsActivityAction = undefined;\n\t\t\t} else {\n\t\t\t\tthis.accountsActivityAction = this._register(new ActivityAction({\n\t\t\t\t\tid: 'workbench.actions.accounts',\n\t\t\t\t\tname: localize('accounts', \"Accounts\"),\n\t\t\t\t\tcssClass: Codicon.account.classNames\n\t\t\t\t}));\n\t\t\t\tthis.globalActivityActionBar.push(this.accountsActivityAction, { index: ActivitybarPart.ACCOUNTS_ACTION_INDEX });\n\t\t\t}\n\t\t}\n\n\t\tthis.updateGlobalActivity(ACCOUNTS_ACTIVITY_ID);\n\t}\n\n\tprivate getCompositeActions(compositeId: string): { activityAction: ViewContainerActivityAction, pinnedAction: ToggleCompositePinnedAction; } {\n\t\tlet compositeActions = this.compositeActions.get(compositeId);\n\t\tif (!compositeActions) {\n\t\t\tconst viewContainer = this.getViewContainer(compositeId);\n\t\t\tif (viewContainer) {\n\t\t\t\tconst viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);\n\t\t\t\tcompositeActions = {\n\t\t\t\t\tactivityAction: this.instantiationService.createInstance(ViewContainerActivityAction, this.toActivity(viewContainerModel)),\n\t\t\t\t\tpinnedAction: new ToggleCompositePinnedAction(this.toActivity(viewContainerModel), this.compositeBar)\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst cachedComposite = this.cachedViewContainers.filter(c => c.id === compositeId)[0];\n\t\t\t\tcompositeActions = {\n\t\t\t\t\tactivityAction: this.instantiationService.createInstance(PlaceHolderViewContainerActivityAction, ActivitybarPart.toActivity(compositeId, compositeId, cachedComposite?.icon, undefined)),\n\t\t\t\t\tpinnedAction: new PlaceHolderToggleCompositePinnedAction(compositeId, this.compositeBar)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.compositeActions.set(compositeId, compositeActions);\n\t\t}\n\n\t\treturn compositeActions;\n\t}\n\n\tprivate onDidRegisterViewContainers(viewContainers: readonly ViewContainer[]): void {\n\t\tfor (const viewContainer of viewContainers) {\n\t\t\tthis.addComposite(viewContainer);\n\n\t\t\t// Pin it by default if it is new\n\t\t\tconst cachedViewContainer = this.cachedViewContainers.filter(({ id }) => id === viewContainer.id)[0];\n\t\t\tif (!cachedViewContainer) {\n\t\t\t\tthis.compositeBar.pin(viewContainer.id);\n\t\t\t}\n\n\t\t\t// Active\n\t\t\tconst visibleViewContainer = this.viewsService.getVisibleViewContainer(this.location);\n\t\t\tif (visibleViewContainer?.id === viewContainer.id) {\n\t\t\t\tthis.compositeBar.activateComposite(viewContainer.id);\n\t\t\t}\n\n\t\t\tconst viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);\n\t\t\tthis.updateActivity(viewContainer, viewContainerModel);\n\t\t\tthis.showOrHideViewContainer(viewContainer);\n\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tdisposables.add(viewContainerModel.onDidChangeContainerInfo(() => this.updateActivity(viewContainer, viewContainerModel)));\n\t\t\tdisposables.add(viewContainerModel.onDidChangeActiveViewDescriptors(() => this.showOrHideViewContainer(viewContainer)));\n\n\t\t\tthis.viewContainerDisposables.set(viewContainer.id, disposables);\n\t\t}\n\t}\n\n\tprivate onDidDeregisterViewContainer(viewContainer: ViewContainer): void {\n\t\tconst disposable = this.viewContainerDisposables.get(viewContainer.id);\n\t\tif (disposable) {\n\t\t\tdisposable.dispose();\n\t\t}\n\n\t\tthis.viewContainerDisposables.delete(viewContainer.id);\n\t\tthis.removeComposite(viewContainer.id);\n\t}\n\n\tprivate updateActivity(viewContainer: ViewContainer, viewContainerModel: IViewContainerModel): void {\n\t\tconst activity: IActivity = this.toActivity(viewContainerModel);\n\t\tconst { activityAction, pinnedAction } = this.getCompositeActions(viewContainer.id);\n\t\tactivityAction.updateActivity(activity);\n\n\t\tif (pinnedAction instanceof PlaceHolderToggleCompositePinnedAction) {\n\t\t\tpinnedAction.setActivity(activity);\n\t\t}\n\n\t\tthis.saveCachedViewContainers();\n\t}\n\n\tprivate toActivity(viewContainerModel: IViewContainerModel): IActivity {\n\t\treturn ActivitybarPart.toActivity(viewContainerModel.viewContainer.id, viewContainerModel.title, viewContainerModel.icon, viewContainerModel.keybindingId);\n\t}\n\n\tprivate static toActivity(id: string, name: string, icon: URI | ThemeIcon | undefined, keybindingId: string | undefined): IActivity {\n\t\tlet cssClass: string | undefined = undefined;\n\t\tlet iconUrl: URI | undefined = undefined;\n\t\tif (URI.isUri(icon)) {\n\t\t\ticonUrl = icon;\n\t\t\tconst cssUrl = asCSSUrl(icon);\n\t\t\tconst hash = new StringSHA1();\n\t\t\thash.update(cssUrl);\n\t\t\tcssClass = `activity-${id.replace(/\\./g, '-')}-${hash.digest()}`;\n\t\t\tconst iconClass = `.monaco-workbench .activitybar .monaco-action-bar .action-label.${cssClass}`;\n\t\t\tcreateCSSRule(iconClass, `\n\t\t\t\tmask: ${cssUrl} no-repeat 50% 50%;\n\t\t\t\tmask-size: 24px;\n\t\t\t\t-webkit-mask: ${cssUrl} no-repeat 50% 50%;\n\t\t\t\t-webkit-mask-size: 24px;\n\t\t\t`);\n\t\t} else if (ThemeIcon.isThemeIcon(icon)) {\n\t\t\tcssClass = ThemeIcon.asClassName(icon);\n\t\t}\n\n\t\treturn { id, name, cssClass, iconUrl, keybindingId };\n\t}\n\n\tprivate showOrHideViewContainer(viewContainer: ViewContainer): void {\n\t\tlet contextKey = this.enabledViewContainersContextKeys.get(viewContainer.id);\n\t\tif (!contextKey) {\n\t\t\tcontextKey = this.contextKeyService.createKey(getEnabledViewContainerContextKey(viewContainer.id), false);\n\t\t\tthis.enabledViewContainersContextKeys.set(viewContainer.id, contextKey);\n\t\t}\n\t\tif (this.shouldBeHidden(viewContainer)) {\n\t\t\tcontextKey.set(false);\n\t\t\tthis.hideComposite(viewContainer.id);\n\t\t} else {\n\t\t\tcontextKey.set(true);\n\t\t\tthis.addComposite(viewContainer);\n\t\t}\n\t}\n\n\tprivate shouldBeHidden(viewContainerOrId: string | ViewContainer, cachedViewContainer?: ICachedViewContainer): boolean {\n\t\tconst viewContainer = isString(viewContainerOrId) ? this.getViewContainer(viewContainerOrId) : viewContainerOrId;\n\t\tconst viewContainerId = isString(viewContainerOrId) ? viewContainerOrId : viewContainerOrId.id;\n\n\t\tif (viewContainer) {\n\t\t\tif (viewContainer.hideIfEmpty) {\n\t\t\t\tif (this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.length > 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Check cache only if extensions are not yet registered and current window is not native (desktop) remote connection window\n\t\tif (!this.hasExtensionsRegistered && !(this.environmentService.remoteAuthority && isNative)) {\n\t\t\tcachedViewContainer = cachedViewContainer || this.cachedViewContainers.find(({ id }) => id === viewContainerId);\n\n\t\t\t// Show builtin ViewContainer if not registered yet\n\t\t\tif (!viewContainer && cachedViewContainer?.isBuiltin) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (cachedViewContainer?.views?.length) {\n\t\t\t\treturn cachedViewContainer.views.every(({ when }) => !!when && !this.contextKeyService.contextMatchesRules(ContextKeyExpr.deserialize(when)));\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate addComposite(viewContainer: ViewContainer): void {\n\t\tthis.compositeBar.addComposite({ id: viewContainer.id, name: viewContainer.title, order: viewContainer.order, requestedIndex: viewContainer.requestedIndex });\n\t}\n\n\tprivate hideComposite(compositeId: string): void {\n\t\tthis.compositeBar.hideComposite(compositeId);\n\n\t\tconst compositeActions = this.compositeActions.get(compositeId);\n\t\tif (compositeActions) {\n\t\t\tcompositeActions.activityAction.dispose();\n\t\t\tcompositeActions.pinnedAction.dispose();\n\t\t\tthis.compositeActions.delete(compositeId);\n\t\t}\n\t}\n\n\tprivate removeComposite(compositeId: string): void {\n\t\tthis.compositeBar.removeComposite(compositeId);\n\n\t\tconst compositeActions = this.compositeActions.get(compositeId);\n\t\tif (compositeActions) {\n\t\t\tcompositeActions.activityAction.dispose();\n\t\t\tcompositeActions.pinnedAction.dispose();\n\t\t\tthis.compositeActions.delete(compositeId);\n\t\t}\n\t}\n\n\tgetPinnedViewContainerIds(): string[] {\n\t\tconst pinnedCompositeIds = this.compositeBar.getPinnedComposites().map(v => v.id);\n\t\treturn this.getViewContainers()\n\t\t\t.filter(v => this.compositeBar.isPinned(v.id))\n\t\t\t.sort((v1, v2) => pinnedCompositeIds.indexOf(v1.id) - pinnedCompositeIds.indexOf(v2.id))\n\t\t\t.map(v => v.id);\n\t}\n\n\tgetVisibleViewContainerIds(): string[] {\n\t\treturn this.compositeBar.getVisibleComposites()\n\t\t\t.filter(v => this.viewsService.getVisibleViewContainer(this.location)?.id === v.id || this.compositeBar.isPinned(v.id))\n\t\t\t.map(v => v.id);\n\t}\n\n\tfocusActivityBar(): void {\n\t\tthis.compositeBar.focus();\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\tconst container = assertIsDefined(this.getContainer());\n\t\tconst background = this.getColor(ACTIVITY_BAR_BACKGROUND) || '';\n\t\tcontainer.style.backgroundColor = background;\n\n\t\tconst borderColor = this.getColor(ACTIVITY_BAR_BORDER) || this.getColor(contrastBorder) || '';\n\t\tcontainer.classList.toggle('bordered', !!borderColor);\n\t\tcontainer.style.borderColor = borderColor ? borderColor : '';\n\t}\n\n\tprivate getActivitybarItemColors(theme: IColorTheme): ICompositeBarColors {\n\t\treturn {\n\t\t\tactiveForegroundColor: theme.getColor(ACTIVITY_BAR_FOREGROUND),\n\t\t\tinactiveForegroundColor: theme.getColor(ACTIVITY_BAR_INACTIVE_FOREGROUND),\n\t\t\tactiveBorderColor: theme.getColor(ACTIVITY_BAR_ACTIVE_BORDER),\n\t\t\tactiveBackground: theme.getColor(ACTIVITY_BAR_ACTIVE_BACKGROUND),\n\t\t\tbadgeBackground: theme.getColor(ACTIVITY_BAR_BADGE_BACKGROUND),\n\t\t\tbadgeForeground: theme.getColor(ACTIVITY_BAR_BADGE_FOREGROUND),\n\t\t\tdragAndDropBorder: theme.getColor(ACTIVITY_BAR_DRAG_AND_DROP_BORDER),\n\t\t\tactiveBackgroundColor: undefined, inactiveBackgroundColor: undefined, activeBorderBottomColor: undefined,\n\t\t};\n\t}\n\n\toverride layout(width: number, height: number): void {\n\t\tif (!this.layoutService.isVisible(Parts.ACTIVITYBAR_PART)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Layout contents\n\t\tconst contentAreaSize = super.layoutContents(width, height).contentSize;\n\n\t\t// Layout composite bar\n\t\tlet availableHeight = contentAreaSize.height;\n\t\tif (this.menuBarContainer) {\n\t\t\tavailableHeight -= this.menuBarContainer.clientHeight;\n\t\t}\n\t\tif (this.globalActivityActionBar) {\n\t\t\tavailableHeight -= (this.globalActivityActionBar.viewItems.length * ActivitybarPart.ACTION_HEIGHT); // adjust height for global actions showing\n\t\t}\n\t\tthis.compositeBar.layout(new Dimension(width, availableHeight));\n\t}\n\n\tprivate getViewContainer(id: string): ViewContainer | undefined {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(id);\n\t\treturn viewContainer && this.viewDescriptorService.getViewContainerLocation(viewContainer) === this.location ? viewContainer : undefined;\n\t}\n\n\tprivate getViewContainers(): readonly ViewContainer[] {\n\t\treturn this.viewDescriptorService.getViewContainersByLocation(this.location);\n\t}\n\n\tprivate onDidStorageValueChange(e: IStorageValueChangeEvent): void {\n\t\tif (e.key === ActivitybarPart.PINNED_VIEW_CONTAINERS && e.scope === StorageScope.GLOBAL\n\t\t\t&& this.pinnedViewContainersValue !== this.getStoredPinnedViewContainersValue() /* This checks if current window changed the value or not */) {\n\t\t\tthis._pinnedViewContainersValue = undefined;\n\t\t\tthis._cachedViewContainers = undefined;\n\n\t\t\tconst newCompositeItems: ICompositeBarItem[] = [];\n\t\t\tconst compositeItems = this.compositeBar.getCompositeBarItems();\n\n\t\t\tfor (const cachedViewContainer of this.cachedViewContainers) {\n\t\t\t\tnewCompositeItems.push({\n\t\t\t\t\tid: cachedViewContainer.id,\n\t\t\t\t\tname: cachedViewContainer.name,\n\t\t\t\t\torder: cachedViewContainer.order,\n\t\t\t\t\tpinned: cachedViewContainer.pinned,\n\t\t\t\t\tvisible: !!compositeItems.find(({ id }) => id === cachedViewContainer.id)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (let index = 0; index < compositeItems.length; index++) {\n\t\t\t\t// Add items currently exists but does not exist in new.\n\t\t\t\tif (!newCompositeItems.some(({ id }) => id === compositeItems[index].id)) {\n\t\t\t\t\tnewCompositeItems.splice(index, 0, compositeItems[index]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.compositeBar.setCompositeBarItems(newCompositeItems);\n\t\t}\n\n\t\tif (e.key === AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY && e.scope === StorageScope.GLOBAL) {\n\t\t\tthis.toggleAccountsActivity();\n\t\t}\n\t}\n\n\tprivate saveCachedViewContainers(): void {\n\t\tconst state: ICachedViewContainer[] = [];\n\n\t\tconst compositeItems = this.compositeBar.getCompositeBarItems();\n\t\tfor (const compositeItem of compositeItems) {\n\t\t\tconst viewContainer = this.getViewContainer(compositeItem.id);\n\t\t\tif (viewContainer) {\n\t\t\t\tconst viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);\n\t\t\t\tconst views: { when: string | undefined; }[] = [];\n\t\t\t\tfor (const { when } of viewContainerModel.allViewDescriptors) {\n\t\t\t\t\tviews.push({ when: when ? when.serialize() : undefined });\n\t\t\t\t}\n\t\t\t\tstate.push({\n\t\t\t\t\tid: compositeItem.id,\n\t\t\t\t\tname: viewContainerModel.title,\n\t\t\t\t\ticon: URI.isUri(viewContainerModel.icon) && this.environmentService.remoteAuthority && isNative ? undefined : viewContainerModel.icon, /* Donot cache uri icons in desktop with remote connection */\n\t\t\t\t\tviews,\n\t\t\t\t\tpinned: compositeItem.pinned,\n\t\t\t\t\torder: compositeItem.order,\n\t\t\t\t\tvisible: compositeItem.visible,\n\t\t\t\t\tisBuiltin: !viewContainer.extensionId\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tstate.push({ id: compositeItem.id, pinned: compositeItem.pinned, order: compositeItem.order, visible: false, isBuiltin: false });\n\t\t\t}\n\t\t}\n\n\t\tthis.storeCachedViewContainersState(state);\n\t}\n\n\tprivate _cachedViewContainers: ICachedViewContainer[] | undefined = undefined;\n\tprivate get cachedViewContainers(): ICachedViewContainer[] {\n\t\tif (this._cachedViewContainers === undefined) {\n\t\t\tthis._cachedViewContainers = this.getPinnedViewContainers();\n\t\t\tfor (const placeholderViewContainer of this.getPlaceholderViewContainers()) {\n\t\t\t\tconst cachedViewContainer = this._cachedViewContainers.filter(cached => cached.id === placeholderViewContainer.id)[0];\n\t\t\t\tif (cachedViewContainer) {\n\t\t\t\t\tcachedViewContainer.name = placeholderViewContainer.name;\n\t\t\t\t\tcachedViewContainer.icon = placeholderViewContainer.themeIcon ? placeholderViewContainer.themeIcon :\n\t\t\t\t\t\tplaceholderViewContainer.iconUrl ? URI.revive(placeholderViewContainer.iconUrl) : undefined;\n\t\t\t\t\tcachedViewContainer.views = placeholderViewContainer.views;\n\t\t\t\t\tcachedViewContainer.isBuiltin = placeholderViewContainer.isBuiltin;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this._cachedViewContainers;\n\t}\n\n\tprivate storeCachedViewContainersState(cachedViewContainers: ICachedViewContainer[]): void {\n\t\tthis.setPinnedViewContainers(cachedViewContainers.map(({ id, pinned, visible, order }) => (<IPinnedViewContainer>{\n\t\t\tid,\n\t\t\tpinned,\n\t\t\tvisible,\n\t\t\torder\n\t\t})));\n\n\t\tthis.setPlaceholderViewContainers(cachedViewContainers.map(({ id, icon, name, views, isBuiltin }) => (<IPlaceholderViewContainer>{\n\t\t\tid,\n\t\t\ticonUrl: URI.isUri(icon) ? icon : undefined,\n\t\t\tthemeIcon: ThemeIcon.isThemeIcon(icon) ? icon : undefined,\n\t\t\tname,\n\t\t\tisBuiltin,\n\t\t\tviews\n\t\t})));\n\t}\n\n\tprivate getPinnedViewContainers(): IPinnedViewContainer[] {\n\t\treturn JSON.parse(this.pinnedViewContainersValue);\n\t}\n\n\tprivate setPinnedViewContainers(pinnedViewContainers: IPinnedViewContainer[]): void {\n\t\tthis.pinnedViewContainersValue = JSON.stringify(pinnedViewContainers);\n\t}\n\n\tprivate _pinnedViewContainersValue: string | undefined;\n\tprivate get pinnedViewContainersValue(): string {\n\t\tif (!this._pinnedViewContainersValue) {\n\t\t\tthis._pinnedViewContainersValue = this.getStoredPinnedViewContainersValue();\n\t\t}\n\n\t\treturn this._pinnedViewContainersValue;\n\t}\n\n\tprivate set pinnedViewContainersValue(pinnedViewContainersValue: string) {\n\t\tif (this.pinnedViewContainersValue !== pinnedViewContainersValue) {\n\t\t\tthis._pinnedViewContainersValue = pinnedViewContainersValue;\n\t\t\tthis.setStoredPinnedViewContainersValue(pinnedViewContainersValue);\n\t\t}\n\t}\n\n\tprivate getStoredPinnedViewContainersValue(): string {\n\t\treturn this.storageService.get(ActivitybarPart.PINNED_VIEW_CONTAINERS, StorageScope.GLOBAL, '[]');\n\t}\n\n\tprivate setStoredPinnedViewContainersValue(value: string): void {\n\t\tthis.storageService.store(ActivitybarPart.PINNED_VIEW_CONTAINERS, value, StorageScope.GLOBAL, StorageTarget.USER);\n\t}\n\n\tprivate getPlaceholderViewContainers(): IPlaceholderViewContainer[] {\n\t\treturn JSON.parse(this.placeholderViewContainersValue);\n\t}\n\n\tprivate setPlaceholderViewContainers(placeholderViewContainers: IPlaceholderViewContainer[]): void {\n\t\tthis.placeholderViewContainersValue = JSON.stringify(placeholderViewContainers);\n\t}\n\n\tprivate _placeholderViewContainersValue: string | undefined;\n\tprivate get placeholderViewContainersValue(): string {\n\t\tif (!this._placeholderViewContainersValue) {\n\t\t\tthis._placeholderViewContainersValue = this.getStoredPlaceholderViewContainersValue();\n\t\t}\n\n\t\treturn this._placeholderViewContainersValue;\n\t}\n\n\tprivate set placeholderViewContainersValue(placeholderViewContainesValue: string) {\n\t\tif (this.placeholderViewContainersValue !== placeholderViewContainesValue) {\n\t\t\tthis._placeholderViewContainersValue = placeholderViewContainesValue;\n\t\t\tthis.setStoredPlaceholderViewContainersValue(placeholderViewContainesValue);\n\t\t}\n\t}\n\n\tprivate getStoredPlaceholderViewContainersValue(): string {\n\t\treturn this.storageService.get(ActivitybarPart.PLACEHOLDER_VIEW_CONTAINERS, StorageScope.GLOBAL, '[]');\n\t}\n\n\tprivate setStoredPlaceholderViewContainersValue(value: string): void {\n\t\tthis.storageService.store(ActivitybarPart.PLACEHOLDER_VIEW_CONTAINERS, value, StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t}\n\n\tprivate get accountsVisibilityPreference(): boolean {\n\t\treturn this.storageService.getBoolean(AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY, StorageScope.GLOBAL, true);\n\t}\n\n\tprivate set accountsVisibilityPreference(value: boolean) {\n\t\tthis.storageService.store(AccountsActivityActionViewItem.ACCOUNTS_VISIBILITY_PREFERENCE_KEY, value, StorageScope.GLOBAL, StorageTarget.USER);\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.ACTIVITYBAR_PART\n\t\t};\n\t}\n}\n\nclass FocusActivityBarAction extends Action2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.focusActivityBar',\n\t\t\ttitle: { value: localize('focusActivityBar', \"Focus Activity Bar\"), original: 'Focus Activity Bar' },\n\t\t\tcategory: CATEGORIES.View,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst activityBarService = accessor.get(IActivityBarService);\n\t\tconst layoutService = accessor.get(IWorkbenchLayoutService);\n\t\tlayoutService.setActivityBarHidden(false);\n\t\tactivityBarService.focusActivityBar();\n\t}\n}\n\nregisterSingleton(IActivityBarService, ActivitybarPart);\nregisterAction2(FocusActivityBarAction);\n"]}