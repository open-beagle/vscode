{"version":3,"sources":["vs/workbench/browser/parts/editor/titleControl.ts"],"names":[],"mappings":"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","file":"titleControl.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/titlecontrol';\nimport { applyDragImage, DataTransfers } from 'vs/base/browser/dnd';\nimport { addDisposableListener, Dimension, EventType } from 'vs/base/browser/dom';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { ActionsOrientation, IActionViewItem, prepareActions } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { ToolBar } from 'vs/base/browser/ui/toolbar/toolbar';\nimport { IAction, WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification, SubmenuAction } from 'vs/base/common/actions';\nimport { ResolvedKeybinding } from 'vs/base/common/keyCodes';\nimport { dispose, DisposableStore } from 'vs/base/common/lifecycle';\nimport { isCodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { localize } from 'vs/nls';\nimport { createActionViewItem, createAndFillInActionBarActions, createAndFillInContextMenuActions } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { IMenu, IMenuService, MenuId } from 'vs/platform/actions/common/actions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IContextKeyService, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { listActiveSelectionBackground, listActiveSelectionForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { IThemeService, registerThemingParticipant, Themable } from 'vs/platform/theme/common/themeService';\nimport { DraggedEditorGroupIdentifier, DraggedEditorIdentifier, fillResourceDataTransfers, LocalSelectionTransfer } from 'vs/workbench/browser/dnd';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { BreadcrumbsConfig } from 'vs/workbench/browser/parts/editor/breadcrumbs';\nimport { BreadcrumbsControl, IBreadcrumbsControlOptions } from 'vs/workbench/browser/parts/editor/breadcrumbsControl';\nimport { IEditorGroupsAccessor, IEditorGroupTitleHeight, IEditorGroupView } from 'vs/workbench/browser/parts/editor/editor';\nimport { EditorCommandsContextActionRunner, IEditorCommandsContext, IEditorInput, EditorResourceAccessor, IEditorPartOptions, SideBySideEditor, ActiveEditorPinnedContext, ActiveEditorStickyContext } from 'vs/workbench/common/editor';\nimport { ResourceContextKey } from 'vs/workbench/common/resources';\nimport { AnchorAlignment } from 'vs/base/browser/ui/contextview/contextview';\nimport { IFileService } from 'vs/platform/files/common/files';\nimport { withNullAsUndefined, withUndefinedAsNull, assertIsDefined } from 'vs/base/common/types';\nimport { isFirefox } from 'vs/base/browser/browser';\nimport { ITextEditorOptions } from 'vs/platform/editor/common/editor';\nimport { isPromiseCanceledError } from 'vs/base/common/errors';\n\nexport interface IToolbarActions {\n\tprimary: IAction[];\n\tsecondary: IAction[];\n}\n\nexport interface ITitleControlDimensions {\n\n\t/**\n\t * The size of the parent container the title control is layed out in.\n\t */\n\tcontainer: Dimension;\n\n\t/**\n\t * The maximum size the title control is allowed to consume based on\n\t * other controls that are positioned inside the container.\n\t */\n\tavailable: Dimension;\n}\n\nexport abstract class TitleControl extends Themable {\n\n\tprotected readonly groupTransfer = LocalSelectionTransfer.getInstance<DraggedEditorGroupIdentifier>();\n\tprotected readonly editorTransfer = LocalSelectionTransfer.getInstance<DraggedEditorIdentifier>();\n\n\tprotected breadcrumbsControl: BreadcrumbsControl | undefined = undefined;\n\n\tprivate editorActionsToolbar: ToolBar | undefined;\n\n\tprivate resourceContext: ResourceContextKey;\n\tprivate editorPinnedContext: IContextKey<boolean>;\n\tprivate editorStickyContext: IContextKey<boolean>;\n\n\tprivate readonly editorToolBarMenuDisposables = this._register(new DisposableStore());\n\n\tprivate contextMenu: IMenu;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tprotected accessor: IEditorGroupsAccessor,\n\t\tprotected group: IEditorGroupView,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IQuickInputService protected quickInputService: IQuickInputService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService protected configurationService: IConfigurationService,\n\t\t@IFileService private readonly fileService: IFileService\n\t) {\n\t\tsuper(themeService);\n\n\t\tthis.resourceContext = this._register(instantiationService.createInstance(ResourceContextKey));\n\t\tthis.editorPinnedContext = ActiveEditorPinnedContext.bindTo(contextKeyService);\n\t\tthis.editorStickyContext = ActiveEditorStickyContext.bindTo(contextKeyService);\n\n\t\tthis.contextMenu = this._register(this.menuService.createMenu(MenuId.EditorTitleContext, this.contextKeyService));\n\n\t\tthis.create(parent);\n\t}\n\n\tprotected abstract create(parent: HTMLElement): void;\n\n\tprotected createBreadcrumbsControl(container: HTMLElement, options: IBreadcrumbsControlOptions): void {\n\t\tconst config = this._register(BreadcrumbsConfig.IsEnabled.bindTo(this.configurationService));\n\t\tthis._register(config.onDidChange(() => {\n\t\t\tconst value = config.getValue();\n\t\t\tif (!value && this.breadcrumbsControl) {\n\t\t\t\tthis.breadcrumbsControl.dispose();\n\t\t\t\tthis.breadcrumbsControl = undefined;\n\t\t\t\tthis.handleBreadcrumbsEnablementChange();\n\t\t\t} else if (value && !this.breadcrumbsControl) {\n\t\t\t\tthis.breadcrumbsControl = this.instantiationService.createInstance(BreadcrumbsControl, container, options, this.group);\n\t\t\t\tthis.breadcrumbsControl.update();\n\t\t\t\tthis.handleBreadcrumbsEnablementChange();\n\t\t\t}\n\t\t}));\n\n\t\tif (config.getValue()) {\n\t\t\tthis.breadcrumbsControl = this.instantiationService.createInstance(BreadcrumbsControl, container, options, this.group);\n\t\t}\n\n\t\tthis._register(this.fileService.onDidChangeFileSystemProviderRegistrations(() => {\n\t\t\tif (this.breadcrumbsControl?.update()) {\n\t\t\t\tthis.handleBreadcrumbsEnablementChange();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected abstract handleBreadcrumbsEnablementChange(): void;\n\n\tprotected createEditorActionsToolBar(container: HTMLElement): void {\n\t\tconst context: IEditorCommandsContext = { groupId: this.group.id };\n\n\t\tthis.editorActionsToolbar = this._register(new ToolBar(container, this.contextMenuService, {\n\t\t\tactionViewItemProvider: action => this.actionViewItemProvider(action),\n\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\tariaLabel: localize('ariaLabelEditorActions', \"Editor actions\"),\n\t\t\tgetKeyBinding: action => this.getKeybinding(action),\n\t\t\tactionRunner: this._register(new EditorCommandsContextActionRunner(context)),\n\t\t\tanchorAlignmentProvider: () => AnchorAlignment.RIGHT\n\t\t}));\n\n\t\t// Context\n\t\tthis.editorActionsToolbar.context = context;\n\n\t\t// Action Run Handling\n\t\tthis._register(this.editorActionsToolbar.actionRunner.onDidRun(e => {\n\n\t\t\t// Notify for Error\n\t\t\tif (e.error && !isPromiseCanceledError(e.error)) {\n\t\t\t\tthis.notificationService.error(e.error);\n\t\t\t}\n\n\t\t\t// Log in telemetry\n\t\t\tthis.telemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: e.action.id, from: 'editorPart' });\n\t\t}));\n\t}\n\n\tprivate actionViewItemProvider(action: IAction): IActionViewItem | undefined {\n\t\tconst activeEditorPane = this.group.activeEditorPane;\n\n\t\t// Check Active Editor\n\t\tif (activeEditorPane instanceof EditorPane) {\n\t\t\tconst result = activeEditorPane.getActionViewItem(action);\n\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\t// Check extensions\n\t\treturn createActionViewItem(this.instantiationService, action);\n\t}\n\n\tprotected updateEditorActionsToolbar(): void {\n\t\tconst { primaryEditorActions, secondaryEditorActions } = this.prepareEditorActions(this.getEditorActions());\n\n\t\tconst editorActionsToolbar = assertIsDefined(this.editorActionsToolbar);\n\t\teditorActionsToolbar.setActions(primaryEditorActions, secondaryEditorActions);\n\t}\n\n\tprotected prepareEditorActions(editorActions: IToolbarActions): { primaryEditorActions: IAction[]; secondaryEditorActions: IAction[]; } {\n\t\tlet primaryEditorActions: IAction[];\n\t\tlet secondaryEditorActions: IAction[];\n\n\t\t// Primary actions only for the active group\n\t\tif (this.accessor.activeGroup === this.group) {\n\t\t\tprimaryEditorActions = prepareActions(editorActions.primary);\n\t\t} else {\n\t\t\tprimaryEditorActions = [];\n\t\t}\n\n\t\t// Secondary actions for all groups\n\t\tsecondaryEditorActions = prepareActions(editorActions.secondary);\n\n\t\treturn { primaryEditorActions, secondaryEditorActions };\n\t}\n\n\tprivate getEditorActions(): IToolbarActions {\n\t\tconst primary: IAction[] = [];\n\t\tconst secondary: IAction[] = [];\n\n\t\t// Dispose previous listeners\n\t\tthis.editorToolBarMenuDisposables.clear();\n\n\t\t// Update contexts\n\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis.resourceContext.set(withUndefinedAsNull(EditorResourceAccessor.getOriginalUri(this.group.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY })));\n\t\t\tthis.editorPinnedContext.set(this.group.activeEditor ? this.group.isPinned(this.group.activeEditor) : false);\n\t\t\tthis.editorStickyContext.set(this.group.activeEditor ? this.group.isSticky(this.group.activeEditor) : false);\n\t\t});\n\n\t\t// Editor actions require the editor control to be there, so we retrieve it via service\n\t\tconst activeEditorPane = this.group.activeEditorPane;\n\t\tif (activeEditorPane instanceof EditorPane) {\n\t\t\tconst scopedContextKeyService = activeEditorPane.scopedContextKeyService ?? this.contextKeyService;\n\t\t\tconst titleBarMenu = this.menuService.createMenu(MenuId.EditorTitle, scopedContextKeyService, true);\n\t\t\tthis.editorToolBarMenuDisposables.add(titleBarMenu);\n\t\t\tthis.editorToolBarMenuDisposables.add(titleBarMenu.onDidChange(() => {\n\t\t\t\tthis.updateEditorActionsToolbar(); // Update editor toolbar whenever contributed actions change\n\t\t\t}));\n\n\t\t\tconst shouldInlineGroup = (action: SubmenuAction, group: string) => group === 'navigation' && action.actions.length <= 1;\n\n\t\t\tthis.editorToolBarMenuDisposables.add(createAndFillInActionBarActions(\n\t\t\t\ttitleBarMenu, { arg: this.resourceContext.get(), shouldForwardArgs: true }, { primary, secondary },\n\t\t\t\t'navigation', 9, shouldInlineGroup\n\t\t\t));\n\t\t}\n\n\t\treturn { primary, secondary };\n\t}\n\n\tprotected clearEditorActionsToolbar(): void {\n\t\tthis.editorActionsToolbar?.setActions([], []);\n\t}\n\n\tprotected enableGroupDragging(element: HTMLElement): void {\n\n\t\t// Drag start\n\t\tthis._register(addDisposableListener(element, EventType.DRAG_START, e => {\n\t\t\tif (e.target !== element) {\n\t\t\t\treturn; // only if originating from tabs container\n\t\t\t}\n\n\t\t\t// Set editor group as transfer\n\t\t\tthis.groupTransfer.setData([new DraggedEditorGroupIdentifier(this.group.id)], DraggedEditorGroupIdentifier.prototype);\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.effectAllowed = 'copyMove';\n\t\t\t}\n\n\t\t\t// If tabs are disabled, treat dragging as if an editor tab was dragged\n\t\t\tlet hasDataTransfer = false;\n\t\t\tif (!this.accessor.partOptions.showTabs) {\n\t\t\t\tif (this.group.activeEditor) {\n\t\t\t\t\thasDataTransfer = this.doFillResourceDataTransfers(this.group.activeEditor, e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Firefox: requires to set a text data transfer to get going\n\t\t\tif (!hasDataTransfer && isFirefox) {\n\t\t\t\te.dataTransfer?.setData(DataTransfers.TEXT, String(this.group.label));\n\t\t\t}\n\n\t\t\t// Drag Image\n\t\t\tif (this.group.activeEditor) {\n\t\t\t\tlet label = this.group.activeEditor.getName();\n\t\t\t\tif (this.accessor.partOptions.showTabs && this.group.count > 1) {\n\t\t\t\t\tlabel = localize('draggedEditorGroup', \"{0} (+{1})\", label, this.group.count - 1);\n\t\t\t\t}\n\n\t\t\t\tapplyDragImage(e, label, 'monaco-editor-group-drag-image');\n\t\t\t}\n\t\t}));\n\n\t\t// Drag end\n\t\tthis._register(addDisposableListener(element, EventType.DRAG_END, () => {\n\t\t\tthis.groupTransfer.clearData(DraggedEditorGroupIdentifier.prototype);\n\t\t}));\n\t}\n\n\tprotected doFillResourceDataTransfers(editor: IEditorInput, e: DragEvent): boolean {\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tif (!resource) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst editorOptions: ITextEditorOptions = {\n\t\t\tviewState: (() => {\n\t\t\t\tif (this.group.activeEditor === editor) {\n\t\t\t\t\tconst activeControl = this.group.activeEditorPane?.getControl();\n\t\t\t\t\tif (isCodeEditor(activeControl)) {\n\t\t\t\t\t\treturn withNullAsUndefined(activeControl.saveViewState());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t})(),\n\t\t\tsticky: this.group.isSticky(editor)\n\t\t};\n\n\t\tthis.instantiationService.invokeFunction(fillResourceDataTransfers, [resource], () => editorOptions, e);\n\n\t\treturn true;\n\t}\n\n\tprotected onContextMenu(editor: IEditorInput, e: Event, node: HTMLElement): void {\n\n\t\t// Update contexts based on editor picked and remember previous to restore\n\t\tconst currentResourceContext = this.resourceContext.get();\n\t\tthis.resourceContext.set(withUndefinedAsNull(EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: SideBySideEditor.PRIMARY })));\n\t\tconst currentPinnedContext = !!this.editorPinnedContext.get();\n\t\tthis.editorPinnedContext.set(this.group.isPinned(editor));\n\t\tconst currentStickyContext = !!this.editorStickyContext.get();\n\t\tthis.editorStickyContext.set(this.group.isSticky(editor));\n\n\t\t// Find target anchor\n\t\tlet anchor: HTMLElement | { x: number, y: number } = node;\n\t\tif (e instanceof MouseEvent) {\n\t\t\tconst event = new StandardMouseEvent(e);\n\t\t\tanchor = { x: event.posx, y: event.posy };\n\t\t}\n\n\t\t// Fill in contributed actions\n\t\tconst actions: IAction[] = [];\n\t\tconst actionsDisposable = createAndFillInContextMenuActions(this.contextMenu, { shouldForwardArgs: true, arg: this.resourceContext.get() }, actions);\n\n\t\t// Show it\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => anchor,\n\t\t\tgetActions: () => actions,\n\t\t\tgetActionsContext: () => ({ groupId: this.group.id, editorIndex: this.group.getIndexOfEditor(editor) }),\n\t\t\tgetKeyBinding: action => this.getKeybinding(action),\n\t\t\tonHide: () => {\n\n\t\t\t\t// restore previous contexts\n\t\t\t\tthis.resourceContext.set(currentResourceContext || null);\n\t\t\t\tthis.editorPinnedContext.set(currentPinnedContext);\n\t\t\t\tthis.editorStickyContext.set(currentStickyContext);\n\n\t\t\t\t// restore focus to active group\n\t\t\t\tthis.accessor.activeGroup.focus();\n\n\t\t\t\t// Cleanup\n\t\t\t\tdispose(actionsDisposable);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getKeybinding(action: IAction): ResolvedKeybinding | undefined {\n\t\treturn this.keybindingService.lookupKeybinding(action.id);\n\t}\n\n\tprotected getKeybindingLabel(action: IAction): string | undefined {\n\t\tconst keybinding = this.getKeybinding(action);\n\n\t\treturn keybinding ? withNullAsUndefined(keybinding.getLabel()) : undefined;\n\t}\n\n\tabstract openEditor(editor: IEditorInput): void;\n\n\tabstract closeEditor(editor: IEditorInput): void;\n\n\tabstract closeEditors(editors: IEditorInput[]): void;\n\n\tabstract moveEditor(editor: IEditorInput, fromIndex: number, targetIndex: number): void;\n\n\tabstract pinEditor(editor: IEditorInput): void;\n\n\tabstract stickEditor(editor: IEditorInput): void;\n\n\tabstract unstickEditor(editor: IEditorInput): void;\n\n\tabstract setActive(isActive: boolean): void;\n\n\tabstract updateEditorLabel(editor: IEditorInput): void;\n\n\tabstract updateEditorLabels(): void;\n\n\tabstract updateEditorDirty(editor: IEditorInput): void;\n\n\tabstract updateOptions(oldOptions: IEditorPartOptions, newOptions: IEditorPartOptions): void;\n\n\tabstract layout(dimensions: ITitleControlDimensions): Dimension;\n\n\tabstract getHeight(): IEditorGroupTitleHeight;\n\n\toverride dispose(): void {\n\t\tdispose(this.breadcrumbsControl);\n\t\tthis.breadcrumbsControl = undefined;\n\n\t\tsuper.dispose();\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\n\t// Drag Feedback\n\tconst dragImageBackground = theme.getColor(listActiveSelectionBackground);\n\tconst dragImageForeground = theme.getColor(listActiveSelectionForeground);\n\tcollector.addRule(`\n\t\t.monaco-editor-group-drag-image {\n\t\t\tbackground: ${dragImageBackground};\n\t\t\tcolor: ${dragImageForeground};\n\t\t}\n\t`);\n});\n"]}