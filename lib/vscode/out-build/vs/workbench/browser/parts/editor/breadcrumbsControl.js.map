{"version":3,"sources":["vs/workbench/browser/parts/editor/breadcrumbsControl.ts"],"names":[],"mappings":"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","file":"breadcrumbsControl.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { BreadcrumbsItem, BreadcrumbsWidget, IBreadcrumbsItemEvent } from 'vs/base/browser/ui/breadcrumbs/breadcrumbsWidget';\nimport { tail } from 'vs/base/common/arrays';\nimport { timeout } from 'vs/base/common/async';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { combinedDisposable, DisposableStore, toDisposable } from 'vs/base/common/lifecycle';\nimport { extUri } from 'vs/base/common/resources';\nimport { URI } from 'vs/base/common/uri';\nimport 'vs/css!./media/breadcrumbscontrol';\nimport { localize } from 'vs/nls';\nimport { MenuId, MenuRegistry } from 'vs/platform/actions/common/actions';\nimport { CommandsRegistry } from 'vs/platform/commands/common/commands';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { FileKind, IFileService, IFileStat } from 'vs/platform/files/common/files';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { KeybindingsRegistry, KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { IListService, WorkbenchDataTree, WorkbenchListFocusContextKey } from 'vs/platform/list/browser/listService';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { ColorIdentifier, ColorFunction } from 'vs/platform/theme/common/colorRegistry';\nimport { attachBreadcrumbsStyler } from 'vs/platform/theme/common/styler';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { ResourceLabel } from 'vs/workbench/browser/labels';\nimport { BreadcrumbsConfig, IBreadcrumbsService } from 'vs/workbench/browser/parts/editor/breadcrumbs';\nimport { BreadcrumbsModel, FileElement, OutlineElement2 } from 'vs/workbench/browser/parts/editor/breadcrumbsModel';\nimport { BreadcrumbsFilePicker, BreadcrumbsOutlinePicker, BreadcrumbsPicker } from 'vs/workbench/browser/parts/editor/breadcrumbsPicker';\nimport { IEditorPartOptions, EditorResourceAccessor, SideBySideEditor } from 'vs/workbench/common/editor';\nimport { ACTIVE_GROUP, ACTIVE_GROUP_TYPE, IEditorService, SIDE_GROUP, SIDE_GROUP_TYPE } from 'vs/workbench/services/editor/common/editorService';\nimport { IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IEditorGroupView } from 'vs/workbench/browser/parts/editor/editor';\nimport { onDidChangeZoomLevel } from 'vs/base/browser/browser';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { CATEGORIES } from 'vs/workbench/common/actions';\nimport { ITreeNode } from 'vs/base/browser/ui/tree/tree';\nimport { IOutline } from 'vs/workbench/services/outline/browser/outline';\n\nclass OutlineItem extends BreadcrumbsItem {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\treadonly model: BreadcrumbsModel,\n\t\treadonly element: OutlineElement2,\n\t\treadonly options: IBreadcrumbsControlOptions\n\t) {\n\t\tsuper();\n\t}\n\n\toverride dispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tequals(other: BreadcrumbsItem): boolean {\n\t\tif (!(other instanceof OutlineItem)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.element === other.element &&\n\t\t\tthis.options.showFileIcons === other.options.showFileIcons &&\n\t\t\tthis.options.showSymbolIcons === other.options.showSymbolIcons;\n\t}\n\n\trender(container: HTMLElement): void {\n\t\tconst { element, outline } = this.element;\n\n\t\tif (element === outline) {\n\t\t\tconst element = dom.$('span', undefined, 'â€¦');\n\t\t\tcontainer.appendChild(element);\n\t\t\treturn;\n\t\t}\n\n\t\tconst templateId = outline.config.delegate.getTemplateId(element);\n\t\tconst renderer = outline.config.renderers.find(renderer => renderer.templateId === templateId);\n\t\tif (!renderer) {\n\t\t\tcontainer.innerText = '<<NO RENDERER>>';\n\t\t\treturn;\n\t\t}\n\n\t\tconst template = renderer.renderTemplate(container);\n\t\trenderer.renderElement(<ITreeNode<any, any>>{\n\t\t\telement,\n\t\t\tchildren: [],\n\t\t\tdepth: 0,\n\t\t\tvisibleChildrenCount: 0,\n\t\t\tvisibleChildIndex: 0,\n\t\t\tcollapsible: false,\n\t\t\tcollapsed: false,\n\t\t\tvisible: true,\n\t\t\tfilterData: undefined\n\t\t}, 0, template, undefined);\n\n\t\tthis._disposables.add(toDisposable(() => { renderer.disposeTemplate(template); }));\n\t}\n\n}\n\nclass FileItem extends BreadcrumbsItem {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\treadonly model: BreadcrumbsModel,\n\t\treadonly element: FileElement,\n\t\treadonly options: IBreadcrumbsControlOptions,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t}\n\n\toverride dispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tequals(other: BreadcrumbsItem): boolean {\n\t\tif (!(other instanceof FileItem)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (extUri.isEqual(this.element.uri, other.element.uri) &&\n\t\t\tthis.options.showFileIcons === other.options.showFileIcons &&\n\t\t\tthis.options.showSymbolIcons === other.options.showSymbolIcons);\n\n\t}\n\n\trender(container: HTMLElement): void {\n\t\t// file/folder\n\t\tlet label = this._instantiationService.createInstance(ResourceLabel, container, {});\n\t\tlabel.element.setFile(this.element.uri, {\n\t\t\thidePath: true,\n\t\t\thideIcon: this.element.kind === FileKind.FOLDER || !this.options.showFileIcons,\n\t\t\tfileKind: this.element.kind,\n\t\t\tfileDecorations: { colors: this.options.showDecorationColors, badges: false },\n\t\t});\n\t\tcontainer.classList.add(FileKind[this.element.kind].toLowerCase());\n\t\tthis._disposables.add(label);\n\t}\n}\n\nexport interface IBreadcrumbsControlOptions {\n\tshowFileIcons: boolean;\n\tshowSymbolIcons: boolean;\n\tshowDecorationColors: boolean;\n\tbreadcrumbsBackground: ColorIdentifier | ColorFunction;\n\tshowPlaceholder: boolean;\n}\n\nexport class BreadcrumbsControl {\n\n\tstatic readonly HEIGHT = 22;\n\n\tprivate static readonly SCROLLBAR_SIZES = {\n\t\tdefault: 3,\n\t\tlarge: 8\n\t};\n\n\tstatic readonly Payload_Reveal = {};\n\tstatic readonly Payload_RevealAside = {};\n\tstatic readonly Payload_Pick = {};\n\n\tstatic readonly CK_BreadcrumbsPossible = new RawContextKey('breadcrumbsPossible', false, localize('breadcrumbsPossible', \"Whether the editor can show breadcrumbs\"));\n\tstatic readonly CK_BreadcrumbsVisible = new RawContextKey('breadcrumbsVisible', false, localize('breadcrumbsVisible', \"Whether breadcrumbs are currently visible\"));\n\tstatic readonly CK_BreadcrumbsActive = new RawContextKey('breadcrumbsActive', false, localize('breadcrumbsActive', \"Whether breadcrumbs have focus\"));\n\n\tprivate readonly _ckBreadcrumbsPossible: IContextKey<boolean>;\n\tprivate readonly _ckBreadcrumbsVisible: IContextKey<boolean>;\n\tprivate readonly _ckBreadcrumbsActive: IContextKey<boolean>;\n\n\tprivate readonly _cfUseQuickPick: BreadcrumbsConfig<boolean>;\n\tprivate readonly _cfShowIcons: BreadcrumbsConfig<boolean>;\n\tprivate readonly _cfTitleScrollbarSizing: BreadcrumbsConfig<IEditorPartOptions['titleScrollbarSizing']>;\n\n\treadonly domNode: HTMLDivElement;\n\tprivate readonly _widget: BreadcrumbsWidget;\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _breadcrumbsDisposables = new DisposableStore();\n\tprivate _breadcrumbsPickerShowing = false;\n\tprivate _breadcrumbsPickerIgnoreOnceItem: BreadcrumbsItem | undefined;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate readonly _options: IBreadcrumbsControlOptions,\n\t\tprivate readonly _editorGroup: IEditorGroupView,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ILabelService private readonly _labelService: ILabelService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IBreadcrumbsService breadcrumbsService: IBreadcrumbsService,\n\t) {\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.classList.add('breadcrumbs-control');\n\t\tdom.append(container, this.domNode);\n\n\t\tthis._cfUseQuickPick = BreadcrumbsConfig.UseQuickPick.bindTo(configurationService);\n\t\tthis._cfShowIcons = BreadcrumbsConfig.Icons.bindTo(configurationService);\n\t\tthis._cfTitleScrollbarSizing = BreadcrumbsConfig.TitleScrollbarSizing.bindTo(configurationService);\n\n\t\tconst sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';\n\t\tthis._widget = new BreadcrumbsWidget(this.domNode, BreadcrumbsControl.SCROLLBAR_SIZES[sizing]);\n\t\tthis._widget.onDidSelectItem(this._onSelectEvent, this, this._disposables);\n\t\tthis._widget.onDidFocusItem(this._onFocusEvent, this, this._disposables);\n\t\tthis._widget.onDidChangeFocus(this._updateCkBreadcrumbsActive, this, this._disposables);\n\t\tthis._disposables.add(attachBreadcrumbsStyler(this._widget, this._themeService, { breadcrumbsBackground: _options.breadcrumbsBackground }));\n\n\t\tthis._ckBreadcrumbsPossible = BreadcrumbsControl.CK_BreadcrumbsPossible.bindTo(this._contextKeyService);\n\t\tthis._ckBreadcrumbsVisible = BreadcrumbsControl.CK_BreadcrumbsVisible.bindTo(this._contextKeyService);\n\t\tthis._ckBreadcrumbsActive = BreadcrumbsControl.CK_BreadcrumbsActive.bindTo(this._contextKeyService);\n\n\t\tthis._disposables.add(breadcrumbsService.register(this._editorGroup.id, this._widget));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._breadcrumbsDisposables.dispose();\n\t\tthis._ckBreadcrumbsPossible.reset();\n\t\tthis._ckBreadcrumbsVisible.reset();\n\t\tthis._ckBreadcrumbsActive.reset();\n\t\tthis._cfUseQuickPick.dispose();\n\t\tthis._cfShowIcons.dispose();\n\t\tthis._widget.dispose();\n\t\tthis.domNode.remove();\n\t}\n\n\tlayout(dim: dom.Dimension | undefined): void {\n\t\tthis._widget.layout(dim);\n\t}\n\n\tisHidden(): boolean {\n\t\treturn this.domNode.classList.contains('hidden');\n\t}\n\n\thide(): void {\n\t\tthis._breadcrumbsDisposables.clear();\n\t\tthis._ckBreadcrumbsVisible.set(false);\n\t\tthis.domNode.classList.toggle('hidden', true);\n\t}\n\n\tupdate(): boolean {\n\t\tthis._breadcrumbsDisposables.clear();\n\n\t\t// honor diff editors and such\n\t\tconst uri = EditorResourceAccessor.getCanonicalUri(this._editorGroup.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tconst wasHidden = this.isHidden();\n\n\t\tif (!uri || !this._fileService.canHandleResource(uri)) {\n\t\t\t// cleanup and return when there is no input or when\n\t\t\t// we cannot handle this input\n\t\t\tthis._ckBreadcrumbsPossible.set(false);\n\t\t\tif (!wasHidden) {\n\t\t\t\tthis.hide();\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// display uri which can be derived from certain inputs\n\t\tconst fileInfoUri = EditorResourceAccessor.getOriginalUri(this._editorGroup.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\tthis.domNode.classList.toggle('hidden', false);\n\t\tthis._ckBreadcrumbsVisible.set(true);\n\t\tthis._ckBreadcrumbsPossible.set(true);\n\n\t\tconst model = this._instantiationService.createInstance(BreadcrumbsModel,\n\t\t\tfileInfoUri ?? uri,\n\t\t\tthis._editorGroup.activeEditorPane\n\t\t);\n\n\t\tthis.domNode.classList.toggle('relative-path', model.isRelative());\n\t\tthis.domNode.classList.toggle('backslash-path', this._labelService.getSeparator(uri.scheme, uri.authority) === '\\\\');\n\n\t\tconst updateBreadcrumbs = () => {\n\t\t\tconst showIcons = this._cfShowIcons.getValue();\n\t\t\tconst options: IBreadcrumbsControlOptions = {\n\t\t\t\t...this._options,\n\t\t\t\tshowFileIcons: this._options.showFileIcons && showIcons,\n\t\t\t\tshowSymbolIcons: this._options.showSymbolIcons && showIcons\n\t\t\t};\n\t\t\tconst items = model.getElements().map(element => element instanceof FileElement ? new FileItem(model, element, options, this._instantiationService) : new OutlineItem(model, element, options));\n\t\t\tif (items.length === 0) {\n\t\t\t\tthis._widget.setEnabled(false);\n\t\t\t\tthis._widget.setItems([new class extends BreadcrumbsItem {\n\t\t\t\t\trender(container: HTMLElement): void {\n\t\t\t\t\t\tcontainer.innerText = localize('empty', \"no elements\");\n\t\t\t\t\t}\n\t\t\t\t\tequals(other: BreadcrumbsItem): boolean {\n\t\t\t\t\t\treturn other === this;\n\t\t\t\t\t}\n\t\t\t\t}]);\n\t\t\t} else {\n\t\t\t\tthis._widget.setEnabled(true);\n\t\t\t\tthis._widget.setItems(items);\n\t\t\t\tthis._widget.reveal(items[items.length - 1]);\n\t\t\t}\n\t\t};\n\t\tconst listener = model.onDidUpdate(updateBreadcrumbs);\n\t\tconst configListener = this._cfShowIcons.onDidChange(updateBreadcrumbs);\n\t\tupdateBreadcrumbs();\n\t\tthis._breadcrumbsDisposables.clear();\n\t\tthis._breadcrumbsDisposables.add(model);\n\t\tthis._breadcrumbsDisposables.add(listener);\n\t\tthis._breadcrumbsDisposables.add(configListener);\n\n\t\tconst updateScrollbarSizing = () => {\n\t\t\tconst sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';\n\t\t\tthis._widget.setHorizontalScrollbarSize(BreadcrumbsControl.SCROLLBAR_SIZES[sizing]);\n\t\t};\n\t\tupdateScrollbarSizing();\n\t\tconst updateScrollbarSizeListener = this._cfTitleScrollbarSizing.onDidChange(updateScrollbarSizing);\n\t\tthis._breadcrumbsDisposables.add(updateScrollbarSizeListener);\n\n\t\t// close picker on hide/update\n\t\tthis._breadcrumbsDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tif (this._breadcrumbsPickerShowing) {\n\t\t\t\t\tthis._contextViewService.hideContextView({ source: this });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn wasHidden !== this.isHidden();\n\t}\n\n\tprivate _onFocusEvent(event: IBreadcrumbsItemEvent): void {\n\t\tif (event.item && this._breadcrumbsPickerShowing) {\n\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = undefined;\n\t\t\tthis._widget.setSelection(event.item);\n\t\t}\n\t}\n\n\tprivate _onSelectEvent(event: IBreadcrumbsItemEvent): void {\n\t\tif (!event.item) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.item === this._breadcrumbsPickerIgnoreOnceItem) {\n\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = undefined;\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\treturn;\n\t\t}\n\n\t\tconst { element } = event.item as FileItem | OutlineItem;\n\t\tthis._editorGroup.focus();\n\n\t\ttype BreadcrumbSelect = { type: string };\n\t\ttype BreadcrumbSelectClassification = { type: { classification: 'SystemMetaData', purpose: 'FeatureInsight' }; };\n\t\tthis._telemetryService.publicLog2<BreadcrumbSelect, BreadcrumbSelectClassification>('breadcrumbs/select', { type: event.item instanceof OutlineItem ? 'symbol' : 'file' });\n\n\t\tconst group = this._getEditorGroup(event.payload);\n\t\tif (group !== undefined) {\n\t\t\t// reveal the item\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\tthis._revealInEditor(event, element, group);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._cfUseQuickPick.getValue()) {\n\t\t\t// using quick pick\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\tthis._quickInputService.quickAccess.show(element instanceof OutlineElement2 ? '@' : '');\n\t\t\treturn;\n\t\t}\n\n\t\t// show picker\n\t\tlet picker: BreadcrumbsPicker;\n\t\tlet pickerAnchor: { x: number; y: number };\n\n\t\tinterface IHideData { didPick?: boolean, source?: BreadcrumbsControl }\n\n\t\tthis._contextViewService.showContextView({\n\t\t\trender: (parent: HTMLElement) => {\n\t\t\t\tif (event.item instanceof FileItem) {\n\t\t\t\t\tpicker = this._instantiationService.createInstance(BreadcrumbsFilePicker, parent, event.item.model.resource);\n\t\t\t\t} else if (event.item instanceof OutlineItem) {\n\t\t\t\t\tpicker = this._instantiationService.createInstance(BreadcrumbsOutlinePicker, parent, event.item.model.resource);\n\t\t\t\t}\n\n\t\t\t\tlet selectListener = picker.onWillPickElement(() => this._contextViewService.hideContextView({ source: this, didPick: true }));\n\t\t\t\tlet zoomListener = onDidChangeZoomLevel(() => this._contextViewService.hideContextView({ source: this }));\n\n\t\t\t\tlet focusTracker = dom.trackFocus(parent);\n\t\t\t\tlet blurListener = focusTracker.onDidBlur(() => {\n\t\t\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = this._widget.isDOMFocused() ? event.item : undefined;\n\t\t\t\t\tthis._contextViewService.hideContextView({ source: this });\n\t\t\t\t});\n\n\t\t\t\tthis._breadcrumbsPickerShowing = true;\n\t\t\t\tthis._updateCkBreadcrumbsActive();\n\n\t\t\t\treturn combinedDisposable(\n\t\t\t\t\tpicker,\n\t\t\t\t\tselectListener,\n\t\t\t\t\tzoomListener,\n\t\t\t\t\tfocusTracker,\n\t\t\t\t\tblurListener\n\t\t\t\t);\n\t\t\t},\n\t\t\tgetAnchor: () => {\n\t\t\t\tif (!pickerAnchor) {\n\t\t\t\t\tlet maxInnerWidth = window.innerWidth - 8 /*a little less the full widget*/;\n\t\t\t\t\tlet maxHeight = Math.min(window.innerHeight * 0.7, 300);\n\n\t\t\t\t\tlet pickerWidth = Math.min(maxInnerWidth, Math.max(240, maxInnerWidth / 4.17));\n\t\t\t\t\tlet pickerArrowSize = 8;\n\t\t\t\t\tlet pickerArrowOffset: number;\n\n\t\t\t\t\tlet data = dom.getDomNodePagePosition(event.node.firstChild as HTMLElement);\n\t\t\t\t\tlet y = data.top + data.height + pickerArrowSize;\n\t\t\t\t\tif (y + maxHeight >= window.innerHeight) {\n\t\t\t\t\t\tmaxHeight = window.innerHeight - y - 30 /* room for shadow and status bar*/;\n\t\t\t\t\t}\n\t\t\t\t\tlet x = data.left;\n\t\t\t\t\tif (x + pickerWidth >= maxInnerWidth) {\n\t\t\t\t\t\tx = maxInnerWidth - pickerWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (event.payload instanceof StandardMouseEvent) {\n\t\t\t\t\t\tlet maxPickerArrowOffset = pickerWidth - 2 * pickerArrowSize;\n\t\t\t\t\t\tpickerArrowOffset = event.payload.posx - x;\n\t\t\t\t\t\tif (pickerArrowOffset > maxPickerArrowOffset) {\n\t\t\t\t\t\t\tx = Math.min(maxInnerWidth - pickerWidth, x + pickerArrowOffset - maxPickerArrowOffset);\n\t\t\t\t\t\t\tpickerArrowOffset = maxPickerArrowOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpickerArrowOffset = (data.left + (data.width * 0.3)) - x;\n\t\t\t\t\t}\n\t\t\t\t\tpicker.show(element, maxHeight, pickerWidth, pickerArrowSize, Math.max(0, pickerArrowOffset));\n\t\t\t\t\tpickerAnchor = { x, y };\n\t\t\t\t}\n\t\t\t\treturn pickerAnchor;\n\t\t\t},\n\t\t\tonHide: (data?: IHideData) => {\n\t\t\t\tif (!data?.didPick) {\n\t\t\t\t\tpicker.restoreViewState();\n\t\t\t\t}\n\t\t\t\tthis._breadcrumbsPickerShowing = false;\n\t\t\t\tthis._updateCkBreadcrumbsActive();\n\t\t\t\tif (data?.source === this) {\n\t\t\t\t\tthis._widget.setFocused(undefined);\n\t\t\t\t\tthis._widget.setSelection(undefined);\n\t\t\t\t}\n\t\t\t\tpicker.dispose();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _updateCkBreadcrumbsActive(): void {\n\t\tconst value = this._widget.isDOMFocused() || this._breadcrumbsPickerShowing;\n\t\tthis._ckBreadcrumbsActive.set(value);\n\t}\n\n\tprivate async _revealInEditor(event: IBreadcrumbsItemEvent, element: FileElement | OutlineElement2, group: SIDE_GROUP_TYPE | ACTIVE_GROUP_TYPE | undefined, pinned: boolean = false): Promise<void> {\n\n\t\tif (element instanceof FileElement) {\n\t\t\tif (element.kind === FileKind.FILE) {\n\t\t\t\tawait this._editorService.openEditor({ resource: element.uri, options: { pinned } }, group);\n\t\t\t} else {\n\t\t\t\t// show next picker\n\t\t\t\tlet items = this._widget.getItems();\n\t\t\t\tlet idx = items.indexOf(event.item);\n\t\t\t\tthis._widget.setFocused(items[idx + 1]);\n\t\t\t\tthis._widget.setSelection(items[idx + 1], BreadcrumbsControl.Payload_Pick);\n\t\t\t}\n\t\t} else {\n\t\t\telement.outline.reveal(element, { pinned }, group === SIDE_GROUP);\n\t\t}\n\t}\n\n\tprivate _getEditorGroup(data: object): SIDE_GROUP_TYPE | ACTIVE_GROUP_TYPE | undefined {\n\t\tif (data === BreadcrumbsControl.Payload_RevealAside) {\n\t\t\treturn SIDE_GROUP;\n\t\t} else if (data === BreadcrumbsControl.Payload_Reveal) {\n\t\t\treturn ACTIVE_GROUP;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\n//#region commands\n\n// toggle command\nMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\tcommand: {\n\t\tid: 'breadcrumbs.toggle',\n\t\ttitle: { value: localize('cmd.toggle', \"Toggle Breadcrumbs\"), original: 'Toggle Breadcrumbs' },\n\t\tcategory: CATEGORIES.View\n\t}\n});\nMenuRegistry.appendMenuItem(MenuId.MenubarViewMenu, {\n\tgroup: '5_editor',\n\torder: 3,\n\tcommand: {\n\t\tid: 'breadcrumbs.toggle',\n\t\ttitle: localize('miShowBreadcrumbs', \"Show &&Breadcrumbs\"),\n\t\ttoggled: ContextKeyExpr.equals('config.breadcrumbs.enabled', true)\n\t}\n});\nCommandsRegistry.registerCommand('breadcrumbs.toggle', accessor => {\n\tlet config = accessor.get(IConfigurationService);\n\tlet value = BreadcrumbsConfig.IsEnabled.bindTo(config).getValue();\n\tBreadcrumbsConfig.IsEnabled.bindTo(config).updateValue(!value);\n});\n\n// focus/focus-and-select\nfunction focusAndSelectHandler(accessor: ServicesAccessor, select: boolean): void {\n\t// find widget and focus/select\n\tconst groups = accessor.get(IEditorGroupsService);\n\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\tif (widget) {\n\t\tconst item = tail(widget.getItems());\n\t\twidget.setFocused(item);\n\t\tif (select) {\n\t\t\twidget.setSelection(item, BreadcrumbsControl.Payload_Pick);\n\t\t}\n\t}\n}\nMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\tcommand: {\n\t\tid: 'breadcrumbs.focusAndSelect',\n\t\ttitle: { value: localize('cmd.focus', \"Focus Breadcrumbs\"), original: 'Focus Breadcrumbs' },\n\t\tprecondition: BreadcrumbsControl.CK_BreadcrumbsVisible\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusAndSelect',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.US_DOT,\n\twhen: BreadcrumbsControl.CK_BreadcrumbsPossible,\n\thandler: accessor => focusAndSelectHandler(accessor, true)\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focus',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.US_SEMICOLON,\n\twhen: BreadcrumbsControl.CK_BreadcrumbsPossible,\n\thandler: accessor => focusAndSelectHandler(accessor, false)\n});\n\n// this commands is only enabled when breadcrumbs are\n// disabled which it then enables and focuses\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.toggleToOn',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.US_DOT,\n\twhen: ContextKeyExpr.not('config.breadcrumbs.enabled'),\n\thandler: async accessor => {\n\t\tconst instant = accessor.get(IInstantiationService);\n\t\tconst config = accessor.get(IConfigurationService);\n\t\t// check if enabled and iff not enable\n\t\tconst isEnabled = BreadcrumbsConfig.IsEnabled.bindTo(config);\n\t\tif (!isEnabled.getValue()) {\n\t\t\tawait isEnabled.updateValue(true);\n\t\t\tawait timeout(50); // hacky - the widget might not be ready yet...\n\t\t}\n\t\treturn instant.invokeFunction(focusAndSelectHandler, true);\n\t}\n});\n\n// navigation\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusNext',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.RightArrow,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.RightArrow],\n\tmac: {\n\t\tprimary: KeyCode.RightArrow,\n\t\tsecondary: [KeyMod.Alt | KeyCode.RightArrow],\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusNext();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusPrevious',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.LeftArrow,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.LeftArrow],\n\tmac: {\n\t\tprimary: KeyCode.LeftArrow,\n\t\tsecondary: [KeyMod.Alt | KeyCode.LeftArrow],\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusPrev();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusNextWithPicker',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyMod.CtrlCmd | KeyCode.RightArrow,\n\tmac: {\n\t\tprimary: KeyMod.Alt | KeyCode.RightArrow,\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusNext();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusPreviousWithPicker',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyMod.CtrlCmd | KeyCode.LeftArrow,\n\tmac: {\n\t\tprimary: KeyMod.Alt | KeyCode.LeftArrow,\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusPrev();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.selectFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Enter,\n\tsecondary: [KeyCode.DownArrow],\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Pick);\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.revealFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Space,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.Enter],\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Reveal);\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.selectEditor',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyCode.Escape,\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setFocused(undefined);\n\t\twidget.setSelection(undefined);\n\t\tif (groups.activeGroup.activeEditorPane) {\n\t\t\tgroups.activeGroup.activeEditorPane.focus();\n\t\t}\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.revealFocusedFromTreeAside',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst editors = accessor.get(IEditorService);\n\t\tconst lists = accessor.get(IListService);\n\n\t\tconst tree = lists.lastFocusedList;\n\t\tif (!(tree instanceof WorkbenchDataTree)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = <IFileStat | unknown>tree.getFocus()[0];\n\n\t\tif (URI.isUri((<IFileStat>element)?.resource)) {\n\t\t\t// IFileStat: open file in editor\n\t\t\treturn editors.openEditor({\n\t\t\t\tresource: (<IFileStat>element).resource,\n\t\t\t\toptions: { pinned: true }\n\t\t\t}, SIDE_GROUP);\n\t\t}\n\n\t\t// IOutline: check if this the outline and iff so reveal element\n\t\tconst input = tree.getInput();\n\t\tif (input && typeof (<IOutline<any>>input).outlineKind === 'string') {\n\t\t\treturn (<IOutline<any>>input).reveal(element, {\n\t\t\t\tpinned: true,\n\t\t\t\tpreserveFocus: false\n\t\t\t}, true);\n\t\t}\n\t}\n});\n//#endregion\n"]}