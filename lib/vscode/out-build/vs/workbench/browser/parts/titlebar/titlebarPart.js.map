{"version":3,"sources":["vs/workbench/browser/parts/titlebar/titlebarPart.ts"],"names":[],"mappings":"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","file":"titlebarPart.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/titlebarpart';\nimport { localize } from 'vs/nls';\nimport { dirname, basename } from 'vs/base/common/resources';\nimport { Part } from 'vs/workbench/browser/part';\nimport { ITitleService, ITitleProperties } from 'vs/workbench/services/title/common/titleService';\nimport { getZoomFactor } from 'vs/base/browser/browser';\nimport { MenuBarVisibility, getTitleBarStyle, getMenuBarVisibility } from 'vs/platform/windows/common/windows';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { IAction } from 'vs/base/common/actions';\nimport { IConfigurationService, IConfigurationChangeEvent } from 'vs/platform/configuration/common/configuration';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { DisposableStore, dispose } from 'vs/base/common/lifecycle';\nimport { EditorResourceAccessor, Verbosity, SideBySideEditor } from 'vs/workbench/common/editor';\nimport { IWorkbenchEnvironmentService } from 'vs/workbench/services/environment/common/environmentService';\nimport { IWorkspaceContextService, WorkbenchState, IWorkspaceFolder } from 'vs/platform/workspace/common/workspace';\nimport { IThemeService, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { TITLE_BAR_ACTIVE_BACKGROUND, TITLE_BAR_ACTIVE_FOREGROUND, TITLE_BAR_INACTIVE_FOREGROUND, TITLE_BAR_INACTIVE_BACKGROUND, TITLE_BAR_BORDER, WORKBENCH_BACKGROUND } from 'vs/workbench/common/theme';\nimport { isMacintosh, isWindows, isLinux, isWeb } from 'vs/base/common/platform';\nimport { URI } from 'vs/base/common/uri';\nimport { Color } from 'vs/base/common/color';\nimport { trim } from 'vs/base/common/strings';\nimport { EventType, EventHelper, Dimension, isAncestor, append, $, addDisposableListener, runAtThisOrScheduleAtNextAnimationFrame, prepend } from 'vs/base/browser/dom';\nimport { CustomMenubarControl } from 'vs/workbench/browser/parts/titlebar/menubarControl';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { template } from 'vs/base/common/labels';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { Emitter } from 'vs/base/common/event';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { Parts, IWorkbenchLayoutService } from 'vs/workbench/services/layout/browser/layoutService';\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport { createAndFillInContextMenuActions } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { IMenuService, IMenu, MenuId } from 'vs/platform/actions/common/actions';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IHostService } from 'vs/workbench/services/host/browser/host';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { Schemas } from 'vs/base/common/network';\nimport { withNullAsUndefined } from 'vs/base/common/types';\nimport { Codicon, iconRegistry } from 'vs/base/common/codicons';\nimport { getVirtualWorkspaceLocation } from 'vs/platform/remote/common/remoteHosts';\n\nexport class TitlebarPart extends Part implements ITitleService {\n\n\tprivate static readonly NLS_UNSUPPORTED = localize('patchedWindowTitle', \"[Unsupported]\");\n\tprivate static readonly NLS_USER_IS_ADMIN = isWindows ? localize('userIsAdmin', \"[Administrator]\") : localize('userIsSudo', \"[Superuser]\");\n\tprivate static readonly NLS_EXTENSION_HOST = localize('devExtensionWindowTitlePrefix', \"[Extension Development Host]\");\n\tprivate static readonly TITLE_DIRTY = '\\u25cf ';\n\n\t//#region IView\n\n\treadonly minimumWidth: number = 0;\n\treadonly maximumWidth: number = Number.POSITIVE_INFINITY;\n\tget minimumHeight(): number { return 30 / (this.currentMenubarVisibility === 'hidden' ? getZoomFactor() : 1); }\n\tget maximumHeight(): number { return this.minimumHeight; }\n\n\t//#endregion\n\n\tprivate _onMenubarVisibilityChange = this._register(new Emitter<boolean>());\n\treadonly onMenubarVisibilityChange = this._onMenubarVisibilityChange.event;\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprotected title!: HTMLElement;\n\tprotected customMenubar: CustomMenubarControl | undefined;\n\tprotected appIcon: HTMLElement | undefined;\n\tprivate appIconBadge: HTMLElement | undefined;\n\tprotected menubar?: HTMLElement;\n\tprotected lastLayoutDimensions: Dimension | undefined;\n\tprivate titleBarStyle: 'native' | 'custom';\n\n\tprivate pendingTitle: string | undefined;\n\n\tprivate isInactive: boolean = false;\n\n\tprivate readonly properties: ITitleProperties = { isPure: true, isAdmin: false, prefix: undefined };\n\tprivate readonly activeEditorListeners = this._register(new DisposableStore());\n\n\tprivate readonly titleUpdater = this._register(new RunOnceScheduler(() => this.doUpdateTitle(), 0));\n\n\tprivate contextMenu: IMenu;\n\n\tconstructor(\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IConfigurationService protected readonly configurationService: IConfigurationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IWorkbenchEnvironmentService protected readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IProductService private readonly productService: IProductService,\n\t) {\n\t\tsuper(Parts.TITLEBAR_PART, { hasTitle: false }, themeService, storageService, layoutService);\n\n\t\tthis.contextMenu = this._register(menuService.createMenu(MenuId.TitleBarContext, contextKeyService));\n\n\t\tthis.titleBarStyle = getTitleBarStyle(this.configurationService);\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.hostService.onDidChangeFocus(focused => focused ? this.onFocus() : this.onBlur()));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationChanged(e)));\n\t\tthis._register(this.editorService.onDidActiveEditorChange(() => this.onActiveEditorChange()));\n\t\tthis._register(this.contextService.onDidChangeWorkspaceFolders(() => this.titleUpdater.schedule()));\n\t\tthis._register(this.contextService.onDidChangeWorkbenchState(() => this.titleUpdater.schedule()));\n\t\tthis._register(this.contextService.onDidChangeWorkspaceName(() => this.titleUpdater.schedule()));\n\t\tthis._register(this.labelService.onDidChangeFormatters(() => this.titleUpdater.schedule()));\n\t}\n\n\tprivate onBlur(): void {\n\t\tthis.isInactive = true;\n\t\tthis.updateStyles();\n\t}\n\n\tprivate onFocus(): void {\n\t\tthis.isInactive = false;\n\t\tthis.updateStyles();\n\t}\n\n\tprotected onConfigurationChanged(event: IConfigurationChangeEvent): void {\n\t\tif (event.affectsConfiguration('window.title') || event.affectsConfiguration('window.titleSeparator')) {\n\t\t\tthis.titleUpdater.schedule();\n\t\t}\n\n\t\tif (this.titleBarStyle !== 'native' && (!isMacintosh || isWeb)) {\n\t\t\tif (event.affectsConfiguration('window.menuBarVisibility')) {\n\t\t\t\tif (this.currentMenubarVisibility === 'compact') {\n\t\t\t\t\tthis.uninstallMenubar();\n\t\t\t\t} else {\n\t\t\t\t\tthis.installMenubar();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected onMenubarVisibilityChanged(visible: boolean): void {\n\t\tif (isWeb || isWindows || isLinux) {\n\t\t\tthis.adjustTitleMarginToCenter();\n\n\t\t\tthis._onMenubarVisibilityChange.fire(visible);\n\t\t}\n\t}\n\n\tprivate onActiveEditorChange(): void {\n\n\t\t// Dispose old listeners\n\t\tthis.activeEditorListeners.clear();\n\n\t\t// Calculate New Window Title\n\t\tthis.titleUpdater.schedule();\n\n\t\t// Apply listener for dirty and label changes\n\t\tconst activeEditor = this.editorService.activeEditor;\n\t\tif (activeEditor) {\n\t\t\tthis.activeEditorListeners.add(activeEditor.onDidChangeDirty(() => this.titleUpdater.schedule()));\n\t\t\tthis.activeEditorListeners.add(activeEditor.onDidChangeLabel(() => this.titleUpdater.schedule()));\n\t\t}\n\t}\n\n\tprivate doUpdateTitle(): void {\n\t\tconst title = this.getWindowTitle();\n\n\t\t// Always set the native window title to identify us properly to the OS\n\t\tlet nativeTitle = title;\n\t\tif (!trim(nativeTitle)) {\n\t\t\tnativeTitle = this.productService.nameLong;\n\t\t}\n\t\twindow.document.title = nativeTitle;\n\n\t\t// Apply custom title if we can\n\t\tif (this.title) {\n\t\t\tthis.title.innerText = title;\n\t\t} else {\n\t\t\tthis.pendingTitle = title;\n\t\t}\n\n\t\tif ((isWeb || isWindows || isLinux) && this.title) {\n\t\t\tif (this.lastLayoutDimensions) {\n\t\t\t\tthis.updateLayout(this.lastLayoutDimensions);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getWindowTitle(): string {\n\t\tlet title = this.doGetWindowTitle();\n\n\t\tif (this.properties.prefix) {\n\t\t\ttitle = `${this.properties.prefix} ${title || this.productService.nameLong}`;\n\t\t}\n\n\t\tif (this.properties.isAdmin) {\n\t\t\ttitle = `${title || this.productService.nameLong} ${TitlebarPart.NLS_USER_IS_ADMIN}`;\n\t\t}\n\n\t\tif (!this.properties.isPure) {\n\t\t\ttitle = `${title || this.productService.nameLong} ${TitlebarPart.NLS_UNSUPPORTED}`;\n\t\t}\n\n\t\tif (this.environmentService.isExtensionDevelopment) {\n\t\t\ttitle = `${TitlebarPart.NLS_EXTENSION_HOST} - ${title || this.productService.nameLong}`;\n\t\t}\n\n\t\t// Replace non-space whitespace\n\t\ttitle = title.replace(/[^\\S ]/g, ' ');\n\n\t\treturn title;\n\t}\n\n\tupdateProperties(properties: ITitleProperties): void {\n\t\tconst isAdmin = typeof properties.isAdmin === 'boolean' ? properties.isAdmin : this.properties.isAdmin;\n\t\tconst isPure = typeof properties.isPure === 'boolean' ? properties.isPure : this.properties.isPure;\n\t\tconst prefix = typeof properties.prefix === 'string' ? properties.prefix : this.properties.prefix;\n\n\t\tif (isAdmin !== this.properties.isAdmin || isPure !== this.properties.isPure || prefix !== this.properties.prefix) {\n\t\t\tthis.properties.isAdmin = isAdmin;\n\t\t\tthis.properties.isPure = isPure;\n\t\t\tthis.properties.prefix = prefix;\n\n\t\t\tthis.titleUpdater.schedule();\n\t\t}\n\t}\n\n\t/**\n\t * Possible template values:\n\t *\n\t * {activeEditorLong}: e.g. /Users/Development/myFolder/myFileFolder/myFile.txt\n\t * {activeEditorMedium}: e.g. myFolder/myFileFolder/myFile.txt\n\t * {activeEditorShort}: e.g. myFile.txt\n\t * {activeFolderLong}: e.g. /Users/Development/myFolder/myFileFolder\n\t * {activeFolderMedium}: e.g. myFolder/myFileFolder\n\t * {activeFolderShort}: e.g. myFileFolder\n\t * {rootName}: e.g. myFolder1, myFolder2, myFolder3\n\t * {rootPath}: e.g. /Users/Development\n\t * {folderName}: e.g. myFolder\n\t * {folderPath}: e.g. /Users/Development/myFolder\n\t * {appName}: e.g. VS Code\n\t * {remoteName}: e.g. SSH\n\t * {dirty}: indicator\n\t * {separator}: conditional separator\n\t */\n\tprivate doGetWindowTitle(): string {\n\t\tconst editor = this.editorService.activeEditor;\n\t\tconst workspace = this.contextService.getWorkspace();\n\n\t\t// Compute root\n\t\tlet root: URI | undefined;\n\t\tif (workspace.configuration) {\n\t\t\troot = workspace.configuration;\n\t\t} else if (workspace.folders.length) {\n\t\t\troot = workspace.folders[0].uri;\n\t\t}\n\n\t\t// Compute active editor folder\n\t\tconst editorResource = EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tlet editorFolderResource = editorResource ? dirname(editorResource) : undefined;\n\t\tif (editorFolderResource?.path === '.') {\n\t\t\teditorFolderResource = undefined;\n\t\t}\n\n\t\t// Compute folder resource\n\t\t// Single Root Workspace: always the root single workspace in this case\n\t\t// Otherwise: root folder of the currently active file if any\n\t\tlet folder: IWorkspaceFolder | undefined = undefined;\n\t\tif (this.contextService.getWorkbenchState() === WorkbenchState.FOLDER) {\n\t\t\tfolder = workspace.folders[0];\n\t\t} else if (editorResource) {\n\t\t\tfolder = withNullAsUndefined(this.contextService.getWorkspaceFolder(editorResource));\n\t\t}\n\n\t\t// Compute remote\n\t\t// vscode-remtoe: use as is\n\t\t// otherwise figure out if we have a virtual folder opened\n\t\tlet remoteName: string | undefined = undefined;\n\t\tif (this.environmentService.remoteAuthority) {\n\t\t\tremoteName = this.labelService.getHostLabel(Schemas.vscodeRemote, this.environmentService.remoteAuthority);\n\t\t} else {\n\t\t\tconst virtualWorkspaceLocation = getVirtualWorkspaceLocation(workspace);\n\t\t\tif (virtualWorkspaceLocation) {\n\t\t\t\tremoteName = this.labelService.getHostLabel(virtualWorkspaceLocation.scheme, virtualWorkspaceLocation.authority);\n\t\t\t}\n\t\t}\n\n\t\t// Variables\n\t\tconst activeEditorShort = editor ? editor.getTitle(Verbosity.SHORT) : '';\n\t\tconst activeEditorMedium = editor ? editor.getTitle(Verbosity.MEDIUM) : activeEditorShort;\n\t\tconst activeEditorLong = editor ? editor.getTitle(Verbosity.LONG) : activeEditorMedium;\n\t\tconst activeFolderShort = editorFolderResource ? basename(editorFolderResource) : '';\n\t\tconst activeFolderMedium = editorFolderResource ? this.labelService.getUriLabel(editorFolderResource, { relative: true }) : '';\n\t\tconst activeFolderLong = editorFolderResource ? this.labelService.getUriLabel(editorFolderResource) : '';\n\t\tconst rootName = this.labelService.getWorkspaceLabel(workspace);\n\t\tconst rootPath = root ? this.labelService.getUriLabel(root) : '';\n\t\tconst folderName = folder ? folder.name : '';\n\t\tconst folderPath = folder ? this.labelService.getUriLabel(folder.uri) : '';\n\t\tconst dirty = editor?.isDirty() && !editor.isSaving() ? TitlebarPart.TITLE_DIRTY : '';\n\t\tconst appName = this.productService.nameLong;\n\t\tconst separator = this.configurationService.getValue<string>('window.titleSeparator');\n\t\tconst titleTemplate = this.configurationService.getValue<string>('window.title');\n\n\t\treturn template(titleTemplate, {\n\t\t\tactiveEditorShort,\n\t\t\tactiveEditorLong,\n\t\t\tactiveEditorMedium,\n\t\t\tactiveFolderShort,\n\t\t\tactiveFolderMedium,\n\t\t\tactiveFolderLong,\n\t\t\trootName,\n\t\t\trootPath,\n\t\t\tfolderName,\n\t\t\tfolderPath,\n\t\t\tdirty,\n\t\t\tappName,\n\t\t\tremoteName,\n\t\t\tseparator: { label: separator }\n\t\t});\n\t}\n\n\tprivate uninstallMenubar(): void {\n\t\tif (this.customMenubar) {\n\t\t\tthis.customMenubar.dispose();\n\t\t\tthis.customMenubar = undefined;\n\t\t}\n\n\t\tif (this.menubar) {\n\t\t\tthis.menubar.remove();\n\t\t\tthis.menubar = undefined;\n\t\t}\n\t}\n\n\tprotected installMenubar(): void {\n\t\t// If the menubar is already installed, skip\n\t\tif (this.menubar) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.customMenubar = this._register(this.instantiationService.createInstance(CustomMenubarControl));\n\n\t\tthis.menubar = this.element.insertBefore($('div.menubar'), this.title);\n\t\tthis.menubar.setAttribute('role', 'menubar');\n\n\t\tthis.customMenubar.create(this.menubar);\n\n\t\tthis._register(this.customMenubar.onVisibilityChange(e => this.onMenubarVisibilityChanged(e)));\n\t}\n\n\toverride createContentArea(parent: HTMLElement): HTMLElement {\n\t\tthis.element = parent;\n\n\t\t// App Icon (Native Windows/Linux and Web)\n\t\tif (!isMacintosh || isWeb) {\n\t\t\tthis.appIcon = prepend(this.element, $('a.window-appicon'));\n\n\t\t\t// Web-only home indicator and menu\n\t\t\tif (isWeb) {\n\t\t\t\tconst homeIndicator = this.environmentService.options?.homeIndicator;\n\t\t\t\tif (homeIndicator) {\n\t\t\t\t\tlet codicon = iconRegistry.get(homeIndicator.icon);\n\t\t\t\t\tif (!codicon) {\n\t\t\t\t\t\tcodicon = Codicon.code;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.appIcon.setAttribute('href', homeIndicator.href);\n\t\t\t\t\tthis.appIcon.classList.add(...codicon.classNamesArray);\n\t\t\t\t\tthis.appIconBadge = document.createElement('div');\n\t\t\t\t\tthis.appIconBadge.classList.add('home-bar-icon-badge');\n\t\t\t\t\tthis.appIcon.appendChild(this.appIconBadge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Menubar: install a custom menu bar depending on configuration\n\t\t// and when not in activity bar\n\t\tif (this.titleBarStyle !== 'native'\n\t\t\t&& (!isMacintosh || isWeb)\n\t\t\t&& this.currentMenubarVisibility !== 'compact') {\n\t\t\tthis.installMenubar();\n\t\t}\n\n\t\t// Title\n\t\tthis.title = append(this.element, $('div.window-title'));\n\t\tif (this.pendingTitle) {\n\t\t\tthis.title.innerText = this.pendingTitle;\n\t\t} else {\n\t\t\tthis.titleUpdater.schedule();\n\t\t}\n\n\t\t// Context menu on title\n\t\t[EventType.CONTEXT_MENU, EventType.MOUSE_DOWN].forEach(event => {\n\t\t\tthis._register(addDisposableListener(this.title, event, e => {\n\t\t\t\tif (e.type === EventType.CONTEXT_MENU || e.metaKey) {\n\t\t\t\t\tEventHelper.stop(e);\n\n\t\t\t\t\tthis.onContextMenu(e);\n\t\t\t\t}\n\t\t\t}));\n\t\t});\n\n\t\t// Since the title area is used to drag the window, we do not want to steal focus from the\n\t\t// currently active element. So we restore focus after a timeout back to where it was.\n\t\tthis._register(addDisposableListener(this.element, EventType.MOUSE_DOWN, e => {\n\t\t\tif (e.target && this.menubar && isAncestor(e.target as HTMLElement, this.menubar)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst active = document.activeElement;\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (active instanceof HTMLElement) {\n\t\t\t\t\tactive.focus();\n\t\t\t\t}\n\t\t\t}, 0 /* need a timeout because we are in capture phase */);\n\t\t}, true /* use capture to know the currently active element properly */));\n\n\t\tthis.updateStyles();\n\n\t\treturn this.element;\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\t// Part container\n\t\tif (this.element) {\n\t\t\tif (this.isInactive) {\n\t\t\t\tthis.element.classList.add('inactive');\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove('inactive');\n\t\t\t}\n\n\t\t\tconst titleBackground = this.getColor(this.isInactive ? TITLE_BAR_INACTIVE_BACKGROUND : TITLE_BAR_ACTIVE_BACKGROUND, (color, theme) => {\n\t\t\t\t// LCD Rendering Support: the title bar part is a defining its own GPU layer.\n\t\t\t\t// To benefit from LCD font rendering, we must ensure that we always set an\n\t\t\t\t// opaque background color. As such, we compute an opaque color given we know\n\t\t\t\t// the background color is the workbench background.\n\t\t\t\treturn color.isOpaque() ? color : color.makeOpaque(WORKBENCH_BACKGROUND(theme));\n\t\t\t}) || '';\n\t\t\tthis.element.style.backgroundColor = titleBackground;\n\n\t\t\tif (this.appIconBadge) {\n\t\t\t\tthis.appIconBadge.style.backgroundColor = titleBackground;\n\t\t\t}\n\n\t\t\tif (titleBackground && Color.fromHex(titleBackground).isLighter()) {\n\t\t\t\tthis.element.classList.add('light');\n\t\t\t} else {\n\t\t\t\tthis.element.classList.remove('light');\n\t\t\t}\n\n\t\t\tconst titleForeground = this.getColor(this.isInactive ? TITLE_BAR_INACTIVE_FOREGROUND : TITLE_BAR_ACTIVE_FOREGROUND);\n\t\t\tthis.element.style.color = titleForeground || '';\n\n\t\t\tconst titleBorder = this.getColor(TITLE_BAR_BORDER);\n\t\t\tthis.element.style.borderBottom = titleBorder ? `1px solid ${titleBorder}` : '';\n\t\t}\n\t}\n\n\tprivate onContextMenu(e: MouseEvent): void {\n\n\t\t// Find target anchor\n\t\tconst event = new StandardMouseEvent(e);\n\t\tconst anchor = { x: event.posx, y: event.posy };\n\n\t\t// Fill in contributed actions\n\t\tconst actions: IAction[] = [];\n\t\tconst actionsDisposable = createAndFillInContextMenuActions(this.contextMenu, undefined, actions);\n\n\t\t// Show it\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => anchor,\n\t\t\tgetActions: () => actions,\n\t\t\tonHide: () => dispose(actionsDisposable)\n\t\t});\n\t}\n\n\tprotected adjustTitleMarginToCenter(): void {\n\t\tif (this.customMenubar && this.menubar) {\n\t\t\tconst leftMarker = (this.appIcon ? this.appIcon.clientWidth : 0) + this.menubar.clientWidth + 10;\n\t\t\tconst rightMarker = this.element.clientWidth - 10;\n\n\t\t\t// Not enough space to center the titlebar within window,\n\t\t\t// Center between menu and window controls\n\t\t\tif (leftMarker > (this.element.clientWidth - this.title.clientWidth) / 2 ||\n\t\t\t\trightMarker < (this.element.clientWidth + this.title.clientWidth) / 2) {\n\t\t\t\tthis.title.style.position = '';\n\t\t\t\tthis.title.style.left = '';\n\t\t\t\tthis.title.style.transform = '';\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.title.style.position = 'absolute';\n\t\tthis.title.style.left = '50%';\n\t\tthis.title.style.transform = 'translate(-50%, 0)';\n\t}\n\n\tprotected get currentMenubarVisibility(): MenuBarVisibility {\n\t\treturn getMenuBarVisibility(this.configurationService);\n\t}\n\n\tupdateLayout(dimension: Dimension): void {\n\t\tthis.lastLayoutDimensions = dimension;\n\n\t\tif (getTitleBarStyle(this.configurationService) === 'custom') {\n\t\t\t// Only prevent zooming behavior on macOS or when the menubar is not visible\n\t\t\tif ((!isWeb && isMacintosh) || this.currentMenubarVisibility === 'hidden') {\n\t\t\t\tthis.title.style.zoom = `${1 / getZoomFactor()}`;\n\t\t\t} else {\n\t\t\t\tthis.title.style.zoom = '';\n\t\t\t}\n\n\t\t\trunAtThisOrScheduleAtNextAnimationFrame(() => this.adjustTitleMarginToCenter());\n\n\t\t\tif (this.customMenubar) {\n\t\t\t\tconst menubarDimension = new Dimension(0, dimension.height);\n\t\t\t\tthis.customMenubar.layout(menubarDimension);\n\t\t\t}\n\t\t}\n\t}\n\n\toverride layout(width: number, height: number): void {\n\t\tthis.updateLayout(new Dimension(width, height));\n\n\t\tsuper.layoutContents(width, height);\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.TITLEBAR_PART\n\t\t};\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst titlebarActiveFg = theme.getColor(TITLE_BAR_ACTIVE_FOREGROUND);\n\tif (titlebarActiveFg) {\n\t\tcollector.addRule(`\n\t\t.monaco-workbench .part.titlebar > .window-controls-container .window-icon {\n\t\t\tcolor: ${titlebarActiveFg};\n\t\t}\n\t\t`);\n\t}\n\n\tconst titlebarInactiveFg = theme.getColor(TITLE_BAR_INACTIVE_FOREGROUND);\n\tif (titlebarInactiveFg) {\n\t\tcollector.addRule(`\n\t\t.monaco-workbench .part.titlebar.inactive > .window-controls-container .window-icon {\n\t\t\t\tcolor: ${titlebarInactiveFg};\n\t\t\t}\n\t\t`);\n\t}\n});\n"]}