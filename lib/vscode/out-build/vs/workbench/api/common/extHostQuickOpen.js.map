{"version":3,"file":"extHostQuickOpen.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/api/common/extHostQuickOpen.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAkChG,SAAgB,sBAAsB,CAAC,WAAyB,EAAE,SAAoC,EAAE,QAAyB;QAChI,MAAM,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,8BAAW,CAAC,mBAAmB,CAAC,CAAC;QAEpE,MAAM,oBAAoB;YAYzB,YAAY,SAAoC,EAAE,QAAyB;gBAJnE,cAAS,GAAG,IAAI,GAAG,EAA6B,CAAC;gBAEjD,eAAU,GAAG,CAAC,CAAC;gBAGtB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;gBAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC3B,CAAC;YAKD,aAAa,CAAC,mBAA6C,EAAE,iBAA0B,EAAE,OAA0B,EAAE,QAA2B,gCAAiB,CAAC,IAAI;gBAErK,mCAAmC;gBACnC,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;gBAElC,MAAM,YAAY,GAAoB,OAAO,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;gBAE3E,MAAM,QAAQ,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC;gBAEnC,MAAM,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE;oBAC7C,KAAK,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,KAAK;oBACrB,WAAW,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,WAAW;oBACjC,kBAAkB,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,kBAAkB;oBAC/C,aAAa,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,aAAa;oBACrC,eAAe,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,cAAc;oBACxC,WAAW,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,WAAW;iBACjC,EAAE,KAAK,CAAC,CAAC;gBAEV,MAAM,kBAAkB,GAAG,EAAE,CAAC;gBAC9B,MAAM,mBAAmB,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC,CAAC;gBAE3E,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;oBACtE,IAAI,MAAM,KAAK,kBAAkB,EAAE;wBAClC,OAAO,SAAS,CAAC;qBACjB;oBAED,OAAO,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;wBAEhC,MAAM,SAAS,GAA6B,EAAE,CAAC;wBAC/C,KAAK,IAAI,MAAM,GAAG,CAAC,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE;4BAErD,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;4BAC3B,IAAI,KAAa,CAAC;4BAClB,IAAI,WAA+B,CAAC;4BACpC,IAAI,MAA0B,CAAC;4BAC/B,IAAI,MAA2B,CAAC;4BAChC,IAAI,UAA+B,CAAC;4BAEpC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;gCAC7B,KAAK,GAAG,IAAI,CAAC;6BACb;iCAAM;gCACN,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gCACnB,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gCAC/B,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gCACrB,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gCACrB,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;6BAC7B;4BACD,SAAS,CAAC,IAAI,CAAC;gCACd,KAAK;gCACL,WAAW;gCACX,MAAM;gCACN,MAAM;gCACN,MAAM;gCACN,UAAU;6BACV,CAAC,CAAC;yBACH;wBAED,2BAA2B;wBAC3B,IAAI,OAAO,IAAI,OAAO,OAAO,CAAC,eAAe,KAAK,UAAU,EAAE;4BAC7D,IAAI,CAAC,gBAAgB,GAAG,CAAC,MAAM,EAAE,EAAE;gCAClC,OAAO,CAAC,eAAgB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;4BACzC,CAAC,CAAC;yBACF;wBAED,aAAa;wBACb,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;wBAErC,OAAO,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;4BACpC,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;gCAC/B,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC;6BACrB;iCAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gCACjC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;6BACjC;4BACD,OAAO,SAAS,CAAC;wBAClB,CAAC,CAAC,CAAC;oBACJ,CAAC,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE;oBACxB,IAAI,CAAA,GAAA,+BAAsB,CAAA,CAAC,GAAG,CAAC,EAAE;wBAChC,OAAO,SAAS,CAAC;qBACjB;oBAED,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;oBAE/B,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC;YACJ,CAAC;YAED,eAAe,CAAC,MAAc;gBAC7B,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBAC1B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;iBAC9B;YACF,CAAC;YAED,aAAa;YAEb,SAAS,CAAC,OAAyB,EAAE,QAA2B,gCAAiB,CAAC,IAAI;gBAErF,4CAA4C;gBAC5C,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC;gBAElE,OAAO,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,IAAI,CAAC,cAAc,KAAK,UAAU,EAAE,KAAK,CAAC;qBAC5E,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE;oBACtB,IAAI,CAAA,GAAA,+BAAsB,CAAA,CAAC,GAAG,CAAC,EAAE;wBAChC,OAAO,SAAS,CAAC;qBACjB;oBAED,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC;YACL,CAAC;YAED,cAAc,CAAC,KAAa;gBAC3B,IAAI,IAAI,CAAC,cAAc,EAAE;oBACxB,OAAO,CAAA,GAAA,iBAAS,CAAA,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAe,CAAC,KAAK,CAAC,CAAC,CAAC;iBACpD;gBACD,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACnC,CAAC;YAED,+BAA+B;YAE/B,KAAK,CAAC,uBAAuB,CAAC,OAAoC,EAAE,KAAK,GAAG,gCAAiB,CAAC,IAAI;gBACjG,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,cAAc,CAAkB,gCAAgC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBACzH,IAAI,CAAC,cAAc,EAAE;oBACpB,OAAO,SAAS,CAAC;iBACjB;gBACD,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;gBACtE,IAAI,CAAC,gBAAgB,EAAE;oBACtB,OAAO,SAAS,CAAC;iBACjB;gBACD,OAAO,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,cAAc,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YACjG,CAAC;YAED,kBAAkB;YAElB,eAAe,CAA0B,WAAgC,EAAE,iBAA0B;gBACpG,MAAM,OAAO,GAAwB,IAAI,gBAAgB,CAAC,WAAW,EAAE,iBAAiB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBACpI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;gBACzC,OAAO,OAAO,CAAC;YAChB,CAAC;YAED,cAAc,CAAC,WAAgC;gBAC9C,MAAM,OAAO,GAAoB,IAAI,eAAe,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC5G,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;gBACzC,OAAO,OAAO,CAAC;YAChB,CAAC;YAED,iBAAiB,CAAC,SAAiB,EAAE,KAAa;gBACjD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,OAAO,EAAE;oBACZ,OAAO,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;iBACnC;YACF,CAAC;YAED,YAAY,CAAC,SAAiB;gBAC7B,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,OAAO,EAAE;oBACZ,OAAO,CAAC,cAAc,EAAE,CAAC;iBACzB;YACF,CAAC;YAED,kBAAkB,CAAC,SAAiB,EAAE,OAAiB;gBACtD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,OAAO,YAAY,gBAAgB,EAAE;oBACxC,OAAO,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;iBACtC;YACF,CAAC;YAED,qBAAqB,CAAC,SAAiB,EAAE,OAAiB;gBACzD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,OAAO,YAAY,gBAAgB,EAAE;oBACxC,OAAO,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;iBACzC;YACF,CAAC;YAED,mBAAmB,CAAC,SAAiB,EAAE,MAAc;gBACpD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,OAAO,EAAE;oBACZ,OAAO,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;iBACtC;YACF,CAAC;YAED,UAAU,CAAC,SAAiB;gBAC3B,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,OAAO,EAAE;oBACZ,OAAO,CAAC,YAAY,EAAE,CAAC;iBACvB;YACF,CAAC;SACD;QAED,MAAM,iBAAiB;YAgCtB,YAAsB,YAAiC,EAAU,aAAyB;gBAApE,iBAAY,GAAZ,YAAY,CAAqB;gBAAU,kBAAa,GAAb,aAAa,CAAY;gBA7B1F,QAAG,GAAG,gBAAgB,CAAC,OAAO,EAAE,CAAC;gBAKzB,aAAQ,GAAG,KAAK,CAAC;gBACjB,mBAAc,GAAG,KAAK,CAAC;gBACvB,aAAQ,GAAG,IAAI,CAAC;gBAChB,UAAK,GAAG,KAAK,CAAC;gBACd,oBAAe,GAAG,IAAI,CAAC;gBACvB,WAAM,GAAG,EAAE,CAAC;gBAEZ,aAAQ,GAAuB,EAAE,CAAC;gBAClC,sBAAiB,GAAG,IAAI,GAAG,EAA4B,CAAC;gBAC/C,wBAAmB,GAAG,IAAI,eAAO,EAAQ,CAAC;gBAC1C,6BAAwB,GAAG,IAAI,eAAO,EAAU,CAAC;gBACjD,+BAA0B,GAAG,IAAI,eAAO,EAAoB,CAAC;gBAC7D,sBAAiB,GAAG,IAAI,eAAO,EAAQ,CAAC;gBAEjD,mBAAc,GAAuB,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;gBAEtD,cAAS,GAAG,KAAK,CAAC;gBAChB,iBAAY,GAAkB;oBACvC,IAAI,CAAC,0BAA0B;oBAC/B,IAAI,CAAC,iBAAiB;oBACtB,IAAI,CAAC,mBAAmB;oBACxB,IAAI,CAAC,wBAAwB;iBAC7B,CAAC;gBA6EF,qBAAgB,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC;gBAEvD,gBAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAsB7C,uBAAkB,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC;gBAa3D,cAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;YA/GzC,CAAC;YAED,IAAI,KAAK;gBACR,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAED,IAAI,KAAK,CAAC,KAAyB;gBAClC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;YACxB,CAAC;YAED,IAAI,IAAI;gBACP,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAED,IAAI,IAAI,CAAC,IAAwB;gBAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;YACvB,CAAC;YAED,IAAI,UAAU;gBACb,OAAO,IAAI,CAAC,WAAW,CAAC;YACzB,CAAC;YAED,IAAI,UAAU,CAAC,UAA8B;gBAC5C,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;gBAC9B,IAAI,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC;YAC7B,CAAC;YAED,IAAI,OAAO;gBACV,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAED,IAAI,OAAO,CAAC,OAAgB;gBAC3B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;YAC1B,CAAC;YAED,IAAI,IAAI;gBACP,OAAO,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YAED,IAAI,IAAI,CAAC,IAAa;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;YACvB,CAAC;YAED,IAAI,cAAc;gBACjB,OAAO,IAAI,CAAC,eAAe,CAAC;YAC7B,CAAC;YAED,IAAI,cAAc,CAAC,cAAuB;gBACzC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;gBACtC,IAAI,CAAC,MAAM,CAAC,EAAE,cAAc,EAAE,CAAC,CAAC;YACjC,CAAC;YAED,IAAI,KAAK;gBACR,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAED,IAAI,KAAK,CAAC,KAAa;gBACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;YACxB,CAAC;YAED,IAAI,WAAW;gBACd,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAED,IAAI,WAAW,CAAC,WAA+B;gBAC9C,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC;YAC9B,CAAC;YAMD,IAAI,OAAO;gBACV,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAED,IAAI,OAAO,CAAC,OAA2B;gBACtC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;gBAChC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC;gBAC/B,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC7B,MAAM,MAAM,GAAG,MAAM,KAAK,gCAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1D,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBAC5C,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC;oBACX,OAAO,EAAE,OAAO,CAAC,GAAG,CAA2B,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC9D,QAAQ,EAAE,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC;wBACtC,OAAO,EAAE,MAAM,CAAC,OAAO;wBACvB,MAAM,EAAE,MAAM,KAAK,gCAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBAClD,CAAC,CAAC;iBACH,CAAC,CAAC;YACJ,CAAC;YAID,IAAI;gBACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAChC,CAAC;YAED,IAAI;gBACH,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YACjC,CAAC;YAID,cAAc;gBACb,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC;YACjC,CAAC;YAED,mBAAmB,CAAC,KAAa;gBAChC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3C,CAAC;YAED,qBAAqB,CAAC,MAAc;gBACnC,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,MAAM,EAAE;oBACX,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC7C;YACF,CAAC;YAED,YAAY;gBACX,IAAI,IAAI,CAAC,cAAc,EAAE;oBACxB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;iBAC9B;YACF,CAAC;YAED,OAAO;gBACN,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,OAAO;iBACP;gBACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,YAAY,GAAG,CAAA,GAAA,mBAAO,CAAA,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC/C,IAAI,IAAI,CAAC,cAAc,EAAE;oBACxB,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;oBAClC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;iBAChC;gBACD,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC1B,CAAC;YAES,MAAM,CAAC,UAA+B;gBAC/C,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,OAAO;iBACP;gBACD,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;oBAC1C,MAAM,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;oBAC9B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;iBAC9D;gBAED,IAAI,SAAS,IAAI,IAAI,CAAC,cAAc,EAAE;oBACrC,IAAI,IAAI,CAAC,cAAc,EAAE;wBACxB,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;wBAClC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;qBAChC;oBACD,IAAI,CAAC,cAAc,EAAE,CAAC;iBACtB;qBAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;oBACjD,gFAAgF;oBAChF,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,GAAG,EAAE;wBACrC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;wBAChC,IAAI,CAAC,cAAc,EAAE,CAAC;oBACvB,CAAC,EAAE,CAAC,CAAC,CAAC;iBACN;YACF,CAAC;YAEO,cAAc;gBACrB,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC3C,IAAI,CAAC,cAAc,GAAG,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;YACxC,CAAC;;QAjNc,yBAAO,GAAG,CAAC,CAAC;QAoN5B,SAAS,WAAW,CAAC,QAAsC;YAC1D,IAAI,QAAQ,YAAY,wBAAS,EAAE;gBAClC,OAAO,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC;aAC3B;YACD,MAAM,IAAI,GAAG,cAAc,CAAC,QAA4C,CAAC,CAAC;YAC1E,MAAM,KAAK,GAAG,eAAe,CAAC,QAA4C,CAAC,CAAC;YAC5E,6FAA6F;YAC7F,OAAO;gBACN,IAAI,EAAE,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI;gBACtD,KAAK,EAAE,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,SAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK;aAC1D,CAAC;QACH,CAAC;QAED,SAAS,eAAe,CAAC,QAA0C;YAClE,OAAO,OAAO,QAAQ,KAAK,QAAQ,IAAI,OAAO,IAAI,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC;QACxF,CAAC;QAED,SAAS,cAAc,CAAC,QAA0C;YACjE,OAAO,OAAO,QAAQ,KAAK,QAAQ,IAAI,MAAM,IAAI,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC;QACtF,CAAC;QAED,MAAM,gBAA0C,SAAQ,iBAAiB;YAcxE,YAAY,WAAgC,EAAE,iBAA0B,EAAE,SAAqB;gBAC9F,KAAK,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;gBAbvB,WAAM,GAAQ,EAAE,CAAC;gBACjB,oBAAe,GAAG,IAAI,GAAG,EAAa,CAAC;gBACvC,oBAAe,GAAG,IAAI,GAAG,EAAa,CAAC;gBACvC,mBAAc,GAAG,KAAK,CAAC;gBACvB,wBAAmB,GAAG,IAAI,CAAC;gBAC3B,mBAAc,GAAG,IAAI,CAAC;gBACtB,iBAAY,GAAG,IAAI,CAAC;gBACpB,iBAAY,GAAQ,EAAE,CAAC;gBACd,8BAAyB,GAAG,IAAI,eAAO,EAAO,CAAC;gBACxD,mBAAc,GAAQ,EAAE,CAAC;gBAChB,iCAA4B,GAAG,IAAI,eAAO,EAAO,CAAC;gBAgFnE,sBAAiB,GAAG,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC;gBAWzD,yBAAoB,GAAG,IAAI,CAAC,4BAA4B,CAAC,KAAK,CAAC;gBAvF9D,IAAI,CAAC,YAAY,CAAC,IAAI,CACrB,IAAI,CAAC,yBAAyB,EAC9B,IAAI,CAAC,4BAA4B,CACjC,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC;YACpC,CAAC;YAED,IAAI,KAAK;gBACR,OAAO,IAAI,CAAC,MAAM,CAAC;YACpB,CAAC;YAED,IAAI,KAAK,CAAC,KAAU;gBACnB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;gBAC5B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;gBAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;gBAC7B,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;oBACzB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAClC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gBACnC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC;oBACX,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC9B,KAAK,EAAE,IAAI,CAAC,KAAK;wBACjB,WAAW,EAAE,IAAI,CAAC,WAAW;wBAC7B,MAAM,EAAE,CAAC;wBACT,MAAM,EAAE,IAAI,CAAC,MAAM;wBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;wBACnB,UAAU,EAAE,IAAI,CAAC,UAAU;qBAC3B,CAAC,CAAC;iBACH,CAAC,CAAC;YACJ,CAAC;YAED,IAAI,aAAa;gBAChB,OAAO,IAAI,CAAC,cAAc,CAAC;YAC5B,CAAC;YAED,IAAI,aAAa,CAAC,aAAsB;gBACvC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;gBACpC,IAAI,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,CAAC,CAAC;YAChC,CAAC;YAED,IAAI,kBAAkB;gBACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC;YACjC,CAAC;YAED,IAAI,kBAAkB,CAAC,kBAA2B;gBACjD,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,MAAM,CAAC,EAAE,kBAAkB,EAAE,CAAC,CAAC;YACrC,CAAC;YAED,IAAI,aAAa;gBAChB,OAAO,IAAI,CAAC,cAAc,CAAC;YAC5B,CAAC;YAED,IAAI,aAAa,CAAC,aAAsB;gBACvC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;gBACpC,IAAI,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,CAAC,CAAC;YAChC,CAAC;YAED,IAAI,WAAW;gBACd,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAED,IAAI,WAAW,CAAC,WAAoB;gBACnC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC;YAC9B,CAAC;YAED,IAAI,WAAW;gBACd,OAAO,IAAI,CAAC,YAAY,CAAC;YAC1B,CAAC;YAED,IAAI,WAAW,CAAC,WAAgB;gBAC/B,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC/E,IAAI,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;YAC7F,CAAC;YAID,IAAI,aAAa;gBAChB,OAAO,IAAI,CAAC,cAAc,CAAC;YAC5B,CAAC;YAED,IAAI,aAAa,CAAC,aAAkB;gBACnC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBACnF,IAAI,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;YACjG,CAAC;YAID,oBAAoB,CAAC,OAAiB;gBACrC,MAAM,KAAK,GAAG,CAAA,GAAA,iBAAQ,CAAA,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC;YAED,uBAAuB,CAAC,OAAiB;gBACxC,MAAM,KAAK,GAAG,CAAA,GAAA,iBAAQ,CAAA,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChF,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,CAAC;SACD;QAED,MAAM,eAAgB,SAAQ,iBAAiB;YAM9C,YAAY,WAAgC,EAAE,SAAqB;gBAClE,KAAK,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;gBALvB,cAAS,GAAG,KAAK,CAAC;gBAMzB,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;YACnC,CAAC;YAED,IAAI,QAAQ;gBACX,OAAO,IAAI,CAAC,SAAS,CAAC;YACvB,CAAC;YAED,IAAI,QAAQ,CAAC,QAAiB;gBAC7B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;YAC3B,CAAC;YAED,IAAI,MAAM;gBACT,OAAO,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC;YAED,IAAI,MAAM,CAAC,MAA0B;gBACpC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;YACzB,CAAC;YAED,IAAI,iBAAiB;gBACpB,OAAO,IAAI,CAAC,kBAAkB,CAAC;YAChC,CAAC;YAED,IAAI,iBAAiB,CAAC,iBAAqC;gBAC1D,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;gBAC5C,IAAI,CAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE,QAAQ,EAAE,iBAAiB,CAAC,CAAC,CAAC,kBAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,kBAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;YACpG,CAAC;SACD;QAED,OAAO,IAAI,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IACtD,CAAC;IA5lBD,wDA4lBC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { asPromise } from 'vs/base/common/async';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { Emitter } from 'vs/base/common/event';\nimport { dispose, IDisposable } from 'vs/base/common/lifecycle';\nimport { ExtHostCommands } from 'vs/workbench/api/common/extHostCommands';\nimport { IExtHostWorkspaceProvider } from 'vs/workbench/api/common/extHostWorkspace';\nimport { InputBox, InputBoxOptions, QuickInput, QuickInputButton, QuickPick, QuickPickItem, QuickPickOptions, WorkspaceFolder, WorkspaceFolderPickOptions } from 'vscode';\nimport { ExtHostQuickOpenShape, IMainContext, MainContext, TransferQuickPickItems, TransferQuickInput, TransferQuickInputButton } from './extHost.protocol';\nimport { URI } from 'vs/base/common/uri';\nimport { ThemeIcon, QuickInputButtons } from 'vs/workbench/api/common/extHostTypes';\nimport { isPromiseCanceledError } from 'vs/base/common/errors';\nimport { ExtensionIdentifier } from 'vs/platform/extensions/common/extensions';\nimport { coalesce } from 'vs/base/common/arrays';\nimport Severity from 'vs/base/common/severity';\n\nexport type Item = string | QuickPickItem;\n\nexport interface ExtHostQuickOpen {\n\tshowQuickPick(itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, enableProposedApi: boolean, options: QuickPickOptions & { canPickMany: true; }, token?: CancellationToken): Promise<QuickPickItem[] | undefined>;\n\tshowQuickPick(itemsOrItemsPromise: string[] | Promise<string[]>, enableProposedApi: boolean, options?: QuickPickOptions, token?: CancellationToken): Promise<string | undefined>;\n\tshowQuickPick(itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, enableProposedApi: boolean, options?: QuickPickOptions, token?: CancellationToken): Promise<QuickPickItem | undefined>;\n\tshowQuickPick(itemsOrItemsPromise: Item[] | Promise<Item[]>, enableProposedApi: boolean, options?: QuickPickOptions, token?: CancellationToken): Promise<Item | Item[] | undefined>;\n\n\tshowInput(options?: InputBoxOptions, token?: CancellationToken): Promise<string | undefined>;\n\n\tshowWorkspaceFolderPick(options?: WorkspaceFolderPickOptions, token?: CancellationToken): Promise<WorkspaceFolder | undefined>\n\n\tcreateQuickPick<T extends QuickPickItem>(extensionId: ExtensionIdentifier, enableProposedApi: boolean): QuickPick<T>;\n\n\tcreateInputBox(extensionId: ExtensionIdentifier): InputBox;\n}\n\nexport function createExtHostQuickOpen(mainContext: IMainContext, workspace: IExtHostWorkspaceProvider, commands: ExtHostCommands): ExtHostQuickOpenShape & ExtHostQuickOpen {\n\tconst proxy = mainContext.getProxy(MainContext.MainThreadQuickOpen);\n\n\tclass ExtHostQuickOpenImpl implements ExtHostQuickOpenShape {\n\n\t\tprivate _workspace: IExtHostWorkspaceProvider;\n\t\tprivate _commands: ExtHostCommands;\n\n\t\tprivate _onDidSelectItem?: (handle: number) => void;\n\t\tprivate _validateInput?: (input: string) => string | undefined | null | Thenable<string | undefined | null>;\n\n\t\tprivate _sessions = new Map<number, ExtHostQuickInput>();\n\n\t\tprivate _instances = 0;\n\n\t\tconstructor(workspace: IExtHostWorkspaceProvider, commands: ExtHostCommands) {\n\t\t\tthis._workspace = workspace;\n\t\t\tthis._commands = commands;\n\t\t}\n\n\t\tshowQuickPick(itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, enableProposedApi: boolean, options: QuickPickOptions & { canPickMany: true; }, token?: CancellationToken): Promise<QuickPickItem[] | undefined>;\n\t\tshowQuickPick(itemsOrItemsPromise: string[] | Promise<string[]>, enableProposedApi: boolean, options?: QuickPickOptions, token?: CancellationToken): Promise<string | undefined>;\n\t\tshowQuickPick(itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, enableProposedApi: boolean, options?: QuickPickOptions, token?: CancellationToken): Promise<QuickPickItem | undefined>;\n\t\tshowQuickPick(itemsOrItemsPromise: Item[] | Promise<Item[]>, enableProposedApi: boolean, options?: QuickPickOptions, token: CancellationToken = CancellationToken.None): Promise<Item | Item[] | undefined> {\n\n\t\t\t// clear state from last invocation\n\t\t\tthis._onDidSelectItem = undefined;\n\n\t\t\tconst itemsPromise = <Promise<Item[]>>Promise.resolve(itemsOrItemsPromise);\n\n\t\t\tconst instance = ++this._instances;\n\n\t\t\tconst quickPickWidget = proxy.$show(instance, {\n\t\t\t\ttitle: options?.title,\n\t\t\t\tplaceHolder: options?.placeHolder,\n\t\t\t\tmatchOnDescription: options?.matchOnDescription,\n\t\t\t\tmatchOnDetail: options?.matchOnDetail,\n\t\t\t\tignoreFocusLost: options?.ignoreFocusOut,\n\t\t\t\tcanPickMany: options?.canPickMany,\n\t\t\t}, token);\n\n\t\t\tconst widgetClosedMarker = {};\n\t\t\tconst widgetClosedPromise = quickPickWidget.then(() => widgetClosedMarker);\n\n\t\t\treturn Promise.race([widgetClosedPromise, itemsPromise]).then(result => {\n\t\t\t\tif (result === widgetClosedMarker) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\treturn itemsPromise.then(items => {\n\n\t\t\t\t\tconst pickItems: TransferQuickPickItems[] = [];\n\t\t\t\t\tfor (let handle = 0; handle < items.length; handle++) {\n\n\t\t\t\t\t\tconst item = items[handle];\n\t\t\t\t\t\tlet label: string;\n\t\t\t\t\t\tlet description: string | undefined;\n\t\t\t\t\t\tlet detail: string | undefined;\n\t\t\t\t\t\tlet picked: boolean | undefined;\n\t\t\t\t\t\tlet alwaysShow: boolean | undefined;\n\n\t\t\t\t\t\tif (typeof item === 'string') {\n\t\t\t\t\t\t\tlabel = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlabel = item.label;\n\t\t\t\t\t\t\tdescription = item.description;\n\t\t\t\t\t\t\tdetail = item.detail;\n\t\t\t\t\t\t\tpicked = item.picked;\n\t\t\t\t\t\t\talwaysShow = item.alwaysShow;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpickItems.push({\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\thandle,\n\t\t\t\t\t\t\tdetail,\n\t\t\t\t\t\t\tpicked,\n\t\t\t\t\t\t\talwaysShow\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// handle selection changes\n\t\t\t\t\tif (options && typeof options.onDidSelectItem === 'function') {\n\t\t\t\t\t\tthis._onDidSelectItem = (handle) => {\n\t\t\t\t\t\t\toptions.onDidSelectItem!(items[handle]);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// show items\n\t\t\t\t\tproxy.$setItems(instance, pickItems);\n\n\t\t\t\t\treturn quickPickWidget.then(handle => {\n\t\t\t\t\t\tif (typeof handle === 'number') {\n\t\t\t\t\t\t\treturn items[handle];\n\t\t\t\t\t\t} else if (Array.isArray(handle)) {\n\t\t\t\t\t\t\treturn handle.map(h => items[h]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}).then(undefined, err => {\n\t\t\t\tif (isPromiseCanceledError(err)) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tproxy.$setError(instance, err);\n\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t\t}\n\n\t\t$onItemSelected(handle: number): void {\n\t\t\tif (this._onDidSelectItem) {\n\t\t\t\tthis._onDidSelectItem(handle);\n\t\t\t}\n\t\t}\n\n\t\t// ---- input\n\n\t\tshowInput(options?: InputBoxOptions, token: CancellationToken = CancellationToken.None): Promise<string | undefined> {\n\n\t\t\t// global validate fn used in callback below\n\t\t\tthis._validateInput = options ? options.validateInput : undefined;\n\n\t\t\treturn proxy.$input(options, typeof this._validateInput === 'function', token)\n\t\t\t\t.then(undefined, err => {\n\t\t\t\t\tif (isPromiseCanceledError(err)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\n\t\t$validateInput(input: string): Promise<string | null | undefined> {\n\t\t\tif (this._validateInput) {\n\t\t\t\treturn asPromise(() => this._validateInput!(input));\n\t\t\t}\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\t// ---- workspace folder picker\n\n\t\tasync showWorkspaceFolderPick(options?: WorkspaceFolderPickOptions, token = CancellationToken.None): Promise<WorkspaceFolder | undefined> {\n\t\t\tconst selectedFolder = await this._commands.executeCommand<WorkspaceFolder>('_workbench.pickWorkspaceFolder', [options]);\n\t\t\tif (!selectedFolder) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst workspaceFolders = await this._workspace.getWorkspaceFolders2();\n\t\t\tif (!workspaceFolders) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn workspaceFolders.find(folder => folder.uri.toString() === selectedFolder.uri.toString());\n\t\t}\n\n\t\t// ---- QuickInput\n\n\t\tcreateQuickPick<T extends QuickPickItem>(extensionId: ExtensionIdentifier, enableProposedApi: boolean): QuickPick<T> {\n\t\t\tconst session: ExtHostQuickPick<T> = new ExtHostQuickPick(extensionId, enableProposedApi, () => this._sessions.delete(session._id));\n\t\t\tthis._sessions.set(session._id, session);\n\t\t\treturn session;\n\t\t}\n\n\t\tcreateInputBox(extensionId: ExtensionIdentifier): InputBox {\n\t\t\tconst session: ExtHostInputBox = new ExtHostInputBox(extensionId, () => this._sessions.delete(session._id));\n\t\t\tthis._sessions.set(session._id, session);\n\t\t\treturn session;\n\t\t}\n\n\t\t$onDidChangeValue(sessionId: number, value: string): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session) {\n\t\t\t\tsession._fireDidChangeValue(value);\n\t\t\t}\n\t\t}\n\n\t\t$onDidAccept(sessionId: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session) {\n\t\t\t\tsession._fireDidAccept();\n\t\t\t}\n\t\t}\n\n\t\t$onDidChangeActive(sessionId: number, handles: number[]): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidChangeActive(handles);\n\t\t\t}\n\t\t}\n\n\t\t$onDidChangeSelection(sessionId: number, handles: number[]): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidChangeSelection(handles);\n\t\t\t}\n\t\t}\n\n\t\t$onDidTriggerButton(sessionId: number, handle: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session) {\n\t\t\t\tsession._fireDidTriggerButton(handle);\n\t\t\t}\n\t\t}\n\n\t\t$onDidHide(sessionId: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session) {\n\t\t\t\tsession._fireDidHide();\n\t\t\t}\n\t\t}\n\t}\n\n\tclass ExtHostQuickInput implements QuickInput {\n\n\t\tprivate static _nextId = 1;\n\t\t_id = ExtHostQuickPick._nextId++;\n\n\t\tprivate _title: string | undefined;\n\t\tprivate _steps: number | undefined;\n\t\tprivate _totalSteps: number | undefined;\n\t\tprivate _visible = false;\n\t\tprivate _expectingHide = false;\n\t\tprivate _enabled = true;\n\t\tprivate _busy = false;\n\t\tprivate _ignoreFocusOut = true;\n\t\tprivate _value = '';\n\t\tprivate _placeholder: string | undefined;\n\t\tprivate _buttons: QuickInputButton[] = [];\n\t\tprivate _handlesToButtons = new Map<number, QuickInputButton>();\n\t\tprivate readonly _onDidAcceptEmitter = new Emitter<void>();\n\t\tprivate readonly _onDidChangeValueEmitter = new Emitter<string>();\n\t\tprivate readonly _onDidTriggerButtonEmitter = new Emitter<QuickInputButton>();\n\t\tprivate readonly _onDidHideEmitter = new Emitter<void>();\n\t\tprivate _updateTimeout: any;\n\t\tprivate _pendingUpdate: TransferQuickInput = { id: this._id };\n\n\t\tprivate _disposed = false;\n\t\tprotected _disposables: IDisposable[] = [\n\t\t\tthis._onDidTriggerButtonEmitter,\n\t\t\tthis._onDidHideEmitter,\n\t\t\tthis._onDidAcceptEmitter,\n\t\t\tthis._onDidChangeValueEmitter\n\t\t];\n\n\t\tconstructor(protected _extensionId: ExtensionIdentifier, private _onDidDispose: () => void) {\n\t\t}\n\n\t\tget title() {\n\t\t\treturn this._title;\n\t\t}\n\n\t\tset title(title: string | undefined) {\n\t\t\tthis._title = title;\n\t\t\tthis.update({ title });\n\t\t}\n\n\t\tget step() {\n\t\t\treturn this._steps;\n\t\t}\n\n\t\tset step(step: number | undefined) {\n\t\t\tthis._steps = step;\n\t\t\tthis.update({ step });\n\t\t}\n\n\t\tget totalSteps() {\n\t\t\treturn this._totalSteps;\n\t\t}\n\n\t\tset totalSteps(totalSteps: number | undefined) {\n\t\t\tthis._totalSteps = totalSteps;\n\t\t\tthis.update({ totalSteps });\n\t\t}\n\n\t\tget enabled() {\n\t\t\treturn this._enabled;\n\t\t}\n\n\t\tset enabled(enabled: boolean) {\n\t\t\tthis._enabled = enabled;\n\t\t\tthis.update({ enabled });\n\t\t}\n\n\t\tget busy() {\n\t\t\treturn this._busy;\n\t\t}\n\n\t\tset busy(busy: boolean) {\n\t\t\tthis._busy = busy;\n\t\t\tthis.update({ busy });\n\t\t}\n\n\t\tget ignoreFocusOut() {\n\t\t\treturn this._ignoreFocusOut;\n\t\t}\n\n\t\tset ignoreFocusOut(ignoreFocusOut: boolean) {\n\t\t\tthis._ignoreFocusOut = ignoreFocusOut;\n\t\t\tthis.update({ ignoreFocusOut });\n\t\t}\n\n\t\tget value() {\n\t\t\treturn this._value;\n\t\t}\n\n\t\tset value(value: string) {\n\t\t\tthis._value = value;\n\t\t\tthis.update({ value });\n\t\t}\n\n\t\tget placeholder() {\n\t\t\treturn this._placeholder;\n\t\t}\n\n\t\tset placeholder(placeholder: string | undefined) {\n\t\t\tthis._placeholder = placeholder;\n\t\t\tthis.update({ placeholder });\n\t\t}\n\n\t\tonDidChangeValue = this._onDidChangeValueEmitter.event;\n\n\t\tonDidAccept = this._onDidAcceptEmitter.event;\n\n\t\tget buttons() {\n\t\t\treturn this._buttons;\n\t\t}\n\n\t\tset buttons(buttons: QuickInputButton[]) {\n\t\t\tthis._buttons = buttons.slice();\n\t\t\tthis._handlesToButtons.clear();\n\t\t\tbuttons.forEach((button, i) => {\n\t\t\t\tconst handle = button === QuickInputButtons.Back ? -1 : i;\n\t\t\t\tthis._handlesToButtons.set(handle, button);\n\t\t\t});\n\t\t\tthis.update({\n\t\t\t\tbuttons: buttons.map<TransferQuickInputButton>((button, i) => ({\n\t\t\t\t\ticonPath: getIconUris(button.iconPath),\n\t\t\t\t\ttooltip: button.tooltip,\n\t\t\t\t\thandle: button === QuickInputButtons.Back ? -1 : i,\n\t\t\t\t}))\n\t\t\t});\n\t\t}\n\n\t\tonDidTriggerButton = this._onDidTriggerButtonEmitter.event;\n\n\t\tshow(): void {\n\t\t\tthis._visible = true;\n\t\t\tthis._expectingHide = true;\n\t\t\tthis.update({ visible: true });\n\t\t}\n\n\t\thide(): void {\n\t\t\tthis._visible = false;\n\t\t\tthis.update({ visible: false });\n\t\t}\n\n\t\tonDidHide = this._onDidHideEmitter.event;\n\n\t\t_fireDidAccept() {\n\t\t\tthis._onDidAcceptEmitter.fire();\n\t\t}\n\n\t\t_fireDidChangeValue(value: string) {\n\t\t\tthis._value = value;\n\t\t\tthis._onDidChangeValueEmitter.fire(value);\n\t\t}\n\n\t\t_fireDidTriggerButton(handle: number) {\n\t\t\tconst button = this._handlesToButtons.get(handle);\n\t\t\tif (button) {\n\t\t\t\tthis._onDidTriggerButtonEmitter.fire(button);\n\t\t\t}\n\t\t}\n\n\t\t_fireDidHide() {\n\t\t\tif (this._expectingHide) {\n\t\t\t\tthis._expectingHide = false;\n\t\t\t\tthis._onDidHideEmitter.fire();\n\t\t\t}\n\t\t}\n\n\t\tdispose(): void {\n\t\t\tif (this._disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._disposed = true;\n\t\t\tthis._fireDidHide();\n\t\t\tthis._disposables = dispose(this._disposables);\n\t\t\tif (this._updateTimeout) {\n\t\t\t\tclearTimeout(this._updateTimeout);\n\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t}\n\t\t\tthis._onDidDispose();\n\t\t\tproxy.$dispose(this._id);\n\t\t}\n\n\t\tprotected update(properties: Record<string, any>): void {\n\t\t\tif (this._disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (const key of Object.keys(properties)) {\n\t\t\t\tconst value = properties[key];\n\t\t\t\tthis._pendingUpdate[key] = value === undefined ? null : value;\n\t\t\t}\n\n\t\t\tif ('visible' in this._pendingUpdate) {\n\t\t\t\tif (this._updateTimeout) {\n\t\t\t\t\tclearTimeout(this._updateTimeout);\n\t\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t\t}\n\t\t\t\tthis.dispatchUpdate();\n\t\t\t} else if (this._visible && !this._updateTimeout) {\n\t\t\t\t// Defer the update so that multiple changes to setters dont cause a redraw each\n\t\t\t\tthis._updateTimeout = setTimeout(() => {\n\t\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t\t\tthis.dispatchUpdate();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\n\t\tprivate dispatchUpdate() {\n\t\t\tproxy.$createOrUpdate(this._pendingUpdate);\n\t\t\tthis._pendingUpdate = { id: this._id };\n\t\t}\n\t}\n\n\tfunction getIconUris(iconPath: QuickInputButton['iconPath']): { dark: URI, light?: URI } | { id: string } {\n\t\tif (iconPath instanceof ThemeIcon) {\n\t\t\treturn { id: iconPath.id };\n\t\t}\n\t\tconst dark = getDarkIconUri(iconPath as URI | { light: URI; dark: URI; });\n\t\tconst light = getLightIconUri(iconPath as URI | { light: URI; dark: URI; });\n\t\t// Tolerate strings: https://github.com/microsoft/vscode/issues/110432#issuecomment-726144556\n\t\treturn {\n\t\t\tdark: typeof dark === 'string' ? URI.file(dark) : dark,\n\t\t\tlight: typeof light === 'string' ? URI.file(light) : light\n\t\t};\n\t}\n\n\tfunction getLightIconUri(iconPath: URI | { light: URI; dark: URI; }) {\n\t\treturn typeof iconPath === 'object' && 'light' in iconPath ? iconPath.light : iconPath;\n\t}\n\n\tfunction getDarkIconUri(iconPath: URI | { light: URI; dark: URI; }) {\n\t\treturn typeof iconPath === 'object' && 'dark' in iconPath ? iconPath.dark : iconPath;\n\t}\n\n\tclass ExtHostQuickPick<T extends QuickPickItem> extends ExtHostQuickInput implements QuickPick<T> {\n\n\t\tprivate _items: T[] = [];\n\t\tprivate _handlesToItems = new Map<number, T>();\n\t\tprivate _itemsToHandles = new Map<T, number>();\n\t\tprivate _canSelectMany = false;\n\t\tprivate _matchOnDescription = true;\n\t\tprivate _matchOnDetail = true;\n\t\tprivate _sortByLabel = true;\n\t\tprivate _activeItems: T[] = [];\n\t\tprivate readonly _onDidChangeActiveEmitter = new Emitter<T[]>();\n\t\tprivate _selectedItems: T[] = [];\n\t\tprivate readonly _onDidChangeSelectionEmitter = new Emitter<T[]>();\n\n\t\tconstructor(extensionId: ExtensionIdentifier, enableProposedApi: boolean, onDispose: () => void) {\n\t\t\tsuper(extensionId, onDispose);\n\t\t\tthis._disposables.push(\n\t\t\t\tthis._onDidChangeActiveEmitter,\n\t\t\t\tthis._onDidChangeSelectionEmitter,\n\t\t\t);\n\t\t\tthis.update({ type: 'quickPick' });\n\t\t}\n\n\t\tget items() {\n\t\t\treturn this._items;\n\t\t}\n\n\t\tset items(items: T[]) {\n\t\t\tthis._items = items.slice();\n\t\t\tthis._handlesToItems.clear();\n\t\t\tthis._itemsToHandles.clear();\n\t\t\titems.forEach((item, i) => {\n\t\t\t\tthis._handlesToItems.set(i, item);\n\t\t\t\tthis._itemsToHandles.set(item, i);\n\t\t\t});\n\t\t\tthis.update({\n\t\t\t\titems: items.map((item, i) => ({\n\t\t\t\t\tlabel: item.label,\n\t\t\t\t\tdescription: item.description,\n\t\t\t\t\thandle: i,\n\t\t\t\t\tdetail: item.detail,\n\t\t\t\t\tpicked: item.picked,\n\t\t\t\t\talwaysShow: item.alwaysShow\n\t\t\t\t}))\n\t\t\t});\n\t\t}\n\n\t\tget canSelectMany() {\n\t\t\treturn this._canSelectMany;\n\t\t}\n\n\t\tset canSelectMany(canSelectMany: boolean) {\n\t\t\tthis._canSelectMany = canSelectMany;\n\t\t\tthis.update({ canSelectMany });\n\t\t}\n\n\t\tget matchOnDescription() {\n\t\t\treturn this._matchOnDescription;\n\t\t}\n\n\t\tset matchOnDescription(matchOnDescription: boolean) {\n\t\t\tthis._matchOnDescription = matchOnDescription;\n\t\t\tthis.update({ matchOnDescription });\n\t\t}\n\n\t\tget matchOnDetail() {\n\t\t\treturn this._matchOnDetail;\n\t\t}\n\n\t\tset matchOnDetail(matchOnDetail: boolean) {\n\t\t\tthis._matchOnDetail = matchOnDetail;\n\t\t\tthis.update({ matchOnDetail });\n\t\t}\n\n\t\tget sortByLabel() {\n\t\t\treturn this._sortByLabel;\n\t\t}\n\n\t\tset sortByLabel(sortByLabel: boolean) {\n\t\t\tthis._sortByLabel = sortByLabel;\n\t\t\tthis.update({ sortByLabel });\n\t\t}\n\n\t\tget activeItems() {\n\t\t\treturn this._activeItems;\n\t\t}\n\n\t\tset activeItems(activeItems: T[]) {\n\t\t\tthis._activeItems = activeItems.filter(item => this._itemsToHandles.has(item));\n\t\t\tthis.update({ activeItems: this._activeItems.map(item => this._itemsToHandles.get(item)) });\n\t\t}\n\n\t\tonDidChangeActive = this._onDidChangeActiveEmitter.event;\n\n\t\tget selectedItems() {\n\t\t\treturn this._selectedItems;\n\t\t}\n\n\t\tset selectedItems(selectedItems: T[]) {\n\t\t\tthis._selectedItems = selectedItems.filter(item => this._itemsToHandles.has(item));\n\t\t\tthis.update({ selectedItems: this._selectedItems.map(item => this._itemsToHandles.get(item)) });\n\t\t}\n\n\t\tonDidChangeSelection = this._onDidChangeSelectionEmitter.event;\n\n\t\t_fireDidChangeActive(handles: number[]) {\n\t\t\tconst items = coalesce(handles.map(handle => this._handlesToItems.get(handle)));\n\t\t\tthis._activeItems = items;\n\t\t\tthis._onDidChangeActiveEmitter.fire(items);\n\t\t}\n\n\t\t_fireDidChangeSelection(handles: number[]) {\n\t\t\tconst items = coalesce(handles.map(handle => this._handlesToItems.get(handle)));\n\t\t\tthis._selectedItems = items;\n\t\t\tthis._onDidChangeSelectionEmitter.fire(items);\n\t\t}\n\t}\n\n\tclass ExtHostInputBox extends ExtHostQuickInput implements InputBox {\n\n\t\tprivate _password = false;\n\t\tprivate _prompt: string | undefined;\n\t\tprivate _validationMessage: string | undefined;\n\n\t\tconstructor(extensionId: ExtensionIdentifier, onDispose: () => void) {\n\t\t\tsuper(extensionId, onDispose);\n\t\t\tthis.update({ type: 'inputBox' });\n\t\t}\n\n\t\tget password() {\n\t\t\treturn this._password;\n\t\t}\n\n\t\tset password(password: boolean) {\n\t\t\tthis._password = password;\n\t\t\tthis.update({ password });\n\t\t}\n\n\t\tget prompt() {\n\t\t\treturn this._prompt;\n\t\t}\n\n\t\tset prompt(prompt: string | undefined) {\n\t\t\tthis._prompt = prompt;\n\t\t\tthis.update({ prompt });\n\t\t}\n\n\t\tget validationMessage() {\n\t\t\treturn this._validationMessage;\n\t\t}\n\n\t\tset validationMessage(validationMessage: string | undefined) {\n\t\t\tthis._validationMessage = validationMessage;\n\t\t\tthis.update({ validationMessage, severity: validationMessage ? Severity.Error : Severity.Ignore });\n\t\t}\n\t}\n\n\treturn new ExtHostQuickOpenImpl(workspace, commands);\n}\n"]}