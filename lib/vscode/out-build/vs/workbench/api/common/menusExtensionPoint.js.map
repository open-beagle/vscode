{"version":3,"sources":["vs/workbench/api/common/menusExtensionPoint.ts"],"names":[],"mappings":"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","file":"menusExtensionPoint.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from 'vs/nls';\nimport { isFalsyOrWhitespace } from 'vs/base/common/strings';\nimport * as resources from 'vs/base/common/resources';\nimport { IJSONSchema } from 'vs/base/common/jsonSchema';\nimport { forEach } from 'vs/base/common/collections';\nimport { IExtensionPointUser, ExtensionMessageCollector, ExtensionsRegistry } from 'vs/workbench/services/extensions/common/extensionsRegistry';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { MenuId, MenuRegistry, ILocalizedString, IMenuItem, ICommandAction, ISubmenuItem } from 'vs/platform/actions/common/actions';\nimport { URI } from 'vs/base/common/uri';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { Iterable } from 'vs/base/common/iterator';\nimport { index } from 'vs/base/common/arrays';\n\ninterface IAPIMenu {\n\treadonly key: string;\n\treadonly id: MenuId;\n\treadonly description: string;\n\treadonly proposed?: boolean; // defaults to false\n\treadonly supportsSubmenus?: boolean; // defaults to true\n}\n\nconst apiMenus: IAPIMenu[] = [\n\t{\n\t\tkey: 'commandPalette',\n\t\tid: MenuId.CommandPalette,\n\t\tdescription: localize('menus.commandPalette', \"The Command Palette\"),\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'touchBar',\n\t\tid: MenuId.TouchBarContext,\n\t\tdescription: localize('menus.touchBar', \"The touch bar (macOS only)\"),\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'editor/title',\n\t\tid: MenuId.EditorTitle,\n\t\tdescription: localize('menus.editorTitle', \"The editor title menu\")\n\t},\n\t{\n\t\tkey: 'editor/title/run',\n\t\tid: MenuId.EditorTitleRun,\n\t\tdescription: localize('menus.editorTitleRun', \"Run submenu inside the editor title menu\")\n\t},\n\t{\n\t\tkey: 'editor/context',\n\t\tid: MenuId.EditorContext,\n\t\tdescription: localize('menus.editorContext', \"The editor context menu\")\n\t},\n\t{\n\t\tkey: 'editor/context/copy',\n\t\tid: MenuId.EditorContextCopy,\n\t\tdescription: localize('menus.editorContextCopyAs', \"'Copy as' submenu in the editor context menu\")\n\t},\n\t{\n\t\tkey: 'explorer/context',\n\t\tid: MenuId.ExplorerContext,\n\t\tdescription: localize('menus.explorerContext', \"The file explorer context menu\")\n\t},\n\t{\n\t\tkey: 'editor/title/context',\n\t\tid: MenuId.EditorTitleContext,\n\t\tdescription: localize('menus.editorTabContext', \"The editor tabs context menu\")\n\t},\n\t{\n\t\tkey: 'debug/callstack/context',\n\t\tid: MenuId.DebugCallStackContext,\n\t\tdescription: localize('menus.debugCallstackContext', \"The debug callstack view context menu\")\n\t},\n\t{\n\t\tkey: 'debug/variables/context',\n\t\tid: MenuId.DebugVariablesContext,\n\t\tdescription: localize('menus.debugVariablesContext', \"The debug variables view context menu\")\n\t},\n\t{\n\t\tkey: 'debug/toolBar',\n\t\tid: MenuId.DebugToolBar,\n\t\tdescription: localize('menus.debugToolBar', \"The debug toolbar menu\")\n\t},\n\t{\n\t\tkey: 'menuBar/file',\n\t\tid: MenuId.MenubarFileMenu,\n\t\tdescription: localize('menus.file', \"The top level file menu\"),\n\t\tproposed: true\n\t},\n\t{\n\t\tkey: 'menuBar/home',\n\t\tid: MenuId.MenubarHomeMenu,\n\t\tdescription: localize('menus.home', \"The home indicator context menu (web only)\"),\n\t\tproposed: true,\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'menuBar/edit/copy',\n\t\tid: MenuId.MenubarCopy,\n\t\tdescription: localize('menus.opy', \"'Copy as' submenu in the top level Edit menu\")\n\t},\n\t{\n\t\tkey: 'scm/title',\n\t\tid: MenuId.SCMTitle,\n\t\tdescription: localize('menus.scmTitle', \"The Source Control title menu\")\n\t},\n\t{\n\t\tkey: 'scm/sourceControl',\n\t\tid: MenuId.SCMSourceControl,\n\t\tdescription: localize('menus.scmSourceControl', \"The Source Control menu\")\n\t},\n\t{\n\t\tkey: 'scm/resourceState/context',\n\t\tid: MenuId.SCMResourceContext,\n\t\tdescription: localize('menus.resourceStateContext', \"The Source Control resource state context menu\")\n\t},\n\t{\n\t\tkey: 'scm/resourceFolder/context',\n\t\tid: MenuId.SCMResourceFolderContext,\n\t\tdescription: localize('menus.resourceFolderContext', \"The Source Control resource folder context menu\")\n\t},\n\t{\n\t\tkey: 'scm/resourceGroup/context',\n\t\tid: MenuId.SCMResourceGroupContext,\n\t\tdescription: localize('menus.resourceGroupContext', \"The Source Control resource group context menu\")\n\t},\n\t{\n\t\tkey: 'scm/change/title',\n\t\tid: MenuId.SCMChangeContext,\n\t\tdescription: localize('menus.changeTitle', \"The Source Control inline change menu\")\n\t},\n\t{\n\t\tkey: 'statusBar/windowIndicator',\n\t\tid: MenuId.StatusBarWindowIndicatorMenu,\n\t\tdescription: localize('menus.statusBarWindowIndicator', \"The window indicator menu in the status bar\"),\n\t\tproposed: true,\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'statusBar/remoteIndicator',\n\t\tid: MenuId.StatusBarRemoteIndicatorMenu,\n\t\tdescription: localize('menus.statusBarRemoteIndicator', \"The remote indicator menu in the status bar\"),\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'view/title',\n\t\tid: MenuId.ViewTitle,\n\t\tdescription: localize('view.viewTitle', \"The contributed view title menu\")\n\t},\n\t{\n\t\tkey: 'view/item/context',\n\t\tid: MenuId.ViewItemContext,\n\t\tdescription: localize('view.itemContext', \"The contributed view item context menu\")\n\t},\n\t{\n\t\tkey: 'comments/commentThread/title',\n\t\tid: MenuId.CommentThreadTitle,\n\t\tdescription: localize('commentThread.title', \"The contributed comment thread title menu\")\n\t},\n\t{\n\t\tkey: 'comments/commentThread/context',\n\t\tid: MenuId.CommentThreadActions,\n\t\tdescription: localize('commentThread.actions', \"The contributed comment thread context menu, rendered as buttons below the comment editor\"),\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'comments/comment/title',\n\t\tid: MenuId.CommentTitle,\n\t\tdescription: localize('comment.title', \"The contributed comment title menu\")\n\t},\n\t{\n\t\tkey: 'comments/comment/context',\n\t\tid: MenuId.CommentActions,\n\t\tdescription: localize('comment.actions', \"The contributed comment context menu, rendered as buttons below the comment editor\"),\n\t\tsupportsSubmenus: false\n\t},\n\t{\n\t\tkey: 'notebook/toolbar',\n\t\tid: MenuId.NotebookToolbar,\n\t\tdescription: localize('notebook.toolbar', \"The contributed notebook toolbar menu\"),\n\t\tproposed: true\n\t},\n\t{\n\t\tkey: 'notebook/cell/title',\n\t\tid: MenuId.NotebookCellTitle,\n\t\tdescription: localize('notebook.cell.title', \"The contributed notebook cell title menu\"),\n\t\tproposed: true\n\t},\n\t{\n\t\tkey: 'testing/item/context',\n\t\tid: MenuId.TestItem,\n\t\tdescription: localize('testing.item.title', \"The contributed test item menu\"),\n\t\tproposed: true\n\t},\n\t{\n\t\tkey: 'extension/context',\n\t\tid: MenuId.ExtensionContext,\n\t\tdescription: localize('menus.extensionContext', \"The extension context menu\")\n\t},\n\t{\n\t\tkey: 'timeline/title',\n\t\tid: MenuId.TimelineTitle,\n\t\tdescription: localize('view.timelineTitle', \"The Timeline view title menu\")\n\t},\n\t{\n\t\tkey: 'timeline/item/context',\n\t\tid: MenuId.TimelineItemContext,\n\t\tdescription: localize('view.timelineContext', \"The Timeline view item context menu\")\n\t},\n\t{\n\t\tkey: 'ports/item/context',\n\t\tid: MenuId.TunnelContext,\n\t\tdescription: localize('view.tunnelContext', \"The Ports view item context menu\")\n\t},\n\t{\n\t\tkey: 'ports/item/origin/inline',\n\t\tid: MenuId.TunnelOriginInline,\n\t\tdescription: localize('view.tunnelOriginInline', \"The Ports view item origin inline menu\")\n\t},\n\t{\n\t\tkey: 'ports/item/port/inline',\n\t\tid: MenuId.TunnelPortInline,\n\t\tdescription: localize('view.tunnelPortInline', \"The Ports view item port inline menu\")\n\t}\n];\n\nnamespace schema {\n\n\t// --- menus, submenus contribution point\n\n\texport interface IUserFriendlyMenuItem {\n\t\tcommand: string;\n\t\talt?: string;\n\t\twhen?: string;\n\t\tgroup?: string;\n\t}\n\n\texport interface IUserFriendlySubmenuItem {\n\t\tsubmenu: string;\n\t\twhen?: string;\n\t\tgroup?: string;\n\t}\n\n\texport interface IUserFriendlySubmenu {\n\t\tid: string;\n\t\tlabel: string;\n\t\ticon?: IUserFriendlyIcon;\n\t}\n\n\texport function isMenuItem(item: IUserFriendlyMenuItem | IUserFriendlySubmenuItem): item is IUserFriendlyMenuItem {\n\t\treturn typeof (item as IUserFriendlyMenuItem).command === 'string';\n\t}\n\n\texport function isValidMenuItem(item: IUserFriendlyMenuItem, collector: ExtensionMessageCollector): boolean {\n\t\tif (typeof item.command !== 'string') {\n\t\t\tcollector.error(localize('requirestring', \"property `{0}` is mandatory and must be of type `string`\", 'command'));\n\t\t\treturn false;\n\t\t}\n\t\tif (item.alt && typeof item.alt !== 'string') {\n\t\t\tcollector.error(localize('optstring', \"property `{0}` can be omitted or must be of type `string`\", 'alt'));\n\t\t\treturn false;\n\t\t}\n\t\tif (item.when && typeof item.when !== 'string') {\n\t\t\tcollector.error(localize('optstring', \"property `{0}` can be omitted or must be of type `string`\", 'when'));\n\t\t\treturn false;\n\t\t}\n\t\tif (item.group && typeof item.group !== 'string') {\n\t\t\tcollector.error(localize('optstring', \"property `{0}` can be omitted or must be of type `string`\", 'group'));\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\texport function isValidSubmenuItem(item: IUserFriendlySubmenuItem, collector: ExtensionMessageCollector): boolean {\n\t\tif (typeof item.submenu !== 'string') {\n\t\t\tcollector.error(localize('requirestring', \"property `{0}` is mandatory and must be of type `string`\", 'submenu'));\n\t\t\treturn false;\n\t\t}\n\t\tif (item.when && typeof item.when !== 'string') {\n\t\t\tcollector.error(localize('optstring', \"property `{0}` can be omitted or must be of type `string`\", 'when'));\n\t\t\treturn false;\n\t\t}\n\t\tif (item.group && typeof item.group !== 'string') {\n\t\t\tcollector.error(localize('optstring', \"property `{0}` can be omitted or must be of type `string`\", 'group'));\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\texport function isValidItems(items: (IUserFriendlyMenuItem | IUserFriendlySubmenuItem)[], collector: ExtensionMessageCollector): boolean {\n\t\tif (!Array.isArray(items)) {\n\t\t\tcollector.error(localize('requirearray', \"submenu items must be an array\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let item of items) {\n\t\t\tif (isMenuItem(item)) {\n\t\t\t\tif (!isValidMenuItem(item, collector)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!isValidSubmenuItem(item, collector)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\texport function isValidSubmenu(submenu: IUserFriendlySubmenu, collector: ExtensionMessageCollector): boolean {\n\t\tif (typeof submenu !== 'object') {\n\t\t\tcollector.error(localize('require', \"submenu items must be an object\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tif (typeof submenu.id !== 'string') {\n\t\t\tcollector.error(localize('requirestring', \"property `{0}` is mandatory and must be of type `string`\", 'id'));\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof submenu.label !== 'string') {\n\t\t\tcollector.error(localize('requirestring', \"property `{0}` is mandatory and must be of type `string`\", 'label'));\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tconst menuItem: IJSONSchema = {\n\t\ttype: 'object',\n\t\trequired: ['command'],\n\t\tproperties: {\n\t\t\tcommand: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.command', 'Identifier of the command to execute. The command must be declared in the \\'commands\\'-section'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\talt: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.alt', 'Identifier of an alternative command to execute. The command must be declared in the \\'commands\\'-section'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\twhen: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.when', 'Condition which must be true to show this item'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tgroup: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.group', 'Group into which this item belongs'),\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t}\n\t};\n\n\tconst submenuItem: IJSONSchema = {\n\t\ttype: 'object',\n\t\trequired: ['submenu'],\n\t\tproperties: {\n\t\t\tsubmenu: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.submenu', 'Identifier of the submenu to display in this item.'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\twhen: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.when', 'Condition which must be true to show this item'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tgroup: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.menuItem.group', 'Group into which this item belongs'),\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t}\n\t};\n\n\tconst submenu: IJSONSchema = {\n\t\ttype: 'object',\n\t\trequired: ['id', 'label'],\n\t\tproperties: {\n\t\t\tid: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.submenu.id', 'Identifier of the menu to display as a submenu.'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.submenu.label', 'The label of the menu item which leads to this submenu.'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\ticon: {\n\t\t\t\tdescription: localize({ key: 'vscode.extension.contributes.submenu.icon', comment: ['do not translate or change `\\\\$(zap)`, \\\\ in front of $ is important.'] }, '(Optional) Icon which is used to represent the submenu in the UI. Either a file path, an object with file paths for dark and light themes, or a theme icon references, like `\\\\$(zap)`'),\n\t\t\t\tanyOf: [{\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlight: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.submenu.icon.light', 'Icon path when a light theme is used'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdark: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.submenu.icon.dark', 'Icon path when a dark theme is used'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t}\n\t};\n\n\texport const menusContribution: IJSONSchema = {\n\t\tdescription: localize('vscode.extension.contributes.menus', \"Contributes menu items to the editor\"),\n\t\ttype: 'object',\n\t\tproperties: index(apiMenus, menu => menu.key, menu => ({\n\t\t\tdescription: menu.proposed ? `(${localize('proposed', \"Proposed API\")}) ${menu.description}` : menu.description,\n\t\t\ttype: 'array',\n\t\t\titems: menu.supportsSubmenus === false ? menuItem : { oneOf: [menuItem, submenuItem] }\n\t\t})),\n\t\tadditionalProperties: {\n\t\t\tdescription: 'Submenu',\n\t\t\ttype: 'array',\n\t\t\titems: { oneOf: [menuItem, submenuItem] }\n\t\t}\n\t};\n\n\texport const submenusContribution: IJSONSchema = {\n\t\tdescription: localize('vscode.extension.contributes.submenus', \"Contributes submenu items to the editor\"),\n\t\ttype: 'array',\n\t\titems: submenu\n\t};\n\n\t// --- commands contribution point\n\n\texport interface IUserFriendlyCommand {\n\t\tcommand: string;\n\t\ttitle: string | ILocalizedString;\n\t\tenablement?: string;\n\t\tcategory?: string | ILocalizedString;\n\t\ticon?: IUserFriendlyIcon;\n\t}\n\n\texport type IUserFriendlyIcon = string | { light: string; dark: string; };\n\n\texport function isValidCommand(command: IUserFriendlyCommand, collector: ExtensionMessageCollector): boolean {\n\t\tif (!command) {\n\t\t\tcollector.error(localize('nonempty', \"expected non-empty value.\"));\n\t\t\treturn false;\n\t\t}\n\t\tif (isFalsyOrWhitespace(command.command)) {\n\t\t\tcollector.error(localize('requirestring', \"property `{0}` is mandatory and must be of type `string`\", 'command'));\n\t\t\treturn false;\n\t\t}\n\t\tif (!isValidLocalizedString(command.title, collector, 'title')) {\n\t\t\treturn false;\n\t\t}\n\t\tif (command.enablement && typeof command.enablement !== 'string') {\n\t\t\tcollector.error(localize('optstring', \"property `{0}` can be omitted or must be of type `string`\", 'precondition'));\n\t\t\treturn false;\n\t\t}\n\t\tif (command.category && !isValidLocalizedString(command.category, collector, 'category')) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!isValidIcon(command.icon, collector)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction isValidIcon(icon: IUserFriendlyIcon | undefined, collector: ExtensionMessageCollector): boolean {\n\t\tif (typeof icon === 'undefined') {\n\t\t\treturn true;\n\t\t}\n\t\tif (typeof icon === 'string') {\n\t\t\treturn true;\n\t\t} else if (typeof icon.dark === 'string' && typeof icon.light === 'string') {\n\t\t\treturn true;\n\t\t}\n\t\tcollector.error(localize('opticon', \"property `icon` can be omitted or must be either a string or a literal like `{dark, light}`\"));\n\t\treturn false;\n\t}\n\n\tfunction isValidLocalizedString(localized: string | ILocalizedString, collector: ExtensionMessageCollector, propertyName: string): boolean {\n\t\tif (typeof localized === 'undefined') {\n\t\t\tcollector.error(localize('requireStringOrObject', \"property `{0}` is mandatory and must be of type `string` or `object`\", propertyName));\n\t\t\treturn false;\n\t\t} else if (typeof localized === 'string' && isFalsyOrWhitespace(localized)) {\n\t\t\tcollector.error(localize('requirestring', \"property `{0}` is mandatory and must be of type `string`\", propertyName));\n\t\t\treturn false;\n\t\t} else if (typeof localized !== 'string' && (isFalsyOrWhitespace(localized.original) || isFalsyOrWhitespace(localized.value))) {\n\t\t\tcollector.error(localize('requirestrings', \"properties `{0}` and `{1}` are mandatory and must be of type `string`\", `${propertyName}.value`, `${propertyName}.original`));\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tconst commandType: IJSONSchema = {\n\t\ttype: 'object',\n\t\trequired: ['command', 'title'],\n\t\tproperties: {\n\t\t\tcommand: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.commandType.command', 'Identifier of the command to execute'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.commandType.title', 'Title by which the command is represented in the UI'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.commandType.category', '(Optional) Category string by the command is grouped in the UI'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tenablement: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.commandType.precondition', '(Optional) Condition which must be true to enable the command in the UI (menu and keybindings). Does not prevent executing the command by other means, like the `executeCommand`-api.'),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\ticon: {\n\t\t\t\tdescription: localize({ key: 'vscode.extension.contributes.commandType.icon', comment: ['do not translate or change `\\\\$(zap)`, \\\\ in front of $ is important.'] }, '(Optional) Icon which is used to represent the command in the UI. Either a file path, an object with file paths for dark and light themes, or a theme icon references, like `\\\\$(zap)`'),\n\t\t\t\tanyOf: [{\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlight: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.commandType.icon.light', 'Icon path when a light theme is used'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdark: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.commandType.icon.dark', 'Icon path when a dark theme is used'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t}\n\t};\n\n\texport const commandsContribution: IJSONSchema = {\n\t\tdescription: localize('vscode.extension.contributes.commands', \"Contributes commands to the command palette.\"),\n\t\toneOf: [\n\t\t\tcommandType,\n\t\t\t{\n\t\t\t\ttype: 'array',\n\t\t\t\titems: commandType\n\t\t\t}\n\t\t]\n\t};\n}\n\nconst _commandRegistrations = new DisposableStore();\n\nexport const commandsExtensionPoint = ExtensionsRegistry.registerExtensionPoint<schema.IUserFriendlyCommand | schema.IUserFriendlyCommand[]>({\n\textensionPoint: 'commands',\n\tjsonSchema: schema.commandsContribution\n});\n\ncommandsExtensionPoint.setHandler(extensions => {\n\n\tfunction handleCommand(userFriendlyCommand: schema.IUserFriendlyCommand, extension: IExtensionPointUser<any>, bucket: ICommandAction[]) {\n\n\t\tif (!schema.isValidCommand(userFriendlyCommand, extension.collector)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { icon, enablement, category, title, command } = userFriendlyCommand;\n\n\t\tlet absoluteIcon: { dark: URI; light?: URI; } | ThemeIcon | undefined;\n\t\tif (icon) {\n\t\t\tif (typeof icon === 'string') {\n\t\t\t\tabsoluteIcon = ThemeIcon.fromString(icon) ?? { dark: resources.joinPath(extension.description.extensionLocation, icon), light: resources.joinPath(extension.description.extensionLocation, icon) };\n\n\t\t\t} else {\n\t\t\t\tabsoluteIcon = {\n\t\t\t\t\tdark: resources.joinPath(extension.description.extensionLocation, icon.dark),\n\t\t\t\t\tlight: resources.joinPath(extension.description.extensionLocation, icon.light)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (MenuRegistry.getCommand(command)) {\n\t\t\textension.collector.info(localize('dup', \"Command `{0}` appears multiple times in the `commands` section.\", userFriendlyCommand.command));\n\t\t}\n\t\tbucket.push({\n\t\t\tid: command,\n\t\t\ttitle,\n\t\t\tcategory,\n\t\t\tprecondition: ContextKeyExpr.deserialize(enablement),\n\t\t\ticon: absoluteIcon\n\t\t});\n\t}\n\n\t// remove all previous command registrations\n\t_commandRegistrations.clear();\n\n\tconst newCommands: ICommandAction[] = [];\n\tfor (const extension of extensions) {\n\t\tconst { value } = extension;\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (const command of value) {\n\t\t\t\thandleCommand(command, extension, newCommands);\n\t\t\t}\n\t\t} else {\n\t\t\thandleCommand(value, extension, newCommands);\n\t\t}\n\t}\n\t_commandRegistrations.add(MenuRegistry.addCommands(newCommands));\n});\n\ninterface IRegisteredSubmenu {\n\treadonly id: MenuId;\n\treadonly label: string;\n\treadonly icon?: { dark: URI; light?: URI; } | ThemeIcon;\n}\n\nconst _submenus = new Map<string, IRegisteredSubmenu>();\n\nconst submenusExtensionPoint = ExtensionsRegistry.registerExtensionPoint<schema.IUserFriendlySubmenu[]>({\n\textensionPoint: 'submenus',\n\tjsonSchema: schema.submenusContribution\n});\n\nsubmenusExtensionPoint.setHandler(extensions => {\n\n\t_submenus.clear();\n\n\tfor (let extension of extensions) {\n\t\tconst { value, collector } = extension;\n\n\t\tforEach(value, entry => {\n\t\t\tif (!schema.isValidSubmenu(entry.value, collector)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!entry.value.id) {\n\t\t\t\tcollector.warn(localize('submenuId.invalid.id', \"`{0}` is not a valid submenu identifier\", entry.value.id));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (_submenus.has(entry.value.id)) {\n\t\t\t\tcollector.warn(localize('submenuId.duplicate.id', \"The `{0}` submenu was already previously registered.\", entry.value.id));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!entry.value.label) {\n\t\t\t\tcollector.warn(localize('submenuId.invalid.label', \"`{0}` is not a valid submenu label\", entry.value.label));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet absoluteIcon: { dark: URI; light?: URI; } | ThemeIcon | undefined;\n\t\t\tif (entry.value.icon) {\n\t\t\t\tif (typeof entry.value.icon === 'string') {\n\t\t\t\t\tabsoluteIcon = ThemeIcon.fromString(entry.value.icon) || { dark: resources.joinPath(extension.description.extensionLocation, entry.value.icon) };\n\t\t\t\t} else {\n\t\t\t\t\tabsoluteIcon = {\n\t\t\t\t\t\tdark: resources.joinPath(extension.description.extensionLocation, entry.value.icon.dark),\n\t\t\t\t\t\tlight: resources.joinPath(extension.description.extensionLocation, entry.value.icon.light)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst item: IRegisteredSubmenu = {\n\t\t\t\tid: new MenuId(`api:${entry.value.id}`),\n\t\t\t\tlabel: entry.value.label,\n\t\t\t\ticon: absoluteIcon\n\t\t\t};\n\n\t\t\t_submenus.set(entry.value.id, item);\n\t\t});\n\t}\n});\n\nconst _apiMenusByKey = new Map(Iterable.map(Iterable.from(apiMenus), menu => ([menu.key, menu])));\nconst _menuRegistrations = new DisposableStore();\nconst _submenuMenuItems = new Map<number /* menu id */, Set<number /* submenu id */>>();\n\nconst menusExtensionPoint = ExtensionsRegistry.registerExtensionPoint<{ [loc: string]: (schema.IUserFriendlyMenuItem | schema.IUserFriendlySubmenuItem)[] }>({\n\textensionPoint: 'menus',\n\tjsonSchema: schema.menusContribution,\n\tdeps: [submenusExtensionPoint]\n});\n\nmenusExtensionPoint.setHandler(extensions => {\n\n\t// remove all previous menu registrations\n\t_menuRegistrations.clear();\n\t_submenuMenuItems.clear();\n\n\tconst items: { id: MenuId, item: IMenuItem | ISubmenuItem }[] = [];\n\n\tfor (let extension of extensions) {\n\t\tconst { value, collector } = extension;\n\n\t\tforEach(value, entry => {\n\t\t\tif (!schema.isValidItems(entry.value, collector)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet menu = _apiMenusByKey.get(entry.key);\n\n\t\t\tif (!menu) {\n\t\t\t\tconst submenu = _submenus.get(entry.key);\n\n\t\t\t\tif (submenu) {\n\t\t\t\t\tmenu = {\n\t\t\t\t\t\tkey: entry.key,\n\t\t\t\t\t\tid: submenu.id,\n\t\t\t\t\t\tdescription: ''\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!menu) {\n\t\t\t\tcollector.warn(localize('menuId.invalid', \"`{0}` is not a valid menu identifier\", entry.key));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (menu.proposed && !extension.description.enableProposedApi) {\n\t\t\t\tcollector.error(localize('proposedAPI.invalid', \"{0} is a proposed menu identifier and is only available when running out of dev or with the following command line switch: --enable-proposed-api {1}\", entry.key, extension.description.identifier.value));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const menuItem of entry.value) {\n\t\t\t\tlet item: IMenuItem | ISubmenuItem;\n\n\t\t\t\tif (schema.isMenuItem(menuItem)) {\n\t\t\t\t\tconst command = MenuRegistry.getCommand(menuItem.command);\n\t\t\t\t\tconst alt = menuItem.alt && MenuRegistry.getCommand(menuItem.alt) || undefined;\n\n\t\t\t\t\tif (!command) {\n\t\t\t\t\t\tcollector.error(localize('missing.command', \"Menu item references a command `{0}` which is not defined in the 'commands' section.\", menuItem.command));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (menuItem.alt && !alt) {\n\t\t\t\t\t\tcollector.warn(localize('missing.altCommand', \"Menu item references an alt-command `{0}` which is not defined in the 'commands' section.\", menuItem.alt));\n\t\t\t\t\t}\n\t\t\t\t\tif (menuItem.command === menuItem.alt) {\n\t\t\t\t\t\tcollector.info(localize('dupe.command', \"Menu item references the same command as default and alt-command\"));\n\t\t\t\t\t}\n\n\t\t\t\t\titem = { command, alt, group: undefined, order: undefined, when: undefined };\n\t\t\t\t} else {\n\t\t\t\t\tif (menu.supportsSubmenus === false) {\n\t\t\t\t\t\tcollector.error(localize('unsupported.submenureference', \"Menu item references a submenu for a menu which doesn't have submenu support.\"));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst submenu = _submenus.get(menuItem.submenu);\n\n\t\t\t\t\tif (!submenu) {\n\t\t\t\t\t\tcollector.error(localize('missing.submenu', \"Menu item references a submenu `{0}` which is not defined in the 'submenus' section.\", menuItem.submenu));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet submenuRegistrations = _submenuMenuItems.get(menu.id.id);\n\n\t\t\t\t\tif (!submenuRegistrations) {\n\t\t\t\t\t\tsubmenuRegistrations = new Set();\n\t\t\t\t\t\t_submenuMenuItems.set(menu.id.id, submenuRegistrations);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (submenuRegistrations.has(submenu.id.id)) {\n\t\t\t\t\t\tcollector.warn(localize('submenuItem.duplicate', \"The `{0}` submenu was already contributed to the `{1}` menu.\", menuItem.submenu, entry.key));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tsubmenuRegistrations.add(submenu.id.id);\n\n\t\t\t\t\titem = { submenu: submenu.id, icon: submenu.icon, title: submenu.label, group: undefined, order: undefined, when: undefined };\n\t\t\t\t}\n\n\t\t\t\tif (menuItem.group) {\n\t\t\t\t\tconst idx = menuItem.group.lastIndexOf('@');\n\t\t\t\t\tif (idx > 0) {\n\t\t\t\t\t\titem.group = menuItem.group.substr(0, idx);\n\t\t\t\t\t\titem.order = Number(menuItem.group.substr(idx + 1)) || undefined;\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.group = menuItem.group;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem.when = ContextKeyExpr.deserialize(menuItem.when);\n\t\t\t\titems.push({ id: menu.id, item });\n\t\t\t}\n\t\t});\n\t}\n\n\t_menuRegistrations.add(MenuRegistry.appendMenuItems(items));\n});\n"]}