{"version":3,"file":"cache.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/api/common/cache.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAEhG,MAAa,KAAK;QAOjB,YACkB,EAAU;YAAV,OAAE,GAAF,EAAE,CAAQ;YAJX,UAAK,GAAG,IAAI,GAAG,EAAwB,CAAC;YACjD,YAAO,GAAG,CAAC,CAAC;QAIhB,CAAC;QAEL,GAAG,CAAC,IAAkB;YACrB,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YAC1B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,OAAO,EAAE,CAAC;QACX,CAAC;QAED,GAAG,CAAC,GAAW,EAAE,EAAU;YAC1B,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACnE,CAAC;QAED,MAAM,CAAC,EAAU;YAChB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACtB,IAAI,CAAC,YAAY,EAAE,CAAC;QACrB,CAAC;QAEO,YAAY;YACnB,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;gBAC9B,OAAO;aACP;YACD,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,iBAAiB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;QAC3D,CAAC;;IAhCF,sBAiCC;IA/BwB,wBAAkB,GAAG,KAAK,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport class Cache<T> {\n\n\tprivate static readonly enableDebugLogging = false;\n\n\tprivate readonly _data = new Map<number, readonly T[]>();\n\tprivate _idPool = 1;\n\n\tconstructor(\n\t\tprivate readonly id: string\n\t) { }\n\n\tadd(item: readonly T[]): number {\n\t\tconst id = this._idPool++;\n\t\tthis._data.set(id, item);\n\t\tthis.logDebugInfo();\n\t\treturn id;\n\t}\n\n\tget(pid: number, id: number): T | undefined {\n\t\treturn this._data.has(pid) ? this._data.get(pid)![id] : undefined;\n\t}\n\n\tdelete(id: number) {\n\t\tthis._data.delete(id);\n\t\tthis.logDebugInfo();\n\t}\n\n\tprivate logDebugInfo() {\n\t\tif (!Cache.enableDebugLogging) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(`${this.id} cache size â€” ${this._data.size}`);\n\t}\n}\n"]}