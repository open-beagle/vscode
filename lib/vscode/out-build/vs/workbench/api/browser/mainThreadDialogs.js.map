{"version":3,"file":"mainThreadDialogs.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/api/browser/mainThreadDialogs.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from 'vs/base/common/uri';\nimport { MainThreadDiaglogsShape, MainContext, IExtHostContext, MainThreadDialogOpenOptions, MainThreadDialogSaveOptions } from '../common/extHost.protocol';\nimport { extHostNamedCustomer } from 'vs/workbench/api/common/extHostCustomers';\nimport { forEach } from 'vs/base/common/collections';\nimport { IFileDialogService, IOpenDialogOptions, ISaveDialogOptions } from 'vs/platform/dialogs/common/dialogs';\n\n@extHostNamedCustomer(MainContext.MainThreadDialogs)\nexport class MainThreadDialogs implements MainThreadDiaglogsShape {\n\n\tconstructor(\n\t\tcontext: IExtHostContext,\n\t\t@IFileDialogService private readonly _fileDialogService: IFileDialogService,\n\t) {\n\t\t//\n\t}\n\n\tdispose(): void {\n\t\t//\n\t}\n\n\tasync $showOpenDialog(options?: MainThreadDialogOpenOptions): Promise<URI[] | undefined> {\n\t\tconst convertedOptions = MainThreadDialogs._convertOpenOptions(options);\n\t\tif (!convertedOptions.defaultUri) {\n\t\t\tconvertedOptions.defaultUri = await this._fileDialogService.defaultFilePath();\n\t\t}\n\t\treturn Promise.resolve(this._fileDialogService.showOpenDialog(convertedOptions));\n\t}\n\n\tasync $showSaveDialog(options?: MainThreadDialogSaveOptions): Promise<URI | undefined> {\n\t\tconst convertedOptions = MainThreadDialogs._convertSaveOptions(options);\n\t\tif (!convertedOptions.defaultUri) {\n\t\t\tconvertedOptions.defaultUri = await this._fileDialogService.defaultFilePath();\n\t\t}\n\t\treturn Promise.resolve(this._fileDialogService.showSaveDialog(convertedOptions));\n\t}\n\n\tprivate static _convertOpenOptions(options?: MainThreadDialogOpenOptions): IOpenDialogOptions {\n\t\tconst result: IOpenDialogOptions = {\n\t\t\topenLabel: options?.openLabel || undefined,\n\t\t\tcanSelectFiles: options?.canSelectFiles || (!options?.canSelectFiles && !options?.canSelectFolders),\n\t\t\tcanSelectFolders: options?.canSelectFolders,\n\t\t\tcanSelectMany: options?.canSelectMany,\n\t\t\tdefaultUri: options?.defaultUri ? URI.revive(options.defaultUri) : undefined,\n\t\t\ttitle: options?.title || undefined,\n\t\t\tavailableFileSystems: []\n\t\t};\n\t\tif (options?.filters) {\n\t\t\tresult.filters = [];\n\t\t\tforEach(options.filters, entry => result.filters!.push({ name: entry.key, extensions: entry.value }));\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate static _convertSaveOptions(options?: MainThreadDialogSaveOptions): ISaveDialogOptions {\n\t\tconst result: ISaveDialogOptions = {\n\t\t\tdefaultUri: options?.defaultUri ? URI.revive(options.defaultUri) : undefined,\n\t\t\tsaveLabel: options?.saveLabel || undefined,\n\t\t\ttitle: options?.title || undefined\n\t\t};\n\t\tif (options?.filters) {\n\t\t\tresult.filters = [];\n\t\t\tforEach(options.filters, entry => result.filters!.push({ name: entry.key, extensions: entry.value }));\n\t\t}\n\t\treturn result;\n\t}\n}\n"]}