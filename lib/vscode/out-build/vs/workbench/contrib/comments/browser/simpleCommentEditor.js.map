{"version":3,"file":"simpleCommentEditor.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/comments/browser/simpleCommentEditor.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IEditorOptions } from 'vs/editor/common/config/editorOptions';\nimport { EditorAction, EditorExtensionsRegistry, IEditorContributionDescription } from 'vs/editor/browser/editorExtensions';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from 'vs/editor/browser/widget/codeEditorWidget';\nimport { IContextKeyService, RawContextKey, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\n\n// Allowed Editor Contributions:\nimport { MenuPreventer } from 'vs/workbench/contrib/codeEditor/browser/menuPreventer';\nimport { ContextMenuController } from 'vs/editor/contrib/contextmenu/contextmenu';\nimport { SuggestController } from 'vs/editor/contrib/suggest/suggestController';\nimport { SnippetController2 } from 'vs/editor/contrib/snippet/snippetController2';\nimport { TabCompletionController } from 'vs/workbench/contrib/snippets/browser/tabCompletion';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IAccessibilityService } from 'vs/platform/accessibility/common/accessibility';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { ICommentThreadWidget } from 'vs/workbench/contrib/comments/common/commentThreadWidget';\nimport { CommentContextKeys } from 'vs/workbench/contrib/comments/common/commentContextKeys';\n\nexport const ctxCommentEditorFocused = new RawContextKey<boolean>('commentEditorFocused', false);\n\n\nexport class SimpleCommentEditor extends CodeEditorWidget {\n\tprivate _parentEditor: ICodeEditor;\n\tprivate _parentThread: ICommentThreadWidget;\n\tprivate _commentEditorFocused: IContextKey<boolean>;\n\tprivate _commentEditorEmpty: IContextKey<boolean>;\n\n\tconstructor(\n\t\tdomElement: HTMLElement,\n\t\toptions: IEditorOptions,\n\t\tparentEditor: ICodeEditor,\n\t\tparentThread: ICommentThreadWidget,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IAccessibilityService accessibilityService: IAccessibilityService\n\t) {\n\t\tconst codeEditorWidgetOptions: ICodeEditorWidgetOptions = {\n\t\t\tisSimpleWidget: true,\n\t\t\tcontributions: <IEditorContributionDescription[]>[\n\t\t\t\t{ id: MenuPreventer.ID, ctor: MenuPreventer },\n\t\t\t\t{ id: ContextMenuController.ID, ctor: ContextMenuController },\n\t\t\t\t{ id: SuggestController.ID, ctor: SuggestController },\n\t\t\t\t{ id: SnippetController2.ID, ctor: SnippetController2 },\n\t\t\t\t{ id: TabCompletionController.ID, ctor: TabCompletionController },\n\t\t\t]\n\t\t};\n\n\t\tsuper(domElement, options, codeEditorWidgetOptions, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService);\n\n\t\tthis._commentEditorFocused = ctxCommentEditorFocused.bindTo(contextKeyService);\n\t\tthis._commentEditorEmpty = CommentContextKeys.commentIsEmpty.bindTo(contextKeyService);\n\t\tthis._commentEditorEmpty.set(!this.getValue());\n\t\tthis._parentEditor = parentEditor;\n\t\tthis._parentThread = parentThread;\n\n\t\tthis._register(this.onDidFocusEditorWidget(_ => this._commentEditorFocused.set(true)));\n\n\t\tthis._register(this.onDidChangeModelContent(e => this._commentEditorEmpty.set(!this.getValue())));\n\t\tthis._register(this.onDidBlurEditorWidget(_ => this._commentEditorFocused.reset()));\n\t}\n\n\tgetParentEditor(): ICodeEditor {\n\t\treturn this._parentEditor;\n\t}\n\n\tgetParentThread(): ICommentThreadWidget {\n\t\treturn this._parentThread;\n\t}\n\n\tprotected _getActions(): EditorAction[] {\n\t\treturn EditorExtensionsRegistry.getEditorActions();\n\t}\n\n\tpublic static getEditorOptions(): IEditorOptions {\n\t\treturn {\n\t\t\twordWrap: 'on',\n\t\t\tglyphMargin: false,\n\t\t\tlineNumbers: 'off',\n\t\t\tfolding: false,\n\t\t\tselectOnLineNumbers: false,\n\t\t\tscrollbar: {\n\t\t\t\tvertical: 'visible',\n\t\t\t\tverticalScrollbarSize: 14,\n\t\t\t\thorizontal: 'auto',\n\t\t\t\tuseShadows: true,\n\t\t\t\tverticalHasArrows: false,\n\t\t\t\thorizontalHasArrows: false\n\t\t\t},\n\t\t\toverviewRulerLanes: 2,\n\t\t\tlineDecorationsWidth: 0,\n\t\t\tscrollBeyondLastLine: false,\n\t\t\trenderLineHighlight: 'none',\n\t\t\tfixedOverflowWidgets: true,\n\t\t\tacceptSuggestionOnEnter: 'smart',\n\t\t\tminimap: {\n\t\t\t\tenabled: false\n\t\t\t},\n\t\t\tquickSuggestions: false\n\t\t};\n\t}\n}\n"]}