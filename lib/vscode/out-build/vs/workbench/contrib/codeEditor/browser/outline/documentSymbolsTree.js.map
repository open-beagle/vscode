{"version":3,"sources":["vs/workbench/contrib/codeEditor/browser/outline/documentSymbolsTree.ts"],"names":[],"mappings":"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","file":"documentSymbolsTree.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./documentSymbolsTree';\nimport 'vs/editor/contrib/symbolIcons/symbolIcons'; // The codicon symbol colors are defined here and must be loaded to get colors\nimport * as dom from 'vs/base/browser/dom';\nimport { HighlightedLabel } from 'vs/base/browser/ui/highlightedlabel/highlightedLabel';\nimport { IIdentityProvider, IKeyboardNavigationLabelProvider, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { ITreeNode, ITreeRenderer, ITreeFilter } from 'vs/base/browser/ui/tree/tree';\nimport { createMatches, FuzzyScore } from 'vs/base/common/filters';\nimport { Range } from 'vs/editor/common/core/range';\nimport { SymbolKind, SymbolKinds, SymbolTag } from 'vs/editor/common/modes';\nimport { OutlineElement, OutlineGroup, OutlineModel } from 'vs/editor/contrib/documentSymbols/outlineModel';\nimport { localize } from 'vs/nls';\nimport { IconLabel, IIconLabelValueOptions } from 'vs/base/browser/ui/iconLabel/iconLabel';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { MarkerSeverity } from 'vs/platform/markers/common/markers';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { listErrorForeground, listWarningForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { IdleValue } from 'vs/base/common/async';\nimport { ITextResourceConfigurationService } from 'vs/editor/common/services/textResourceConfigurationService';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { IOutlineComparator, OutlineConfigKeys } from 'vs/workbench/services/outline/browser/outline';\n\nexport type DocumentSymbolItem = OutlineGroup | OutlineElement;\n\nexport class DocumentSymbolNavigationLabelProvider implements IKeyboardNavigationLabelProvider<DocumentSymbolItem> {\n\n\tgetKeyboardNavigationLabel(element: DocumentSymbolItem): { toString(): string; } {\n\t\tif (element instanceof OutlineGroup) {\n\t\t\treturn element.label;\n\t\t} else {\n\t\t\treturn element.symbol.name;\n\t\t}\n\t}\n}\n\nexport class DocumentSymbolAccessibilityProvider implements IListAccessibilityProvider<DocumentSymbolItem> {\n\n\tconstructor(private readonly _ariaLabel: string) { }\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn this._ariaLabel;\n\t}\n\tgetAriaLabel(element: DocumentSymbolItem): string | null {\n\t\tif (element instanceof OutlineGroup) {\n\t\t\treturn element.label;\n\t\t} else {\n\t\t\treturn element.symbol.name;\n\t\t}\n\t}\n}\n\nexport class DocumentSymbolIdentityProvider implements IIdentityProvider<DocumentSymbolItem> {\n\tgetId(element: DocumentSymbolItem): { toString(): string; } {\n\t\treturn element.id;\n\t}\n}\n\nclass DocumentSymbolGroupTemplate {\n\tstatic readonly id = 'DocumentSymbolGroupTemplate';\n\tconstructor(\n\t\treadonly labelContainer: HTMLElement,\n\t\treadonly label: HighlightedLabel,\n\t) { }\n}\n\nclass DocumentSymbolTemplate {\n\tstatic readonly id = 'DocumentSymbolTemplate';\n\tconstructor(\n\t\treadonly container: HTMLElement,\n\t\treadonly iconLabel: IconLabel,\n\t\treadonly iconClass: HTMLElement,\n\t\treadonly decoration: HTMLElement,\n\t) { }\n}\n\nexport class DocumentSymbolVirtualDelegate implements IListVirtualDelegate<DocumentSymbolItem> {\n\n\tgetHeight(_element: DocumentSymbolItem): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: DocumentSymbolItem): string {\n\t\treturn element instanceof OutlineGroup\n\t\t\t? DocumentSymbolGroupTemplate.id\n\t\t\t: DocumentSymbolTemplate.id;\n\t}\n}\n\nexport class DocumentSymbolGroupRenderer implements ITreeRenderer<OutlineGroup, FuzzyScore, DocumentSymbolGroupTemplate> {\n\n\treadonly templateId: string = DocumentSymbolGroupTemplate.id;\n\n\trenderTemplate(container: HTMLElement): DocumentSymbolGroupTemplate {\n\t\tconst labelContainer = dom.$('.outline-element-label');\n\t\tcontainer.classList.add('outline-element');\n\t\tdom.append(container, labelContainer);\n\t\treturn new DocumentSymbolGroupTemplate(labelContainer, new HighlightedLabel(labelContainer, true));\n\t}\n\n\trenderElement(node: ITreeNode<OutlineGroup, FuzzyScore>, _index: number, template: DocumentSymbolGroupTemplate): void {\n\t\ttemplate.label.set(node.element.label, createMatches(node.filterData));\n\t}\n\n\tdisposeTemplate(_template: DocumentSymbolGroupTemplate): void {\n\t\t// nothing\n\t}\n}\n\nexport class DocumentSymbolRenderer implements ITreeRenderer<OutlineElement, FuzzyScore, DocumentSymbolTemplate> {\n\n\treadonly templateId: string = DocumentSymbolTemplate.id;\n\n\tconstructor(\n\t\tprivate _renderMarker: boolean,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): DocumentSymbolTemplate {\n\t\tcontainer.classList.add('outline-element');\n\t\tconst iconLabel = new IconLabel(container, { supportHighlights: true });\n\t\tconst iconClass = dom.$('.outline-element-icon');\n\t\tconst decoration = dom.$('.outline-element-decoration');\n\t\tcontainer.prepend(iconClass);\n\t\tcontainer.appendChild(decoration);\n\t\treturn new DocumentSymbolTemplate(container, iconLabel, iconClass, decoration);\n\t}\n\n\trenderElement(node: ITreeNode<OutlineElement, FuzzyScore>, _index: number, template: DocumentSymbolTemplate): void {\n\t\tconst { element } = node;\n\t\tconst options: IIconLabelValueOptions = {\n\t\t\tmatches: createMatches(node.filterData),\n\t\t\tlabelEscapeNewLines: true,\n\t\t\textraClasses: ['nowrap'],\n\t\t\ttitle: localize('title.template', \"{0} ({1})\", element.symbol.name, DocumentSymbolRenderer._symbolKindNames[element.symbol.kind])\n\t\t};\n\t\tif (this._configurationService.getValue(OutlineConfigKeys.icons)) {\n\t\t\t// add styles for the icons\n\t\t\ttemplate.iconClass.className = '';\n\t\t\ttemplate.iconClass.classList.add(`outline-element-icon`, ...SymbolKinds.toCssClassName(element.symbol.kind, true).split(' '));\n\t\t}\n\t\tif (element.symbol.tags.indexOf(SymbolTag.Deprecated) >= 0) {\n\t\t\toptions.extraClasses!.push(`deprecated`);\n\t\t\toptions.matches = [];\n\t\t}\n\t\ttemplate.iconLabel.setLabel(element.symbol.name, element.symbol.detail, options);\n\n\t\tif (this._renderMarker) {\n\t\t\tthis._renderMarkerInfo(element, template);\n\t\t}\n\t}\n\n\tprivate _renderMarkerInfo(element: OutlineElement, template: DocumentSymbolTemplate): void {\n\n\t\tif (!element.marker) {\n\t\t\tdom.hide(template.decoration);\n\t\t\ttemplate.container.style.removeProperty('--outline-element-color');\n\t\t\treturn;\n\t\t}\n\n\t\tconst { count, topSev } = element.marker;\n\t\tconst color = this._themeService.getColorTheme().getColor(topSev === MarkerSeverity.Error ? listErrorForeground : listWarningForeground);\n\t\tconst cssColor = color ? color.toString() : 'inherit';\n\n\t\t// color of the label\n\t\tif (this._configurationService.getValue(OutlineConfigKeys.problemsColors)) {\n\t\t\ttemplate.container.style.setProperty('--outline-element-color', cssColor);\n\t\t} else {\n\t\t\ttemplate.container.style.removeProperty('--outline-element-color');\n\t\t}\n\n\t\t// badge with color/rollup\n\t\tif (!this._configurationService.getValue(OutlineConfigKeys.problemsBadges)) {\n\t\t\tdom.hide(template.decoration);\n\n\t\t} else if (count > 0) {\n\t\t\tdom.show(template.decoration);\n\t\t\ttemplate.decoration.classList.remove('bubble');\n\t\t\ttemplate.decoration.innerText = count < 10 ? count.toString() : '+9';\n\t\t\ttemplate.decoration.title = count === 1 ? localize('1.problem', \"1 problem in this element\") : localize('N.problem', \"{0} problems in this element\", count);\n\t\t\ttemplate.decoration.style.setProperty('--outline-element-color', cssColor);\n\n\t\t} else {\n\t\t\tdom.show(template.decoration);\n\t\t\ttemplate.decoration.classList.add('bubble');\n\t\t\ttemplate.decoration.innerText = '\\uea71';\n\t\t\ttemplate.decoration.title = localize('deep.problem', \"Contains elements with problems\");\n\t\t\ttemplate.decoration.style.setProperty('--outline-element-color', cssColor);\n\t\t}\n\t}\n\n\tprivate static _symbolKindNames: { [symbol: number]: string } = {\n\t\t[SymbolKind.Array]: localize('Array', \"array\"),\n\t\t[SymbolKind.Boolean]: localize('Boolean', \"boolean\"),\n\t\t[SymbolKind.Class]: localize('Class', \"class\"),\n\t\t[SymbolKind.Constant]: localize('Constant', \"constant\"),\n\t\t[SymbolKind.Constructor]: localize('Constructor', \"constructor\"),\n\t\t[SymbolKind.Enum]: localize('Enum', \"enumeration\"),\n\t\t[SymbolKind.EnumMember]: localize('EnumMember', \"enumeration member\"),\n\t\t[SymbolKind.Event]: localize('Event', \"event\"),\n\t\t[SymbolKind.Field]: localize('Field', \"field\"),\n\t\t[SymbolKind.File]: localize('File', \"file\"),\n\t\t[SymbolKind.Function]: localize('Function', \"function\"),\n\t\t[SymbolKind.Interface]: localize('Interface', \"interface\"),\n\t\t[SymbolKind.Key]: localize('Key', \"key\"),\n\t\t[SymbolKind.Method]: localize('Method', \"method\"),\n\t\t[SymbolKind.Module]: localize('Module', \"module\"),\n\t\t[SymbolKind.Namespace]: localize('Namespace', \"namespace\"),\n\t\t[SymbolKind.Null]: localize('Null', \"null\"),\n\t\t[SymbolKind.Number]: localize('Number', \"number\"),\n\t\t[SymbolKind.Object]: localize('Object', \"object\"),\n\t\t[SymbolKind.Operator]: localize('Operator', \"operator\"),\n\t\t[SymbolKind.Package]: localize('Package', \"package\"),\n\t\t[SymbolKind.Property]: localize('Property', \"property\"),\n\t\t[SymbolKind.String]: localize('String', \"string\"),\n\t\t[SymbolKind.Struct]: localize('Struct', \"struct\"),\n\t\t[SymbolKind.TypeParameter]: localize('TypeParameter', \"type parameter\"),\n\t\t[SymbolKind.Variable]: localize('Variable', \"variable\"),\n\t};\n\n\tdisposeTemplate(_template: DocumentSymbolTemplate): void {\n\t\t_template.iconLabel.dispose();\n\t}\n}\n\nexport class DocumentSymbolFilter implements ITreeFilter<DocumentSymbolItem> {\n\n\tstatic readonly kindToConfigName = Object.freeze({\n\t\t[SymbolKind.File]: 'showFiles',\n\t\t[SymbolKind.Module]: 'showModules',\n\t\t[SymbolKind.Namespace]: 'showNamespaces',\n\t\t[SymbolKind.Package]: 'showPackages',\n\t\t[SymbolKind.Class]: 'showClasses',\n\t\t[SymbolKind.Method]: 'showMethods',\n\t\t[SymbolKind.Property]: 'showProperties',\n\t\t[SymbolKind.Field]: 'showFields',\n\t\t[SymbolKind.Constructor]: 'showConstructors',\n\t\t[SymbolKind.Enum]: 'showEnums',\n\t\t[SymbolKind.Interface]: 'showInterfaces',\n\t\t[SymbolKind.Function]: 'showFunctions',\n\t\t[SymbolKind.Variable]: 'showVariables',\n\t\t[SymbolKind.Constant]: 'showConstants',\n\t\t[SymbolKind.String]: 'showStrings',\n\t\t[SymbolKind.Number]: 'showNumbers',\n\t\t[SymbolKind.Boolean]: 'showBooleans',\n\t\t[SymbolKind.Array]: 'showArrays',\n\t\t[SymbolKind.Object]: 'showObjects',\n\t\t[SymbolKind.Key]: 'showKeys',\n\t\t[SymbolKind.Null]: 'showNull',\n\t\t[SymbolKind.EnumMember]: 'showEnumMembers',\n\t\t[SymbolKind.Struct]: 'showStructs',\n\t\t[SymbolKind.Event]: 'showEvents',\n\t\t[SymbolKind.Operator]: 'showOperators',\n\t\t[SymbolKind.TypeParameter]: 'showTypeParameters',\n\t});\n\n\tconstructor(\n\t\tprivate readonly _prefix: 'breadcrumbs' | 'outline',\n\t\t@ITextResourceConfigurationService private readonly _textResourceConfigService: ITextResourceConfigurationService,\n\t) { }\n\n\tfilter(element: DocumentSymbolItem): boolean {\n\t\tconst outline = OutlineModel.get(element);\n\t\tif (!(element instanceof OutlineElement)) {\n\t\t\treturn true;\n\t\t}\n\t\tconst configName = DocumentSymbolFilter.kindToConfigName[element.symbol.kind];\n\t\tconst configKey = `${this._prefix}.${configName}`;\n\t\treturn this._textResourceConfigService.getValue(outline?.uri, configKey);\n\t}\n}\n\nexport class DocumentSymbolComparator implements IOutlineComparator<DocumentSymbolItem> {\n\n\tprivate readonly _collator = new IdleValue<Intl.Collator>(() => new Intl.Collator(undefined, { numeric: true }));\n\n\tcompareByPosition(a: DocumentSymbolItem, b: DocumentSymbolItem): number {\n\t\tif (a instanceof OutlineGroup && b instanceof OutlineGroup) {\n\t\t\treturn a.order - b.order;\n\t\t} else if (a instanceof OutlineElement && b instanceof OutlineElement) {\n\t\t\treturn Range.compareRangesUsingStarts(a.symbol.range, b.symbol.range) || this._collator.value.compare(a.symbol.name, b.symbol.name);\n\t\t}\n\t\treturn 0;\n\t}\n\tcompareByType(a: DocumentSymbolItem, b: DocumentSymbolItem): number {\n\t\tif (a instanceof OutlineGroup && b instanceof OutlineGroup) {\n\t\t\treturn a.order - b.order;\n\t\t} else if (a instanceof OutlineElement && b instanceof OutlineElement) {\n\t\t\treturn a.symbol.kind - b.symbol.kind || this._collator.value.compare(a.symbol.name, b.symbol.name);\n\t\t}\n\t\treturn 0;\n\t}\n\tcompareByName(a: DocumentSymbolItem, b: DocumentSymbolItem): number {\n\t\tif (a instanceof OutlineGroup && b instanceof OutlineGroup) {\n\t\t\treturn a.order - b.order;\n\t\t} else if (a instanceof OutlineElement && b instanceof OutlineElement) {\n\t\t\treturn this._collator.value.compare(a.symbol.name, b.symbol.name) || Range.compareRangesUsingStarts(a.symbol.range, b.symbol.range);\n\t\t}\n\t\treturn 0;\n\t}\n}\n"]}