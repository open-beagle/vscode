{"version":3,"file":"suggestEnabledInput.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/codeEditor/browser/suggestEnabledInput/suggestEnabledInput.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./suggestEnabledInput';\nimport { $, Dimension, append } from 'vs/base/browser/dom';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { Color } from 'vs/base/common/color';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { IDisposable } from 'vs/base/common/lifecycle';\nimport { mixin } from 'vs/base/common/objects';\nimport { isMacintosh } from 'vs/base/common/platform';\nimport { URI as uri } from 'vs/base/common/uri';\nimport { CodeEditorWidget } from 'vs/editor/browser/widget/codeEditorWidget';\nimport { IEditorOptions } from 'vs/editor/common/config/editorOptions';\nimport { EditOperation } from 'vs/editor/common/core/editOperation';\nimport { Position } from 'vs/editor/common/core/position';\nimport { Range } from 'vs/editor/common/core/range';\nimport { ITextModel } from 'vs/editor/common/model';\nimport * as modes from 'vs/editor/common/modes';\nimport { IModelService } from 'vs/editor/common/services/modelService';\nimport { ContextMenuController } from 'vs/editor/contrib/contextmenu/contextmenu';\nimport { SnippetController2 } from 'vs/editor/contrib/snippet/snippetController2';\nimport { SuggestController } from 'vs/editor/contrib/suggest/suggestController';\nimport { IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ColorIdentifier, editorSelectionBackground, inputBackground, inputBorder, inputForeground, inputPlaceholderForeground, selectionBackground } from 'vs/platform/theme/common/colorRegistry';\nimport { IStyleOverrides, attachStyler } from 'vs/platform/theme/common/styler';\nimport { IThemeService, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { MenuPreventer } from 'vs/workbench/contrib/codeEditor/browser/menuPreventer';\nimport { getSimpleEditorOptions } from 'vs/workbench/contrib/codeEditor/browser/simpleEditorOptions';\nimport { SelectionClipboardContributionID } from 'vs/workbench/contrib/codeEditor/browser/selectionClipboard';\nimport { EditorExtensionsRegistry } from 'vs/editor/browser/editorExtensions';\nimport { IThemable } from 'vs/base/common/styler';\nimport { DEFAULT_FONT_FAMILY } from 'vs/workbench/browser/style';\n\ninterface SuggestResultsProvider {\n\t/**\n\t * Provider function for suggestion results.\n\t *\n\t * @param query the full text of the input.\n\t */\n\tprovideResults: (query: string) => string[];\n\n\t/**\n\t * Trigger characters for this input. Suggestions will appear when one of these is typed,\n\t * or upon `ctrl+space` triggering at a word boundary.\n\t *\n\t * Defaults to the empty array.\n\t */\n\ttriggerCharacters?: string[];\n\n\t/**\n\t * Defines the sorting function used when showing results.\n\t *\n\t * Defaults to the identity function.\n\t */\n\tsortKey?: (result: string) => string;\n}\n\ninterface SuggestEnabledInputOptions {\n\t/**\n\t * The text to show when no input is present.\n\t *\n\t * Defaults to the empty string.\n\t */\n\tplaceholderText?: string;\n\tvalue?: string;\n\n\t/**\n\t * Context key tracking the focus state of this element\n\t */\n\tfocusContextKey?: IContextKey<boolean>;\n}\n\nexport interface ISuggestEnabledInputStyleOverrides extends IStyleOverrides {\n\tinputBackground?: ColorIdentifier;\n\tinputForeground?: ColorIdentifier;\n\tinputBorder?: ColorIdentifier;\n\tinputPlaceholderForeground?: ColorIdentifier;\n}\n\ntype ISuggestEnabledInputStyles = {\n\t[P in keyof ISuggestEnabledInputStyleOverrides]: Color | undefined;\n};\n\nexport function attachSuggestEnabledInputBoxStyler(widget: IThemable, themeService: IThemeService, style?: ISuggestEnabledInputStyleOverrides): IDisposable {\n\treturn attachStyler(themeService, {\n\t\tinputBackground: style?.inputBackground || inputBackground,\n\t\tinputForeground: style?.inputForeground || inputForeground,\n\t\tinputBorder: style?.inputBorder || inputBorder,\n\t\tinputPlaceholderForeground: style?.inputPlaceholderForeground || inputPlaceholderForeground,\n\t} as ISuggestEnabledInputStyleOverrides, widget);\n}\n\nexport class SuggestEnabledInput extends Widget implements IThemable {\n\n\tprivate readonly _onShouldFocusResults = new Emitter<void>();\n\treadonly onShouldFocusResults: Event<void> = this._onShouldFocusResults.event;\n\n\tprivate readonly _onEnter = new Emitter<void>();\n\treadonly onEnter: Event<void> = this._onEnter.event;\n\n\tprivate readonly _onInputDidChange = new Emitter<string | undefined>();\n\treadonly onInputDidChange: Event<string | undefined> = this._onInputDidChange.event;\n\n\tprivate readonly inputWidget: CodeEditorWidget;\n\tprivate readonly inputModel: ITextModel;\n\tprivate stylingContainer: HTMLDivElement;\n\tprivate placeholderText: HTMLDivElement;\n\n\tconstructor(\n\t\tid: string,\n\t\tparent: HTMLElement,\n\t\tsuggestionProvider: SuggestResultsProvider,\n\t\tariaLabel: string,\n\t\tresourceHandle: string,\n\t\toptions: SuggestEnabledInputOptions,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IModelService modelService: IModelService,\n\t) {\n\t\tsuper();\n\n\t\tthis.stylingContainer = append(parent, $('.suggest-input-container'));\n\t\tthis.placeholderText = append(this.stylingContainer, $('.suggest-input-placeholder', undefined, options.placeholderText || ''));\n\n\t\tconst editorOptions: IEditorOptions = mixin(\n\t\t\tgetSimpleEditorOptions(),\n\t\t\tgetSuggestEnabledInputOptions(ariaLabel));\n\n\t\tthis.inputWidget = instantiationService.createInstance(CodeEditorWidget, this.stylingContainer,\n\t\t\teditorOptions,\n\t\t\t{\n\t\t\t\tcontributions: EditorExtensionsRegistry.getSomeEditorContributions([\n\t\t\t\t\tSuggestController.ID,\n\t\t\t\t\tSnippetController2.ID,\n\t\t\t\t\tContextMenuController.ID,\n\t\t\t\t\tMenuPreventer.ID,\n\t\t\t\t\tSelectionClipboardContributionID,\n\t\t\t\t]),\n\t\t\t\tisSimpleWidget: true,\n\t\t\t});\n\t\tthis._register(this.inputWidget);\n\n\t\tlet scopeHandle = uri.parse(resourceHandle);\n\t\tthis.inputModel = modelService.createModel('', null, scopeHandle, true);\n\t\tthis.inputWidget.setModel(this.inputModel);\n\n\t\tthis._register(this.inputWidget.onDidPaste(() => this.setValue(this.getValue()))); // setter cleanses\n\n\t\tthis._register((this.inputWidget.onDidFocusEditorText(() => {\n\t\t\tif (options.focusContextKey) { options.focusContextKey.set(true); }\n\t\t\tthis.stylingContainer.classList.add('synthetic-focus');\n\t\t})));\n\t\tthis._register((this.inputWidget.onDidBlurEditorText(() => {\n\t\t\tif (options.focusContextKey) { options.focusContextKey.set(false); }\n\t\t\tthis.stylingContainer.classList.remove('synthetic-focus');\n\t\t})));\n\n\t\tconst onKeyDownMonaco = Event.chain(this.inputWidget.onKeyDown);\n\t\tthis._register(onKeyDownMonaco.filter(e => e.keyCode === KeyCode.Enter).on(e => { e.preventDefault(); this._onEnter.fire(); }, this));\n\t\tthis._register(onKeyDownMonaco.filter(e => e.keyCode === KeyCode.DownArrow && (isMacintosh ? e.metaKey : e.ctrlKey)).on(() => this._onShouldFocusResults.fire(), this));\n\n\t\tlet preexistingContent = this.getValue();\n\t\tconst inputWidgetModel = this.inputWidget.getModel();\n\t\tif (inputWidgetModel) {\n\t\t\tthis._register(inputWidgetModel.onDidChangeContent(() => {\n\t\t\t\tlet content = this.getValue();\n\t\t\t\tthis.placeholderText.style.visibility = content ? 'hidden' : 'visible';\n\t\t\t\tif (preexistingContent.trim() === content.trim()) { return; }\n\t\t\t\tthis._onInputDidChange.fire(undefined);\n\t\t\t\tpreexistingContent = content;\n\t\t\t}));\n\t\t}\n\n\t\tlet validatedSuggestProvider = {\n\t\t\tprovideResults: suggestionProvider.provideResults,\n\t\t\tsortKey: suggestionProvider.sortKey || (a => a),\n\t\t\ttriggerCharacters: suggestionProvider.triggerCharacters || []\n\t\t};\n\n\t\tthis.setValue(options.value || '');\n\n\t\tthis._register(modes.CompletionProviderRegistry.register({ scheme: scopeHandle.scheme, pattern: '**/' + scopeHandle.path, hasAccessToAllModels: true }, {\n\t\t\ttriggerCharacters: validatedSuggestProvider.triggerCharacters,\n\t\t\tprovideCompletionItems: (model: ITextModel, position: Position, _context: modes.CompletionContext) => {\n\t\t\t\tlet query = model.getValue();\n\n\t\t\t\tconst zeroIndexedColumn = position.column - 1;\n\n\t\t\t\tlet zeroIndexedWordStart = query.lastIndexOf(' ', zeroIndexedColumn - 1) + 1;\n\t\t\t\tlet alreadyTypedCount = zeroIndexedColumn - zeroIndexedWordStart;\n\n\t\t\t\t// dont show suggestions if the user has typed something, but hasn't used the trigger character\n\t\t\t\tif (alreadyTypedCount > 0 && validatedSuggestProvider.triggerCharacters.indexOf(query[zeroIndexedWordStart]) === -1) {\n\t\t\t\t\treturn { suggestions: [] };\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tsuggestions: suggestionProvider.provideResults(query).map(result => {\n\t\t\t\t\t\treturn <modes.CompletionItem>{\n\t\t\t\t\t\t\tlabel: result,\n\t\t\t\t\t\t\tinsertText: result,\n\t\t\t\t\t\t\trange: Range.fromPositions(position.delta(0, -alreadyTypedCount), position),\n\t\t\t\t\t\t\tsortText: validatedSuggestProvider.sortKey(result),\n\t\t\t\t\t\t\tkind: modes.CompletionItemKind.Keyword\n\t\t\t\t\t\t};\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic updateAriaLabel(label: string): void {\n\t\tthis.inputWidget.updateOptions({ ariaLabel: label });\n\t}\n\n\tpublic get onFocus(): Event<void> { return this.inputWidget.onDidFocusEditorText; }\n\n\tpublic setValue(val: string) {\n\t\tval = val.replace(/\\s/g, ' ');\n\t\tconst fullRange = this.inputModel.getFullModelRange();\n\t\tthis.inputWidget.executeEdits('suggestEnabledInput.setValue', [EditOperation.replace(fullRange, val)]);\n\t\tthis.inputWidget.setScrollTop(0);\n\t\tthis.inputWidget.setPosition(new Position(1, val.length + 1));\n\t}\n\n\tpublic getValue(): string {\n\t\treturn this.inputWidget.getValue();\n\t}\n\n\n\tpublic style(colors: ISuggestEnabledInputStyles): void {\n\t\tthis.stylingContainer.style.backgroundColor = colors.inputBackground ? colors.inputBackground.toString() : '';\n\t\tthis.stylingContainer.style.color = colors.inputForeground ? colors.inputForeground.toString() : '';\n\t\tthis.placeholderText.style.color = colors.inputPlaceholderForeground ? colors.inputPlaceholderForeground.toString() : '';\n\n\t\tthis.stylingContainer.style.borderWidth = '1px';\n\t\tthis.stylingContainer.style.borderStyle = 'solid';\n\t\tthis.stylingContainer.style.borderColor = colors.inputBorder ?\n\t\t\tcolors.inputBorder.toString() :\n\t\t\t'transparent';\n\n\t\tconst cursor = this.stylingContainer.getElementsByClassName('cursor')[0] as HTMLDivElement;\n\t\tif (cursor) {\n\t\t\tcursor.style.backgroundColor = colors.inputForeground ? colors.inputForeground.toString() : '';\n\t\t}\n\t}\n\n\tpublic focus(selectAll?: boolean): void {\n\t\tthis.inputWidget.focus();\n\n\t\tif (selectAll && this.inputWidget.getValue()) {\n\t\t\tthis.selectAll();\n\t\t}\n\t}\n\n\tpublic onHide(): void {\n\t\tthis.inputWidget.onHide();\n\t}\n\n\tpublic layout(dimension: Dimension): void {\n\t\tthis.inputWidget.layout(dimension);\n\t\tthis.placeholderText.style.width = `${dimension.width - 2}px`;\n\t}\n\n\tprivate selectAll(): void {\n\t\tthis.inputWidget.setSelection(new Range(1, 1, 1, this.getValue().length + 1));\n\t}\n}\n\n// Override styles in selections.ts\nregisterThemingParticipant((theme, collector) => {\n\tlet selectionColor = theme.getColor(selectionBackground);\n\tif (selectionColor) {\n\t\tselectionColor = selectionColor.transparent(0.4);\n\t} else {\n\t\tselectionColor = theme.getColor(editorSelectionBackground);\n\t}\n\n\tif (selectionColor) {\n\t\tcollector.addRule(`.suggest-input-container .monaco-editor .focused .selected-text { background-color: ${selectionColor}; }`);\n\t}\n\n\t// Override inactive selection bg\n\tconst inputBackgroundColor = theme.getColor(inputBackground);\n\tif (inputBackgroundColor) {\n\t\tcollector.addRule(`.suggest-input-container .monaco-editor .selected-text { background-color: ${inputBackgroundColor.transparent(0.4)}; }`);\n\t}\n\n\t// Override selected fg\n\tconst inputForegroundColor = theme.getColor(inputForeground);\n\tif (inputForegroundColor) {\n\t\tcollector.addRule(`.suggest-input-container .monaco-editor .view-line span.inline-selected-text { color: ${inputForegroundColor}; }`);\n\t}\n\n\tconst backgroundColor = theme.getColor(inputBackground);\n\tif (backgroundColor) {\n\t\tcollector.addRule(`.suggest-input-container .monaco-editor-background { background-color: ${backgroundColor}; } `);\n\t}\n});\n\n\nfunction getSuggestEnabledInputOptions(ariaLabel?: string): IEditorOptions {\n\treturn {\n\t\tfontSize: 13,\n\t\tlineHeight: 20,\n\t\twordWrap: 'off',\n\t\tscrollbar: { vertical: 'hidden', },\n\t\troundedSelection: false,\n\t\trenderIndentGuides: false,\n\t\tcursorWidth: 1,\n\t\tfontFamily: DEFAULT_FONT_FAMILY,\n\t\tariaLabel: ariaLabel || '',\n\t\tsnippetSuggestions: 'none',\n\t\tsuggest: { filterGraceful: false, showIcons: false },\n\t\tautoClosingBrackets: 'never'\n\t};\n}\n"]}