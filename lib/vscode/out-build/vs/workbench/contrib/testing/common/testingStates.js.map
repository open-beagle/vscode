{"version":3,"file":"testingStates.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/testing/common/testingStates.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TestResultState } from 'vs/workbench/api/common/extHostTypes';\n\nexport type TreeStateNode = { statusNode: true; state: TestResultState; priority: number };\n\n/**\n * List of display priorities for different run states. When tests update,\n * the highest-priority state from any of their children will be the state\n * reflected in the parent node.\n */\nexport const statePriority: { [K in TestResultState]: number } = {\n\t[TestResultState.Running]: 6,\n\t[TestResultState.Errored]: 5,\n\t[TestResultState.Failed]: 4,\n\t[TestResultState.Passed]: 3,\n\t[TestResultState.Queued]: 2,\n\t[TestResultState.Unset]: 1,\n\t[TestResultState.Skipped]: 0,\n};\n\nexport const isFailedState = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed;\nexport const isStateWithResult = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed || s === TestResultState.Passed;\n\nexport const stateNodes = Object.entries(statePriority).reduce(\n\t(acc, [stateStr, priority]) => {\n\t\tconst state = Number(stateStr) as TestResultState;\n\t\tacc[state] = { statusNode: true, state, priority };\n\t\treturn acc;\n\t}, {} as { [K in TestResultState]: TreeStateNode }\n);\n\nexport const cmpPriority = (a: TestResultState, b: TestResultState) => statePriority[b] - statePriority[a];\n\nexport const maxPriority = (...states: TestResultState[]) => {\n\tswitch (states.length) {\n\t\tcase 0:\n\t\t\treturn TestResultState.Unset;\n\t\tcase 1:\n\t\t\treturn states[0];\n\t\tcase 2:\n\t\t\treturn statePriority[states[0]] > statePriority[states[1]] ? states[0] : states[1];\n\t\tdefault:\n\t\t\tlet max = states[0];\n\t\t\tfor (let i = 1; i < states.length; i++) {\n\t\t\t\tif (statePriority[max] < statePriority[states[i]]) {\n\t\t\t\t\tmax = states[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn max;\n\t}\n};\n\nexport const statesInOrder = Object.keys(statePriority).map(s => Number(s) as TestResultState).sort(cmpPriority);\n\nexport const isRunningState = (s: TestResultState) => s === TestResultState.Queued || s === TestResultState.Running;\n"]}