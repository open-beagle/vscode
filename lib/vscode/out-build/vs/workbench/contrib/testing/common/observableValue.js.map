{"version":3,"file":"observableValue.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/testing/common/observableValue.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAUzF,MAAM,qBAAqB,GAAG,CAAI,KAAQ,EAAuB,EAAE,CAAC,CAAC;QAC3E,WAAW,EAAE,aAAK,CAAC,IAAI;QACvB,KAAK;KACL,CAAC,CAAC;IAHU,QAAA,qBAAqB,yBAG/B;IAEH,MAAa,sBAAsB;QAsBlC,YAAoB,MAAS;YAAT,WAAM,GAAN,MAAM,CAAG;YArBZ,kBAAa,GAAG,IAAI,eAAO,EAAK,CAAC;YAElC,gBAAW,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;QAmBtB,CAAC;QAjBlC,IAAW,KAAK;YACf,OAAO,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;QAED,IAAW,KAAK,CAAC,CAAI;YACpB,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;gBACtB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAC3B;QACF,CAAC;QAEM,MAAM,CAAC,MAAM,CAAI,MAAsB,EAAE,YAAe;YAC9D,MAAM,CAAC,GAAG,IAAI,sBAAsB,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;YAC/D,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5C,OAAO,CAAC,CAAC;QACV,CAAC;KAGD;IAvBD,wDAuBC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { StoredValue } from 'vs/workbench/contrib/testing/common/storedValue';\n\nexport interface IObservableValue<T> {\n\tonDidChange: Event<T>;\n\treadonly value: T;\n}\n\nexport const staticObservableValue = <T>(value: T): IObservableValue<T> => ({\n\tonDidChange: Event.None,\n\tvalue,\n});\n\nexport class MutableObservableValue<T> implements IObservableValue<T> {\n\tprivate readonly changeEmitter = new Emitter<T>();\n\n\tpublic readonly onDidChange = this.changeEmitter.event;\n\n\tpublic get value() {\n\t\treturn this._value;\n\t}\n\n\tpublic set value(v: T) {\n\t\tif (v !== this._value) {\n\t\t\tthis._value = v;\n\t\t\tthis.changeEmitter.fire(v);\n\t\t}\n\t}\n\n\tpublic static stored<T>(stored: StoredValue<T>, defaultValue: T) {\n\t\tconst o = new MutableObservableValue(stored.get(defaultValue));\n\t\to.onDidChange(value => stored.store(value));\n\t\treturn o;\n\t}\n\n\tconstructor(private _value: T) { }\n}\n"]}