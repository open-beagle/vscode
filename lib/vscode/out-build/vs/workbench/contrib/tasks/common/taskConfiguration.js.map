{"version":3,"sources":["vs/workbench/contrib/tasks/common/taskConfiguration.ts"],"names":[],"mappings":"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","file":"taskConfiguration.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\n\nimport * as Objects from 'vs/base/common/objects';\nimport { IStringDictionary } from 'vs/base/common/collections';\nimport { IJSONSchemaMap } from 'vs/base/common/jsonSchema';\nimport { Platform } from 'vs/base/common/platform';\nimport * as Types from 'vs/base/common/types';\nimport * as UUID from 'vs/base/common/uuid';\n\nimport { ValidationStatus, IProblemReporter as IProblemReporterBase } from 'vs/base/common/parsers';\nimport {\n\tNamedProblemMatcher, ProblemMatcher, ProblemMatcherParser, Config as ProblemMatcherConfig,\n\tisNamedProblemMatcher, ProblemMatcherRegistry\n} from 'vs/workbench/contrib/tasks/common/problemMatcher';\n\nimport { IWorkspaceFolder, IWorkspace } from 'vs/platform/workspace/common/workspace';\nimport * as Tasks from './tasks';\nimport { TaskDefinitionRegistry } from './taskDefinitionRegistry';\nimport { ConfiguredInput } from 'vs/workbench/services/configurationResolver/common/configurationResolver';\nimport { URI } from 'vs/base/common/uri';\nimport { USER_TASKS_GROUP_KEY, ShellExecutionSupportedContext, ProcessExecutionSupportedContext } from 'vs/workbench/contrib/tasks/common/taskService';\nimport { IContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\n\nexport const enum ShellQuoting {\n\t/**\n\t * Default is character escaping.\n\t */\n\tescape = 1,\n\n\t/**\n\t * Default is strong quoting\n\t */\n\tstrong = 2,\n\n\t/**\n\t * Default is weak quoting.\n\t */\n\tweak = 3\n}\n\nexport interface ShellQuotingOptions {\n\t/**\n\t * The character used to do character escaping.\n\t */\n\tescape?: string | {\n\t\tescapeChar: string;\n\t\tcharsToEscape: string;\n\t};\n\n\t/**\n\t * The character used for string quoting.\n\t */\n\tstrong?: string;\n\n\t/**\n\t * The character used for weak quoting.\n\t */\n\tweak?: string;\n}\n\nexport interface ShellConfiguration {\n\texecutable?: string;\n\targs?: string[];\n\tquoting?: ShellQuotingOptions;\n}\n\nexport interface CommandOptionsConfig {\n\t/**\n\t * The current working directory of the executed program or shell.\n\t * If omitted VSCode's current workspace root is used.\n\t */\n\tcwd?: string;\n\n\t/**\n\t * The additional environment of the executed program or shell. If omitted\n\t * the parent process' environment is used.\n\t */\n\tenv?: IStringDictionary<string>;\n\n\t/**\n\t * The shell configuration;\n\t */\n\tshell?: ShellConfiguration;\n}\n\nexport interface PresentationOptionsConfig {\n\t/**\n\t * Controls whether the terminal executing a task is brought to front or not.\n\t * Defaults to `RevealKind.Always`.\n\t */\n\treveal?: string;\n\n\t/**\n\t * Controls whether the problems panel is revealed when running this task or not.\n\t * Defaults to `RevealKind.Never`.\n\t */\n\trevealProblems?: string;\n\n\t/**\n\t * Controls whether the executed command is printed to the output window or terminal as well.\n\t */\n\techo?: boolean;\n\n\t/**\n\t * Controls whether the terminal is focus when this task is executed\n\t */\n\tfocus?: boolean;\n\n\t/**\n\t * Controls whether the task runs in a new terminal\n\t */\n\tpanel?: string;\n\n\t/**\n\t * Controls whether to show the \"Terminal will be reused by tasks, press any key to close it\" message.\n\t */\n\tshowReuseMessage?: boolean;\n\n\t/**\n\t * Controls whether the terminal should be cleared before running the task.\n\t */\n\tclear?: boolean;\n\n\t/**\n\t * Controls whether the task is executed in a specific terminal group using split panes.\n\t */\n\tgroup?: string;\n}\n\nexport interface RunOptionsConfig {\n\treevaluateOnRerun?: boolean;\n\trunOn?: string;\n\tinstanceLimit?: number;\n}\n\nexport interface TaskIdentifier {\n\ttype?: string;\n\t[name: string]: any;\n}\n\nexport namespace TaskIdentifier {\n\texport function is(value: any): value is TaskIdentifier {\n\t\tlet candidate: TaskIdentifier = value;\n\t\treturn candidate !== undefined && Types.isString(value.type);\n\t}\n}\n\nexport interface LegacyTaskProperties {\n\t/**\n\t * @deprecated Use `isBackground` instead.\n\t * Whether the executed command is kept alive and is watching the file system.\n\t */\n\tisWatching?: boolean;\n\n\t/**\n\t * @deprecated Use `group` instead.\n\t * Whether this task maps to the default build command.\n\t */\n\tisBuildCommand?: boolean;\n\n\t/**\n\t * @deprecated Use `group` instead.\n\t * Whether this task maps to the default test command.\n\t */\n\tisTestCommand?: boolean;\n}\n\nexport interface LegacyCommandProperties {\n\n\t/**\n\t * Whether this is a shell or process\n\t */\n\ttype?: string;\n\n\t/**\n\t * @deprecated Use presentation options\n\t * Controls whether the output view of the running tasks is brought to front or not.\n\t * See BaseTaskRunnerConfiguration#showOutput for details.\n\t */\n\tshowOutput?: string;\n\n\t/**\n\t * @deprecated Use presentation options\n\t * Controls whether the executed command is printed to the output windows as well.\n\t */\n\techoCommand?: boolean;\n\n\t/**\n\t * @deprecated Use presentation instead\n\t */\n\tterminal?: PresentationOptionsConfig;\n\n\t/**\n\t * @deprecated Use inline commands.\n\t * See BaseTaskRunnerConfiguration#suppressTaskName for details.\n\t */\n\tsuppressTaskName?: boolean;\n\n\t/**\n\t * Some commands require that the task argument is highlighted with a special\n\t * prefix (e.g. /t: for msbuild). This property can be used to control such\n\t * a prefix.\n\t */\n\ttaskSelector?: string;\n\n\t/**\n\t * @deprecated use the task type instead.\n\t * Specifies whether the command is a shell command and therefore must\n\t * be executed in a shell interpreter (e.g. cmd.exe, bash, ...).\n\t *\n\t * Defaults to false if omitted.\n\t */\n\tisShellCommand?: boolean | ShellConfiguration;\n}\n\nexport type CommandString = string | string[] | { value: string | string[], quoting: 'escape' | 'strong' | 'weak' };\n\nexport namespace CommandString {\n\texport function value(value: CommandString): string {\n\t\tif (Types.isString(value)) {\n\t\t\treturn value;\n\t\t} else if (Types.isStringArray(value)) {\n\t\t\treturn value.join(' ');\n\t\t} else {\n\t\t\tif (Types.isString(value.value)) {\n\t\t\t\treturn value.value;\n\t\t\t} else {\n\t\t\t\treturn value.value.join(' ');\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport interface BaseCommandProperties {\n\n\t/**\n\t * The command to be executed. Can be an external program or a shell\n\t * command.\n\t */\n\tcommand?: CommandString;\n\n\t/**\n\t * The command options used when the command is executed. Can be omitted.\n\t */\n\toptions?: CommandOptionsConfig;\n\n\t/**\n\t * The arguments passed to the command or additional arguments passed to the\n\t * command when using a global command.\n\t */\n\targs?: CommandString[];\n}\n\n\nexport interface CommandProperties extends BaseCommandProperties {\n\n\t/**\n\t * Windows specific command properties\n\t */\n\twindows?: BaseCommandProperties;\n\n\t/**\n\t * OSX specific command properties\n\t */\n\tosx?: BaseCommandProperties;\n\n\t/**\n\t * linux specific command properties\n\t */\n\tlinux?: BaseCommandProperties;\n}\n\nexport interface GroupKind {\n\tkind?: string;\n\tisDefault?: boolean;\n}\n\nexport interface ConfigurationProperties {\n\t/**\n\t * The task's name\n\t */\n\ttaskName?: string;\n\n\t/**\n\t * The UI label used for the task.\n\t */\n\tlabel?: string;\n\n\t/**\n\t * An optional identifier which can be used to reference a task\n\t * in a dependsOn or other attributes.\n\t */\n\tidentifier?: string;\n\n\t/**\n\t * Whether the executed command is kept alive and runs in the background.\n\t */\n\tisBackground?: boolean;\n\n\t/**\n\t * Whether the task should prompt on close for confirmation if running.\n\t */\n\tpromptOnClose?: boolean;\n\n\t/**\n\t * Defines the group the task belongs too.\n\t */\n\tgroup?: string | GroupKind;\n\n\t/**\n\t * A description of the task.\n\t */\n\tdetail?: string;\n\n\t/**\n\t * The other tasks the task depend on\n\t */\n\tdependsOn?: string | TaskIdentifier | Array<string | TaskIdentifier>;\n\n\t/**\n\t * The order the dependsOn tasks should be executed in.\n\t */\n\tdependsOrder?: string;\n\n\t/**\n\t * Controls the behavior of the used terminal\n\t */\n\tpresentation?: PresentationOptionsConfig;\n\n\t/**\n\t * Controls shell options.\n\t */\n\toptions?: CommandOptionsConfig;\n\n\t/**\n\t * The problem matcher(s) to use to capture problems in the tasks\n\t * output.\n\t */\n\tproblemMatcher?: ProblemMatcherConfig.ProblemMatcherType;\n\n\t/**\n\t * Task run options. Control run related properties.\n\t */\n\trunOptions?: RunOptionsConfig;\n}\n\nexport interface CustomTask extends CommandProperties, ConfigurationProperties {\n\t/**\n\t * Custom tasks have the type CUSTOMIZED_TASK_TYPE\n\t */\n\ttype?: string;\n\n}\n\nexport interface ConfiguringTask extends ConfigurationProperties {\n\t/**\n\t * The contributed type of the task\n\t */\n\ttype?: string;\n}\n\n/**\n * The base task runner configuration\n */\nexport interface BaseTaskRunnerConfiguration {\n\n\t/**\n\t * The command to be executed. Can be an external program or a shell\n\t * command.\n\t */\n\tcommand?: CommandString;\n\n\t/**\n\t * @deprecated Use type instead\n\t *\n\t * Specifies whether the command is a shell command and therefore must\n\t * be executed in a shell interpreter (e.g. cmd.exe, bash, ...).\n\t *\n\t * Defaults to false if omitted.\n\t */\n\tisShellCommand?: boolean;\n\n\t/**\n\t * The task type\n\t */\n\ttype?: string;\n\n\t/**\n\t * The command options used when the command is executed. Can be omitted.\n\t */\n\toptions?: CommandOptionsConfig;\n\n\t/**\n\t * The arguments passed to the command. Can be omitted.\n\t */\n\targs?: CommandString[];\n\n\t/**\n\t * Controls whether the output view of the running tasks is brought to front or not.\n\t * Valid values are:\n\t *   \"always\": bring the output window always to front when a task is executed.\n\t *   \"silent\": only bring it to front if no problem matcher is defined for the task executed.\n\t *   \"never\": never bring the output window to front.\n\t *\n\t * If omitted \"always\" is used.\n\t */\n\tshowOutput?: string;\n\n\t/**\n\t * Controls whether the executed command is printed to the output windows as well.\n\t */\n\techoCommand?: boolean;\n\n\t/**\n\t * The group\n\t */\n\tgroup?: string | GroupKind;\n\t/**\n\t * Controls the behavior of the used terminal\n\t */\n\tpresentation?: PresentationOptionsConfig;\n\n\t/**\n\t * If set to false the task name is added as an additional argument to the\n\t * command when executed. If set to true the task name is suppressed. If\n\t * omitted false is used.\n\t */\n\tsuppressTaskName?: boolean;\n\n\t/**\n\t * Some commands require that the task argument is highlighted with a special\n\t * prefix (e.g. /t: for msbuild). This property can be used to control such\n\t * a prefix.\n\t */\n\ttaskSelector?: string;\n\n\t/**\n\t * The problem matcher(s) to used if a global command is executed (e.g. no tasks\n\t * are defined). A tasks.json file can either contain a global problemMatcher\n\t * property or a tasks property but not both.\n\t */\n\tproblemMatcher?: ProblemMatcherConfig.ProblemMatcherType;\n\n\t/**\n\t * @deprecated Use `isBackground` instead.\n\t *\n\t * Specifies whether a global command is a watching the filesystem. A task.json\n\t * file can either contain a global isWatching property or a tasks property\n\t * but not both.\n\t */\n\tisWatching?: boolean;\n\n\t/**\n\t * Specifies whether a global command is a background task.\n\t */\n\tisBackground?: boolean;\n\n\t/**\n\t * Whether the task should prompt on close for confirmation if running.\n\t */\n\tpromptOnClose?: boolean;\n\n\t/**\n\t * The configuration of the available tasks. A tasks.json file can either\n\t * contain a global problemMatcher property or a tasks property but not both.\n\t */\n\ttasks?: Array<CustomTask | ConfiguringTask>;\n\n\t/**\n\t * Problem matcher declarations.\n\t */\n\tdeclares?: ProblemMatcherConfig.NamedProblemMatcher[];\n\n\t/**\n\t * Optional user input variables.\n\t */\n\tinputs?: ConfiguredInput[];\n}\n\n/**\n * A configuration of an external build system. BuildConfiguration.buildSystem\n * must be set to 'program'\n */\nexport interface ExternalTaskRunnerConfiguration extends BaseTaskRunnerConfiguration {\n\n\t_runner?: string;\n\n\t/**\n\t * Determines the runner to use\n\t */\n\trunner?: string;\n\n\t/**\n\t * The config's version number\n\t */\n\tversion: string;\n\n\t/**\n\t * Windows specific task configuration\n\t */\n\twindows?: BaseTaskRunnerConfiguration;\n\n\t/**\n\t * Mac specific task configuration\n\t */\n\tosx?: BaseTaskRunnerConfiguration;\n\n\t/**\n\t * Linux specific task configuration\n\t */\n\tlinux?: BaseTaskRunnerConfiguration;\n}\n\nenum ProblemMatcherKind {\n\tUnknown,\n\tString,\n\tProblemMatcher,\n\tArray\n}\n\nconst EMPTY_ARRAY: any[] = [];\nObject.freeze(EMPTY_ARRAY);\n\nfunction assignProperty<T, K extends keyof T>(target: T, source: Partial<T>, key: K) {\n\tconst sourceAtKey = source[key];\n\tif (sourceAtKey !== undefined) {\n\t\ttarget[key] = sourceAtKey!;\n\t}\n}\n\nfunction fillProperty<T, K extends keyof T>(target: T, source: Partial<T>, key: K) {\n\tconst sourceAtKey = source[key];\n\tif (target[key] === undefined && sourceAtKey !== undefined) {\n\t\ttarget[key] = sourceAtKey!;\n\t}\n}\n\n\ninterface ParserType<T> {\n\tisEmpty(value: T | undefined): boolean;\n\tassignProperties(target: T | undefined, source: T | undefined): T | undefined;\n\tfillProperties(target: T | undefined, source: T | undefined): T | undefined;\n\tfillDefaults(value: T | undefined, context: ParseContext): T | undefined;\n\tfreeze(value: T): Readonly<T> | undefined;\n}\n\ninterface MetaData<T, U> {\n\tproperty: keyof T;\n\ttype?: ParserType<U>;\n}\n\n\nfunction _isEmpty<T>(this: void, value: T | undefined, properties: MetaData<T, any>[] | undefined, allowEmptyArray: boolean = false): boolean {\n\tif (value === undefined || value === null || properties === undefined) {\n\t\treturn true;\n\t}\n\tfor (let meta of properties) {\n\t\tlet property = value[meta.property];\n\t\tif (property !== undefined && property !== null) {\n\t\t\tif (meta.type !== undefined && !meta.type.isEmpty(property)) {\n\t\t\t\treturn false;\n\t\t\t} else if (!Array.isArray(property) || (property.length > 0) || allowEmptyArray) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction _assignProperties<T>(this: void, target: T | undefined, source: T | undefined, properties: MetaData<T, any>[]): T | undefined {\n\tif (!source || _isEmpty(source, properties)) {\n\t\treturn target;\n\t}\n\tif (!target || _isEmpty(target, properties)) {\n\t\treturn source;\n\t}\n\tfor (let meta of properties) {\n\t\tlet property = meta.property;\n\t\tlet value: any;\n\t\tif (meta.type !== undefined) {\n\t\t\tvalue = meta.type.assignProperties(target[property], source[property]);\n\t\t} else {\n\t\t\tvalue = source[property];\n\t\t}\n\t\tif (value !== undefined && value !== null) {\n\t\t\ttarget[property] = value;\n\t\t}\n\t}\n\treturn target;\n}\n\nfunction _fillProperties<T>(this: void, target: T | undefined, source: T | undefined, properties: MetaData<T, any>[] | undefined, allowEmptyArray: boolean = false): T | undefined {\n\tif (!source || _isEmpty(source, properties)) {\n\t\treturn target;\n\t}\n\tif (!target || _isEmpty(target, properties, allowEmptyArray)) {\n\t\treturn source;\n\t}\n\tfor (let meta of properties!) {\n\t\tlet property = meta.property;\n\t\tlet value: any;\n\t\tif (meta.type) {\n\t\t\tvalue = meta.type.fillProperties(target[property], source[property]);\n\t\t} else if (target[property] === undefined) {\n\t\t\tvalue = source[property];\n\t\t}\n\t\tif (value !== undefined && value !== null) {\n\t\t\ttarget[property] = value;\n\t\t}\n\t}\n\treturn target;\n}\n\nfunction _fillDefaults<T>(this: void, target: T | undefined, defaults: T | undefined, properties: MetaData<T, any>[], context: ParseContext): T | undefined {\n\tif (target && Object.isFrozen(target)) {\n\t\treturn target;\n\t}\n\tif (target === undefined || target === null || defaults === undefined || defaults === null) {\n\t\tif (defaults !== undefined && defaults !== null) {\n\t\t\treturn Objects.deepClone(defaults);\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\tfor (let meta of properties) {\n\t\tlet property = meta.property;\n\t\tif (target[property] !== undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tlet value: any;\n\t\tif (meta.type) {\n\t\t\tvalue = meta.type.fillDefaults(target[property], context);\n\t\t} else {\n\t\t\tvalue = defaults[property];\n\t\t}\n\n\t\tif (value !== undefined && value !== null) {\n\t\t\ttarget[property] = value;\n\t\t}\n\t}\n\treturn target;\n}\n\nfunction _freeze<T>(this: void, target: T, properties: MetaData<T, any>[]): Readonly<T> | undefined {\n\tif (target === undefined || target === null) {\n\t\treturn undefined;\n\t}\n\tif (Object.isFrozen(target)) {\n\t\treturn target;\n\t}\n\tfor (let meta of properties) {\n\t\tif (meta.type) {\n\t\t\tlet value = target[meta.property];\n\t\t\tif (value) {\n\t\t\t\tmeta.type.freeze(value);\n\t\t\t}\n\t\t}\n\t}\n\tObject.freeze(target);\n\treturn target;\n}\n\nexport namespace RunOnOptions {\n\texport function fromString(value: string | undefined): Tasks.RunOnOptions {\n\t\tif (!value) {\n\t\t\treturn Tasks.RunOnOptions.default;\n\t\t}\n\t\tswitch (value.toLowerCase()) {\n\t\t\tcase 'folderopen':\n\t\t\t\treturn Tasks.RunOnOptions.folderOpen;\n\t\t\tcase 'default':\n\t\t\tdefault:\n\t\t\t\treturn Tasks.RunOnOptions.default;\n\t\t}\n\t}\n}\n\nexport namespace RunOptions {\n\tconst properties: MetaData<Tasks.RunOptions, void>[] = [{ property: 'reevaluateOnRerun' }, { property: 'runOn' }, { property: 'instanceLimit' }];\n\texport function fromConfiguration(value: RunOptionsConfig | undefined): Tasks.RunOptions {\n\t\treturn {\n\t\t\treevaluateOnRerun: value ? value.reevaluateOnRerun : true,\n\t\t\trunOn: value ? RunOnOptions.fromString(value.runOn) : Tasks.RunOnOptions.default,\n\t\t\tinstanceLimit: value ? value.instanceLimit : 1\n\t\t};\n\t}\n\n\texport function assignProperties(target: Tasks.RunOptions, source: Tasks.RunOptions | undefined): Tasks.RunOptions {\n\t\treturn _assignProperties(target, source, properties)!;\n\t}\n\n\texport function fillProperties(target: Tasks.RunOptions, source: Tasks.RunOptions | undefined): Tasks.RunOptions {\n\t\treturn _fillProperties(target, source, properties)!;\n\t}\n}\n\ninterface ParseContext {\n\tworkspaceFolder: IWorkspaceFolder;\n\tworkspace: IWorkspace | undefined;\n\tproblemReporter: IProblemReporter;\n\tnamedProblemMatchers: IStringDictionary<NamedProblemMatcher>;\n\tuuidMap: UUIDMap;\n\tengine: Tasks.ExecutionEngine;\n\tschemaVersion: Tasks.JsonSchemaVersion;\n\tplatform: Platform;\n\ttaskLoadIssues: string[];\n\tcontextKeyService: IContextKeyService;\n}\n\n\nnamespace ShellConfiguration {\n\n\tconst properties: MetaData<Tasks.ShellConfiguration, void>[] = [{ property: 'executable' }, { property: 'args' }, { property: 'quoting' }];\n\n\texport function is(value: any): value is ShellConfiguration {\n\t\tlet candidate: ShellConfiguration = value;\n\t\treturn candidate && (Types.isString(candidate.executable) || Types.isStringArray(candidate.args));\n\t}\n\n\texport function from(this: void, config: ShellConfiguration | undefined, context: ParseContext): Tasks.ShellConfiguration | undefined {\n\t\tif (!is(config)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet result: ShellConfiguration = {};\n\t\tif (config.executable !== undefined) {\n\t\t\tresult.executable = config.executable;\n\t\t}\n\t\tif (config.args !== undefined) {\n\t\t\tresult.args = config.args.slice();\n\t\t}\n\t\tif (config.quoting !== undefined) {\n\t\t\tresult.quoting = Objects.deepClone(config.quoting);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\texport function isEmpty(this: void, value: Tasks.ShellConfiguration): boolean {\n\t\treturn _isEmpty(value, properties, true);\n\t}\n\n\texport function assignProperties(this: void, target: Tasks.ShellConfiguration | undefined, source: Tasks.ShellConfiguration | undefined): Tasks.ShellConfiguration | undefined {\n\t\treturn _assignProperties(target, source, properties);\n\t}\n\n\texport function fillProperties(this: void, target: Tasks.ShellConfiguration, source: Tasks.ShellConfiguration): Tasks.ShellConfiguration | undefined {\n\t\treturn _fillProperties(target, source, properties, true);\n\t}\n\n\texport function fillDefaults(this: void, value: Tasks.ShellConfiguration, context: ParseContext): Tasks.ShellConfiguration {\n\t\treturn value;\n\t}\n\n\texport function freeze(this: void, value: Tasks.ShellConfiguration): Readonly<Tasks.ShellConfiguration> | undefined {\n\t\tif (!value) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn Object.freeze(value);\n\t}\n}\n\nnamespace CommandOptions {\n\n\tconst properties: MetaData<Tasks.CommandOptions, Tasks.ShellConfiguration>[] = [{ property: 'cwd' }, { property: 'env' }, { property: 'shell', type: ShellConfiguration }];\n\tconst defaults: CommandOptionsConfig = { cwd: '${workspaceFolder}' };\n\n\texport function from(this: void, options: CommandOptionsConfig, context: ParseContext): Tasks.CommandOptions | undefined {\n\t\tlet result: Tasks.CommandOptions = {};\n\t\tif (options.cwd !== undefined) {\n\t\t\tif (Types.isString(options.cwd)) {\n\t\t\t\tresult.cwd = options.cwd;\n\t\t\t} else {\n\t\t\t\tcontext.taskLoadIssues.push(nls.localize('ConfigurationParser.invalidCWD', 'Warning: options.cwd must be of type string. Ignoring value {0}\\n', options.cwd));\n\t\t\t}\n\t\t}\n\t\tif (options.env !== undefined) {\n\t\t\tresult.env = Objects.deepClone(options.env);\n\t\t}\n\t\tresult.shell = ShellConfiguration.from(options.shell, context);\n\t\treturn isEmpty(result) ? undefined : result;\n\t}\n\n\texport function isEmpty(value: Tasks.CommandOptions | undefined): boolean {\n\t\treturn _isEmpty(value, properties);\n\t}\n\n\texport function assignProperties(target: Tasks.CommandOptions | undefined, source: Tasks.CommandOptions | undefined): Tasks.CommandOptions | undefined {\n\t\tif ((source === undefined) || isEmpty(source)) {\n\t\t\treturn target;\n\t\t}\n\t\tif ((target === undefined) || isEmpty(target)) {\n\t\t\treturn source;\n\t\t}\n\t\tassignProperty(target, source, 'cwd');\n\t\tif (target.env === undefined) {\n\t\t\ttarget.env = source.env;\n\t\t} else if (source.env !== undefined) {\n\t\t\tlet env: { [key: string]: string; } = Object.create(null);\n\t\t\tif (target.env !== undefined) {\n\t\t\t\tObject.keys(target.env).forEach(key => env[key] = target.env![key]);\n\t\t\t}\n\t\t\tif (source.env !== undefined) {\n\t\t\t\tObject.keys(source.env).forEach(key => env[key] = source.env![key]);\n\t\t\t}\n\t\t\ttarget.env = env;\n\t\t}\n\t\ttarget.shell = ShellConfiguration.assignProperties(target.shell, source.shell);\n\t\treturn target;\n\t}\n\n\texport function fillProperties(target: Tasks.CommandOptions | undefined, source: Tasks.CommandOptions | undefined): Tasks.CommandOptions | undefined {\n\t\treturn _fillProperties(target, source, properties);\n\t}\n\n\texport function fillDefaults(value: Tasks.CommandOptions | undefined, context: ParseContext): Tasks.CommandOptions | undefined {\n\t\treturn _fillDefaults(value, defaults, properties, context);\n\t}\n\n\texport function freeze(value: Tasks.CommandOptions): Readonly<Tasks.CommandOptions> | undefined {\n\t\treturn _freeze(value, properties);\n\t}\n}\n\nnamespace CommandConfiguration {\n\n\texport namespace PresentationOptions {\n\t\tconst properties: MetaData<Tasks.PresentationOptions, void>[] = [{ property: 'echo' }, { property: 'reveal' }, { property: 'revealProblems' }, { property: 'focus' }, { property: 'panel' }, { property: 'showReuseMessage' }, { property: 'clear' }, { property: 'group' }];\n\n\t\tinterface PresentationOptionsShape extends LegacyCommandProperties {\n\t\t\tpresentation?: PresentationOptionsConfig;\n\t\t}\n\n\t\texport function from(this: void, config: PresentationOptionsShape, context: ParseContext): Tasks.PresentationOptions | undefined {\n\t\t\tlet echo: boolean;\n\t\t\tlet reveal: Tasks.RevealKind;\n\t\t\tlet revealProblems: Tasks.RevealProblemKind;\n\t\t\tlet focus: boolean;\n\t\t\tlet panel: Tasks.PanelKind;\n\t\t\tlet showReuseMessage: boolean;\n\t\t\tlet clear: boolean;\n\t\t\tlet group: string | undefined;\n\t\t\tlet hasProps = false;\n\t\t\tif (Types.isBoolean(config.echoCommand)) {\n\t\t\t\techo = config.echoCommand;\n\t\t\t\thasProps = true;\n\t\t\t}\n\t\t\tif (Types.isString(config.showOutput)) {\n\t\t\t\treveal = Tasks.RevealKind.fromString(config.showOutput);\n\t\t\t\thasProps = true;\n\t\t\t}\n\t\t\tlet presentation = config.presentation || config.terminal;\n\t\t\tif (presentation) {\n\t\t\t\tif (Types.isBoolean(presentation.echo)) {\n\t\t\t\t\techo = presentation.echo;\n\t\t\t\t}\n\t\t\t\tif (Types.isString(presentation.reveal)) {\n\t\t\t\t\treveal = Tasks.RevealKind.fromString(presentation.reveal);\n\t\t\t\t}\n\t\t\t\tif (Types.isString(presentation.revealProblems)) {\n\t\t\t\t\trevealProblems = Tasks.RevealProblemKind.fromString(presentation.revealProblems);\n\t\t\t\t}\n\t\t\t\tif (Types.isBoolean(presentation.focus)) {\n\t\t\t\t\tfocus = presentation.focus;\n\t\t\t\t}\n\t\t\t\tif (Types.isString(presentation.panel)) {\n\t\t\t\t\tpanel = Tasks.PanelKind.fromString(presentation.panel);\n\t\t\t\t}\n\t\t\t\tif (Types.isBoolean(presentation.showReuseMessage)) {\n\t\t\t\t\tshowReuseMessage = presentation.showReuseMessage;\n\t\t\t\t}\n\t\t\t\tif (Types.isBoolean(presentation.clear)) {\n\t\t\t\t\tclear = presentation.clear;\n\t\t\t\t}\n\t\t\t\tif (Types.isString(presentation.group)) {\n\t\t\t\t\tgroup = presentation.group;\n\t\t\t\t}\n\t\t\t\thasProps = true;\n\t\t\t}\n\t\t\tif (!hasProps) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn { echo: echo!, reveal: reveal!, revealProblems: revealProblems!, focus: focus!, panel: panel!, showReuseMessage: showReuseMessage!, clear: clear!, group };\n\t\t}\n\n\t\texport function assignProperties(target: Tasks.PresentationOptions, source: Tasks.PresentationOptions | undefined): Tasks.PresentationOptions | undefined {\n\t\t\treturn _assignProperties(target, source, properties);\n\t\t}\n\n\t\texport function fillProperties(target: Tasks.PresentationOptions, source: Tasks.PresentationOptions | undefined): Tasks.PresentationOptions | undefined {\n\t\t\treturn _fillProperties(target, source, properties);\n\t\t}\n\n\t\texport function fillDefaults(value: Tasks.PresentationOptions, context: ParseContext): Tasks.PresentationOptions | undefined {\n\t\t\tlet defaultEcho = context.engine === Tasks.ExecutionEngine.Terminal ? true : false;\n\t\t\treturn _fillDefaults(value, { echo: defaultEcho, reveal: Tasks.RevealKind.Always, revealProblems: Tasks.RevealProblemKind.Never, focus: false, panel: Tasks.PanelKind.Shared, showReuseMessage: true, clear: false }, properties, context);\n\t\t}\n\n\t\texport function freeze(value: Tasks.PresentationOptions): Readonly<Tasks.PresentationOptions> | undefined {\n\t\t\treturn _freeze(value, properties);\n\t\t}\n\n\t\texport function isEmpty(this: void, value: Tasks.PresentationOptions): boolean {\n\t\t\treturn _isEmpty(value, properties);\n\t\t}\n\t}\n\n\tnamespace ShellString {\n\t\texport function from(this: void, value: CommandString | undefined): Tasks.CommandString | undefined {\n\t\t\tif (value === undefined || value === null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif (Types.isString(value)) {\n\t\t\t\treturn value;\n\t\t\t} else if (Types.isStringArray(value)) {\n\t\t\t\treturn value.join(' ');\n\t\t\t} else {\n\t\t\t\tlet quoting = Tasks.ShellQuoting.from(value.quoting);\n\t\t\t\tlet result = Types.isString(value.value) ? value.value : Types.isStringArray(value.value) ? value.value.join(' ') : undefined;\n\t\t\t\tif (result) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: result,\n\t\t\t\t\t\tquoting: quoting\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tinterface BaseCommandConfigurationShape extends BaseCommandProperties, LegacyCommandProperties {\n\t}\n\n\tinterface CommandConfigurationShape extends BaseCommandConfigurationShape {\n\t\twindows?: BaseCommandConfigurationShape;\n\t\tosx?: BaseCommandConfigurationShape;\n\t\tlinux?: BaseCommandConfigurationShape;\n\t}\n\n\tconst properties: MetaData<Tasks.CommandConfiguration, any>[] = [\n\t\t{ property: 'runtime' }, { property: 'name' }, { property: 'options', type: CommandOptions },\n\t\t{ property: 'args' }, { property: 'taskSelector' }, { property: 'suppressTaskName' },\n\t\t{ property: 'presentation', type: PresentationOptions }\n\t];\n\n\texport function from(this: void, config: CommandConfigurationShape, context: ParseContext): Tasks.CommandConfiguration | undefined {\n\t\tlet result: Tasks.CommandConfiguration = fromBase(config, context)!;\n\n\t\tlet osConfig: Tasks.CommandConfiguration | undefined = undefined;\n\t\tif (config.windows && context.platform === Platform.Windows) {\n\t\t\tosConfig = fromBase(config.windows, context);\n\t\t} else if (config.osx && context.platform === Platform.Mac) {\n\t\t\tosConfig = fromBase(config.osx, context);\n\t\t} else if (config.linux && context.platform === Platform.Linux) {\n\t\t\tosConfig = fromBase(config.linux, context);\n\t\t}\n\t\tif (osConfig) {\n\t\t\tresult = assignProperties(result, osConfig, context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0);\n\t\t}\n\t\treturn isEmpty(result) ? undefined : result;\n\t}\n\n\tfunction fromBase(this: void, config: BaseCommandConfigurationShape, context: ParseContext): Tasks.CommandConfiguration | undefined {\n\t\tlet name: Tasks.CommandString | undefined = ShellString.from(config.command);\n\t\tlet runtime: Tasks.RuntimeType;\n\t\tif (Types.isString(config.type)) {\n\t\t\tif (config.type === 'shell' || config.type === 'process') {\n\t\t\t\truntime = Tasks.RuntimeType.fromString(config.type);\n\t\t\t}\n\t\t}\n\t\tlet isShellConfiguration = ShellConfiguration.is(config.isShellCommand);\n\t\tif (Types.isBoolean(config.isShellCommand) || isShellConfiguration) {\n\t\t\truntime = Tasks.RuntimeType.Shell;\n\t\t} else if (config.isShellCommand !== undefined) {\n\t\t\truntime = !!config.isShellCommand ? Tasks.RuntimeType.Shell : Tasks.RuntimeType.Process;\n\t\t}\n\n\t\tlet result: Tasks.CommandConfiguration = {\n\t\t\tname: name,\n\t\t\truntime: runtime!,\n\t\t\tpresentation: PresentationOptions.from(config, context)!\n\t\t};\n\n\t\tif (config.args !== undefined) {\n\t\t\tresult.args = [];\n\t\t\tfor (let arg of config.args) {\n\t\t\t\tlet converted = ShellString.from(arg);\n\t\t\t\tif (converted !== undefined) {\n\t\t\t\t\tresult.args.push(converted);\n\t\t\t\t} else {\n\t\t\t\t\tcontext.taskLoadIssues.push(\n\t\t\t\t\t\tnls.localize(\n\t\t\t\t\t\t\t'ConfigurationParser.inValidArg',\n\t\t\t\t\t\t\t'Error: command argument must either be a string or a quoted string. Provided value is:\\n{0}',\n\t\t\t\t\t\t\targ ? JSON.stringify(arg, undefined, 4) : 'undefined'\n\t\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (config.options !== undefined) {\n\t\t\tresult.options = CommandOptions.from(config.options, context);\n\t\t\tif (result.options && result.options.shell === undefined && isShellConfiguration) {\n\t\t\t\tresult.options.shell = ShellConfiguration.from(config.isShellCommand as ShellConfiguration, context);\n\t\t\t\tif (context.engine !== Tasks.ExecutionEngine.Terminal) {\n\t\t\t\t\tcontext.taskLoadIssues.push(nls.localize('ConfigurationParser.noShell', 'Warning: shell configuration is only supported when executing tasks in the terminal.'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (Types.isString(config.taskSelector)) {\n\t\t\tresult.taskSelector = config.taskSelector;\n\t\t}\n\t\tif (Types.isBoolean(config.suppressTaskName)) {\n\t\t\tresult.suppressTaskName = config.suppressTaskName;\n\t\t}\n\n\t\treturn isEmpty(result) ? undefined : result;\n\t}\n\n\texport function hasCommand(value: Tasks.CommandConfiguration): boolean {\n\t\treturn value && !!value.name;\n\t}\n\n\texport function isEmpty(value: Tasks.CommandConfiguration | undefined): boolean {\n\t\treturn _isEmpty(value, properties);\n\t}\n\n\texport function assignProperties(target: Tasks.CommandConfiguration, source: Tasks.CommandConfiguration, overwriteArgs: boolean): Tasks.CommandConfiguration {\n\t\tif (isEmpty(source)) {\n\t\t\treturn target;\n\t\t}\n\t\tif (isEmpty(target)) {\n\t\t\treturn source;\n\t\t}\n\t\tassignProperty(target, source, 'name');\n\t\tassignProperty(target, source, 'runtime');\n\t\tassignProperty(target, source, 'taskSelector');\n\t\tassignProperty(target, source, 'suppressTaskName');\n\t\tif (source.args !== undefined) {\n\t\t\tif (target.args === undefined || overwriteArgs) {\n\t\t\t\ttarget.args = source.args;\n\t\t\t} else {\n\t\t\t\ttarget.args = target.args.concat(source.args);\n\t\t\t}\n\t\t}\n\t\ttarget.presentation = PresentationOptions.assignProperties(target.presentation!, source.presentation)!;\n\t\ttarget.options = CommandOptions.assignProperties(target.options, source.options);\n\t\treturn target;\n\t}\n\n\texport function fillProperties(target: Tasks.CommandConfiguration, source: Tasks.CommandConfiguration): Tasks.CommandConfiguration | undefined {\n\t\treturn _fillProperties(target, source, properties);\n\t}\n\n\texport function fillGlobals(target: Tasks.CommandConfiguration, source: Tasks.CommandConfiguration | undefined, taskName: string | undefined): Tasks.CommandConfiguration {\n\t\tif ((source === undefined) || isEmpty(source)) {\n\t\t\treturn target;\n\t\t}\n\t\ttarget = target || {\n\t\t\tname: undefined,\n\t\t\truntime: undefined,\n\t\t\tpresentation: undefined\n\t\t};\n\t\tif (target.name === undefined) {\n\t\t\tfillProperty(target, source, 'name');\n\t\t\tfillProperty(target, source, 'taskSelector');\n\t\t\tfillProperty(target, source, 'suppressTaskName');\n\t\t\tlet args: Tasks.CommandString[] = source.args ? source.args.slice() : [];\n\t\t\tif (!target.suppressTaskName && taskName) {\n\t\t\t\tif (target.taskSelector !== undefined) {\n\t\t\t\t\targs.push(target.taskSelector + taskName);\n\t\t\t\t} else {\n\t\t\t\t\targs.push(taskName);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (target.args) {\n\t\t\t\targs = args.concat(target.args);\n\t\t\t}\n\t\t\ttarget.args = args;\n\t\t}\n\t\tfillProperty(target, source, 'runtime');\n\n\t\ttarget.presentation = PresentationOptions.fillProperties(target.presentation!, source.presentation)!;\n\t\ttarget.options = CommandOptions.fillProperties(target.options, source.options);\n\n\t\treturn target;\n\t}\n\n\texport function fillDefaults(value: Tasks.CommandConfiguration | undefined, context: ParseContext): void {\n\t\tif (!value || Object.isFrozen(value)) {\n\t\t\treturn;\n\t\t}\n\t\tif (value.name !== undefined && value.runtime === undefined) {\n\t\t\tvalue.runtime = Tasks.RuntimeType.Process;\n\t\t}\n\t\tvalue.presentation = PresentationOptions.fillDefaults(value.presentation!, context)!;\n\t\tif (!isEmpty(value)) {\n\t\t\tvalue.options = CommandOptions.fillDefaults(value.options, context);\n\t\t}\n\t\tif (value.args === undefined) {\n\t\t\tvalue.args = EMPTY_ARRAY;\n\t\t}\n\t\tif (value.suppressTaskName === undefined) {\n\t\t\tvalue.suppressTaskName = (context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0);\n\t\t}\n\t}\n\n\texport function freeze(value: Tasks.CommandConfiguration): Readonly<Tasks.CommandConfiguration> | undefined {\n\t\treturn _freeze(value, properties);\n\t}\n}\n\nnamespace ProblemMatcherConverter {\n\n\texport function namedFrom(this: void, declares: ProblemMatcherConfig.NamedProblemMatcher[] | undefined, context: ParseContext): IStringDictionary<NamedProblemMatcher> {\n\t\tlet result: IStringDictionary<NamedProblemMatcher> = Object.create(null);\n\n\t\tif (!Types.isArray(declares)) {\n\t\t\treturn result;\n\t\t}\n\t\t(<ProblemMatcherConfig.NamedProblemMatcher[]>declares).forEach((value) => {\n\t\t\tlet namedProblemMatcher = (new ProblemMatcherParser(context.problemReporter)).parse(value);\n\t\t\tif (isNamedProblemMatcher(namedProblemMatcher)) {\n\t\t\t\tresult[namedProblemMatcher.name] = namedProblemMatcher;\n\t\t\t} else {\n\t\t\t\tcontext.problemReporter.error(nls.localize('ConfigurationParser.noName', 'Error: Problem Matcher in declare scope must have a name:\\n{0}\\n', JSON.stringify(value, undefined, 4)));\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\n\texport function fromWithOsConfig(this: void, external: ConfigurationProperties & { [key: string]: any; }, context: ParseContext): ProblemMatcher[] | undefined {\n\t\tlet result: ProblemMatcher[] | undefined = undefined;\n\t\tif (external.windows && external.windows.problemMatcher && context.platform === Platform.Windows) {\n\t\t\tresult = from(external.windows.problemMatcher, context);\n\t\t} else if (external.osx && external.osx.problemMatcher && context.platform === Platform.Mac) {\n\t\t\tresult = from(external.osx.problemMatcher, context);\n\t\t} else if (external.linux && external.linux.problemMatcher && context.platform === Platform.Linux) {\n\t\t\tresult = from(external.linux.problemMatcher, context);\n\t\t} else if (external.problemMatcher) {\n\t\t\tresult = from(external.problemMatcher, context);\n\t\t}\n\t\treturn result;\n\t}\n\n\texport function from(this: void, config: ProblemMatcherConfig.ProblemMatcherType | undefined, context: ParseContext): ProblemMatcher[] {\n\t\tlet result: ProblemMatcher[] = [];\n\t\tif (config === undefined) {\n\t\t\treturn result;\n\t\t}\n\t\tlet kind = getProblemMatcherKind(config);\n\t\tif (kind === ProblemMatcherKind.Unknown) {\n\t\t\tcontext.problemReporter.warn(nls.localize(\n\t\t\t\t'ConfigurationParser.unknownMatcherKind',\n\t\t\t\t'Warning: the defined problem matcher is unknown. Supported types are string | ProblemMatcher | Array<string | ProblemMatcher>.\\n{0}\\n',\n\t\t\t\tJSON.stringify(config, null, 4)));\n\t\t\treturn result;\n\t\t} else if (kind === ProblemMatcherKind.String || kind === ProblemMatcherKind.ProblemMatcher) {\n\t\t\tlet matcher = resolveProblemMatcher(config as ProblemMatcherConfig.ProblemMatcher, context);\n\t\t\tif (matcher) {\n\t\t\t\tresult.push(matcher);\n\t\t\t}\n\t\t} else if (kind === ProblemMatcherKind.Array) {\n\t\t\tlet problemMatchers = <(string | ProblemMatcherConfig.ProblemMatcher)[]>config;\n\t\t\tproblemMatchers.forEach(problemMatcher => {\n\t\t\t\tlet matcher = resolveProblemMatcher(problemMatcher, context);\n\t\t\t\tif (matcher) {\n\t\t\t\t\tresult.push(matcher);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction getProblemMatcherKind(this: void, value: ProblemMatcherConfig.ProblemMatcherType): ProblemMatcherKind {\n\t\tif (Types.isString(value)) {\n\t\t\treturn ProblemMatcherKind.String;\n\t\t} else if (Types.isArray(value)) {\n\t\t\treturn ProblemMatcherKind.Array;\n\t\t} else if (!Types.isUndefined(value)) {\n\t\t\treturn ProblemMatcherKind.ProblemMatcher;\n\t\t} else {\n\t\t\treturn ProblemMatcherKind.Unknown;\n\t\t}\n\t}\n\n\tfunction resolveProblemMatcher(this: void, value: string | ProblemMatcherConfig.ProblemMatcher, context: ParseContext): ProblemMatcher | undefined {\n\t\tif (Types.isString(value)) {\n\t\t\tlet variableName = <string>value;\n\t\t\tif (variableName.length > 1 && variableName[0] === '$') {\n\t\t\t\tvariableName = variableName.substring(1);\n\t\t\t\tlet global = ProblemMatcherRegistry.get(variableName);\n\t\t\t\tif (global) {\n\t\t\t\t\treturn Objects.deepClone(global);\n\t\t\t\t}\n\t\t\t\tlet localProblemMatcher: ProblemMatcher & Partial<NamedProblemMatcher> = context.namedProblemMatchers[variableName];\n\t\t\t\tif (localProblemMatcher) {\n\t\t\t\t\tlocalProblemMatcher = Objects.deepClone(localProblemMatcher);\n\t\t\t\t\t// remove the name\n\t\t\t\t\tdelete localProblemMatcher.name;\n\t\t\t\t\treturn localProblemMatcher;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.taskLoadIssues.push(nls.localize('ConfigurationParser.invalidVariableReference', 'Error: Invalid problemMatcher reference: {0}\\n', value));\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tlet json = <ProblemMatcherConfig.ProblemMatcher>value;\n\t\t\treturn new ProblemMatcherParser(context.problemReporter).parse(json);\n\t\t}\n\t}\n}\n\nconst partialSource: Partial<Tasks.TaskSource> = {\n\tlabel: 'Workspace',\n\tconfig: undefined\n};\n\nnamespace GroupKind {\n\texport function from(this: void, external: string | GroupKind | undefined): [string, Tasks.GroupType] | undefined {\n\t\tif (external === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (Types.isString(external)) {\n\t\t\tif (Tasks.TaskGroup.is(external)) {\n\t\t\t\treturn [external, Tasks.GroupType.user];\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t\tif (!Types.isString(external.kind) || !Tasks.TaskGroup.is(external.kind)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet group: string = external.kind;\n\t\tlet isDefault: boolean = !!external.isDefault;\n\n\t\treturn [group, isDefault ? Tasks.GroupType.default : Tasks.GroupType.user];\n\t}\n}\n\nnamespace TaskDependency {\n\tfunction uriFromSource(context: ParseContext, source: TaskConfigSource): URI | string {\n\t\tswitch (source) {\n\t\t\tcase TaskConfigSource.User: return USER_TASKS_GROUP_KEY;\n\t\t\tcase TaskConfigSource.TasksJson: return context.workspaceFolder.uri;\n\t\t\tdefault: return context.workspace && context.workspace.configuration ? context.workspace.configuration : context.workspaceFolder.uri;\n\t\t}\n\t}\n\n\texport function from(this: void, external: string | TaskIdentifier, context: ParseContext, source: TaskConfigSource): Tasks.TaskDependency | undefined {\n\t\tif (Types.isString(external)) {\n\t\t\treturn { uri: uriFromSource(context, source), task: external };\n\t\t} else if (TaskIdentifier.is(external)) {\n\t\t\treturn {\n\t\t\t\turi: uriFromSource(context, source),\n\t\t\t\ttask: Tasks.TaskDefinition.createTaskIdentifier(external as Tasks.TaskIdentifier, context.problemReporter)\n\t\t\t};\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nnamespace DependsOrder {\n\texport function from(order: string | undefined): Tasks.DependsOrder {\n\t\tswitch (order) {\n\t\t\tcase Tasks.DependsOrder.sequence:\n\t\t\t\treturn Tasks.DependsOrder.sequence;\n\t\t\tcase Tasks.DependsOrder.parallel:\n\t\t\tdefault:\n\t\t\t\treturn Tasks.DependsOrder.parallel;\n\t\t}\n\t}\n}\n\nnamespace ConfigurationProperties {\n\n\tconst properties: MetaData<Tasks.ConfigurationProperties, any>[] = [\n\n\t\t{ property: 'name' }, { property: 'identifier' }, { property: 'group' }, { property: 'isBackground' },\n\t\t{ property: 'promptOnClose' }, { property: 'dependsOn' },\n\t\t{ property: 'presentation', type: CommandConfiguration.PresentationOptions }, { property: 'problemMatchers' },\n\t\t{ property: 'options' }\n\t];\n\n\texport function from(this: void, external: ConfigurationProperties & { [key: string]: any; }, context: ParseContext, includeCommandOptions: boolean, source: TaskConfigSource, properties?: IJSONSchemaMap): Tasks.ConfigurationProperties | undefined {\n\t\tif (!external) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet result: Tasks.ConfigurationProperties & { [key: string]: any; } = {};\n\n\t\tif (properties) {\n\t\t\tfor (const propertyName of Object.keys(properties)) {\n\t\t\t\tif (external[propertyName] !== undefined) {\n\t\t\t\t\tresult[propertyName] = Objects.deepClone(external[propertyName]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (Types.isString(external.taskName)) {\n\t\t\tresult.name = external.taskName;\n\t\t}\n\t\tif (Types.isString(external.label) && context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0) {\n\t\t\tresult.name = external.label;\n\t\t}\n\t\tif (Types.isString(external.identifier)) {\n\t\t\tresult.identifier = external.identifier;\n\t\t}\n\t\tif (external.isBackground !== undefined) {\n\t\t\tresult.isBackground = !!external.isBackground;\n\t\t}\n\t\tif (external.promptOnClose !== undefined) {\n\t\t\tresult.promptOnClose = !!external.promptOnClose;\n\t\t}\n\t\tif (external.group !== undefined) {\n\t\t\tif (Types.isString(external.group) && Tasks.TaskGroup.is(external.group)) {\n\t\t\t\tresult.group = external.group;\n\t\t\t\tresult.groupType = Tasks.GroupType.user;\n\t\t\t} else {\n\t\t\t\tlet values = GroupKind.from(external.group);\n\t\t\t\tif (values) {\n\t\t\t\t\tresult.group = values[0];\n\t\t\t\t\tresult.groupType = values[1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (external.dependsOn !== undefined) {\n\t\t\tif (Types.isArray(external.dependsOn)) {\n\t\t\t\tresult.dependsOn = external.dependsOn.reduce((dependencies: Tasks.TaskDependency[], item): Tasks.TaskDependency[] => {\n\t\t\t\t\tconst dependency = TaskDependency.from(item, context, source);\n\t\t\t\t\tif (dependency) {\n\t\t\t\t\t\tdependencies.push(dependency);\n\t\t\t\t\t}\n\t\t\t\t\treturn dependencies;\n\t\t\t\t}, []);\n\t\t\t} else {\n\t\t\t\tconst dependsOnValue = TaskDependency.from(external.dependsOn, context, source);\n\t\t\t\tresult.dependsOn = dependsOnValue ? [dependsOnValue] : undefined;\n\t\t\t}\n\t\t}\n\t\tresult.dependsOrder = DependsOrder.from(external.dependsOrder);\n\t\tif (includeCommandOptions && (external.presentation !== undefined || (external as LegacyCommandProperties).terminal !== undefined)) {\n\t\t\tresult.presentation = CommandConfiguration.PresentationOptions.from(external, context);\n\t\t}\n\t\tif (includeCommandOptions && (external.options !== undefined)) {\n\t\t\tresult.options = CommandOptions.from(external.options, context);\n\t\t}\n\t\tconst configProblemMatcher = ProblemMatcherConverter.fromWithOsConfig(external, context);\n\t\tif (configProblemMatcher !== undefined) {\n\t\t\tresult.problemMatchers = configProblemMatcher;\n\t\t}\n\t\tif (external.detail) {\n\t\t\tresult.detail = external.detail;\n\t\t}\n\t\treturn isEmpty(result) ? undefined : result;\n\t}\n\n\texport function isEmpty(this: void, value: Tasks.ConfigurationProperties): boolean {\n\t\treturn _isEmpty(value, properties);\n\t}\n}\n\nnamespace ConfiguringTask {\n\n\tconst grunt = 'grunt.';\n\tconst jake = 'jake.';\n\tconst gulp = 'gulp.';\n\tconst npm = 'vscode.npm.';\n\tconst typescript = 'vscode.typescript.';\n\n\tinterface CustomizeShape {\n\t\tcustomize: string;\n\t}\n\n\texport function from(this: void, external: ConfiguringTask, context: ParseContext, index: number, source: TaskConfigSource): Tasks.ConfiguringTask | undefined {\n\t\tif (!external) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet type = external.type;\n\t\tlet customize = (external as CustomizeShape).customize;\n\t\tif (!type && !customize) {\n\t\t\tcontext.problemReporter.error(nls.localize('ConfigurationParser.noTaskType', 'Error: tasks configuration must have a type property. The configuration will be ignored.\\n{0}\\n', JSON.stringify(external, null, 4)));\n\t\t\treturn undefined;\n\t\t}\n\t\tlet typeDeclaration = type ? TaskDefinitionRegistry.get(type) : undefined;\n\t\tif (!typeDeclaration) {\n\t\t\tlet message = nls.localize('ConfigurationParser.noTypeDefinition', 'Error: there is no registered task type \\'{0}\\'. Did you miss to install an extension that provides a corresponding task provider?', type);\n\t\t\tcontext.problemReporter.error(message);\n\t\t\treturn undefined;\n\t\t}\n\t\tlet identifier: Tasks.TaskIdentifier | undefined;\n\t\tif (Types.isString(customize)) {\n\t\t\tif (customize.indexOf(grunt) === 0) {\n\t\t\t\tidentifier = { type: 'grunt', task: customize.substring(grunt.length) };\n\t\t\t} else if (customize.indexOf(jake) === 0) {\n\t\t\t\tidentifier = { type: 'jake', task: customize.substring(jake.length) };\n\t\t\t} else if (customize.indexOf(gulp) === 0) {\n\t\t\t\tidentifier = { type: 'gulp', task: customize.substring(gulp.length) };\n\t\t\t} else if (customize.indexOf(npm) === 0) {\n\t\t\t\tidentifier = { type: 'npm', script: customize.substring(npm.length + 4) };\n\t\t\t} else if (customize.indexOf(typescript) === 0) {\n\t\t\t\tidentifier = { type: 'typescript', tsconfig: customize.substring(typescript.length + 6) };\n\t\t\t}\n\t\t} else {\n\t\t\tif (Types.isString(external.type)) {\n\t\t\t\tidentifier = external as Tasks.TaskIdentifier;\n\t\t\t}\n\t\t}\n\t\tif (identifier === undefined) {\n\t\t\tcontext.problemReporter.error(nls.localize(\n\t\t\t\t'ConfigurationParser.missingType',\n\t\t\t\t'Error: the task configuration \\'{0}\\' is missing the required property \\'type\\'. The task configuration will be ignored.', JSON.stringify(external, undefined, 0)\n\t\t\t));\n\t\t\treturn undefined;\n\t\t}\n\t\tlet taskIdentifier: Tasks.KeyedTaskIdentifier | undefined = Tasks.TaskDefinition.createTaskIdentifier(identifier, context.problemReporter);\n\t\tif (taskIdentifier === undefined) {\n\t\t\tcontext.problemReporter.error(nls.localize(\n\t\t\t\t'ConfigurationParser.incorrectType',\n\t\t\t\t'Error: the task configuration \\'{0}\\' is using an unknown type. The task configuration will be ignored.', JSON.stringify(external, undefined, 0)\n\t\t\t));\n\t\t\treturn undefined;\n\t\t}\n\t\tlet configElement: Tasks.TaskSourceConfigElement = {\n\t\t\tworkspaceFolder: context.workspaceFolder,\n\t\t\tfile: '.vscode/tasks.json',\n\t\t\tindex,\n\t\t\telement: external\n\t\t};\n\t\tlet taskSource: Tasks.FileBasedTaskSource;\n\t\tswitch (source) {\n\t\t\tcase TaskConfigSource.User: {\n\t\t\t\ttaskSource = Object.assign({} as Tasks.UserTaskSource, partialSource, { kind: Tasks.TaskSourceKind.User, config: configElement });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase TaskConfigSource.WorkspaceFile: {\n\t\t\t\ttaskSource = Object.assign({} as Tasks.WorkspaceFileTaskSource, partialSource, { kind: Tasks.TaskSourceKind.WorkspaceFile, config: configElement });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\ttaskSource = Object.assign({} as Tasks.WorkspaceTaskSource, partialSource, { kind: Tasks.TaskSourceKind.Workspace, config: configElement });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlet result: Tasks.ConfiguringTask = new Tasks.ConfiguringTask(\n\t\t\t`${typeDeclaration.extensionId}.${taskIdentifier._key}`,\n\t\t\ttaskSource,\n\t\t\tundefined,\n\t\t\ttype,\n\t\t\ttaskIdentifier,\n\t\t\tRunOptions.fromConfiguration(external.runOptions),\n\t\t\t{}\n\t\t);\n\t\tlet configuration = ConfigurationProperties.from(external, context, true, source, typeDeclaration.properties);\n\t\tif (configuration) {\n\t\t\tresult.configurationProperties = Object.assign(result.configurationProperties, configuration);\n\t\t\tif (result.configurationProperties.name) {\n\t\t\t\tresult._label = result.configurationProperties.name;\n\t\t\t} else {\n\t\t\t\tlet label = result.configures.type;\n\t\t\t\tif (typeDeclaration.required && typeDeclaration.required.length > 0) {\n\t\t\t\t\tfor (let required of typeDeclaration.required) {\n\t\t\t\t\t\tlet value = result.configures[required];\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tlabel = label + ' ' + value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult._label = label;\n\t\t\t}\n\t\t\tif (!result.configurationProperties.identifier) {\n\t\t\t\tresult.configurationProperties.identifier = taskIdentifier._key;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nnamespace CustomTask {\n\texport function from(this: void, external: CustomTask, context: ParseContext, index: number, source: TaskConfigSource): Tasks.CustomTask | undefined {\n\t\tif (!external) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet type = external.type;\n\t\tif (type === undefined || type === null) {\n\t\t\ttype = Tasks.CUSTOMIZED_TASK_TYPE;\n\t\t}\n\t\tif (type !== Tasks.CUSTOMIZED_TASK_TYPE && type !== 'shell' && type !== 'process') {\n\t\t\tcontext.problemReporter.error(nls.localize('ConfigurationParser.notCustom', 'Error: tasks is not declared as a custom task. The configuration will be ignored.\\n{0}\\n', JSON.stringify(external, null, 4)));\n\t\t\treturn undefined;\n\t\t}\n\t\tlet taskName = external.taskName;\n\t\tif (Types.isString(external.label) && context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0) {\n\t\t\ttaskName = external.label;\n\t\t}\n\t\tif (!taskName) {\n\t\t\tcontext.problemReporter.error(nls.localize('ConfigurationParser.noTaskName', 'Error: a task must provide a label property. The task will be ignored.\\n{0}\\n', JSON.stringify(external, null, 4)));\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet taskSource: Tasks.FileBasedTaskSource;\n\t\tswitch (source) {\n\t\t\tcase TaskConfigSource.User: {\n\t\t\t\ttaskSource = Object.assign({} as Tasks.UserTaskSource, partialSource, { kind: Tasks.TaskSourceKind.User, config: { index, element: external, file: '.vscode/tasks.json', workspaceFolder: context.workspaceFolder } });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase TaskConfigSource.WorkspaceFile: {\n\t\t\t\ttaskSource = Object.assign({} as Tasks.WorkspaceFileTaskSource, partialSource, { kind: Tasks.TaskSourceKind.WorkspaceFile, config: { index, element: external, file: '.vscode/tasks.json', workspaceFolder: context.workspaceFolder, workspace: context.workspace } });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\ttaskSource = Object.assign({} as Tasks.WorkspaceTaskSource, partialSource, { kind: Tasks.TaskSourceKind.Workspace, config: { index, element: external, file: '.vscode/tasks.json', workspaceFolder: context.workspaceFolder } });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlet result: Tasks.CustomTask = new Tasks.CustomTask(\n\t\t\tcontext.uuidMap.getUUID(taskName),\n\t\t\ttaskSource,\n\t\t\ttaskName,\n\t\t\tTasks.CUSTOMIZED_TASK_TYPE,\n\t\t\tundefined,\n\t\t\tfalse,\n\t\t\tRunOptions.fromConfiguration(external.runOptions),\n\t\t\t{\n\t\t\t\tname: taskName,\n\t\t\t\tidentifier: taskName,\n\t\t\t}\n\t\t);\n\t\tlet configuration = ConfigurationProperties.from(external, context, false, source);\n\t\tif (configuration) {\n\t\t\tresult.configurationProperties = Object.assign(result.configurationProperties, configuration);\n\t\t}\n\t\tlet supportLegacy: boolean = true; //context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0;\n\t\tif (supportLegacy) {\n\t\t\tlet legacy: LegacyTaskProperties = external as LegacyTaskProperties;\n\t\t\tif (result.configurationProperties.isBackground === undefined && legacy.isWatching !== undefined) {\n\t\t\t\tresult.configurationProperties.isBackground = !!legacy.isWatching;\n\t\t\t}\n\t\t\tif (result.configurationProperties.group === undefined) {\n\t\t\t\tif (legacy.isBuildCommand === true) {\n\t\t\t\t\tresult.configurationProperties.group = Tasks.TaskGroup.Build;\n\t\t\t\t} else if (legacy.isTestCommand === true) {\n\t\t\t\t\tresult.configurationProperties.group = Tasks.TaskGroup.Test;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet command: Tasks.CommandConfiguration = CommandConfiguration.from(external, context)!;\n\t\tif (command) {\n\t\t\tresult.command = command;\n\t\t}\n\t\tif (external.command !== undefined) {\n\t\t\t// if the task has its own command then we suppress the\n\t\t\t// task name by default.\n\t\t\tcommand.suppressTaskName = true;\n\t\t}\n\t\treturn result;\n\t}\n\n\texport function fillGlobals(task: Tasks.CustomTask, globals: Globals): void {\n\t\t// We only merge a command from a global definition if there is no dependsOn\n\t\t// or there is a dependsOn and a defined command.\n\t\tif (CommandConfiguration.hasCommand(task.command) || task.configurationProperties.dependsOn === undefined) {\n\t\t\ttask.command = CommandConfiguration.fillGlobals(task.command, globals.command, task.configurationProperties.name);\n\t\t}\n\t\tif (task.configurationProperties.problemMatchers === undefined && globals.problemMatcher !== undefined) {\n\t\t\ttask.configurationProperties.problemMatchers = Objects.deepClone(globals.problemMatcher);\n\t\t\ttask.hasDefinedMatchers = true;\n\t\t}\n\t\t// promptOnClose is inferred from isBackground if available\n\t\tif (task.configurationProperties.promptOnClose === undefined && task.configurationProperties.isBackground === undefined && globals.promptOnClose !== undefined) {\n\t\t\ttask.configurationProperties.promptOnClose = globals.promptOnClose;\n\t\t}\n\t}\n\n\texport function fillDefaults(task: Tasks.CustomTask, context: ParseContext): void {\n\t\tCommandConfiguration.fillDefaults(task.command, context);\n\t\tif (task.configurationProperties.promptOnClose === undefined) {\n\t\t\ttask.configurationProperties.promptOnClose = task.configurationProperties.isBackground !== undefined ? !task.configurationProperties.isBackground : true;\n\t\t}\n\t\tif (task.configurationProperties.isBackground === undefined) {\n\t\t\ttask.configurationProperties.isBackground = false;\n\t\t}\n\t\tif (task.configurationProperties.problemMatchers === undefined) {\n\t\t\ttask.configurationProperties.problemMatchers = EMPTY_ARRAY;\n\t\t}\n\t\tif (task.configurationProperties.group !== undefined && task.configurationProperties.groupType === undefined) {\n\t\t\ttask.configurationProperties.groupType = Tasks.GroupType.user;\n\t\t}\n\t}\n\n\texport function createCustomTask(contributedTask: Tasks.ContributedTask, configuredProps: Tasks.ConfiguringTask | Tasks.CustomTask): Tasks.CustomTask {\n\t\tlet result: Tasks.CustomTask = new Tasks.CustomTask(\n\t\t\tconfiguredProps._id,\n\t\t\tObject.assign({}, configuredProps._source, { customizes: contributedTask.defines }),\n\t\t\tconfiguredProps.configurationProperties.name || contributedTask._label,\n\t\t\tTasks.CUSTOMIZED_TASK_TYPE,\n\t\t\tcontributedTask.command,\n\t\t\tfalse,\n\t\t\tcontributedTask.runOptions,\n\t\t\t{\n\t\t\t\tname: configuredProps.configurationProperties.name || contributedTask.configurationProperties.name,\n\t\t\t\tidentifier: configuredProps.configurationProperties.identifier || contributedTask.configurationProperties.identifier,\n\t\t\t}\n\t\t);\n\t\tresult.addTaskLoadMessages(configuredProps.taskLoadMessages);\n\t\tlet resultConfigProps: Tasks.ConfigurationProperties = result.configurationProperties;\n\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'group');\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'groupType');\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'isBackground');\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'dependsOn');\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'problemMatchers');\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'promptOnClose');\n\t\tassignProperty(resultConfigProps, configuredProps.configurationProperties, 'detail');\n\t\tresult.command.presentation = CommandConfiguration.PresentationOptions.assignProperties(\n\t\t\tresult.command.presentation!, configuredProps.configurationProperties.presentation)!;\n\t\tresult.command.options = CommandOptions.assignProperties(result.command.options, configuredProps.configurationProperties.options);\n\t\tresult.runOptions = RunOptions.assignProperties(result.runOptions, configuredProps.runOptions);\n\n\t\tlet contributedConfigProps: Tasks.ConfigurationProperties = contributedTask.configurationProperties;\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'group');\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'groupType');\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'isBackground');\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'dependsOn');\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'problemMatchers');\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'promptOnClose');\n\t\tfillProperty(resultConfigProps, contributedConfigProps, 'detail');\n\t\tresult.command.presentation = CommandConfiguration.PresentationOptions.fillProperties(\n\t\t\tresult.command.presentation!, contributedConfigProps.presentation)!;\n\t\tresult.command.options = CommandOptions.fillProperties(result.command.options, contributedConfigProps.options);\n\t\tresult.runOptions = RunOptions.fillProperties(result.runOptions, contributedTask.runOptions);\n\n\t\tif (contributedTask.hasDefinedMatchers === true) {\n\t\t\tresult.hasDefinedMatchers = true;\n\t\t}\n\n\t\treturn result;\n\t}\n}\n\ninterface TaskParseResult {\n\tcustom: Tasks.CustomTask[];\n\tconfigured: Tasks.ConfiguringTask[];\n}\n\nnamespace TaskParser {\n\n\tfunction isCustomTask(value: CustomTask | ConfiguringTask): value is CustomTask {\n\t\tlet type = value.type;\n\t\tlet customize = (value as any).customize;\n\t\treturn customize === undefined && (type === undefined || type === null || type === Tasks.CUSTOMIZED_TASK_TYPE || type === 'shell' || type === 'process');\n\t}\n\n\tconst builtinTypeContextMap: IStringDictionary<RawContextKey<boolean>> = {\n\t\tshell: ShellExecutionSupportedContext,\n\t\tprocess: ProcessExecutionSupportedContext\n\t};\n\n\texport function from(this: void, externals: Array<CustomTask | ConfiguringTask> | undefined, globals: Globals, context: ParseContext, source: TaskConfigSource): TaskParseResult {\n\t\tlet result: TaskParseResult = { custom: [], configured: [] };\n\t\tif (!externals) {\n\t\t\treturn result;\n\t\t}\n\t\tlet defaultBuildTask: { task: Tasks.Task | undefined; rank: number; } = { task: undefined, rank: -1 };\n\t\tlet defaultTestTask: { task: Tasks.Task | undefined; rank: number; } = { task: undefined, rank: -1 };\n\t\tlet schema2_0_0: boolean = context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0;\n\t\tconst baseLoadIssues = Objects.deepClone(context.taskLoadIssues);\n\t\tfor (let index = 0; index < externals.length; index++) {\n\t\t\tlet external = externals[index];\n\t\t\tconst definition = external.type ? TaskDefinitionRegistry.get(external.type) : undefined;\n\t\t\tlet typeNotSupported: boolean = false;\n\t\t\tif (definition && definition.when && !context.contextKeyService.contextMatchesRules(definition.when)) {\n\t\t\t\ttypeNotSupported = true;\n\t\t\t} else if (!definition && external.type) {\n\t\t\t\tfor (const key of Object.keys(builtinTypeContextMap)) {\n\t\t\t\t\tif (external.type === key) {\n\t\t\t\t\t\ttypeNotSupported = !ShellExecutionSupportedContext.evaluate(context.contextKeyService.getContext(null));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeNotSupported) {\n\t\t\t\tcontext.problemReporter.info(nls.localize(\n\t\t\t\t\t'taskConfiguration.providerUnavailable', 'Warning: {0} tasks are unavailable in the current environment.\\n',\n\t\t\t\t\texternal.type\n\t\t\t\t));\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (isCustomTask(external)) {\n\t\t\t\tlet customTask = CustomTask.from(external, context, index, source);\n\t\t\t\tif (customTask) {\n\t\t\t\t\tCustomTask.fillGlobals(customTask, globals);\n\t\t\t\t\tCustomTask.fillDefaults(customTask, context);\n\t\t\t\t\tif (schema2_0_0) {\n\t\t\t\t\t\tif ((customTask.command === undefined || customTask.command.name === undefined) && (customTask.configurationProperties.dependsOn === undefined || customTask.configurationProperties.dependsOn.length === 0)) {\n\t\t\t\t\t\t\tcontext.problemReporter.error(nls.localize(\n\t\t\t\t\t\t\t\t'taskConfiguration.noCommandOrDependsOn', 'Error: the task \\'{0}\\' neither specifies a command nor a dependsOn property. The task will be ignored. Its definition is:\\n{1}',\n\t\t\t\t\t\t\t\tcustomTask.configurationProperties.name, JSON.stringify(external, undefined, 4)\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (customTask.command === undefined || customTask.command.name === undefined) {\n\t\t\t\t\t\t\tcontext.problemReporter.warn(nls.localize(\n\t\t\t\t\t\t\t\t'taskConfiguration.noCommand', 'Error: the task \\'{0}\\' doesn\\'t define a command. The task will be ignored. Its definition is:\\n{1}',\n\t\t\t\t\t\t\t\tcustomTask.configurationProperties.name, JSON.stringify(external, undefined, 4)\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (customTask.configurationProperties.group === Tasks.TaskGroup.Build && defaultBuildTask.rank < 2) {\n\t\t\t\t\t\tdefaultBuildTask.task = customTask;\n\t\t\t\t\t\tdefaultBuildTask.rank = 2;\n\t\t\t\t\t} else if (customTask.configurationProperties.group === Tasks.TaskGroup.Test && defaultTestTask.rank < 2) {\n\t\t\t\t\t\tdefaultTestTask.task = customTask;\n\t\t\t\t\t\tdefaultTestTask.rank = 2;\n\t\t\t\t\t} else if (customTask.configurationProperties.name === 'build' && defaultBuildTask.rank < 1) {\n\t\t\t\t\t\tdefaultBuildTask.task = customTask;\n\t\t\t\t\t\tdefaultBuildTask.rank = 1;\n\t\t\t\t\t} else if (customTask.configurationProperties.name === 'test' && defaultTestTask.rank < 1) {\n\t\t\t\t\t\tdefaultTestTask.task = customTask;\n\t\t\t\t\t\tdefaultTestTask.rank = 1;\n\t\t\t\t\t}\n\t\t\t\t\tcustomTask.addTaskLoadMessages(context.taskLoadIssues);\n\t\t\t\t\tresult.custom.push(customTask);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet configuredTask = ConfiguringTask.from(external, context, index, source);\n\t\t\t\tif (configuredTask) {\n\t\t\t\t\tconfiguredTask.addTaskLoadMessages(context.taskLoadIssues);\n\t\t\t\t\tresult.configured.push(configuredTask);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.taskLoadIssues = Objects.deepClone(baseLoadIssues);\n\t\t}\n\t\tif ((defaultBuildTask.rank > -1) && (defaultBuildTask.rank < 2) && defaultBuildTask.task) {\n\t\t\tdefaultBuildTask.task.configurationProperties.group = Tasks.TaskGroup.Build;\n\t\t\tdefaultBuildTask.task.configurationProperties.groupType = Tasks.GroupType.user;\n\t\t} else if ((defaultTestTask.rank > -1) && (defaultTestTask.rank < 2) && defaultTestTask.task) {\n\t\t\tdefaultTestTask.task.configurationProperties.group = Tasks.TaskGroup.Test;\n\t\t\tdefaultTestTask.task.configurationProperties.groupType = Tasks.GroupType.user;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\texport function assignTasks(target: Tasks.CustomTask[], source: Tasks.CustomTask[]): Tasks.CustomTask[] {\n\t\tif (source === undefined || source.length === 0) {\n\t\t\treturn target;\n\t\t}\n\t\tif (target === undefined || target.length === 0) {\n\t\t\treturn source;\n\t\t}\n\n\t\tif (source) {\n\t\t\t// Tasks are keyed by ID but we need to merge by name\n\t\t\tlet map: IStringDictionary<Tasks.CustomTask> = Object.create(null);\n\t\t\ttarget.forEach((task) => {\n\t\t\t\tmap[task.configurationProperties.name!] = task;\n\t\t\t});\n\n\t\t\tsource.forEach((task) => {\n\t\t\t\tmap[task.configurationProperties.name!] = task;\n\t\t\t});\n\t\t\tlet newTarget: Tasks.CustomTask[] = [];\n\t\t\ttarget.forEach(task => {\n\t\t\t\tnewTarget.push(map[task.configurationProperties.name!]);\n\t\t\t\tdelete map[task.configurationProperties.name!];\n\t\t\t});\n\t\t\tObject.keys(map).forEach(key => newTarget.push(map[key]));\n\t\t\ttarget = newTarget;\n\t\t}\n\t\treturn target;\n\t}\n}\n\ninterface Globals {\n\tcommand?: Tasks.CommandConfiguration;\n\tproblemMatcher?: ProblemMatcher[];\n\tpromptOnClose?: boolean;\n\tsuppressTaskName?: boolean;\n}\n\nnamespace Globals {\n\n\texport function from(config: ExternalTaskRunnerConfiguration, context: ParseContext): Globals {\n\t\tlet result = fromBase(config, context);\n\t\tlet osGlobals: Globals | undefined = undefined;\n\t\tif (config.windows && context.platform === Platform.Windows) {\n\t\t\tosGlobals = fromBase(config.windows, context);\n\t\t} else if (config.osx && context.platform === Platform.Mac) {\n\t\t\tosGlobals = fromBase(config.osx, context);\n\t\t} else if (config.linux && context.platform === Platform.Linux) {\n\t\t\tosGlobals = fromBase(config.linux, context);\n\t\t}\n\t\tif (osGlobals) {\n\t\t\tresult = Globals.assignProperties(result, osGlobals);\n\t\t}\n\t\tlet command = CommandConfiguration.from(config, context);\n\t\tif (command) {\n\t\t\tresult.command = command;\n\t\t}\n\t\tGlobals.fillDefaults(result, context);\n\t\tGlobals.freeze(result);\n\t\treturn result;\n\t}\n\n\texport function fromBase(this: void, config: BaseTaskRunnerConfiguration, context: ParseContext): Globals {\n\t\tlet result: Globals = {};\n\t\tif (config.suppressTaskName !== undefined) {\n\t\t\tresult.suppressTaskName = !!config.suppressTaskName;\n\t\t}\n\t\tif (config.promptOnClose !== undefined) {\n\t\t\tresult.promptOnClose = !!config.promptOnClose;\n\t\t}\n\t\tif (config.problemMatcher) {\n\t\t\tresult.problemMatcher = ProblemMatcherConverter.from(config.problemMatcher, context);\n\t\t}\n\t\treturn result;\n\t}\n\n\texport function isEmpty(value: Globals): boolean {\n\t\treturn !value || value.command === undefined && value.promptOnClose === undefined && value.suppressTaskName === undefined;\n\t}\n\n\texport function assignProperties(target: Globals, source: Globals): Globals {\n\t\tif (isEmpty(source)) {\n\t\t\treturn target;\n\t\t}\n\t\tif (isEmpty(target)) {\n\t\t\treturn source;\n\t\t}\n\t\tassignProperty(target, source, 'promptOnClose');\n\t\tassignProperty(target, source, 'suppressTaskName');\n\t\treturn target;\n\t}\n\n\texport function fillDefaults(value: Globals, context: ParseContext): void {\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\tCommandConfiguration.fillDefaults(value.command, context);\n\t\tif (value.suppressTaskName === undefined) {\n\t\t\tvalue.suppressTaskName = (context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0);\n\t\t}\n\t\tif (value.promptOnClose === undefined) {\n\t\t\tvalue.promptOnClose = true;\n\t\t}\n\t}\n\n\texport function freeze(value: Globals): void {\n\t\tObject.freeze(value);\n\t\tif (value.command) {\n\t\t\tCommandConfiguration.freeze(value.command);\n\t\t}\n\t}\n}\n\nexport namespace ExecutionEngine {\n\n\texport function from(config: ExternalTaskRunnerConfiguration): Tasks.ExecutionEngine {\n\t\tlet runner = config.runner || config._runner;\n\t\tlet result: Tasks.ExecutionEngine | undefined;\n\t\tif (runner) {\n\t\t\tswitch (runner) {\n\t\t\t\tcase 'terminal':\n\t\t\t\t\tresult = Tasks.ExecutionEngine.Terminal;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'process':\n\t\t\t\t\tresult = Tasks.ExecutionEngine.Process;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlet schemaVersion = JsonSchemaVersion.from(config);\n\t\tif (schemaVersion === Tasks.JsonSchemaVersion.V0_1_0) {\n\t\t\treturn result || Tasks.ExecutionEngine.Process;\n\t\t} else if (schemaVersion === Tasks.JsonSchemaVersion.V2_0_0) {\n\t\t\treturn Tasks.ExecutionEngine.Terminal;\n\t\t} else {\n\t\t\tthrow new Error('Shouldn\\'t happen.');\n\t\t}\n\t}\n}\n\nexport namespace JsonSchemaVersion {\n\n\tconst _default: Tasks.JsonSchemaVersion = Tasks.JsonSchemaVersion.V2_0_0;\n\n\texport function from(config: ExternalTaskRunnerConfiguration): Tasks.JsonSchemaVersion {\n\t\tlet version = config.version;\n\t\tif (!version) {\n\t\t\treturn _default;\n\t\t}\n\t\tswitch (version) {\n\t\t\tcase '0.1.0':\n\t\t\t\treturn Tasks.JsonSchemaVersion.V0_1_0;\n\t\t\tcase '2.0.0':\n\t\t\t\treturn Tasks.JsonSchemaVersion.V2_0_0;\n\t\t\tdefault:\n\t\t\t\treturn _default;\n\t\t}\n\t}\n}\n\nexport interface ParseResult {\n\tvalidationStatus: ValidationStatus;\n\tcustom: Tasks.CustomTask[];\n\tconfigured: Tasks.ConfiguringTask[];\n\tengine: Tasks.ExecutionEngine;\n}\n\nexport interface IProblemReporter extends IProblemReporterBase {\n}\n\nclass UUIDMap {\n\n\tprivate last: IStringDictionary<string | string[]> | undefined;\n\tprivate current: IStringDictionary<string | string[]>;\n\n\tconstructor(other?: UUIDMap) {\n\t\tthis.current = Object.create(null);\n\t\tif (other) {\n\t\t\tfor (let key of Object.keys(other.current)) {\n\t\t\t\tlet value = other.current[key];\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tthis.current[key] = value.slice();\n\t\t\t\t} else {\n\t\t\t\t\tthis.current[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic start(): void {\n\t\tthis.last = this.current;\n\t\tthis.current = Object.create(null);\n\t}\n\n\tpublic getUUID(identifier: string): string {\n\t\tlet lastValue = this.last ? this.last[identifier] : undefined;\n\t\tlet result: string | undefined = undefined;\n\t\tif (lastValue !== undefined) {\n\t\t\tif (Array.isArray(lastValue)) {\n\t\t\t\tresult = lastValue.shift();\n\t\t\t\tif (lastValue.length === 0) {\n\t\t\t\t\tdelete this.last![identifier];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = lastValue;\n\t\t\t\tdelete this.last![identifier];\n\t\t\t}\n\t\t}\n\t\tif (result === undefined) {\n\t\t\tresult = UUID.generateUuid();\n\t\t}\n\t\tlet currentValue = this.current[identifier];\n\t\tif (currentValue === undefined) {\n\t\t\tthis.current[identifier] = result;\n\t\t} else {\n\t\t\tif (Array.isArray(currentValue)) {\n\t\t\t\tcurrentValue.push(result);\n\t\t\t} else {\n\t\t\t\tlet arrayValue: string[] = [currentValue];\n\t\t\t\tarrayValue.push(result);\n\t\t\t\tthis.current[identifier] = arrayValue;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic finish(): void {\n\t\tthis.last = undefined;\n\t}\n}\n\nexport enum TaskConfigSource {\n\tTasksJson,\n\tWorkspaceFile,\n\tUser\n}\n\nclass ConfigurationParser {\n\n\tprivate workspaceFolder: IWorkspaceFolder;\n\tprivate workspace: IWorkspace | undefined;\n\tprivate problemReporter: IProblemReporter;\n\tprivate uuidMap: UUIDMap;\n\tprivate platform: Platform;\n\n\tconstructor(workspaceFolder: IWorkspaceFolder, workspace: IWorkspace | undefined, platform: Platform, problemReporter: IProblemReporter, uuidMap: UUIDMap) {\n\t\tthis.workspaceFolder = workspaceFolder;\n\t\tthis.workspace = workspace;\n\t\tthis.platform = platform;\n\t\tthis.problemReporter = problemReporter;\n\t\tthis.uuidMap = uuidMap;\n\t}\n\n\tpublic run(fileConfig: ExternalTaskRunnerConfiguration, source: TaskConfigSource, contextKeyService: IContextKeyService): ParseResult {\n\t\tlet engine = ExecutionEngine.from(fileConfig);\n\t\tlet schemaVersion = JsonSchemaVersion.from(fileConfig);\n\t\tlet context: ParseContext = {\n\t\t\tworkspaceFolder: this.workspaceFolder,\n\t\t\tworkspace: this.workspace,\n\t\t\tproblemReporter: this.problemReporter,\n\t\t\tuuidMap: this.uuidMap,\n\t\t\tnamedProblemMatchers: {},\n\t\t\tengine,\n\t\t\tschemaVersion,\n\t\t\tplatform: this.platform,\n\t\t\ttaskLoadIssues: [],\n\t\t\tcontextKeyService\n\t\t};\n\t\tlet taskParseResult = this.createTaskRunnerConfiguration(fileConfig, context, source);\n\t\treturn {\n\t\t\tvalidationStatus: this.problemReporter.status,\n\t\t\tcustom: taskParseResult.custom,\n\t\t\tconfigured: taskParseResult.configured,\n\t\t\tengine\n\t\t};\n\t}\n\n\tprivate createTaskRunnerConfiguration(fileConfig: ExternalTaskRunnerConfiguration, context: ParseContext, source: TaskConfigSource): TaskParseResult {\n\t\tlet globals = Globals.from(fileConfig, context);\n\t\tif (this.problemReporter.status.isFatal()) {\n\t\t\treturn { custom: [], configured: [] };\n\t\t}\n\t\tcontext.namedProblemMatchers = ProblemMatcherConverter.namedFrom(fileConfig.declares, context);\n\t\tlet globalTasks: Tasks.CustomTask[] | undefined = undefined;\n\t\tlet externalGlobalTasks: Array<ConfiguringTask | CustomTask> | undefined = undefined;\n\t\tif (fileConfig.windows && context.platform === Platform.Windows) {\n\t\t\tglobalTasks = TaskParser.from(fileConfig.windows.tasks, globals, context, source).custom;\n\t\t\texternalGlobalTasks = fileConfig.windows.tasks;\n\t\t} else if (fileConfig.osx && context.platform === Platform.Mac) {\n\t\t\tglobalTasks = TaskParser.from(fileConfig.osx.tasks, globals, context, source).custom;\n\t\t\texternalGlobalTasks = fileConfig.osx.tasks;\n\t\t} else if (fileConfig.linux && context.platform === Platform.Linux) {\n\t\t\tglobalTasks = TaskParser.from(fileConfig.linux.tasks, globals, context, source).custom;\n\t\t\texternalGlobalTasks = fileConfig.linux.tasks;\n\t\t}\n\t\tif (context.schemaVersion === Tasks.JsonSchemaVersion.V2_0_0 && globalTasks && globalTasks.length > 0 && externalGlobalTasks && externalGlobalTasks.length > 0) {\n\t\t\tlet taskContent: string[] = [];\n\t\t\tfor (let task of externalGlobalTasks) {\n\t\t\t\ttaskContent.push(JSON.stringify(task, null, 4));\n\t\t\t}\n\t\t\tcontext.problemReporter.error(\n\t\t\t\tnls.localize(\n\t\t\t\t\t{ key: 'TaskParse.noOsSpecificGlobalTasks', comment: ['\\\"Task version 2.0.0\\\" refers to the 2.0.0 version of the task system. The \\\"version 2.0.0\\\" is not localizable as it is a json key and value.'] },\n\t\t\t\t\t'Task version 2.0.0 doesn\\'t support global OS specific tasks. Convert them to a task with a OS specific command. Affected tasks are:\\n{0}', taskContent.join('\\n'))\n\t\t\t);\n\t\t}\n\n\t\tlet result: TaskParseResult = { custom: [], configured: [] };\n\t\tif (fileConfig.tasks) {\n\t\t\tresult = TaskParser.from(fileConfig.tasks, globals, context, source);\n\t\t}\n\t\tif (globalTasks) {\n\t\t\tresult.custom = TaskParser.assignTasks(result.custom, globalTasks);\n\t\t}\n\n\t\tif ((!result.custom || result.custom.length === 0) && (globals.command && globals.command.name)) {\n\t\t\tlet matchers: ProblemMatcher[] = ProblemMatcherConverter.from(fileConfig.problemMatcher, context);\n\t\t\tlet isBackground = fileConfig.isBackground ? !!fileConfig.isBackground : fileConfig.isWatching ? !!fileConfig.isWatching : undefined;\n\t\t\tlet name = Tasks.CommandString.value(globals.command.name);\n\t\t\tlet task: Tasks.CustomTask = new Tasks.CustomTask(\n\t\t\t\tcontext.uuidMap.getUUID(name),\n\t\t\t\tObject.assign({} as Tasks.WorkspaceTaskSource, source, { config: { index: -1, element: fileConfig, workspaceFolder: context.workspaceFolder } }),\n\t\t\t\tname,\n\t\t\t\tTasks.CUSTOMIZED_TASK_TYPE,\n\t\t\t\t{\n\t\t\t\t\tname: undefined,\n\t\t\t\t\truntime: undefined,\n\t\t\t\t\tpresentation: undefined,\n\t\t\t\t\tsuppressTaskName: true\n\t\t\t\t},\n\t\t\t\tfalse,\n\t\t\t\t{ reevaluateOnRerun: true },\n\t\t\t\t{\n\t\t\t\t\tname: name,\n\t\t\t\t\tidentifier: name,\n\t\t\t\t\tgroup: Tasks.TaskGroup.Build,\n\t\t\t\t\tisBackground: isBackground,\n\t\t\t\t\tproblemMatchers: matchers,\n\t\t\t\t}\n\t\t\t);\n\t\t\tlet value = GroupKind.from(fileConfig.group);\n\t\t\tif (value) {\n\t\t\t\ttask.configurationProperties.group = value[0];\n\t\t\t\ttask.configurationProperties.groupType = value[1];\n\t\t\t} else if (fileConfig.group === 'none') {\n\t\t\t\ttask.configurationProperties.group = undefined;\n\t\t\t}\n\t\t\tCustomTask.fillGlobals(task, globals);\n\t\t\tCustomTask.fillDefaults(task, context);\n\t\t\tresult.custom = [task];\n\t\t}\n\t\tresult.custom = result.custom || [];\n\t\tresult.configured = result.configured || [];\n\t\treturn result;\n\t}\n}\n\nlet uuidMaps: Map<TaskConfigSource, Map<string, UUIDMap>> = new Map();\nlet recentUuidMaps: Map<TaskConfigSource, Map<string, UUIDMap>> = new Map();\nexport function parse(workspaceFolder: IWorkspaceFolder, workspace: IWorkspace | undefined, platform: Platform, configuration: ExternalTaskRunnerConfiguration, logger: IProblemReporter, source: TaskConfigSource, contextKeyService: IContextKeyService, isRecents: boolean = false): ParseResult {\n\tlet recentOrOtherMaps = isRecents ? recentUuidMaps : uuidMaps;\n\tlet selectedUuidMaps = recentOrOtherMaps.get(source);\n\tif (!selectedUuidMaps) {\n\t\trecentOrOtherMaps.set(source, new Map());\n\t\tselectedUuidMaps = recentOrOtherMaps.get(source)!;\n\t}\n\tlet uuidMap = selectedUuidMaps.get(workspaceFolder.uri.toString());\n\tif (!uuidMap) {\n\t\tuuidMap = new UUIDMap();\n\t\tselectedUuidMaps.set(workspaceFolder.uri.toString(), uuidMap);\n\t}\n\ttry {\n\t\tuuidMap.start();\n\t\treturn (new ConfigurationParser(workspaceFolder, workspace, platform, logger, uuidMap)).run(configuration, source, contextKeyService);\n\t} finally {\n\t\tuuidMap.finish();\n\t}\n}\n\n\n\nexport function createCustomTask(contributedTask: Tasks.ContributedTask, configuredProps: Tasks.ConfiguringTask | Tasks.CustomTask): Tasks.CustomTask {\n\treturn CustomTask.createCustomTask(contributedTask, configuredProps);\n}\n\n"]}