{"version":3,"sources":["vs/workbench/contrib/debug/common/replModel.ts"],"names":[],"mappings":"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","file":"replModel.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport severity from 'vs/base/common/severity';\nimport { IReplElement, IStackFrame, IExpression, IReplElementSource, IDebugSession, IDebugConfiguration } from 'vs/workbench/contrib/debug/common/debug';\nimport { ExpressionContainer } from 'vs/workbench/contrib/debug/common/debugModel';\nimport { isString, isUndefinedOrNull, isObject } from 'vs/base/common/types';\nimport { basenameOrAuthority } from 'vs/base/common/resources';\nimport { URI } from 'vs/base/common/uri';\nimport { generateUuid } from 'vs/base/common/uuid';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\n\nconst MAX_REPL_LENGTH = 10000;\nlet topReplElementCounter = 0;\nconst getUniqueId = () => `topReplElement:${topReplElementCounter++}`;\n\nexport class SimpleReplElement implements IReplElement {\n\n\tprivate _count = 1;\n\tprivate _onDidChangeCount = new Emitter<void>();\n\n\tconstructor(\n\t\tpublic session: IDebugSession,\n\t\tprivate id: string,\n\t\tpublic value: string,\n\t\tpublic severity: severity,\n\t\tpublic sourceData?: IReplElementSource,\n\t) { }\n\n\ttoString(includeSource = false): string {\n\t\tlet valueRespectCount = this.value;\n\t\tfor (let i = 1; i < this.count; i++) {\n\t\t\tvalueRespectCount += (valueRespectCount.endsWith('\\n') ? '' : '\\n') + this.value;\n\t\t}\n\t\tconst sourceStr = (this.sourceData && includeSource) ? ` ${this.sourceData.source.name}` : '';\n\t\treturn valueRespectCount + sourceStr;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tset count(value: number) {\n\t\tthis._count = value;\n\t\tthis._onDidChangeCount.fire();\n\t}\n\n\tget count(): number {\n\t\treturn this._count;\n\t}\n\n\tget onDidChangeCount(): Event<void> {\n\t\treturn this._onDidChangeCount.event;\n\t}\n}\n\nexport class RawObjectReplElement implements IExpression {\n\n\tprivate static readonly MAX_CHILDREN = 1000; // upper bound of children per value\n\n\tconstructor(private id: string, public name: string, public valueObj: any, public sourceData?: IReplElementSource, public annotation?: string) { }\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tget value(): string {\n\t\tif (this.valueObj === null) {\n\t\t\treturn 'null';\n\t\t} else if (Array.isArray(this.valueObj)) {\n\t\t\treturn `Array[${this.valueObj.length}]`;\n\t\t} else if (isObject(this.valueObj)) {\n\t\t\treturn 'Object';\n\t\t} else if (isString(this.valueObj)) {\n\t\t\treturn `\"${this.valueObj}\"`;\n\t\t}\n\n\t\treturn String(this.valueObj) || '';\n\t}\n\n\tget hasChildren(): boolean {\n\t\treturn (Array.isArray(this.valueObj) && this.valueObj.length > 0) || (isObject(this.valueObj) && Object.getOwnPropertyNames(this.valueObj).length > 0);\n\t}\n\n\tgetChildren(): Promise<IExpression[]> {\n\t\tlet result: IExpression[] = [];\n\t\tif (Array.isArray(this.valueObj)) {\n\t\t\tresult = (<any[]>this.valueObj).slice(0, RawObjectReplElement.MAX_CHILDREN)\n\t\t\t\t.map((v, index) => new RawObjectReplElement(`${this.id}:${index}`, String(index), v));\n\t\t} else if (isObject(this.valueObj)) {\n\t\t\tresult = Object.getOwnPropertyNames(this.valueObj).slice(0, RawObjectReplElement.MAX_CHILDREN)\n\t\t\t\t.map((key, index) => new RawObjectReplElement(`${this.id}:${index}`, key, this.valueObj[key]));\n\t\t}\n\n\t\treturn Promise.resolve(result);\n\t}\n\n\ttoString(): string {\n\t\treturn `${this.name}\\n${this.value}`;\n\t}\n}\n\nexport class ReplEvaluationInput implements IReplElement {\n\tprivate id: string;\n\n\tconstructor(public value: string) {\n\t\tthis.id = generateUuid();\n\t}\n\n\ttoString(): string {\n\t\treturn this.value;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n}\n\nexport class ReplEvaluationResult extends ExpressionContainer implements IReplElement {\n\tprivate _available = true;\n\n\tget available(): boolean {\n\t\treturn this._available;\n\t}\n\n\tconstructor() {\n\t\tsuper(undefined, undefined, 0, generateUuid());\n\t}\n\n\toverride async evaluateExpression(expression: string, session: IDebugSession | undefined, stackFrame: IStackFrame | undefined, context: string): Promise<boolean> {\n\t\tconst result = await super.evaluateExpression(expression, session, stackFrame, context);\n\t\tthis._available = result;\n\n\t\treturn result;\n\t}\n\n\toverride toString(): string {\n\t\treturn `${this.value}`;\n\t}\n}\n\nexport class ReplGroup implements IReplElement {\n\n\tprivate children: IReplElement[] = [];\n\tprivate id: string;\n\tprivate ended = false;\n\tstatic COUNTER = 0;\n\n\tconstructor(\n\t\tpublic name: string,\n\t\tpublic autoExpand: boolean,\n\t\tpublic sourceData?: IReplElementSource\n\t) {\n\t\tthis.id = `replGroup:${ReplGroup.COUNTER++}`;\n\t}\n\n\tget hasChildren() {\n\t\treturn true;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\ttoString(includeSource = false): string {\n\t\tconst sourceStr = (includeSource && this.sourceData) ? ` ${this.sourceData.source.name}` : '';\n\t\treturn this.name + sourceStr;\n\t}\n\n\taddChild(child: IReplElement): void {\n\t\tconst lastElement = this.children.length ? this.children[this.children.length - 1] : undefined;\n\t\tif (lastElement instanceof ReplGroup && !lastElement.hasEnded) {\n\t\t\tlastElement.addChild(child);\n\t\t} else {\n\t\t\tthis.children.push(child);\n\t\t}\n\t}\n\n\tgetChildren(): IReplElement[] {\n\t\treturn this.children;\n\t}\n\n\tend(): void {\n\t\tconst lastElement = this.children.length ? this.children[this.children.length - 1] : undefined;\n\t\tif (lastElement instanceof ReplGroup && !lastElement.hasEnded) {\n\t\t\tlastElement.end();\n\t\t} else {\n\t\t\tthis.ended = true;\n\t\t}\n\t}\n\n\tget hasEnded(): boolean {\n\t\treturn this.ended;\n\t}\n}\n\nfunction areSourcesEqual(first: IReplElementSource | undefined, second: IReplElementSource | undefined): boolean {\n\tif (!first && !second) {\n\t\treturn true;\n\t}\n\tif (first && second) {\n\t\treturn first.column === second.column && first.lineNumber === second.lineNumber && first.source.uri.toString() === second.source.uri.toString();\n\t}\n\n\treturn false;\n}\n\nexport class ReplModel {\n\tprivate replElements: IReplElement[] = [];\n\tprivate readonly _onDidChangeElements = new Emitter<void>();\n\treadonly onDidChangeElements = this._onDidChangeElements.event;\n\n\tconstructor(private readonly configurationService: IConfigurationService) { }\n\n\tgetReplElements(): IReplElement[] {\n\t\treturn this.replElements;\n\t}\n\n\tasync addReplExpression(session: IDebugSession, stackFrame: IStackFrame | undefined, name: string): Promise<void> {\n\t\tthis.addReplElement(new ReplEvaluationInput(name));\n\t\tconst result = new ReplEvaluationResult();\n\t\tawait result.evaluateExpression(name, session, stackFrame, 'repl');\n\t\tthis.addReplElement(result);\n\t}\n\n\tappendToRepl(session: IDebugSession, data: string | IExpression, sev: severity, source?: IReplElementSource): void {\n\t\tconst clearAnsiSequence = '\\u001b[2J';\n\t\tif (typeof data === 'string' && data.indexOf(clearAnsiSequence) >= 0) {\n\t\t\t// [2J is the ansi escape sequence for clearing the display http://ascii-table.com/ansi-escape-sequences.php\n\t\t\tthis.removeReplExpressions();\n\t\t\tthis.appendToRepl(session, nls.localize('consoleCleared', \"Console was cleared\"), severity.Ignore);\n\t\t\tdata = data.substr(data.lastIndexOf(clearAnsiSequence) + clearAnsiSequence.length);\n\t\t}\n\n\t\tif (typeof data === 'string') {\n\t\t\tconst previousElement = this.replElements.length ? this.replElements[this.replElements.length - 1] : undefined;\n\t\t\tif (previousElement instanceof SimpleReplElement && previousElement.severity === sev) {\n\t\t\t\tconst config = this.configurationService.getValue<IDebugConfiguration>('debug');\n\t\t\t\tif (previousElement.value === data && areSourcesEqual(previousElement.sourceData, source) && config.console.collapseIdenticalLines) {\n\t\t\t\t\tpreviousElement.count++;\n\t\t\t\t\t// No need to fire an event, just the count updates and badge will adjust automatically\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!previousElement.value.endsWith('\\n') && !previousElement.value.endsWith('\\r\\n') && previousElement.count === 1) {\n\t\t\t\t\tthis.replElements[this.replElements.length - 1] = new SimpleReplElement(\n\t\t\t\t\t\tsession, getUniqueId(), previousElement.value + data, sev, source);\n\t\t\t\t\tthis._onDidChangeElements.fire();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst element = new SimpleReplElement(session, getUniqueId(), data, sev, source);\n\t\t\tthis.addReplElement(element);\n\t\t} else {\n\t\t\t// TODO@Isidor hack, we should introduce a new type which is an output that can fetch children like an expression\n\t\t\t(<any>data).severity = sev;\n\t\t\t(<any>data).sourceData = source;\n\t\t\tthis.addReplElement(data);\n\t\t}\n\t}\n\n\tstartGroup(name: string, autoExpand: boolean, sourceData?: IReplElementSource): void {\n\t\tconst group = new ReplGroup(name, autoExpand, sourceData);\n\t\tthis.addReplElement(group);\n\t}\n\n\tendGroup(): void {\n\t\tconst lastElement = this.replElements[this.replElements.length - 1];\n\t\tif (lastElement instanceof ReplGroup) {\n\t\t\tlastElement.end();\n\t\t}\n\t}\n\n\tprivate addReplElement(newElement: IReplElement): void {\n\t\tconst lastElement = this.replElements.length ? this.replElements[this.replElements.length - 1] : undefined;\n\t\tif (lastElement instanceof ReplGroup && !lastElement.hasEnded) {\n\t\t\tlastElement.addChild(newElement);\n\t\t} else {\n\t\t\tthis.replElements.push(newElement);\n\t\t\tif (this.replElements.length > MAX_REPL_LENGTH) {\n\t\t\t\tthis.replElements.splice(0, this.replElements.length - MAX_REPL_LENGTH);\n\t\t\t}\n\t\t}\n\n\t\tthis._onDidChangeElements.fire();\n\t}\n\n\tlogToRepl(session: IDebugSession, sev: severity, args: any[], frame?: { uri: URI, line: number, column: number }) {\n\n\t\tlet source: IReplElementSource | undefined;\n\t\tif (frame) {\n\t\t\tsource = {\n\t\t\t\tcolumn: frame.column,\n\t\t\t\tlineNumber: frame.line,\n\t\t\t\tsource: session.getSource({\n\t\t\t\t\tname: basenameOrAuthority(frame.uri),\n\t\t\t\t\tpath: frame.uri.fsPath\n\t\t\t\t})\n\t\t\t};\n\t\t}\n\n\t\t// add output for each argument logged\n\t\tlet simpleVals: any[] = [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tlet a = args[i];\n\n\t\t\t// undefined gets printed as 'undefined'\n\t\t\tif (typeof a === 'undefined') {\n\t\t\t\tsimpleVals.push('undefined');\n\t\t\t}\n\n\t\t\t// null gets printed as 'null'\n\t\t\telse if (a === null) {\n\t\t\t\tsimpleVals.push('null');\n\t\t\t}\n\n\t\t\t// objects & arrays are special because we want to inspect them in the REPL\n\t\t\telse if (isObject(a) || Array.isArray(a)) {\n\n\t\t\t\t// flush any existing simple values logged\n\t\t\t\tif (simpleVals.length) {\n\t\t\t\t\tthis.appendToRepl(session, simpleVals.join(' '), sev, source);\n\t\t\t\t\tsimpleVals = [];\n\t\t\t\t}\n\n\t\t\t\t// show object\n\t\t\t\tthis.appendToRepl(session, new RawObjectReplElement(getUniqueId(), (<any>a).prototype, a, undefined, nls.localize('snapshotObj', \"Only primitive values are shown for this object.\")), sev, source);\n\t\t\t}\n\n\t\t\t// string: watch out for % replacement directive\n\t\t\t// string substitution and formatting @ https://developer.chrome.com/devtools/docs/console\n\t\t\telse if (typeof a === 'string') {\n\t\t\t\tlet buf = '';\n\n\t\t\t\tfor (let j = 0, len = a.length; j < len; j++) {\n\t\t\t\t\tif (a[j] === '%' && (a[j + 1] === 's' || a[j + 1] === 'i' || a[j + 1] === 'd' || a[j + 1] === 'O')) {\n\t\t\t\t\t\ti++; // read over substitution\n\t\t\t\t\t\tbuf += !isUndefinedOrNull(args[i]) ? args[i] : ''; // replace\n\t\t\t\t\t\tj++; // read over directive\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbuf += a[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsimpleVals.push(buf);\n\t\t\t}\n\n\t\t\t// number or boolean is joined together\n\t\t\telse {\n\t\t\t\tsimpleVals.push(a);\n\t\t\t}\n\t\t}\n\n\t\t// flush simple values\n\t\t// always append a new line for output coming from an extension such that separate logs go to separate lines #23695\n\t\tif (simpleVals.length) {\n\t\t\tthis.appendToRepl(session, simpleVals.join(' ') + '\\n', sev, source);\n\t\t}\n\t}\n\n\tremoveReplExpressions(): void {\n\t\tif (this.replElements.length > 0) {\n\t\t\tthis.replElements = [];\n\t\t\tthis._onDidChangeElements.fire();\n\t\t}\n\t}\n}\n"]}