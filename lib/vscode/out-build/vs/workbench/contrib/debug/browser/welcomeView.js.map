{"version":3,"sources":["vs/workbench/contrib/debug/browser/welcomeView.ts"],"names":[],"mappings":"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","file":"welcomeView.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IContextKeyService, RawContextKey, IContextKey, ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { localize } from 'vs/nls';\nimport { IDebugService, CONTEXT_DEBUGGERS_AVAILABLE } from 'vs/workbench/contrib/debug/common/debug';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { ViewPane } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IViewDescriptorService, IViewsRegistry, Extensions, ViewContentGroups } from 'vs/workbench/common/views';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { WorkbenchStateContext } from 'vs/workbench/browser/contextkeys';\nimport { OpenFolderAction, OpenFileAction, OpenFileFolderAction } from 'vs/workbench/browser/actions/workspaceActions';\nimport { isMacintosh, isWeb } from 'vs/base/common/platform';\nimport { isCodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { DisposableStore } from 'vs/base/common/lifecycle';\nimport { SELECT_AND_START_ID, DEBUG_CONFIGURE_COMMAND_ID, DEBUG_START_COMMAND_ID } from 'vs/workbench/contrib/debug/browser/debugCommands';\n\nconst debugStartLanguageKey = 'debugStartLanguage';\nconst CONTEXT_DEBUG_START_LANGUAGE = new RawContextKey<string>(debugStartLanguageKey, undefined);\nconst CONTEXT_DEBUGGER_INTERESTED_IN_ACTIVE_EDITOR = new RawContextKey<boolean>('debuggerInterestedInActiveEditor', false);\n\nexport class WelcomeView extends ViewPane {\n\n\tstatic ID = 'workbench.debug.welcome';\n\tstatic LABEL = localize('run', \"Run\");\n\n\tprivate debugStartLanguageContext: IContextKey<string | undefined>;\n\tprivate debuggerInterestedContext: IContextKey<boolean>;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IStorageService storageSevice: IStorageService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService);\n\n\t\tthis.debugStartLanguageContext = CONTEXT_DEBUG_START_LANGUAGE.bindTo(contextKeyService);\n\t\tthis.debuggerInterestedContext = CONTEXT_DEBUGGER_INTERESTED_IN_ACTIVE_EDITOR.bindTo(contextKeyService);\n\t\tconst lastSetLanguage = storageSevice.get(debugStartLanguageKey, StorageScope.WORKSPACE);\n\t\tthis.debugStartLanguageContext.set(lastSetLanguage);\n\n\t\tconst setContextKey = () => {\n\t\t\tconst editorControl = this.editorService.activeTextEditorControl;\n\t\t\tif (isCodeEditor(editorControl)) {\n\t\t\t\tconst model = editorControl.getModel();\n\t\t\t\tconst language = model ? model.getLanguageIdentifier().language : undefined;\n\t\t\t\tif (language && this.debugService.getAdapterManager().isDebuggerInterestedInLanguage(language)) {\n\t\t\t\t\tthis.debugStartLanguageContext.set(language);\n\t\t\t\t\tthis.debuggerInterestedContext.set(true);\n\t\t\t\t\tstorageSevice.store(debugStartLanguageKey, language, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.debuggerInterestedContext.set(false);\n\t\t};\n\n\t\tconst disposables = new DisposableStore();\n\t\tthis._register(disposables);\n\n\t\tthis._register(editorService.onDidActiveEditorChange(() => {\n\t\t\tdisposables.clear();\n\n\t\t\tconst editorControl = this.editorService.activeTextEditorControl;\n\t\t\tif (isCodeEditor(editorControl)) {\n\t\t\t\tdisposables.add(editorControl.onDidChangeModelLanguage(setContextKey));\n\t\t\t}\n\n\t\t\tsetContextKey();\n\t\t}));\n\t\tthis._register(this.debugService.getAdapterManager().onDidRegisterDebugger(setContextKey));\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible) {\n\t\t\t\tsetContextKey();\n\t\t\t}\n\t\t}));\n\t\tsetContextKey();\n\n\t\tconst debugKeybinding = this.keybindingService.lookupKeybinding(DEBUG_START_COMMAND_ID);\n\t\tdebugKeybindingLabel = debugKeybinding ? ` (${debugKeybinding.getLabel()})` : '';\n\t}\n\n\toverride shouldShowWelcome(): boolean {\n\t\treturn true;\n\t}\n}\n\nconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\nviewsRegistry.registerViewWelcomeContent(WelcomeView.ID, {\n\tcontent: localize({ key: 'openAFileWhichCanBeDebugged', comment: ['Please do not translate the word \"commmand\", it is part of our internal syntax which must not change'] },\n\t\t\"[Open a file](command:{0}) which can be debugged or run.\", (isMacintosh && !isWeb) ? OpenFileFolderAction.ID : OpenFileAction.ID),\n\twhen: ContextKeyExpr.and(CONTEXT_DEBUGGERS_AVAILABLE, CONTEXT_DEBUGGER_INTERESTED_IN_ACTIVE_EDITOR.toNegated()),\n\tgroup: ViewContentGroups.Open\n});\n\nlet debugKeybindingLabel = '';\nviewsRegistry.registerViewWelcomeContent(WelcomeView.ID, {\n\tcontent: localize({ key: 'runAndDebugAction', comment: ['Please do not translate the word \"commmand\", it is part of our internal syntax which must not change'] },\n\t\t\"[Run and Debug{0}](command:{1})\", debugKeybindingLabel, DEBUG_START_COMMAND_ID),\n\twhen: CONTEXT_DEBUGGERS_AVAILABLE,\n\tgroup: ViewContentGroups.Debug\n});\n\nviewsRegistry.registerViewWelcomeContent(WelcomeView.ID, {\n\tcontent: localize({ key: 'detectThenRunAndDebug', comment: ['Please do not translate the word \"commmand\", it is part of our internal syntax which must not change'] },\n\t\t\"[Show](command:{0}) all automatic debug configurations.\", SELECT_AND_START_ID),\n\twhen: CONTEXT_DEBUGGERS_AVAILABLE,\n\tgroup: ViewContentGroups.Debug,\n\torder: 10\n});\n\nviewsRegistry.registerViewWelcomeContent(WelcomeView.ID, {\n\tcontent: localize({ key: 'customizeRunAndDebug', comment: ['Please do not translate the word \"commmand\", it is part of our internal syntax which must not change'] },\n\t\t\"To customize Run and Debug [create a launch.json file](command:{0}).\", DEBUG_CONFIGURE_COMMAND_ID),\n\twhen: ContextKeyExpr.and(CONTEXT_DEBUGGERS_AVAILABLE, WorkbenchStateContext.notEqualsTo('empty')),\n\tgroup: ViewContentGroups.Debug\n});\n\nviewsRegistry.registerViewWelcomeContent(WelcomeView.ID, {\n\tcontent: localize({ key: 'customizeRunAndDebugOpenFolder', comment: ['Please do not translate the word \"commmand\", it is part of our internal syntax which must not change'] },\n\t\t\"To customize Run and Debug, [open a folder](command:{0}) and create a launch.json file.\", (isMacintosh && !isWeb) ? OpenFileFolderAction.ID : OpenFolderAction.ID),\n\twhen: ContextKeyExpr.and(CONTEXT_DEBUGGERS_AVAILABLE, WorkbenchStateContext.isEqualTo('empty')),\n\tgroup: ViewContentGroups.Debug\n});\n"]}