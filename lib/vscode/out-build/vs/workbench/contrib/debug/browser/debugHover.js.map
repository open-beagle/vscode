{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugHover.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IAiChG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IAEhB,KAAK,UAAU,gBAAgB,CAAC,SAA+B,EAAE,WAAqB;QACrF,IAAI,CAAC,SAAS,EAAE;YACf,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SAC7B;QAED,MAAM,QAAQ,GAAG,MAAM,SAAS,CAAC,WAAW,EAAE,CAAC;QAC/C,sGAAsG;QACtG,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC;QACjE,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO,IAAI,CAAC;SACZ;QAED,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC7B,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;SACnB;aAAM;YACN,OAAO,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC3D;IACF,CAAC;IAEM,KAAK,UAAU,0BAA0B,CAAC,UAAuB,EAAE,WAAqB;QAC9F,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,SAAS,EAAE,CAAC;QAC5C,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACtD,MAAM,WAAW,GAAG,CAAA,GAAA,iBAAQ,CAAA,CAAC,MAAM,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAEjH,yDAAyD;QACzD,OAAO,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACxH,CAAC;IAPD,gEAOC;IAED,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;QAoB5B,YACS,MAAmB,EACK,YAA2B,EACnB,oBAA2C,EACnD,YAA2B;YAHnD,WAAM,GAAN,MAAM,CAAa;YACK,iBAAY,GAAZ,YAAY,CAAe;YACnB,yBAAoB,GAApB,oBAAoB,CAAuB;YACnD,iBAAY,GAAZ,YAAY,CAAe;YArB5D,4CAA4C;YAC5C,wBAAmB,GAAG,IAAI,CAAC;YAsB1B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YAEpB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,kBAAkB,GAAG,8BAA8E,CAAC;QAC1G,CAAC;QAEO,MAAM;YACb,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC;YACxC,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC3E,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC7E,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;YACpF,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAChD,MAAM,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YAC9D,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAkJ,CAAhJ,CAAkJ,EAA/I,EAAE,AAA8L,EAAE,QAAtL,EAAE,OAAO,EAAE,CAAC,EAAqL,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,2FAAxF,CAAC;YAC/K,MAAM,UAAU,GAAG,IAAI,oBAAoB,EAAE,CAAC;YAE9C,IAAI,CAAC,IAAI,GAA0D,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,oCAAsB,EAAE,YAAY,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,kBAAkB,EAAE,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,iCAAiB,CAAC,CAAC,EAC5P,UAAU,EAAE;gBACZ,qBAAqB,EAAE,IAAI,+BAA+B,EAAE;gBAC5D,YAAY,EAAE,KAAK;gBACnB,mBAAmB,EAAE,IAAI;gBACzB,UAAU,EAAE,KAAK;gBACjB,cAAc,EAAE;oBACf,cAAc,EAAE,qCAAqB;iBACrC;aACD,CAAC,CAAC;YAEH,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;YAClC,IAAI,CAAC,cAAc,CAAC,QAAQ,GAAG,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;YACpD,IAAI,CAAC,SAAS,GAAG,IAAI,wCAAoB,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,UAAU,gBAA4B,EAAE,CAAC,CAAC;YAC3G,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;YACtD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEpC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAExC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA,GAAA,6BAAoB,CAAA,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,qBAAqB,EAArB,qCAAqB,EAAE,iBAAiB,EAAjB,iCAAiB,EAAE,qBAAqB,EAArB,qCAAqB,EAAE,EAAE,MAAM,CAAC,EAAE;gBACzI,IAAI,MAAM,CAAC,qBAAqB,EAAE;oBACjC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;iBAC7E;qBAAM;oBACN,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,EAAE,CAAC;iBACxC;gBACD,IAAI,MAAM,CAAC,iBAAiB,EAAE;oBAC7B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,aAAa,MAAM,CAAC,iBAAiB,EAAE,CAAC;iBACpE;qBAAM;oBACN,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;iBAC/B;gBACD,IAAI,MAAM,CAAC,qBAAqB,EAAE;oBACjC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;iBACnE;qBAAM;oBACN,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;iBAC9B;YACF,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAElG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC;QAEO,iBAAiB;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,6BAA6B,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAiB,EAAE,EAAE;gBACpG,IAAI,CAAC,CAAC,MAAM,gBAAgB,EAAE;oBAC7B,IAAI,CAAC,IAAI,EAAE,CAAC;iBACZ;YACF,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,CAAC,CAA4B,EAAE,EAAE;gBACzF,IAAI,CAAC,CAAC,UAAU,mBAAuB,EAAE;oBACxC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACxC;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QAED,SAAS;;YACR,OAAO,CAAC,CAAC,CAAA,MAAA,IAAI,CAAC,OAAO,0CAAE,OAAO,CAAC,QAAQ,CAAC,CAAA,CAAC;QAC1C,CAAC;QAED,SAAS;YACR,OAAO,IAAI,CAAC,UAAU,CAAC;QACxB,CAAC;QAED,aAAa;YACZ,OAAO,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC;QACtC,CAAC;QAED,KAAK;YACJ,OAAO,gBAAgB,CAAC,EAAE,CAAC;QAC5B,CAAC;QAED,UAAU;YACT,OAAO,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QAED,KAAK,CAAC,MAAM,CAAC,KAAY,EAAE,KAAc;;YACxC,MAAA,IAAI,CAAC,sBAAsB,0CAAE,MAAM,EAAE,CAAC;YACtC,MAAM,kBAAkB,GAAG,IAAI,CAAC,sBAAsB,GAAG,IAAI,sCAAuB,EAAE,CAAC;YACvF,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,cAAc,CAAC;YAEhE,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE;gBACxC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;aACpC;YAED,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACrC,MAAM,GAAG,GAAG,KAAK,CAAC,gBAAgB,EAAE,CAAC;YAErC,IAAI,GAAG,GAAuB,SAAS,CAAC;YACxC,IAAI,kBAAsC,CAAC;YAE3C,IAAI,6CAAqC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrD,MAAM,QAAQ,GAAG,6CAAqC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBAEtE,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;oBACvC,OAAO,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,4BAA4B,CAAC,KAAK,EAAE,GAAG,EAAE,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;wBACpH,OAAO,UAAU,CAAC;oBACnB,CAAC,EAAE,GAAG,CAAC,EAAE;wBACR,iCAAiC;wBACjC,OAAO,SAAS,CAAC;oBAClB,CAAC,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;gBAEH,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,iBAAQ,CAAC,CAAC;gBAC3D,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvB,kBAAkB,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBAC3C,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBAEvB,IAAI,CAAC,kBAAkB,EAAE;wBACxB,MAAM,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;wBACzD,kBAAkB,GAAG,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,GAAG,CAAC,EAAE,GAAG,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;qBACnF;iBACD;aAED;iBAAM,EAAE,iCAAiC;gBACzC,MAAM,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACzD,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAA,GAAA,0CAA6B,CAAA,CAAC,WAAW,EAAE,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;gBAEtG,gDAAgD;gBAChD,kBAAkB,GAAG,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;gBAC3D,GAAG,GAAG,IAAI,aAAK,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,GAAG,CAAC,UAAU,EAAE,KAAK,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;aAC1F;YAED,IAAI,CAAC,kBAAkB,EAAE;gBACxB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;aACpC;YAED,IAAI,UAAU,CAAC;YACf,IAAI,OAAO,CAAC,YAAY,CAAC,yBAAyB,EAAE;gBACnD,UAAU,GAAG,IAAI,uBAAU,CAAC,kBAAkB,CAAC,CAAC;gBAChD,MAAM,UAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;aAChG;iBAAM;gBACN,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC;gBAC7E,IAAI,iBAAiB,EAAE;oBACtB,UAAU,GAAG,MAAM,0BAA0B,CAAC,iBAAiB,EAAE,CAAA,GAAA,iBAAQ,CAAA,CAAC,kBAAkB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;iBACnI;aACD;YAED,IAAI,kBAAkB,CAAC,KAAK,CAAC,uBAAuB,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,YAAY,uBAAU,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;gBACnI,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,OAAO;aACP;YAED,IAAI,GAAG,EAAE;gBACR,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;wBACpF,KAAK,EAAE,GAAG;wBACV,OAAO,EAAE,gBAAgB,CAAC,mCAAmC;qBAC7D,CAAC,CAAC,CAAC;aACJ;YAED,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;QAMO,KAAK,CAAC,MAAM,CAAC,QAAkB,EAAE,UAAuB,EAAE,KAAc,EAAE,eAAe,GAAG,KAAK;YACxG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBAClB,IAAI,CAAC,MAAM,EAAE,CAAC;aACd;YAED,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;YAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAEvB,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,eAAe,EAAE;gBAC/C,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,IAAI,CAAC;gBACzC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,KAAK,CAAC;gBACnC,CAAA,GAAA,qCAAqB,CAAA,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE;oBACtD,WAAW,EAAE,KAAK;oBAClB,QAAQ,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,EAAE,CAAC;gBAC/B,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;gBAC7B,IAAI,KAAK,EAAE;oBACV,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;oBACrB,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;iBAC5B;gBAED,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAClC;YAED,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC;YAElC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YACrC,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC;YACtD,IAAI,CAAC,iBAAiB,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;YAChD,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,KAAK,CAAC;YAE1C,IAAI,KAAK,EAAE;gBACV,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBACrB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;aACrB;QACF,CAAC;QAEO,sBAAsB,CAAC,aAAsB;YACpD,MAAM,eAAe,GAAG,EAAE,CAAC;YAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,eAAe,CAAC,CAAC;YAClH,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,UAAU,IAAI,CAAC;YACpD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAC9D,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC9B,CAAC;QAED,WAAW,CAAC,kBAA0D;YACrE,IAAI,kBAAkB,EAAE;gBACvB,uEAAuE;gBACvE,IAAI,CAAC,kBAAkB,GAAG,CAAC,kBAAkB,CAAC,CAAC;aAC/C;QACF,CAAC;QAGD,IAAI;YACH,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBAChC,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,CAAC;gBACrC,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC;aACxC;YAED,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACrB,OAAO;aACP;YAED,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE;gBACzD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;aACpB;YACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,kBAAkB,GAAG,8BAA8E,CAAC;QAC1G,CAAC;QAED,WAAW;YACV,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACxB,QAAQ,EAAE,IAAI,CAAC,cAAc;gBAC7B,UAAU,EAAE,IAAI,CAAC,kBAAkB;aACnC,CAAC,CAAC,CAAC,IAAI,CAAC;QACV,CAAC;QAED,OAAO;YACN,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACpD,CAAC;KACD,CAAA;IAhSgB,mBAAE,GAAG,mBAAmB,CAAC;IAmMjB,oDAAmC,GAAG,kCAAsB,CAAC,QAAQ,CAAC;QAC7F,SAAS,EAAE,gBAAgB;KAC3B,CAAC,CAAC;IAvMS,gBAAgB;QAsB1B,WAAA,qBAAa,CAAA;QACb,WAAA,qCAAqB,CAAA;QACrB,WAAA,4BAAa,CAAA;OAxBH,gBAAgB,CAkS5B;IAlSY,4CAAgB;IAoS7B,MAAM,+BAA+B;QAEpC,kBAAkB;YACjB,OAAO,GAAG,CAAC,QAAQ,CAAC,CAAe,EAAE,IAAa,CAAC,CAAC;QACrD,CAAC;QAED,YAAY,CAAC,OAAoB;YAChC,OAAO,GAAG,CAAC,QAAQ,CAAC,CAAwH,CAAtH,CAAwH,EAArH,EAAE,AAAqJ,EAAE,OAAO,CAAC,IAAI,EAAE,GAAlJ,EAAE,EAAuJ,CAAC,IAAjJ,CAAsJ,CAApJ,AAAqJ,CAApJ,AAAqJ,+EAAtE,CAAC;QAC3I,CAAC;KACD;IAED,MAAM,oBAAoB;QAEzB,WAAW,CAAC,OAAoB;YAC/B,OAAO,OAAO,CAAC,WAAW,CAAC;QAC5B,CAAC;QAED,WAAW,CAAC,OAAoB;YAC/B,OAAO,OAAO,CAAC,WAAW,EAAE,CAAC;QAC9B,CAAC;KACD;IAED,MAAM,kBAAkB;QACvB,SAAS,CAAC,OAAoB;YAC7B,OAAO,EAAE,CAAC;QACX,CAAC;QAED,aAAa,CAAC,OAAoB;YACjC,OAAO,iCAAiB,CAAC,EAAE,CAAC;QAC7B,CAAC;KACD","file":"debugHover.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport * as lifecycle from 'vs/base/common/lifecycle';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { ScrollbarVisibility } from 'vs/base/common/scrollable';\nimport * as dom from 'vs/base/browser/dom';\nimport { IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { ConfigurationChangedEvent, EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { Position } from 'vs/editor/common/core/position';\nimport { Range, IRange } from 'vs/editor/common/core/range';\nimport { IContentWidget, ICodeEditor, IContentWidgetPosition, ContentWidgetPositionPreference } from 'vs/editor/browser/editorBrowser';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IDebugService, IExpression, IExpressionContainer, IStackFrame } from 'vs/workbench/contrib/debug/common/debug';\nimport { Expression } from 'vs/workbench/contrib/debug/common/debugModel';\nimport { renderExpressionValue } from 'vs/workbench/contrib/debug/browser/baseDebugView';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { attachStylerCallback } from 'vs/platform/theme/common/styler';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { editorHoverBackground, editorHoverBorder, editorHoverForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { getExactExpressionStartAndEnd } from 'vs/workbench/contrib/debug/common/debugUtils';\nimport { AsyncDataTree } from 'vs/base/browser/ui/tree/asyncDataTree';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { WorkbenchAsyncDataTree } from 'vs/platform/list/browser/listService';\nimport { coalesce } from 'vs/base/common/arrays';\nimport { IAsyncDataSource } from 'vs/base/browser/ui/tree/tree';\nimport { VariablesRenderer } from 'vs/workbench/contrib/debug/browser/variablesView';\nimport { EvaluatableExpressionProviderRegistry } from 'vs/editor/common/modes';\nimport { CancellationTokenSource } from 'vs/base/common/cancellation';\nimport { isMacintosh } from 'vs/base/common/platform';\n\nconst $ = dom.$;\n\nasync function doFindExpression(container: IExpressionContainer, namesToFind: string[]): Promise<IExpression | null> {\n\tif (!container) {\n\t\treturn Promise.resolve(null);\n\t}\n\n\tconst children = await container.getChildren();\n\t// look for our variable in the list. First find the parents of the hovered variable if there are any.\n\tconst filtered = children.filter(v => namesToFind[0] === v.name);\n\tif (filtered.length !== 1) {\n\t\treturn null;\n\t}\n\n\tif (namesToFind.length === 1) {\n\t\treturn filtered[0];\n\t} else {\n\t\treturn doFindExpression(filtered[0], namesToFind.slice(1));\n\t}\n}\n\nexport async function findExpressionInStackFrame(stackFrame: IStackFrame, namesToFind: string[]): Promise<IExpression | undefined> {\n\tconst scopes = await stackFrame.getScopes();\n\tconst nonExpensive = scopes.filter(s => !s.expensive);\n\tconst expressions = coalesce(await Promise.all(nonExpensive.map(scope => doFindExpression(scope, namesToFind))));\n\n\t// only show if all expressions found have the same value\n\treturn expressions.length > 0 && expressions.every(e => e.value === expressions[0].value) ? expressions[0] : undefined;\n}\n\nexport class DebugHoverWidget implements IContentWidget {\n\n\tstatic readonly ID = 'debug.hoverWidget';\n\t// editor.IContentWidget.allowEditorOverflow\n\tallowEditorOverflow = true;\n\n\tprivate _isVisible: boolean;\n\tprivate showCancellationSource?: CancellationTokenSource;\n\tprivate domNode!: HTMLElement;\n\tprivate tree!: AsyncDataTree<IExpression, IExpression, any>;\n\tprivate showAtPosition: Position | null;\n\tprivate positionPreference: ContentWidgetPositionPreference[];\n\tprivate highlightDecorations: string[];\n\tprivate complexValueContainer!: HTMLElement;\n\tprivate complexValueTitle!: HTMLElement;\n\tprivate valueContainer!: HTMLElement;\n\tprivate treeContainer!: HTMLElement;\n\tprivate toDispose: lifecycle.IDisposable[];\n\tprivate scrollbar!: DomScrollableElement;\n\n\tconstructor(\n\t\tprivate editor: ICodeEditor,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IThemeService private readonly themeService: IThemeService\n\t) {\n\t\tthis.toDispose = [];\n\n\t\tthis._isVisible = false;\n\t\tthis.showAtPosition = null;\n\t\tthis.highlightDecorations = [];\n\t\tthis.positionPreference = [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW];\n\t}\n\n\tprivate create(): void {\n\t\tthis.domNode = $('.debug-hover-widget');\n\t\tthis.complexValueContainer = dom.append(this.domNode, $('.complex-value'));\n\t\tthis.complexValueTitle = dom.append(this.complexValueContainer, $('.title'));\n\t\tthis.treeContainer = dom.append(this.complexValueContainer, $('.debug-hover-tree'));\n\t\tthis.treeContainer.setAttribute('role', 'tree');\n\t\tconst tip = dom.append(this.complexValueContainer, $('.tip'));\n\t\ttip.textContent = nls.localize({ key: 'quickTip', comment: ['\"switch to editor language hover\" means to show the programming language hover widget instead of the debug hover'] }, 'Hold {0} key to switch to editor language hover', isMacintosh ? 'Option' : 'Alt');\n\t\tconst dataSource = new DebugHoverDataSource();\n\n\t\tthis.tree = <WorkbenchAsyncDataTree<IExpression, IExpression, any>>this.instantiationService.createInstance(WorkbenchAsyncDataTree, 'DebugHover', this.treeContainer, new DebugHoverDelegate(), [this.instantiationService.createInstance(VariablesRenderer)],\n\t\t\tdataSource, {\n\t\t\taccessibilityProvider: new DebugHoverAccessibilityProvider(),\n\t\t\tmouseSupport: false,\n\t\t\thorizontalScrolling: true,\n\t\t\tuseShadows: false,\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: editorHoverBackground\n\t\t\t}\n\t\t});\n\n\t\tthis.valueContainer = $('.value');\n\t\tthis.valueContainer.tabIndex = 0;\n\t\tthis.valueContainer.setAttribute('role', 'tooltip');\n\t\tthis.scrollbar = new DomScrollableElement(this.valueContainer, { horizontal: ScrollbarVisibility.Hidden });\n\t\tthis.domNode.appendChild(this.scrollbar.getDomNode());\n\t\tthis.toDispose.push(this.scrollbar);\n\n\t\tthis.editor.applyFontInfo(this.domNode);\n\n\t\tthis.toDispose.push(attachStylerCallback(this.themeService, { editorHoverBackground, editorHoverBorder, editorHoverForeground }, colors => {\n\t\t\tif (colors.editorHoverBackground) {\n\t\t\t\tthis.domNode.style.backgroundColor = colors.editorHoverBackground.toString();\n\t\t\t} else {\n\t\t\t\tthis.domNode.style.backgroundColor = '';\n\t\t\t}\n\t\t\tif (colors.editorHoverBorder) {\n\t\t\t\tthis.domNode.style.border = `1px solid ${colors.editorHoverBorder}`;\n\t\t\t} else {\n\t\t\t\tthis.domNode.style.border = '';\n\t\t\t}\n\t\t\tif (colors.editorHoverForeground) {\n\t\t\t\tthis.domNode.style.color = colors.editorHoverForeground.toString();\n\t\t\t} else {\n\t\t\t\tthis.domNode.style.color = '';\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.tree.onDidChangeContentHeight(() => this.layoutTreeAndContainer(false)));\n\n\t\tthis.registerListeners();\n\t\tthis.editor.addContentWidget(this);\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis.toDispose.push(dom.addStandardDisposableListener(this.domNode, 'keydown', (e: IKeyboardEvent) => {\n\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.editor.onDidChangeConfiguration((e: ConfigurationChangedEvent) => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\tthis.editor.applyFontInfo(this.domNode);\n\t\t\t}\n\t\t}));\n\t}\n\n\tisHovered(): boolean {\n\t\treturn !!this.domNode?.matches(':hover');\n\t}\n\n\tisVisible(): boolean {\n\t\treturn this._isVisible;\n\t}\n\n\twillBeVisible(): boolean {\n\t\treturn !!this.showCancellationSource;\n\t}\n\n\tgetId(): string {\n\t\treturn DebugHoverWidget.ID;\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tasync showAt(range: Range, focus: boolean): Promise<void> {\n\t\tthis.showCancellationSource?.cancel();\n\t\tconst cancellationSource = this.showCancellationSource = new CancellationTokenSource();\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\n\t\tif (!session || !this.editor.hasModel()) {\n\t\t\treturn Promise.resolve(this.hide());\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\t\tconst pos = range.getStartPosition();\n\n\t\tlet rng: IRange | undefined = undefined;\n\t\tlet matchingExpression: string | undefined;\n\n\t\tif (EvaluatableExpressionProviderRegistry.has(model)) {\n\t\t\tconst supports = EvaluatableExpressionProviderRegistry.ordered(model);\n\n\t\t\tconst promises = supports.map(support => {\n\t\t\t\treturn Promise.resolve(support.provideEvaluatableExpression(model, pos, cancellationSource.token)).then(expression => {\n\t\t\t\t\treturn expression;\n\t\t\t\t}, err => {\n\t\t\t\t\t//onUnexpectedExternalError(err);\n\t\t\t\t\treturn undefined;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst results = await Promise.all(promises).then(coalesce);\n\t\t\tif (results.length > 0) {\n\t\t\t\tmatchingExpression = results[0].expression;\n\t\t\t\trng = results[0].range;\n\n\t\t\t\tif (!matchingExpression) {\n\t\t\t\t\tconst lineContent = model.getLineContent(pos.lineNumber);\n\t\t\t\t\tmatchingExpression = lineContent.substring(rng.startColumn - 1, rng.endColumn - 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\t// old one-size-fits-all strategy\n\t\t\tconst lineContent = model.getLineContent(pos.lineNumber);\n\t\t\tconst { start, end } = getExactExpressionStartAndEnd(lineContent, range.startColumn, range.endColumn);\n\n\t\t\t// use regex to extract the sub-expression #9821\n\t\t\tmatchingExpression = lineContent.substring(start - 1, end);\n\t\t\trng = new Range(pos.lineNumber, start, pos.lineNumber, start + matchingExpression.length);\n\t\t}\n\n\t\tif (!matchingExpression) {\n\t\t\treturn Promise.resolve(this.hide());\n\t\t}\n\n\t\tlet expression;\n\t\tif (session.capabilities.supportsEvaluateForHovers) {\n\t\t\texpression = new Expression(matchingExpression);\n\t\t\tawait expression.evaluate(session, this.debugService.getViewModel().focusedStackFrame, 'hover');\n\t\t} else {\n\t\t\tconst focusedStackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\tif (focusedStackFrame) {\n\t\t\t\texpression = await findExpressionInStackFrame(focusedStackFrame, coalesce(matchingExpression.split('.').map(word => word.trim())));\n\t\t\t}\n\t\t}\n\n\t\tif (cancellationSource.token.isCancellationRequested || !expression || (expression instanceof Expression && !expression.available)) {\n\t\t\tthis.hide();\n\t\t\treturn;\n\t\t}\n\n\t\tif (rng) {\n\t\t\tthis.highlightDecorations = this.editor.deltaDecorations(this.highlightDecorations, [{\n\t\t\t\trange: rng,\n\t\t\t\toptions: DebugHoverWidget._HOVER_HIGHLIGHT_DECORATION_OPTIONS\n\t\t\t}]);\n\t\t}\n\n\t\treturn this.doShow(pos, expression, focus);\n\t}\n\n\tprivate static readonly _HOVER_HIGHLIGHT_DECORATION_OPTIONS = ModelDecorationOptions.register({\n\t\tclassName: 'hoverHighlight'\n\t});\n\n\tprivate async doShow(position: Position, expression: IExpression, focus: boolean, forceValueHover = false): Promise<void> {\n\t\tif (!this.domNode) {\n\t\t\tthis.create();\n\t\t}\n\n\t\tthis.showAtPosition = position;\n\t\tthis._isVisible = true;\n\n\t\tif (!expression.hasChildren || forceValueHover) {\n\t\t\tthis.complexValueContainer.hidden = true;\n\t\t\tthis.valueContainer.hidden = false;\n\t\t\trenderExpressionValue(expression, this.valueContainer, {\n\t\t\t\tshowChanged: false,\n\t\t\t\tcolorize: true\n\t\t\t});\n\t\t\tthis.valueContainer.title = '';\n\t\t\tthis.editor.layoutContentWidget(this);\n\t\t\tthis.scrollbar.scanDomNode();\n\t\t\tif (focus) {\n\t\t\t\tthis.editor.render();\n\t\t\t\tthis.valueContainer.focus();\n\t\t\t}\n\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tthis.valueContainer.hidden = true;\n\n\t\tawait this.tree.setInput(expression);\n\t\tthis.complexValueTitle.textContent = expression.value;\n\t\tthis.complexValueTitle.title = expression.value;\n\t\tthis.layoutTreeAndContainer(true);\n\t\tthis.tree.scrollTop = 0;\n\t\tthis.tree.scrollLeft = 0;\n\t\tthis.complexValueContainer.hidden = false;\n\n\t\tif (focus) {\n\t\t\tthis.editor.render();\n\t\t\tthis.tree.domFocus();\n\t\t}\n\t}\n\n\tprivate layoutTreeAndContainer(initialLayout: boolean): void {\n\t\tconst scrollBarHeight = 10;\n\t\tconst treeHeight = Math.min(this.editor.getLayoutInfo().height * 0.55, this.tree.contentHeight + scrollBarHeight);\n\t\tthis.treeContainer.style.height = `${treeHeight}px`;\n\t\tthis.tree.layout(treeHeight, initialLayout ? 400 : undefined);\n\t\tthis.editor.layoutContentWidget(this);\n\t\tthis.scrollbar.scanDomNode();\n\t}\n\n\tafterRender(positionPreference: ContentWidgetPositionPreference | null) {\n\t\tif (positionPreference) {\n\t\t\t// Remember where the editor placed you to keep position stable #109226\n\t\t\tthis.positionPreference = [positionPreference];\n\t\t}\n\t}\n\n\n\thide(): void {\n\t\tif (this.showCancellationSource) {\n\t\t\tthis.showCancellationSource.cancel();\n\t\t\tthis.showCancellationSource = undefined;\n\t\t}\n\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (dom.isAncestor(document.activeElement, this.domNode)) {\n\t\t\tthis.editor.focus();\n\t\t}\n\t\tthis._isVisible = false;\n\t\tthis.editor.deltaDecorations(this.highlightDecorations, []);\n\t\tthis.highlightDecorations = [];\n\t\tthis.editor.layoutContentWidget(this);\n\t\tthis.positionPreference = [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW];\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\treturn this._isVisible ? {\n\t\t\tposition: this.showAtPosition,\n\t\t\tpreference: this.positionPreference\n\t\t} : null;\n\t}\n\n\tdispose(): void {\n\t\tthis.toDispose = lifecycle.dispose(this.toDispose);\n\t}\n}\n\nclass DebugHoverAccessibilityProvider implements IListAccessibilityProvider<IExpression> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize('treeAriaLabel', \"Debug Hover\");\n\t}\n\n\tgetAriaLabel(element: IExpression): string {\n\t\treturn nls.localize({ key: 'variableAriaLabel', comment: ['Do not translate placeholders. Placeholders are name and value of a variable.'] }, \"{0}, value {1}, variables, debug\", element.name, element.value);\n\t}\n}\n\nclass DebugHoverDataSource implements IAsyncDataSource<IExpression, IExpression> {\n\n\thasChildren(element: IExpression): boolean {\n\t\treturn element.hasChildren;\n\t}\n\n\tgetChildren(element: IExpression): Promise<IExpression[]> {\n\t\treturn element.getChildren();\n\t}\n}\n\nclass DebugHoverDelegate implements IListVirtualDelegate<IExpression> {\n\tgetHeight(element: IExpression): number {\n\t\treturn 18;\n\t}\n\n\tgetTemplateId(element: IExpression): string {\n\t\treturn VariablesRenderer.ID;\n\t}\n}\n"]}