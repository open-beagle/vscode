{"version":3,"sources":["vs/workbench/contrib/debug/browser/breakpointEditorContribution.ts"],"names":[],"mappings":"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","file":"breakpointEditorContribution.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport * as env from 'vs/base/common/platform';\nimport * as dom from 'vs/base/browser/dom';\nimport { URI } from 'vs/base/common/uri';\nimport severity from 'vs/base/common/severity';\nimport { IAction, Action, SubmenuAction } from 'vs/base/common/actions';\nimport { Range } from 'vs/editor/common/core/range';\nimport { ICodeEditor, IEditorMouseEvent, MouseTargetType, IContentWidget, IActiveCodeEditor, IContentWidgetPosition, ContentWidgetPositionPreference } from 'vs/editor/browser/editorBrowser';\nimport { IModelDecorationOptions, IModelDeltaDecoration, TrackedRangeStickiness, ITextModel, OverviewRulerLane, IModelDecorationOverviewRulerOptions } from 'vs/editor/common/model';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IContextKeyService, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IDebugService, IBreakpoint, CONTEXT_BREAKPOINT_WIDGET_VISIBLE, BreakpointWidgetContext, IBreakpointEditorContribution, IBreakpointUpdateData, IDebugConfiguration, State, IDebugSession } from 'vs/workbench/contrib/debug/common/debug';\nimport { IMarginData } from 'vs/editor/browser/controller/mouseTarget';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { BreakpointWidget } from 'vs/workbench/contrib/debug/browser/breakpointWidget';\nimport { IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport { MarkdownString } from 'vs/base/common/htmlContent';\nimport { getBreakpointMessageAndIcon } from 'vs/workbench/contrib/debug/browser/breakpointsView';\nimport { generateUuid } from 'vs/base/common/uuid';\nimport { memoize } from 'vs/base/common/decorators';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { distinct } from 'vs/base/common/arrays';\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport { EditorOption } from 'vs/editor/common/config/editorOptions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { BrowserFeatures } from 'vs/base/browser/canIUse';\nimport { isSafari } from 'vs/base/browser/browser';\nimport { registerThemingParticipant, themeColorFromId, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { registerColor } from 'vs/platform/theme/common/colorRegistry';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport * as icons from 'vs/workbench/contrib/debug/browser/debugIcons';\n\nconst $ = dom.$;\n\ninterface IBreakpointDecoration {\n\tdecorationId: string;\n\tbreakpoint: IBreakpoint;\n\trange: Range;\n\tinlineWidget?: InlineBreakpointWidget;\n}\n\nconst breakpointHelperDecoration: IModelDecorationOptions = {\n\tglyphMarginClassName: ThemeIcon.asClassName(icons.debugBreakpointHint),\n\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n};\n\nexport function createBreakpointDecorations(model: ITextModel, breakpoints: ReadonlyArray<IBreakpoint>, state: State, breakpointsActivated: boolean, showBreakpointsInOverviewRuler: boolean): { range: Range; options: IModelDecorationOptions; }[] {\n\tconst result: { range: Range; options: IModelDecorationOptions; }[] = [];\n\tbreakpoints.forEach((breakpoint) => {\n\t\tif (breakpoint.lineNumber > model.getLineCount()) {\n\t\t\treturn;\n\t\t}\n\t\tconst column = model.getLineFirstNonWhitespaceColumn(breakpoint.lineNumber);\n\t\tconst range = model.validateRange(\n\t\t\tbreakpoint.column ? new Range(breakpoint.lineNumber, breakpoint.column, breakpoint.lineNumber, breakpoint.column + 1)\n\t\t\t\t: new Range(breakpoint.lineNumber, column, breakpoint.lineNumber, column + 1) // Decoration has to have a width #20688\n\t\t);\n\n\t\tresult.push({\n\t\t\toptions: getBreakpointDecorationOptions(model, breakpoint, state, breakpointsActivated, showBreakpointsInOverviewRuler),\n\t\t\trange\n\t\t});\n\t});\n\n\treturn result;\n}\n\nfunction getBreakpointDecorationOptions(model: ITextModel, breakpoint: IBreakpoint, state: State, breakpointsActivated: boolean, showBreakpointsInOverviewRuler: boolean): IModelDecorationOptions {\n\tconst { icon, message } = getBreakpointMessageAndIcon(state, breakpointsActivated, breakpoint, undefined);\n\tlet glyphMarginHoverMessage: MarkdownString | undefined;\n\n\tif (message) {\n\t\tif (breakpoint.condition || breakpoint.hitCondition) {\n\t\t\tconst modeId = model.getLanguageIdentifier().language;\n\t\t\tglyphMarginHoverMessage = new MarkdownString().appendCodeblock(modeId, message);\n\t\t} else {\n\t\t\tglyphMarginHoverMessage = new MarkdownString().appendText(message);\n\t\t}\n\t}\n\n\tlet overviewRulerDecoration: IModelDecorationOverviewRulerOptions | null = null;\n\tif (showBreakpointsInOverviewRuler) {\n\t\toverviewRulerDecoration = {\n\t\t\tcolor: themeColorFromId(debugIconBreakpointForeground),\n\t\t\tposition: OverviewRulerLane.Left\n\t\t};\n\t}\n\n\tconst renderInline = breakpoint.column && (breakpoint.column > model.getLineFirstNonWhitespaceColumn(breakpoint.lineNumber));\n\treturn {\n\t\tglyphMarginClassName: ThemeIcon.asClassName(icon),\n\t\tglyphMarginHoverMessage,\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tbeforeContentClassName: renderInline ? `debug-breakpoint-placeholder` : undefined,\n\t\toverviewRuler: overviewRulerDecoration\n\t};\n}\n\nasync function createCandidateDecorations(model: ITextModel, breakpointDecorations: IBreakpointDecoration[], session: IDebugSession): Promise<{ range: Range; options: IModelDecorationOptions; breakpoint: IBreakpoint | undefined }[]> {\n\tconst lineNumbers = distinct(breakpointDecorations.map(bpd => bpd.range.startLineNumber));\n\tconst result: { range: Range; options: IModelDecorationOptions; breakpoint: IBreakpoint | undefined }[] = [];\n\tif (session.capabilities.supportsBreakpointLocationsRequest) {\n\t\tawait Promise.all(lineNumbers.map(async lineNumber => {\n\t\t\ttry {\n\t\t\t\tconst positions = await session.breakpointsLocations(model.uri, lineNumber);\n\t\t\t\tif (positions.length > 1) {\n\t\t\t\t\t// Do not render candidates if there is only one, since it is already covered by the line breakpoint\n\t\t\t\t\tconst firstColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);\n\t\t\t\t\tconst lastColumn = model.getLineLastNonWhitespaceColumn(lineNumber);\n\t\t\t\t\tpositions.forEach(p => {\n\t\t\t\t\t\tconst range = new Range(p.lineNumber, p.column, p.lineNumber, p.column + 1);\n\t\t\t\t\t\tif (p.column <= firstColumn || p.column > lastColumn) {\n\t\t\t\t\t\t\t// Do not render candidates on the start of the line.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst breakpointAtPosition = breakpointDecorations.find(bpd => bpd.range.equalsRange(range));\n\t\t\t\t\t\tif (breakpointAtPosition && breakpointAtPosition.inlineWidget) {\n\t\t\t\t\t\t\t// Space already occupied, do not render candidate.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\t\t\t\t\t\t\tbeforeContentClassName: breakpointAtPosition ? undefined : `debug-breakpoint-placeholder`\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbreakpoint: breakpointAtPosition ? breakpointAtPosition.breakpoint : undefined\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// If there is an error when fetching breakpoint locations just do not render them\n\t\t\t}\n\t\t}));\n\t}\n\n\treturn result;\n}\n\nexport class BreakpointEditorContribution implements IBreakpointEditorContribution {\n\n\tprivate breakpointHintDecoration: string[] = [];\n\tprivate breakpointWidget: BreakpointWidget | undefined;\n\tprivate breakpointWidgetVisible: IContextKey<boolean>;\n\tprivate toDispose: IDisposable[] = [];\n\tprivate ignoreDecorationsChangedEvent = false;\n\tprivate ignoreBreakpointsChangeEvent = false;\n\tprivate breakpointDecorations: IBreakpointDecoration[] = [];\n\tprivate candidateDecorations: { decorationId: string, inlineWidget: InlineBreakpointWidget }[] = [];\n\tprivate setDecorationsScheduler: RunOnceScheduler;\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ILabelService private readonly labelService: ILabelService\n\t) {\n\t\tthis.breakpointWidgetVisible = CONTEXT_BREAKPOINT_WIDGET_VISIBLE.bindTo(contextKeyService);\n\t\tthis.setDecorationsScheduler = new RunOnceScheduler(() => this.setDecorations(), 30);\n\t\tthis.registerListeners();\n\t\tthis.setDecorationsScheduler.schedule();\n\t}\n\n\t/**\n\t * Returns context menu actions at the line number if breakpoints can be\n\t * set. This is used by the {@link TestingDecorations} to allow breakpoint\n\t * setting on lines where breakpoint \"run\" actions are present.\n\t */\n\tpublic getContextMenuActionsAtPosition(lineNumber: number, model: ITextModel) {\n\t\tif (!this.debugService.getAdapterManager().hasDebuggers()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (!this.debugService.canSetBreakpointsIn(model)) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ lineNumber, uri: model.uri });\n\t\treturn this.getContextMenuActions(breakpoints, model.uri, lineNumber);\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis.toDispose.push(this.editor.onMouseDown(async (e: IEditorMouseEvent) => {\n\t\t\tif (!this.debugService.getAdapterManager().hasDebuggers()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data = e.target.detail as IMarginData;\n\t\t\tconst model = this.editor.getModel();\n\t\t\tif (!e.target.position || !model || e.target.type !== MouseTargetType.GUTTER_GLYPH_MARGIN || data.isAfterLines || !this.marginFreeFromNonDebugDecorations(e.target.position.lineNumber)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst canSetBreakpoints = this.debugService.canSetBreakpointsIn(model);\n\t\t\tconst lineNumber = e.target.position.lineNumber;\n\t\t\tconst uri = model.uri;\n\n\t\t\tif (e.event.rightButton || (env.isMacintosh && e.event.leftButton && e.event.ctrlKey)) {\n\t\t\t\tif (!canSetBreakpoints) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst anchor = { x: e.event.posx, y: e.event.posy };\n\t\t\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ lineNumber, uri });\n\t\t\t\tconst actions = this.getContextMenuActions(breakpoints, uri, lineNumber);\n\n\t\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\t\tgetAnchor: () => anchor,\n\t\t\t\t\tgetActions: () => actions,\n\t\t\t\t\tgetActionsContext: () => breakpoints.length ? breakpoints[0] : undefined,\n\t\t\t\t\tonHide: () => dispose(actions)\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ uri, lineNumber });\n\n\t\t\t\tif (breakpoints.length) {\n\t\t\t\t\t// Show the dialog if there is a potential condition to be accidently lost.\n\t\t\t\t\t// Do not show dialog on linux due to electron issue freezing the mouse #50026\n\t\t\t\t\tif (!env.isLinux && breakpoints.some(bp => !!bp.condition || !!bp.logMessage || !!bp.hitCondition)) {\n\t\t\t\t\t\tconst logPoint = breakpoints.every(bp => !!bp.logMessage);\n\t\t\t\t\t\tconst breakpointType = logPoint ? nls.localize('logPoint', \"Logpoint\") : nls.localize('breakpoint', \"Breakpoint\");\n\t\t\t\t\t\tconst disable = breakpoints.some(bp => bp.enabled);\n\n\t\t\t\t\t\tconst enabling = nls.localize('breakpointHasConditionDisabled',\n\t\t\t\t\t\t\t\"This {0} has a {1} that will get lost on remove. Consider enabling the {0} instead.\",\n\t\t\t\t\t\t\tbreakpointType.toLowerCase(),\n\t\t\t\t\t\t\tlogPoint ? nls.localize('message', \"message\") : nls.localize('condition', \"condition\")\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst disabling = nls.localize('breakpointHasConditionEnabled',\n\t\t\t\t\t\t\t\"This {0} has a {1} that will get lost on remove. Consider disabling the {0} instead.\",\n\t\t\t\t\t\t\tbreakpointType.toLowerCase(),\n\t\t\t\t\t\t\tlogPoint ? nls.localize('message', \"message\") : nls.localize('condition', \"condition\")\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst { choice } = await this.dialogService.show(severity.Info, disable ? disabling : enabling, [\n\t\t\t\t\t\t\tnls.localize('removeLogPoint', \"Remove {0}\", breakpointType),\n\t\t\t\t\t\t\tnls.localize('disableLogPoint', \"{0} {1}\", disable ? nls.localize('disable', \"Disable\") : nls.localize('enable', \"Enable\"), breakpointType),\n\t\t\t\t\t\t\tnls.localize('cancel', \"Cancel\")\n\t\t\t\t\t\t], { cancelId: 2 });\n\n\t\t\t\t\t\tif (choice === 0) {\n\t\t\t\t\t\t\tbreakpoints.forEach(bp => this.debugService.removeBreakpoints(bp.getId()));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (choice === 1) {\n\t\t\t\t\t\t\tbreakpoints.forEach(bp => this.debugService.enableOrDisableBreakpoints(!disable, bp));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreakpoints.forEach(bp => this.debugService.removeBreakpoints(bp.getId()));\n\t\t\t\t\t}\n\t\t\t\t} else if (canSetBreakpoints) {\n\t\t\t\t\tthis.debugService.addBreakpoints(uri, [{ lineNumber }]);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tif (!(BrowserFeatures.pointerEvents && isSafari)) {\n\t\t\t/**\n\t\t\t * We disable the hover feature for Safari on iOS as\n\t\t\t * 1. Browser hover events are handled specially by the system (it treats first click as hover if there is `:hover` css registered). Below hover behavior will confuse users with inconsistent expeirence.\n\t\t\t * 2. When users click on line numbers, the breakpoint hint displays immediately, however it doesn't create the breakpoint unless users click on the left gutter. On a touch screen, it's hard to click on that small area.\n\t\t\t */\n\t\t\tthis.toDispose.push(this.editor.onMouseMove((e: IEditorMouseEvent) => {\n\t\t\t\tif (!this.debugService.getAdapterManager().hasDebuggers()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet showBreakpointHintAtLineNumber = -1;\n\t\t\t\tconst model = this.editor.getModel();\n\t\t\t\tif (model && e.target.position && (e.target.type === MouseTargetType.GUTTER_GLYPH_MARGIN || e.target.type === MouseTargetType.GUTTER_LINE_NUMBERS) && this.debugService.canSetBreakpointsIn(model) &&\n\t\t\t\t\tthis.marginFreeFromNonDebugDecorations(e.target.position.lineNumber)) {\n\t\t\t\t\tconst data = e.target.detail as IMarginData;\n\t\t\t\t\tif (!data.isAfterLines) {\n\t\t\t\t\t\tshowBreakpointHintAtLineNumber = e.target.position.lineNumber;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.ensureBreakpointHintDecoration(showBreakpointHintAtLineNumber);\n\t\t\t}));\n\t\t\tthis.toDispose.push(this.editor.onMouseLeave(() => {\n\t\t\t\tthis.ensureBreakpointHintDecoration(-1);\n\t\t\t}));\n\t\t}\n\n\n\t\tthis.toDispose.push(this.editor.onDidChangeModel(async () => {\n\t\t\tthis.closeBreakpointWidget();\n\t\t\tawait this.setDecorations();\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(() => {\n\t\t\tif (!this.ignoreBreakpointsChangeEvent && !this.setDecorationsScheduler.isScheduled()) {\n\t\t\t\tthis.setDecorationsScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.onDidChangeState(() => {\n\t\t\t// We need to update breakpoint decorations when state changes since the top stack frame and breakpoint decoration might change\n\t\t\tif (!this.setDecorationsScheduler.isScheduled()) {\n\t\t\t\tthis.setDecorationsScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.editor.onDidChangeModelDecorations(() => this.onModelDecorationsChanged()));\n\t\tthis.toDispose.push(this.configurationService.onDidChangeConfiguration(async (e) => {\n\t\t\tif (e.affectsConfiguration('debug.showBreakpointsInOverviewRuler') || e.affectsConfiguration('debug.showInlineBreakpointCandidates')) {\n\t\t\t\tawait this.setDecorations();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate getContextMenuActions(breakpoints: ReadonlyArray<IBreakpoint>, uri: URI, lineNumber: number, column?: number): IAction[] {\n\t\tconst actions: IAction[] = [];\n\t\tif (breakpoints.length === 1) {\n\t\t\tconst breakpointType = breakpoints[0].logMessage ? nls.localize('logPoint', \"Logpoint\") : nls.localize('breakpoint', \"Breakpoint\");\n\t\t\tactions.push(new Action('debug.removeBreakpoint', nls.localize('removeBreakpoint', \"Remove {0}\", breakpointType), undefined, true, async () => {\n\t\t\t\tawait this.debugService.removeBreakpoints(breakpoints[0].getId());\n\t\t\t}));\n\t\t\tactions.push(new Action(\n\t\t\t\t'workbench.debug.action.editBreakpointAction',\n\t\t\t\tnls.localize('editBreakpoint', \"Edit {0}...\", breakpointType),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => Promise.resolve(this.showBreakpointWidget(breakpoints[0].lineNumber, breakpoints[0].column))\n\t\t\t));\n\n\t\t\tactions.push(new Action(\n\t\t\t\t`workbench.debug.viewlet.action.toggleBreakpoint`,\n\t\t\t\tbreakpoints[0].enabled ? nls.localize('disableBreakpoint', \"Disable {0}\", breakpointType) : nls.localize('enableBreakpoint', \"Enable {0}\", breakpointType),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => this.debugService.enableOrDisableBreakpoints(!breakpoints[0].enabled, breakpoints[0])\n\t\t\t));\n\t\t} else if (breakpoints.length > 1) {\n\t\t\tconst sorted = breakpoints.slice().sort((first, second) => (first.column && second.column) ? first.column - second.column : 1);\n\t\t\tactions.push(new SubmenuAction('debug.removeBreakpoints', nls.localize('removeBreakpoints', \"Remove Breakpoints\"), sorted.map(bp => new Action(\n\t\t\t\t'removeInlineBreakpoint',\n\t\t\t\tbp.column ? nls.localize('removeInlineBreakpointOnColumn', \"Remove Inline Breakpoint on Column {0}\", bp.column) : nls.localize('removeLineBreakpoint', \"Remove Line Breakpoint\"),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => this.debugService.removeBreakpoints(bp.getId())\n\t\t\t))));\n\n\t\t\tactions.push(new SubmenuAction('debug.editBReakpoints', nls.localize('editBreakpoints', \"Edit Breakpoints\"), sorted.map(bp =>\n\t\t\t\tnew Action('editBreakpoint',\n\t\t\t\t\tbp.column ? nls.localize('editInlineBreakpointOnColumn', \"Edit Inline Breakpoint on Column {0}\", bp.column) : nls.localize('editLineBrekapoint', \"Edit Line Breakpoint\"),\n\t\t\t\t\tundefined,\n\t\t\t\t\ttrue,\n\t\t\t\t\t() => Promise.resolve(this.showBreakpointWidget(bp.lineNumber, bp.column))\n\t\t\t\t)\n\t\t\t)));\n\n\t\t\tactions.push(new SubmenuAction('debug.enableDisableBreakpoints', nls.localize('enableDisableBreakpoints', \"Enable/Disable Breakpoints\"), sorted.map(bp => new Action(\n\t\t\t\tbp.enabled ? 'disableColumnBreakpoint' : 'enableColumnBreakpoint',\n\t\t\t\tbp.enabled ? (bp.column ? nls.localize('disableInlineColumnBreakpoint', \"Disable Inline Breakpoint on Column {0}\", bp.column) : nls.localize('disableBreakpointOnLine', \"Disable Line Breakpoint\"))\n\t\t\t\t\t: (bp.column ? nls.localize('enableBreakpoints', \"Enable Inline Breakpoint on Column {0}\", bp.column) : nls.localize('enableBreakpointOnLine', \"Enable Line Breakpoint\")),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => this.debugService.enableOrDisableBreakpoints(!bp.enabled, bp)\n\t\t\t))));\n\t\t} else {\n\t\t\tactions.push(new Action(\n\t\t\t\t'addBreakpoint',\n\t\t\t\tnls.localize('addBreakpoint', \"Add Breakpoint\"),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => this.debugService.addBreakpoints(uri, [{ lineNumber, column }])\n\t\t\t));\n\t\t\tactions.push(new Action(\n\t\t\t\t'addConditionalBreakpoint',\n\t\t\t\tnls.localize('addConditionalBreakpoint', \"Add Conditional Breakpoint...\"),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => Promise.resolve(this.showBreakpointWidget(lineNumber, column, BreakpointWidgetContext.CONDITION))\n\t\t\t));\n\t\t\tactions.push(new Action(\n\t\t\t\t'addLogPoint',\n\t\t\t\tnls.localize('addLogPoint', \"Add Logpoint...\"),\n\t\t\t\tundefined,\n\t\t\t\ttrue,\n\t\t\t\t() => Promise.resolve(this.showBreakpointWidget(lineNumber, column, BreakpointWidgetContext.LOG_MESSAGE))\n\t\t\t));\n\t\t}\n\n\t\treturn actions;\n\t}\n\n\tprivate marginFreeFromNonDebugDecorations(line: number): boolean {\n\t\tconst decorations = this.editor.getLineDecorations(line);\n\t\tif (decorations) {\n\t\t\tfor (const { options } of decorations) {\n\t\t\t\tconst clz = options.glyphMarginClassName;\n\t\t\t\tif (clz && (!clz.includes('codicon-') || clz.includes('codicon-testing-'))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate ensureBreakpointHintDecoration(showBreakpointHintAtLineNumber: number): void {\n\t\tconst newDecoration: IModelDeltaDecoration[] = [];\n\t\tif (showBreakpointHintAtLineNumber !== -1) {\n\t\t\tnewDecoration.push({\n\t\t\t\toptions: breakpointHelperDecoration,\n\t\t\t\trange: {\n\t\t\t\t\tstartLineNumber: showBreakpointHintAtLineNumber,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: showBreakpointHintAtLineNumber,\n\t\t\t\t\tendColumn: 1\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.breakpointHintDecoration = this.editor.deltaDecorations(this.breakpointHintDecoration, newDecoration);\n\t}\n\n\tprivate async setDecorations(): Promise<void> {\n\t\tif (!this.editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeCodeEditor = this.editor;\n\t\tconst model = activeCodeEditor.getModel();\n\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ uri: model.uri });\n\t\tconst debugSettings = this.configurationService.getValue<IDebugConfiguration>('debug');\n\t\tconst desiredBreakpointDecorations = createBreakpointDecorations(model, breakpoints, this.debugService.state, this.debugService.getModel().areBreakpointsActivated(), debugSettings.showBreakpointsInOverviewRuler);\n\n\t\ttry {\n\t\t\tthis.ignoreDecorationsChangedEvent = true;\n\n\t\t\t// Set breakpoint decorations\n\t\t\tconst decorationIds = activeCodeEditor.deltaDecorations(this.breakpointDecorations.map(bpd => bpd.decorationId), desiredBreakpointDecorations);\n\t\t\tthis.breakpointDecorations.forEach(bpd => {\n\t\t\t\tif (bpd.inlineWidget) {\n\t\t\t\t\tbpd.inlineWidget.dispose();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.breakpointDecorations = decorationIds.map((decorationId, index) => {\n\t\t\t\tlet inlineWidget: InlineBreakpointWidget | undefined = undefined;\n\t\t\t\tconst breakpoint = breakpoints[index];\n\t\t\t\tif (desiredBreakpointDecorations[index].options.beforeContentClassName) {\n\t\t\t\t\tconst contextMenuActions = () => this.getContextMenuActions([breakpoint], activeCodeEditor.getModel().uri, breakpoint.lineNumber, breakpoint.column);\n\t\t\t\t\tinlineWidget = new InlineBreakpointWidget(activeCodeEditor, decorationId, desiredBreakpointDecorations[index].options.glyphMarginClassName, breakpoint, this.debugService, this.contextMenuService, contextMenuActions);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tdecorationId,\n\t\t\t\t\tbreakpoint,\n\t\t\t\t\trange: desiredBreakpointDecorations[index].range,\n\t\t\t\t\tinlineWidget\n\t\t\t\t};\n\t\t\t});\n\n\t\t} finally {\n\t\t\tthis.ignoreDecorationsChangedEvent = false;\n\t\t}\n\n\t\t// Set breakpoint candidate decorations\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\tconst desiredCandidateDecorations = debugSettings.showInlineBreakpointCandidates && session ? await createCandidateDecorations(this.editor.getModel(), this.breakpointDecorations, session) : [];\n\t\tconst candidateDecorationIds = this.editor.deltaDecorations(this.candidateDecorations.map(c => c.decorationId), desiredCandidateDecorations);\n\t\tthis.candidateDecorations.forEach(candidate => {\n\t\t\tcandidate.inlineWidget.dispose();\n\t\t});\n\t\tthis.candidateDecorations = candidateDecorationIds.map((decorationId, index) => {\n\t\t\tconst candidate = desiredCandidateDecorations[index];\n\t\t\t// Candidate decoration has a breakpoint attached when a breakpoint is already at that location and we did not yet set a decoration there\n\t\t\t// In practice this happens for the first breakpoint that was set on a line\n\t\t\t// We could have also rendered this first decoration as part of desiredBreakpointDecorations however at that moment we have no location information\n\t\t\tconst icon = candidate.breakpoint ? getBreakpointMessageAndIcon(this.debugService.state, this.debugService.getModel().areBreakpointsActivated(), candidate.breakpoint, this.labelService).icon : icons.breakpoint.disabled;\n\t\t\tconst contextMenuActions = () => this.getContextMenuActions(candidate.breakpoint ? [candidate.breakpoint] : [], activeCodeEditor.getModel().uri, candidate.range.startLineNumber, candidate.range.startColumn);\n\t\t\tconst inlineWidget = new InlineBreakpointWidget(activeCodeEditor, decorationId, ThemeIcon.asClassName(icon), candidate.breakpoint, this.debugService, this.contextMenuService, contextMenuActions);\n\n\t\t\treturn {\n\t\t\t\tdecorationId,\n\t\t\t\tinlineWidget\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate async onModelDecorationsChanged(): Promise<void> {\n\t\tif (this.breakpointDecorations.length === 0 || this.ignoreDecorationsChangedEvent || !this.editor.hasModel()) {\n\t\t\t// I have no decorations\n\t\t\treturn;\n\t\t}\n\t\tlet somethingChanged = false;\n\t\tconst model = this.editor.getModel();\n\t\tthis.breakpointDecorations.forEach(breakpointDecoration => {\n\t\t\tif (somethingChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newBreakpointRange = model.getDecorationRange(breakpointDecoration.decorationId);\n\t\t\tif (newBreakpointRange && (!breakpointDecoration.range.equalsRange(newBreakpointRange))) {\n\t\t\t\tsomethingChanged = true;\n\t\t\t\tbreakpointDecoration.range = newBreakpointRange;\n\t\t\t}\n\t\t});\n\t\tif (!somethingChanged) {\n\t\t\t// nothing to do, my decorations did not change.\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = new Map<string, IBreakpointUpdateData>();\n\t\tfor (let i = 0, len = this.breakpointDecorations.length; i < len; i++) {\n\t\t\tconst breakpointDecoration = this.breakpointDecorations[i];\n\t\t\tconst decorationRange = model.getDecorationRange(breakpointDecoration.decorationId);\n\t\t\t// check if the line got deleted.\n\t\t\tif (decorationRange) {\n\t\t\t\t// since we know it is collapsed, it cannot grow to multiple lines\n\t\t\t\tif (breakpointDecoration.breakpoint) {\n\t\t\t\t\tdata.set(breakpointDecoration.breakpoint.getId(), {\n\t\t\t\t\t\tlineNumber: decorationRange.startLineNumber,\n\t\t\t\t\t\tcolumn: breakpointDecoration.breakpoint.column ? decorationRange.startColumn : undefined,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tthis.ignoreBreakpointsChangeEvent = true;\n\t\t\tawait this.debugService.updateBreakpoints(model.uri, data, true);\n\t\t} finally {\n\t\t\tthis.ignoreBreakpointsChangeEvent = false;\n\t\t}\n\t}\n\n\t// breakpoint widget\n\tshowBreakpointWidget(lineNumber: number, column: number | undefined, context?: BreakpointWidgetContext): void {\n\t\tif (this.breakpointWidget) {\n\t\t\tthis.breakpointWidget.dispose();\n\t\t}\n\n\t\tthis.breakpointWidget = this.instantiationService.createInstance(BreakpointWidget, this.editor, lineNumber, column, context);\n\t\tthis.breakpointWidget.show({ lineNumber, column: 1 });\n\t\tthis.breakpointWidgetVisible.set(true);\n\t}\n\n\tcloseBreakpointWidget(): void {\n\t\tif (this.breakpointWidget) {\n\t\t\tthis.breakpointWidget.dispose();\n\t\t\tthis.breakpointWidget = undefined;\n\t\t\tthis.breakpointWidgetVisible.reset();\n\t\t\tthis.editor.focus();\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tif (this.breakpointWidget) {\n\t\t\tthis.breakpointWidget.dispose();\n\t\t}\n\t\tthis.editor.deltaDecorations(this.breakpointDecorations.map(bpd => bpd.decorationId), []);\n\t\tdispose(this.toDispose);\n\t}\n}\n\nclass InlineBreakpointWidget implements IContentWidget, IDisposable {\n\n\t// editor.IContentWidget.allowEditorOverflow\n\tallowEditorOverflow = false;\n\tsuppressMouseDown = true;\n\n\tprivate domNode!: HTMLElement;\n\tprivate range: Range | null;\n\tprivate toDispose: IDisposable[] = [];\n\n\tconstructor(\n\t\tprivate readonly editor: IActiveCodeEditor,\n\t\tprivate readonly decorationId: string,\n\t\tcssClass: string | null | undefined,\n\t\tprivate readonly breakpoint: IBreakpoint | undefined,\n\t\tprivate readonly debugService: IDebugService,\n\t\tprivate readonly contextMenuService: IContextMenuService,\n\t\tprivate readonly getContextMenuActions: () => IAction[]\n\t) {\n\t\tthis.range = this.editor.getModel().getDecorationRange(decorationId);\n\t\tthis.toDispose.push(this.editor.onDidChangeModelDecorations(() => {\n\t\t\tconst model = this.editor.getModel();\n\t\t\tconst range = model.getDecorationRange(this.decorationId);\n\t\t\tif (this.range && !this.range.equalsRange(range)) {\n\t\t\t\tthis.range = range;\n\t\t\t\tthis.editor.layoutContentWidget(this);\n\t\t\t}\n\t\t}));\n\t\tthis.create(cssClass);\n\n\t\tthis.editor.addContentWidget(this);\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tprivate create(cssClass: string | null | undefined): void {\n\t\tthis.domNode = $('.inline-breakpoint-widget');\n\t\tif (cssClass) {\n\t\t\tthis.domNode.classList.add(...cssClass.split(' '));\n\t\t}\n\t\tthis.toDispose.push(dom.addDisposableListener(this.domNode, dom.EventType.CLICK, async e => {\n\t\t\tif (this.breakpoint) {\n\t\t\t\tawait this.debugService.removeBreakpoints(this.breakpoint.getId());\n\t\t\t} else {\n\t\t\t\tawait this.debugService.addBreakpoints(this.editor.getModel().uri, [{ lineNumber: this.range!.startLineNumber, column: this.range!.startColumn }]);\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(dom.addDisposableListener(this.domNode, dom.EventType.CONTEXT_MENU, e => {\n\t\t\tconst event = new StandardMouseEvent(e);\n\t\t\tconst anchor = { x: event.posx, y: event.posy };\n\t\t\tconst actions = this.getContextMenuActions();\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tgetActionsContext: () => this.breakpoint,\n\t\t\t\tonHide: () => dispose(actions)\n\t\t\t});\n\t\t}));\n\n\t\tconst updateSize = () => {\n\t\t\tconst lineHeight = this.editor.getOption(EditorOption.lineHeight);\n\t\t\tthis.domNode.style.height = `${lineHeight}px`;\n\t\t\tthis.domNode.style.width = `${Math.ceil(0.8 * lineHeight)}px`;\n\t\t\tthis.domNode.style.marginLeft = `4px`;\n\t\t};\n\t\tupdateSize();\n\n\t\tthis.toDispose.push(this.editor.onDidChangeConfiguration(c => {\n\t\t\tif (c.hasChanged(EditorOption.fontSize) || c.hasChanged(EditorOption.lineHeight)) {\n\t\t\t\tupdateSize();\n\t\t\t}\n\t\t}));\n\t}\n\n\t@memoize\n\tgetId(): string {\n\t\treturn generateUuid();\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\tif (!this.range) {\n\t\t\treturn null;\n\t\t}\n\t\t// Workaround: since the content widget can not be placed before the first column we need to force the left position\n\t\tthis.domNode.classList.toggle('line-start', this.range.startColumn === 1);\n\n\t\treturn {\n\t\t\tposition: { lineNumber: this.range.startLineNumber, column: this.range.startColumn - 1 },\n\t\t\tpreference: [ContentWidgetPositionPreference.EXACT]\n\t\t};\n\t}\n\n\tdispose(): void {\n\t\tthis.editor.removeContentWidget(this);\n\t\tdispose(this.toDispose);\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst debugIconBreakpointColor = theme.getColor(debugIconBreakpointForeground);\n\tif (debugIconBreakpointColor) {\n\t\tcollector.addRule(`\n\t\t${icons.allBreakpoints.map(b => `.monaco-workbench ${ThemeIcon.asCSSSelector(b.regular)}`).join(',\\n\t\t')},\n\t\t.monaco-workbench ${ThemeIcon.asCSSSelector(icons.debugBreakpointUnsupported)},\n\t\t.monaco-workbench ${ThemeIcon.asCSSSelector(icons.debugBreakpointHint)}:not([class*='codicon-debug-breakpoint']):not([class*='codicon-debug-stackframe']),\n\t\t.monaco-workbench ${ThemeIcon.asCSSSelector(icons.breakpoint.regular)}${ThemeIcon.asCSSSelector(icons.debugStackframeFocused)}::after,\n\t\t.monaco-workbench ${ThemeIcon.asCSSSelector(icons.breakpoint.regular)}${ThemeIcon.asCSSSelector(icons.debugStackframe)}::after {\n\t\t\tcolor: ${debugIconBreakpointColor} !important;\n\t\t}\n\t\t`);\n\t}\n\n\tconst debugIconBreakpointDisabledColor = theme.getColor(debugIconBreakpointDisabledForeground);\n\tif (debugIconBreakpointDisabledColor) {\n\t\tcollector.addRule(`\n\t\t${icons.allBreakpoints.map(b => `.monaco-workbench ${ThemeIcon.asCSSSelector(b.disabled)}`).join(',\\n\t\t')} {\n\t\t\tcolor: ${debugIconBreakpointDisabledColor} !important;\n\t\t}\n\t\t`);\n\t}\n\n\tconst debugIconBreakpointUnverifiedColor = theme.getColor(debugIconBreakpointUnverifiedForeground);\n\tif (debugIconBreakpointUnverifiedColor) {\n\t\tcollector.addRule(`\n\t\t${icons.allBreakpoints.map(b => `.monaco-workbench ${ThemeIcon.asCSSSelector(b.unverified)}`).join(',\\n\t\t')} {\n\t\t\tcolor: ${debugIconBreakpointUnverifiedColor};\n\t\t}\n\t\t`);\n\t}\n\n\tconst debugIconBreakpointCurrentStackframeForegroundColor = theme.getColor(debugIconBreakpointCurrentStackframeForeground);\n\tif (debugIconBreakpointCurrentStackframeForegroundColor) {\n\t\tcollector.addRule(`\n\t\t.monaco-workbench ${ThemeIcon.asCSSSelector(icons.debugStackframe)},\n\t\t.monaco-editor .debug-top-stack-frame-column::before {\n\t\t\tcolor: ${debugIconBreakpointCurrentStackframeForegroundColor} !important;\n\t\t}\n\t\t`);\n\t}\n\n\tconst debugIconBreakpointStackframeFocusedColor = theme.getColor(debugIconBreakpointStackframeForeground);\n\tif (debugIconBreakpointStackframeFocusedColor) {\n\t\tcollector.addRule(`\n\t\t.monaco-workbench ${ThemeIcon.asCSSSelector(icons.debugStackframeFocused)} {\n\t\t\tcolor: ${debugIconBreakpointStackframeFocusedColor} !important;\n\t\t}\n\t\t`);\n\t}\n});\n\nconst debugIconBreakpointForeground = registerColor('debugIcon.breakpointForeground', { dark: '#E51400', light: '#E51400', hc: '#E51400' }, nls.localize('debugIcon.breakpointForeground', 'Icon color for breakpoints.'));\nconst debugIconBreakpointDisabledForeground = registerColor('debugIcon.breakpointDisabledForeground', { dark: '#848484', light: '#848484', hc: '#848484' }, nls.localize('debugIcon.breakpointDisabledForeground', 'Icon color for disabled breakpoints.'));\nconst debugIconBreakpointUnverifiedForeground = registerColor('debugIcon.breakpointUnverifiedForeground', { dark: '#848484', light: '#848484', hc: '#848484' }, nls.localize('debugIcon.breakpointUnverifiedForeground', 'Icon color for unverified breakpoints.'));\nconst debugIconBreakpointCurrentStackframeForeground = registerColor('debugIcon.breakpointCurrentStackframeForeground', { dark: '#FFCC00', light: '#BE8700', hc: '#FFCC00' }, nls.localize('debugIcon.breakpointCurrentStackframeForeground', 'Icon color for the current breakpoint stack frame.'));\nconst debugIconBreakpointStackframeForeground = registerColor('debugIcon.breakpointStackframeForeground', { dark: '#89D185', light: '#89D185', hc: '#89D185' }, nls.localize('debugIcon.breakpointStackframeForeground', 'Icon color for all breakpoint stack frames.'));\n"]}