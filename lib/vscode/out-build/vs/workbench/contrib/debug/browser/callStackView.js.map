{"version":3,"sources":["vs/workbench/contrib/debug/browser/callStackView.ts"],"names":[],"mappings":"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","file":"callStackView.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport * as dom from 'vs/base/browser/dom';\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { IDebugService, State, IStackFrame, IDebugSession, IThread, CONTEXT_CALLSTACK_ITEM_TYPE, IDebugModel, CALLSTACK_VIEW_ID, CONTEXT_DEBUG_STATE, getStateLabel, CONTEXT_STACK_FRAME_SUPPORTS_RESTART, CONTEXT_CALLSTACK_SESSION_IS_ATTACH, CONTEXT_CALLSTACK_ITEM_STOPPED, CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD } from 'vs/workbench/contrib/debug/common/debug';\nimport { Thread, StackFrame, ThreadAndSessionIds } from 'vs/workbench/contrib/debug/common/debugModel';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { MenuId, IMenu, IMenuService, MenuItemAction, SubmenuItemAction, registerAction2, MenuRegistry, Icon } from 'vs/platform/actions/common/actions';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { renderViewTree } from 'vs/workbench/contrib/debug/browser/baseDebugView';\nimport { IAction, Action } from 'vs/base/common/actions';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IContextKey, IContextKeyService, ContextKeyEqualsExpr, ContextKeyExpr, ContextKeyExpression } from 'vs/platform/contextkey/common/contextkey';\nimport { ViewPane, ViewAction } from 'vs/workbench/browser/parts/views/viewPane';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { createAndFillInContextMenuActions, createAndFillInActionBarActions, MenuEntryActionViewItem, SubmenuEntryActionViewItem } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { ITreeNode, ITreeContextMenuEvent, IAsyncDataSource } from 'vs/base/browser/ui/tree/tree';\nimport { WorkbenchCompressibleAsyncDataTree } from 'vs/platform/list/browser/listService';\nimport { HighlightedLabel } from 'vs/base/browser/ui/highlightedlabel/highlightedLabel';\nimport { createMatches, FuzzyScore, IMatch } from 'vs/base/common/filters';\nimport { Event } from 'vs/base/common/event';\nimport { dispose, IDisposable } from 'vs/base/common/lifecycle';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { isSessionAttach } from 'vs/workbench/contrib/debug/common/debugUtils';\nimport { STOP_ID, STOP_LABEL, DISCONNECT_ID, DISCONNECT_LABEL, RESTART_SESSION_ID, RESTART_LABEL, STEP_OVER_ID, STEP_OVER_LABEL, STEP_INTO_LABEL, STEP_INTO_ID, STEP_OUT_LABEL, STEP_OUT_ID, PAUSE_ID, PAUSE_LABEL, CONTINUE_ID, CONTINUE_LABEL } from 'vs/workbench/contrib/debug/browser/debugCommands';\nimport { IViewDescriptorService } from 'vs/workbench/common/views';\nimport { textLinkForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { IThemeService, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { attachStylerCallback } from 'vs/platform/theme/common/styler';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { commonSuffixLength } from 'vs/base/common/strings';\nimport { posix } from 'vs/base/common/path';\nimport { ITreeCompressionDelegate } from 'vs/base/browser/ui/tree/asyncDataTree';\nimport { ICompressibleTreeRenderer } from 'vs/base/browser/ui/tree/objectTree';\nimport { ICompressedTreeNode } from 'vs/base/browser/ui/tree/compressedObjectTreeModel';\nimport * as icons from 'vs/workbench/contrib/debug/browser/debugIcons';\nimport { localize } from 'vs/nls';\nimport { Codicon } from 'vs/base/common/codicons';\n\nconst $ = dom.$;\n\ntype CallStackItem = IStackFrame | IThread | IDebugSession | string | ThreadAndSessionIds | IStackFrame[];\n\nexport function getContext(element: CallStackItem | null): any {\n\treturn element instanceof StackFrame ? {\n\t\tsessionId: element.thread.session.getId(),\n\t\tthreadId: element.thread.getId(),\n\t\tframeId: element.getId()\n\t} : element instanceof Thread ? {\n\t\tsessionId: element.session.getId(),\n\t\tthreadId: element.getId()\n\t} : isDebugSession(element) ? {\n\t\tsessionId: element.getId()\n\t} : undefined;\n}\n\n// Extensions depend on this context, should not be changed even though it is not fully deterministic\nexport function getContextForContributedActions(element: CallStackItem | null): string | number {\n\tif (element instanceof StackFrame) {\n\t\tif (element.source.inMemory) {\n\t\t\treturn element.source.raw.path || element.source.reference || element.source.name;\n\t\t}\n\n\t\treturn element.source.uri.toString();\n\t}\n\tif (element instanceof Thread) {\n\t\treturn element.threadId;\n\t}\n\tif (isDebugSession(element)) {\n\t\treturn element.getId();\n\t}\n\n\treturn '';\n}\n\nexport function getSpecificSourceName(stackFrame: IStackFrame): string {\n\t// To reduce flashing of the path name and the way we fetch stack frames\n\t// We need to compute the source name based on the other frames in the stale call stack\n\tlet callStack = (<Thread>stackFrame.thread).getStaleCallStack();\n\tcallStack = callStack.length > 0 ? callStack : stackFrame.thread.getCallStack();\n\tconst otherSources = callStack.map(sf => sf.source).filter(s => s !== stackFrame.source);\n\tlet suffixLength = 0;\n\totherSources.forEach(s => {\n\t\tif (s.name === stackFrame.source.name) {\n\t\t\tsuffixLength = Math.max(suffixLength, commonSuffixLength(stackFrame.source.uri.path, s.uri.path));\n\t\t}\n\t});\n\tif (suffixLength === 0) {\n\t\treturn stackFrame.source.name;\n\t}\n\n\tconst from = Math.max(0, stackFrame.source.uri.path.lastIndexOf(posix.sep, stackFrame.source.uri.path.length - suffixLength - 1));\n\treturn (from > 0 ? '...' : '') + stackFrame.source.uri.path.substr(from);\n}\n\nasync function expandTo(session: IDebugSession, tree: WorkbenchCompressibleAsyncDataTree<IDebugModel, CallStackItem, FuzzyScore>): Promise<void> {\n\tif (session.parentSession) {\n\t\tawait expandTo(session.parentSession, tree);\n\t}\n\tawait tree.expand(session);\n}\n\nexport class CallStackView extends ViewPane {\n\tprivate stateMessage!: HTMLSpanElement;\n\tprivate stateMessageLabel!: HTMLSpanElement;\n\tprivate onCallStackChangeScheduler: RunOnceScheduler;\n\tprivate needsRefresh = false;\n\tprivate ignoreSelectionChangedEvent = false;\n\tprivate ignoreFocusStackFrameEvent = false;\n\tprivate callStackItemType: IContextKey<string>;\n\tprivate callStackSessionIsAttach: IContextKey<boolean>;\n\tprivate callStackItemStopped: IContextKey<boolean>;\n\tprivate stackFrameSupportsRestart: IContextKey<boolean>;\n\tprivate sessionHasOneThread: IContextKey<boolean>;\n\tprivate dataSource!: CallStackDataSource;\n\tprivate tree!: WorkbenchCompressibleAsyncDataTree<IDebugModel, CallStackItem, FuzzyScore>;\n\tprivate menu: IMenu;\n\tprivate autoExpandedSessions = new Set<IDebugSession>();\n\tprivate selectionNeedsUpdate = false;\n\n\tconstructor(\n\t\tprivate options: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService telemetryService: ITelemetryService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService);\n\t\tthis.callStackItemType = CONTEXT_CALLSTACK_ITEM_TYPE.bindTo(contextKeyService);\n\t\tthis.callStackSessionIsAttach = CONTEXT_CALLSTACK_SESSION_IS_ATTACH.bindTo(contextKeyService);\n\t\tthis.stackFrameSupportsRestart = CONTEXT_STACK_FRAME_SUPPORTS_RESTART.bindTo(contextKeyService);\n\t\tthis.callStackItemStopped = CONTEXT_CALLSTACK_ITEM_STOPPED.bindTo(contextKeyService);\n\t\tthis.sessionHasOneThread = CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD.bindTo(contextKeyService);\n\n\t\tthis.menu = menuService.createMenu(MenuId.DebugCallStackContext, contextKeyService);\n\t\tthis._register(this.menu);\n\n\t\t// Create scheduler to prevent unnecessary flashing of tree when reacting to changes\n\t\tthis.onCallStackChangeScheduler = new RunOnceScheduler(async () => {\n\t\t\t// Only show the global pause message if we do not display threads.\n\t\t\t// Otherwise there will be a pause message per thread and there is no need for a global one.\n\t\t\tconst sessions = this.debugService.getModel().getSessions();\n\t\t\tif (sessions.length === 0) {\n\t\t\t\tthis.autoExpandedSessions.clear();\n\t\t\t}\n\n\t\t\tconst thread = sessions.length === 1 && sessions[0].getAllThreads().length === 1 ? sessions[0].getAllThreads()[0] : undefined;\n\t\t\tif (thread && thread.stoppedDetails) {\n\t\t\t\tthis.stateMessageLabel.textContent = thread.stateLabel;\n\t\t\t\tthis.stateMessageLabel.title = thread.stateLabel;\n\t\t\t\tthis.stateMessageLabel.classList.toggle('exception', thread.stoppedDetails.reason === 'exception');\n\t\t\t\tthis.stateMessage.hidden = false;\n\t\t\t} else if (sessions.length === 1 && sessions[0].state === State.Running) {\n\t\t\t\tthis.stateMessageLabel.textContent = localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t\t\t\tthis.stateMessageLabel.title = sessions[0].getLabel();\n\t\t\t\tthis.stateMessageLabel.classList.remove('exception');\n\t\t\t\tthis.stateMessage.hidden = false;\n\t\t\t} else {\n\t\t\t\tthis.stateMessage.hidden = true;\n\t\t\t}\n\t\t\tthis.updateActions();\n\n\t\t\tthis.needsRefresh = false;\n\t\t\tthis.dataSource.deemphasizedStackFramesToShow = [];\n\t\t\tawait this.tree.updateChildren();\n\t\t\ttry {\n\t\t\t\tconst toExpand = new Set<IDebugSession>();\n\t\t\t\tsessions.forEach(s => {\n\t\t\t\t\t// Automatically expand sessions that have children, but only do this once.\n\t\t\t\t\tif (s.parentSession && !this.autoExpandedSessions.has(s.parentSession)) {\n\t\t\t\t\t\ttoExpand.add(s.parentSession);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfor (let session of toExpand) {\n\t\t\t\t\tawait expandTo(session, this.tree);\n\t\t\t\t\tthis.autoExpandedSessions.add(session);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// Ignore tree expand errors if element no longer present\n\t\t\t}\n\t\t\tif (this.selectionNeedsUpdate) {\n\t\t\t\tthis.selectionNeedsUpdate = false;\n\t\t\t\tawait this.updateTreeSelection();\n\t\t\t}\n\t\t}, 50);\n\t}\n\n\tprotected override renderHeaderTitle(container: HTMLElement): void {\n\t\tsuper.renderHeaderTitle(container, this.options.title);\n\n\t\tthis.stateMessage = dom.append(container, $('span.call-stack-state-message'));\n\t\tthis.stateMessage.hidden = true;\n\t\tthis.stateMessageLabel = dom.append(this.stateMessage, $('span.label'));\n\t}\n\n\toverride renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\t\tthis.element.classList.add('debug-pane');\n\t\tcontainer.classList.add('debug-call-stack');\n\t\tconst treeContainer = renderViewTree(container);\n\n\t\tthis.dataSource = new CallStackDataSource(this.debugService);\n\t\tthis.tree = <WorkbenchCompressibleAsyncDataTree<IDebugModel, CallStackItem, FuzzyScore>>this.instantiationService.createInstance(WorkbenchCompressibleAsyncDataTree, 'CallStackView', treeContainer, new CallStackDelegate(), new CallStackCompressionDelegate(this.debugService), [\n\t\t\tnew SessionsRenderer(this.menu, this.callStackItemType, this.callStackSessionIsAttach, this.callStackItemStopped, this.sessionHasOneThread, this.instantiationService),\n\t\t\tnew ThreadsRenderer(this.menu, this.callStackItemType, this.callStackItemStopped),\n\t\t\tthis.instantiationService.createInstance(StackFramesRenderer, this.callStackItemType),\n\t\t\tnew ErrorsRenderer(),\n\t\t\tnew LoadAllRenderer(this.themeService),\n\t\t\tnew ShowMoreRenderer(this.themeService)\n\t\t], this.dataSource, {\n\t\t\taccessibilityProvider: new CallStackAccessibilityProvider(),\n\t\t\tcompressionEnabled: true,\n\t\t\tautoExpandSingleChildren: true,\n\t\t\tidentityProvider: {\n\t\t\t\tgetId: (element: CallStackItem) => {\n\t\t\t\t\tif (typeof element === 'string') {\n\t\t\t\t\t\treturn element;\n\t\t\t\t\t}\n\t\t\t\t\tif (element instanceof Array) {\n\t\t\t\t\t\treturn `showMore ${element[0].getId()}`;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn element.getId();\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\tgetKeyboardNavigationLabel: (e: CallStackItem) => {\n\t\t\t\t\tif (isDebugSession(e)) {\n\t\t\t\t\t\treturn e.getLabel();\n\t\t\t\t\t}\n\t\t\t\t\tif (e instanceof Thread) {\n\t\t\t\t\t\treturn `${e.name} ${e.stateLabel}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (e instanceof StackFrame || typeof e === 'string') {\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}\n\t\t\t\t\tif (e instanceof ThreadAndSessionIds) {\n\t\t\t\t\t\treturn LoadAllRenderer.LABEL;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn localize('showMoreStackFrames2', \"Show More Stack Frames\");\n\t\t\t\t},\n\t\t\t\tgetCompressedNodeKeyboardNavigationLabel: (e: CallStackItem[]) => {\n\t\t\t\t\tconst firstItem = e[0];\n\t\t\t\t\tif (isDebugSession(firstItem)) {\n\t\t\t\t\t\treturn firstItem.getLabel();\n\t\t\t\t\t}\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t},\n\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: this.getBackgroundColor()\n\t\t\t}\n\t\t});\n\n\t\tthis.tree.setInput(this.debugService.getModel());\n\n\t\tthis._register(this.tree.onDidOpen(async e => {\n\t\t\tif (this.ignoreSelectionChangedEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst focusStackFrame = (stackFrame: IStackFrame | undefined, thread: IThread | undefined, session: IDebugSession) => {\n\t\t\t\tthis.ignoreFocusStackFrameEvent = true;\n\t\t\t\ttry {\n\t\t\t\t\tthis.debugService.focusStackFrame(stackFrame, thread, session, true);\n\t\t\t\t} finally {\n\t\t\t\t\tthis.ignoreFocusStackFrameEvent = false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst element = e.element;\n\t\t\tif (element instanceof StackFrame) {\n\t\t\t\tfocusStackFrame(element, element.thread, element.thread.session);\n\t\t\t\telement.openInEditor(this.editorService, e.editorOptions.preserveFocus, e.sideBySide, e.editorOptions.pinned);\n\t\t\t}\n\t\t\tif (element instanceof Thread) {\n\t\t\t\tfocusStackFrame(undefined, element, element.session);\n\t\t\t}\n\t\t\tif (isDebugSession(element)) {\n\t\t\t\tfocusStackFrame(undefined, undefined, element);\n\t\t\t}\n\t\t\tif (element instanceof ThreadAndSessionIds) {\n\t\t\t\tconst session = this.debugService.getModel().getSession(element.sessionId);\n\t\t\t\tconst thread = session && session.getThread(element.threadId);\n\t\t\t\tif (thread) {\n\t\t\t\t\tconst totalFrames = thread.stoppedDetails?.totalFrames;\n\t\t\t\t\tconst remainingFramesCount = typeof totalFrames === 'number' ? (totalFrames - thread.getCallStack().length) : undefined;\n\t\t\t\t\t// Get all the remaining frames\n\t\t\t\t\tawait (<Thread>thread).fetchCallStack(remainingFramesCount);\n\t\t\t\t\tawait this.tree.updateChildren();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (element instanceof Array) {\n\t\t\t\tthis.dataSource.deemphasizedStackFramesToShow.push(...element);\n\t\t\t\tthis.tree.updateChildren();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.debugService.getModel().onDidChangeCallStack(() => {\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.onCallStackChangeScheduler.isScheduled()) {\n\t\t\t\tthis.onCallStackChangeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tconst onFocusChange = Event.any<any>(this.debugService.getViewModel().onDidFocusStackFrame, this.debugService.getViewModel().onDidFocusSession);\n\t\tthis._register(onFocusChange(async () => {\n\t\t\tif (this.ignoreFocusStackFrameEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.onCallStackChangeScheduler.isScheduled()) {\n\t\t\t\tthis.selectionNeedsUpdate = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait this.updateTreeSelection();\n\t\t}));\n\t\tthis._register(this.tree.onContextMenu(e => this.onContextMenu(e)));\n\n\t\t// Schedule the update of the call stack tree if the viewlet is opened after a session started #14684\n\t\tif (this.debugService.state === State.Stopped) {\n\t\t\tthis.onCallStackChangeScheduler.schedule(0);\n\t\t}\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\tthis.onCallStackChangeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.debugService.onDidNewSession(s => {\n\t\t\tconst sessionListeners: IDisposable[] = [];\n\t\t\tsessionListeners.push(s.onDidChangeName(() => this.tree.rerender(s)));\n\t\t\tsessionListeners.push(s.onDidEndAdapter(() => dispose(sessionListeners)));\n\t\t\tif (s.parentSession) {\n\t\t\t\t// A session we already expanded has a new child session, allow to expand it again.\n\t\t\t\tthis.autoExpandedSessions.delete(s.parentSession);\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\toverride focus(): void {\n\t\tthis.tree.domFocus();\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\tprivate async updateTreeSelection(): Promise<void> {\n\t\tif (!this.tree || !this.tree.getInput()) {\n\t\t\t// Tree not initialized yet\n\t\t\treturn;\n\t\t}\n\n\t\tconst updateSelectionAndReveal = (element: IStackFrame | IDebugSession) => {\n\t\t\tthis.ignoreSelectionChangedEvent = true;\n\t\t\ttry {\n\t\t\t\tthis.tree.setSelection([element]);\n\t\t\t\t// If the element is outside of the screen bounds,\n\t\t\t\t// position it in the middle\n\t\t\t\tif (this.tree.getRelativeTop(element) === null) {\n\t\t\t\t\tthis.tree.reveal(element, 0.5);\n\t\t\t\t} else {\n\t\t\t\t\tthis.tree.reveal(element);\n\t\t\t\t}\n\t\t\t} catch (e) { }\n\t\t\tfinally {\n\t\t\t\tthis.ignoreSelectionChangedEvent = false;\n\t\t\t}\n\t\t};\n\n\t\tconst thread = this.debugService.getViewModel().focusedThread;\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\tconst stackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\tif (!thread) {\n\t\t\tif (!session) {\n\t\t\t\tthis.tree.setSelection([]);\n\t\t\t} else {\n\t\t\t\tupdateSelectionAndReveal(session);\n\t\t\t}\n\t\t} else {\n\t\t\t// Ignore errors from this expansions because we are not aware if we rendered the threads and sessions or we hide them to declutter the view\n\t\t\ttry {\n\t\t\t\tawait expandTo(thread.session, this.tree);\n\t\t\t} catch (e) { }\n\t\t\ttry {\n\t\t\t\tawait this.tree.expand(thread);\n\t\t\t} catch (e) { }\n\n\t\t\tconst toReveal = stackFrame || session;\n\t\t\tif (toReveal) {\n\t\t\t\tupdateSelectionAndReveal(toReveal);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onContextMenu(e: ITreeContextMenuEvent<CallStackItem>): void {\n\t\tconst element = e.element;\n\t\tthis.stackFrameSupportsRestart.reset();\n\t\tif (isDebugSession(element)) {\n\t\t\tthis.callStackItemType.set('session');\n\t\t} else if (element instanceof Thread) {\n\t\t\tthis.callStackItemType.set('thread');\n\t\t} else if (element instanceof StackFrame) {\n\t\t\tthis.callStackItemType.set('stackFrame');\n\t\t\tthis.stackFrameSupportsRestart.set(element.canRestart);\n\t\t} else {\n\t\t\tthis.callStackItemType.reset();\n\t\t}\n\n\t\tconst primary: IAction[] = [];\n\t\tconst secondary: IAction[] = [];\n\t\tconst result = { primary, secondary };\n\t\tconst actionsDisposable = createAndFillInContextMenuActions(this.menu, { arg: getContextForContributedActions(element), shouldForwardArgs: true }, result, 'inline');\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => result.secondary,\n\t\t\tgetActionsContext: () => getContext(element),\n\t\t\tonHide: () => dispose(actionsDisposable)\n\t\t});\n\t}\n}\n\ninterface IThreadTemplateData {\n\tthread: HTMLElement;\n\tname: HTMLElement;\n\tstateLabel: HTMLSpanElement;\n\tlabel: HighlightedLabel;\n\tactionBar: ActionBar;\n\telementDisposable: IDisposable[];\n}\n\ninterface ISessionTemplateData {\n\tsession: HTMLElement;\n\tname: HTMLElement;\n\tstateLabel: HTMLSpanElement;\n\tlabel: HighlightedLabel;\n\tactionBar: ActionBar;\n\telementDisposable: IDisposable[];\n}\n\ninterface IErrorTemplateData {\n\tlabel: HTMLElement;\n}\n\ninterface ILabelTemplateData {\n\tlabel: HTMLElement;\n\ttoDispose: IDisposable;\n}\n\ninterface IStackFrameTemplateData {\n\tstackFrame: HTMLElement;\n\tfile: HTMLElement;\n\tfileName: HTMLElement;\n\tlineNumber: HTMLElement;\n\tlabel: HighlightedLabel;\n\tactionBar: ActionBar;\n}\n\nclass SessionsRenderer implements ICompressibleTreeRenderer<IDebugSession, FuzzyScore, ISessionTemplateData> {\n\tstatic readonly ID = 'session';\n\n\tconstructor(\n\t\tprivate menu: IMenu,\n\t\tprivate callStackItemType: IContextKey<string>,\n\t\tprivate callStackSessionIsAttach: IContextKey<boolean>,\n\t\tprivate callStackItemStopped: IContextKey<boolean>,\n\t\tprivate sessionHasOneThread: IContextKey<boolean>,\n\t\tprivate readonly instantiationService: IInstantiationService\n\t) { }\n\n\tget templateId(): string {\n\t\treturn SessionsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ISessionTemplateData {\n\t\tconst session = dom.append(container, $('.session'));\n\t\tdom.append(session, $(ThemeIcon.asCSSSelector(icons.callstackViewSession)));\n\t\tconst name = dom.append(session, $('.name'));\n\t\tconst stateLabel = dom.append(session, $('span.state.label.monaco-count-badge.long'));\n\t\tconst label = new HighlightedLabel(name, false);\n\t\tconst actionBar = new ActionBar(session, {\n\t\t\tactionViewItemProvider: action => {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\treturn this.instantiationService.createInstance(MenuEntryActionViewItem, action);\n\t\t\t\t} else if (action instanceof SubmenuItemAction) {\n\t\t\t\t\treturn this.instantiationService.createInstance(SubmenuEntryActionViewItem, action);\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\treturn { session, name, stateLabel, label, actionBar, elementDisposable: [] };\n\t}\n\n\trenderElement(element: ITreeNode<IDebugSession, FuzzyScore>, _: number, data: ISessionTemplateData): void {\n\t\tthis.doRenderElement(element.element, createMatches(element.filterData), data);\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<IDebugSession>, FuzzyScore>, _index: number, templateData: ISessionTemplateData): void {\n\t\tconst lastElement = node.element.elements[node.element.elements.length - 1];\n\t\tconst matches = createMatches(node.filterData);\n\t\tthis.doRenderElement(lastElement, matches, templateData);\n\t}\n\n\tprivate doRenderElement(session: IDebugSession, matches: IMatch[], data: ISessionTemplateData): void {\n\t\tdata.session.title = localize({ key: 'session', comment: ['Session is a noun'] }, \"Session\");\n\t\tdata.label.set(session.getLabel(), matches);\n\t\tconst thread = session.getAllThreads().find(t => t.stopped);\n\t\tconst primary: IAction[] = [];\n\t\tconst secondary: IAction[] = [];\n\t\tconst result = { primary, secondary };\n\t\tthis.callStackItemType.set('session');\n\t\tthis.callStackItemStopped.set(session.state === State.Stopped);\n\t\tthis.sessionHasOneThread.set(session.getAllThreads().length === 1);\n\t\tthis.callStackSessionIsAttach.set(isSessionAttach(session));\n\t\tdata.elementDisposable.push(createAndFillInActionBarActions(this.menu, { arg: getContextForContributedActions(session), shouldForwardArgs: true }, result, 'inline'));\n\n\t\tdata.actionBar.clear();\n\t\tdata.actionBar.push(primary, { icon: true, label: false });\n\t\tdata.stateLabel.style.display = '';\n\n\t\tif (thread && thread.stoppedDetails) {\n\t\t\tdata.stateLabel.textContent = thread.stateLabel;\n\t\t\tif (thread.stoppedDetails.text) {\n\t\t\t\tdata.session.title = thread.stoppedDetails.text;\n\t\t\t}\n\t\t} else {\n\t\t\tdata.stateLabel.textContent = localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISessionTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n\n\tdisposeElement(_element: ITreeNode<IDebugSession, FuzzyScore>, _: number, templateData: ISessionTemplateData): void {\n\t\tdispose(templateData.elementDisposable);\n\t}\n}\n\nclass ThreadsRenderer implements ICompressibleTreeRenderer<IThread, FuzzyScore, IThreadTemplateData> {\n\tstatic readonly ID = 'thread';\n\n\tconstructor(\n\t\tprivate menu: IMenu,\n\t\tprivate callStackItemType: IContextKey<string>,\n\t\tprivate callStackItemStopped: IContextKey<boolean>\n\t) { }\n\n\tget templateId(): string {\n\t\treturn ThreadsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IThreadTemplateData {\n\t\tconst thread = dom.append(container, $('.thread'));\n\t\tconst name = dom.append(thread, $('.name'));\n\t\tconst stateLabel = dom.append(thread, $('span.state.label.monaco-count-badge.long'));\n\t\tconst label = new HighlightedLabel(name, false);\n\t\tconst actionBar = new ActionBar(thread);\n\t\tconst elementDisposable: IDisposable[] = [];\n\n\t\treturn { thread, name, stateLabel, label, actionBar, elementDisposable };\n\t}\n\n\trenderElement(element: ITreeNode<IThread, FuzzyScore>, _index: number, data: IThreadTemplateData): void {\n\t\tconst thread = element.element;\n\t\tdata.thread.title = localize('thread', \"Thread\");\n\t\tdata.label.set(thread.name, createMatches(element.filterData));\n\t\tdata.stateLabel.textContent = thread.stateLabel;\n\n\t\tdata.actionBar.clear();\n\t\tthis.callStackItemType.set('thread');\n\t\tthis.callStackItemStopped.set(thread.stopped);\n\t\tconst primary: IAction[] = [];\n\t\tconst result = { primary, secondary: [] };\n\t\tdata.elementDisposable.push(createAndFillInActionBarActions(this.menu, { arg: getContextForContributedActions(thread), shouldForwardArgs: true }, result, 'inline'));\n\t\tdata.actionBar.push(primary, { icon: true, label: false });\n\t}\n\n\trenderCompressedElements(_node: ITreeNode<ICompressedTreeNode<IThread>, FuzzyScore>, _index: number, _templateData: IThreadTemplateData, _height: number | undefined): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeElement(_element: any, _index: number, templateData: IThreadTemplateData): void {\n\t\tdispose(templateData.elementDisposable);\n\t}\n\n\tdisposeTemplate(templateData: IThreadTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\nclass StackFramesRenderer implements ICompressibleTreeRenderer<IStackFrame, FuzzyScore, IStackFrameTemplateData> {\n\tstatic readonly ID = 'stackFrame';\n\n\tconstructor(\n\t\tprivate callStackItemType: IContextKey<string>,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t) { }\n\n\tget templateId(): string {\n\t\treturn StackFramesRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IStackFrameTemplateData {\n\t\tconst stackFrame = dom.append(container, $('.stack-frame'));\n\t\tconst labelDiv = dom.append(stackFrame, $('span.label.expression'));\n\t\tconst file = dom.append(stackFrame, $('.file'));\n\t\tconst fileName = dom.append(file, $('span.file-name'));\n\t\tconst wrapper = dom.append(file, $('span.line-number-wrapper'));\n\t\tconst lineNumber = dom.append(wrapper, $('span.line-number.monaco-count-badge'));\n\t\tconst label = new HighlightedLabel(labelDiv, false);\n\t\tconst actionBar = new ActionBar(stackFrame);\n\n\t\treturn { file, fileName, label, lineNumber, stackFrame, actionBar };\n\t}\n\n\trenderElement(element: ITreeNode<IStackFrame, FuzzyScore>, index: number, data: IStackFrameTemplateData): void {\n\t\tconst stackFrame = element.element;\n\t\tdata.stackFrame.classList.toggle('disabled', !stackFrame.source || !stackFrame.source.available || isDeemphasized(stackFrame));\n\t\tdata.stackFrame.classList.toggle('label', stackFrame.presentationHint === 'label');\n\t\tdata.stackFrame.classList.toggle('subtle', stackFrame.presentationHint === 'subtle');\n\t\tconst hasActions = !!stackFrame.thread.session.capabilities.supportsRestartFrame && stackFrame.presentationHint !== 'label' && stackFrame.presentationHint !== 'subtle' && stackFrame.canRestart;\n\t\tdata.stackFrame.classList.toggle('has-actions', hasActions);\n\n\t\tdata.file.title = stackFrame.source.inMemory ? stackFrame.source.uri.path : this.labelService.getUriLabel(stackFrame.source.uri);\n\t\tif (stackFrame.source.raw.origin) {\n\t\t\tdata.file.title += `\\n${stackFrame.source.raw.origin}`;\n\t\t}\n\t\tdata.label.set(stackFrame.name, createMatches(element.filterData), stackFrame.name);\n\t\tdata.fileName.textContent = getSpecificSourceName(stackFrame);\n\t\tif (stackFrame.range.startLineNumber !== undefined) {\n\t\t\tdata.lineNumber.textContent = `${stackFrame.range.startLineNumber}`;\n\t\t\tif (stackFrame.range.startColumn) {\n\t\t\t\tdata.lineNumber.textContent += `:${stackFrame.range.startColumn}`;\n\t\t\t}\n\t\t\tdata.lineNumber.classList.remove('unavailable');\n\t\t} else {\n\t\t\tdata.lineNumber.classList.add('unavailable');\n\t\t}\n\n\t\tdata.actionBar.clear();\n\t\tthis.callStackItemType.set('stackFrame');\n\t\tif (hasActions) {\n\t\t\tconst action = new Action('debug.callStack.restartFrame', localize('restartFrame', \"Restart Frame\"), ThemeIcon.asClassName(icons.debugRestartFrame), true, async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait stackFrame.restart();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.notificationService.error(e);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdata.actionBar.push(action, { icon: true, label: false });\n\t\t}\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<IStackFrame>, FuzzyScore>, index: number, templateData: IStackFrameTemplateData, height: number | undefined): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: IStackFrameTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\nclass ErrorsRenderer implements ICompressibleTreeRenderer<string, FuzzyScore, IErrorTemplateData> {\n\tstatic readonly ID = 'error';\n\n\tget templateId(): string {\n\t\treturn ErrorsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IErrorTemplateData {\n\t\tconst label = dom.append(container, $('.error'));\n\n\t\treturn { label };\n\t}\n\n\trenderElement(element: ITreeNode<string, FuzzyScore>, index: number, data: IErrorTemplateData): void {\n\t\tconst error = element.element;\n\t\tdata.label.textContent = error;\n\t\tdata.label.title = error;\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<string>, FuzzyScore>, index: number, templateData: IErrorTemplateData, height: number | undefined): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: IErrorTemplateData): void {\n\t\t// noop\n\t}\n}\n\nclass LoadAllRenderer implements ICompressibleTreeRenderer<ThreadAndSessionIds, FuzzyScore, ILabelTemplateData> {\n\tstatic readonly ID = 'loadAll';\n\tstatic readonly LABEL = localize('loadAllStackFrames', \"Load All Stack Frames\");\n\n\tconstructor(private readonly themeService: IThemeService) { }\n\n\tget templateId(): string {\n\t\treturn LoadAllRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILabelTemplateData {\n\t\tconst label = dom.append(container, $('.load-all'));\n\t\tconst toDispose = attachStylerCallback(this.themeService, { textLinkForeground }, colors => {\n\t\t\tif (colors.textLinkForeground) {\n\t\t\t\tlabel.style.color = colors.textLinkForeground.toString();\n\t\t\t}\n\t\t});\n\n\t\treturn { label, toDispose };\n\t}\n\n\trenderElement(element: ITreeNode<ThreadAndSessionIds, FuzzyScore>, index: number, data: ILabelTemplateData): void {\n\t\tdata.label.textContent = LoadAllRenderer.LABEL;\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<ThreadAndSessionIds>, FuzzyScore>, index: number, templateData: ILabelTemplateData, height: number | undefined): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: ILabelTemplateData): void {\n\t\ttemplateData.toDispose.dispose();\n\t}\n}\n\nclass ShowMoreRenderer implements ICompressibleTreeRenderer<IStackFrame[], FuzzyScore, ILabelTemplateData> {\n\tstatic readonly ID = 'showMore';\n\n\tconstructor(private readonly themeService: IThemeService) { }\n\n\n\tget templateId(): string {\n\t\treturn ShowMoreRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILabelTemplateData {\n\t\tconst label = dom.append(container, $('.show-more'));\n\t\tconst toDispose = attachStylerCallback(this.themeService, { textLinkForeground }, colors => {\n\t\t\tif (colors.textLinkForeground) {\n\t\t\t\tlabel.style.color = colors.textLinkForeground.toString();\n\t\t\t}\n\t\t});\n\n\t\treturn { label, toDispose };\n\t}\n\n\trenderElement(element: ITreeNode<IStackFrame[], FuzzyScore>, index: number, data: ILabelTemplateData): void {\n\t\tconst stackFrames = element.element;\n\t\tif (stackFrames.every(sf => !!(sf.source && sf.source.origin && sf.source.origin === stackFrames[0].source.origin))) {\n\t\t\tdata.label.textContent = localize('showMoreAndOrigin', \"Show {0} More: {1}\", stackFrames.length, stackFrames[0].source.origin);\n\t\t} else {\n\t\t\tdata.label.textContent = localize('showMoreStackFrames', \"Show {0} More Stack Frames\", stackFrames.length);\n\t\t}\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<IStackFrame[]>, FuzzyScore>, index: number, templateData: ILabelTemplateData, height: number | undefined): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: ILabelTemplateData): void {\n\t\ttemplateData.toDispose.dispose();\n\t}\n}\n\nclass CallStackDelegate implements IListVirtualDelegate<CallStackItem> {\n\n\tgetHeight(element: CallStackItem): number {\n\t\tif (element instanceof StackFrame && element.presentationHint === 'label') {\n\t\t\treturn 16;\n\t\t}\n\t\tif (element instanceof ThreadAndSessionIds || element instanceof Array) {\n\t\t\treturn 16;\n\t\t}\n\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: CallStackItem): string {\n\t\tif (isDebugSession(element)) {\n\t\t\treturn SessionsRenderer.ID;\n\t\t}\n\t\tif (element instanceof Thread) {\n\t\t\treturn ThreadsRenderer.ID;\n\t\t}\n\t\tif (element instanceof StackFrame) {\n\t\t\treturn StackFramesRenderer.ID;\n\t\t}\n\t\tif (typeof element === 'string') {\n\t\t\treturn ErrorsRenderer.ID;\n\t\t}\n\t\tif (element instanceof ThreadAndSessionIds) {\n\t\t\treturn LoadAllRenderer.ID;\n\t\t}\n\n\t\t// element instanceof Array\n\t\treturn ShowMoreRenderer.ID;\n\t}\n}\n\nfunction isDebugModel(obj: any): obj is IDebugModel {\n\treturn typeof obj.getSessions === 'function';\n}\n\nfunction isDebugSession(obj: any): obj is IDebugSession {\n\treturn obj && typeof obj.getAllThreads === 'function';\n}\n\nfunction isDeemphasized(frame: IStackFrame): boolean {\n\treturn frame.source.presentationHint === 'deemphasize' || frame.presentationHint === 'deemphasize';\n}\n\nclass CallStackDataSource implements IAsyncDataSource<IDebugModel, CallStackItem> {\n\tdeemphasizedStackFramesToShow: IStackFrame[] = [];\n\n\tconstructor(private debugService: IDebugService) { }\n\n\thasChildren(element: IDebugModel | CallStackItem): boolean {\n\t\tif (isDebugSession(element)) {\n\t\t\tconst threads = element.getAllThreads();\n\t\t\treturn (threads.length > 1) || (threads.length === 1 && threads[0].stopped) || !!(this.debugService.getModel().getSessions().find(s => s.parentSession === element));\n\t\t}\n\n\t\treturn isDebugModel(element) || (element instanceof Thread && element.stopped);\n\t}\n\n\tasync getChildren(element: IDebugModel | CallStackItem): Promise<CallStackItem[]> {\n\t\tif (isDebugModel(element)) {\n\t\t\tconst sessions = element.getSessions();\n\t\t\tif (sessions.length === 0) {\n\t\t\t\treturn Promise.resolve([]);\n\t\t\t}\n\t\t\tif (sessions.length > 1 || this.debugService.getViewModel().isMultiSessionView()) {\n\t\t\t\treturn Promise.resolve(sessions.filter(s => !s.parentSession));\n\t\t\t}\n\n\t\t\tconst threads = sessions[0].getAllThreads();\n\t\t\t// Only show the threads in the call stack if there is more than 1 thread.\n\t\t\treturn threads.length === 1 ? this.getThreadChildren(<Thread>threads[0]) : Promise.resolve(threads);\n\t\t} else if (isDebugSession(element)) {\n\t\t\tconst childSessions = this.debugService.getModel().getSessions().filter(s => s.parentSession === element);\n\t\t\tconst threads: CallStackItem[] = element.getAllThreads();\n\t\t\tif (threads.length === 1) {\n\t\t\t\t// Do not show thread when there is only one to be compact.\n\t\t\t\tconst children = await this.getThreadChildren(<Thread>threads[0]);\n\t\t\t\treturn children.concat(childSessions);\n\t\t\t}\n\n\t\t\treturn Promise.resolve(threads.concat(childSessions));\n\t\t} else {\n\t\t\treturn this.getThreadChildren(<Thread>element);\n\t\t}\n\t}\n\n\tprivate getThreadChildren(thread: Thread): Promise<CallStackItem[]> {\n\t\treturn this.getThreadCallstack(thread).then(children => {\n\t\t\t// Check if some stack frames should be hidden under a parent element since they are deemphasized\n\t\t\tconst result: CallStackItem[] = [];\n\t\t\tchildren.forEach((child, index) => {\n\t\t\t\tif (child instanceof StackFrame && child.source && isDeemphasized(child)) {\n\t\t\t\t\t// Check if the user clicked to show the deemphasized source\n\t\t\t\t\tif (this.deemphasizedStackFramesToShow.indexOf(child) === -1) {\n\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\tconst last = result[result.length - 1];\n\t\t\t\t\t\t\tif (last instanceof Array) {\n\t\t\t\t\t\t\t\t// Collect all the stackframes that will be \"collapsed\"\n\t\t\t\t\t\t\t\tlast.push(child);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst nextChild = index < children.length - 1 ? children[index + 1] : undefined;\n\t\t\t\t\t\tif (nextChild instanceof StackFrame && nextChild.source && isDeemphasized(nextChild)) {\n\t\t\t\t\t\t\t// Start collecting stackframes that will be \"collapsed\"\n\t\t\t\t\t\t\tresult.push([child]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresult.push(child);\n\t\t\t});\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tprivate async getThreadCallstack(thread: Thread): Promise<Array<IStackFrame | string | ThreadAndSessionIds>> {\n\t\tlet callStack: any[] = thread.getCallStack();\n\t\tif (!callStack || !callStack.length) {\n\t\t\tawait thread.fetchCallStack();\n\t\t\tcallStack = thread.getCallStack();\n\t\t}\n\n\t\tif (callStack.length === 1 && thread.session.capabilities.supportsDelayedStackTraceLoading && thread.stoppedDetails && thread.stoppedDetails.totalFrames && thread.stoppedDetails.totalFrames > 1) {\n\t\t\t// To reduce flashing of the call stack view simply append the stale call stack\n\t\t\t// once we have the correct data the tree will refresh and we will no longer display it.\n\t\t\tcallStack = callStack.concat(thread.getStaleCallStack().slice(1));\n\t\t}\n\n\t\tif (thread.stoppedDetails && thread.stoppedDetails.framesErrorMessage) {\n\t\t\tcallStack = callStack.concat([thread.stoppedDetails.framesErrorMessage]);\n\t\t}\n\t\tif (!thread.reachedEndOfCallStack && thread.stoppedDetails) {\n\t\t\tcallStack = callStack.concat([new ThreadAndSessionIds(thread.session.getId(), thread.threadId)]);\n\t\t}\n\n\t\treturn callStack;\n\t}\n}\n\nclass CallStackAccessibilityProvider implements IListAccessibilityProvider<CallStackItem> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize({ comment: ['Debug is a noun in this context, not a verb.'], key: 'callStackAriaLabel' }, \"Debug Call Stack\");\n\t}\n\n\tgetAriaLabel(element: CallStackItem): string {\n\t\tif (element instanceof Thread) {\n\t\t\treturn localize({ key: 'threadAriaLabel', comment: ['Placeholders stand for the thread name and the thread state.For example \"Thread 1\" and \"Stopped'] }, \"Thread {0} {1}\", element.name, element.stateLabel);\n\t\t}\n\t\tif (element instanceof StackFrame) {\n\t\t\treturn localize('stackFrameAriaLabel', \"Stack Frame {0}, line {1}, {2}\", element.name, element.range.startLineNumber, getSpecificSourceName(element));\n\t\t}\n\t\tif (isDebugSession(element)) {\n\t\t\tconst thread = element.getAllThreads().find(t => t.stopped);\n\t\t\tconst state = thread ? thread.stateLabel : localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t\t\treturn localize({ key: 'sessionLabel', comment: ['Placeholders stand for the session name and the session state. For example \"Launch Program\" and \"Running\"'] }, \"Session {0} {1}\", element.getLabel(), state);\n\t\t}\n\t\tif (typeof element === 'string') {\n\t\t\treturn element;\n\t\t}\n\t\tif (element instanceof Array) {\n\t\t\treturn localize('showMoreStackFrames', \"Show {0} More Stack Frames\", element.length);\n\t\t}\n\n\t\t// element instanceof ThreadAndSessionIds\n\t\treturn LoadAllRenderer.LABEL;\n\t}\n}\n\nclass CallStackCompressionDelegate implements ITreeCompressionDelegate<CallStackItem> {\n\n\tconstructor(private readonly debugService: IDebugService) { }\n\n\tisIncompressible(stat: CallStackItem): boolean {\n\t\tif (isDebugSession(stat)) {\n\t\t\tif (stat.compact) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst sessions = this.debugService.getModel().getSessions();\n\t\t\tif (sessions.some(s => s.parentSession === stat && s.compact)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn true;\n\t}\n}\n\nregisterAction2(class Collapse extends ViewAction<CallStackView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'callStack.collapse',\n\t\t\tviewId: CALLSTACK_VIEW_ID,\n\t\t\ttitle: localize('collapse', \"Collapse All\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tprecondition: CONTEXT_DEBUG_STATE.isEqualTo(getStateLabel(State.Stopped)),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\torder: 10,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyEqualsExpr.create('view', CALLSTACK_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: CallStackView) {\n\t\tview.collapseAll();\n\t}\n});\n\nfunction registerCallStackInlineMenuItem(id: string, title: string, icon: Icon, when: ContextKeyExpression, order: number, precondition?: ContextKeyExpression): void {\n\tMenuRegistry.appendMenuItem(MenuId.DebugCallStackContext, {\n\t\tgroup: 'inline',\n\t\torder,\n\t\twhen,\n\t\tcommand: { id, title, icon, precondition }\n\t});\n}\n\nconst threadOrSessionWithOneThread = ContextKeyExpr.or(CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('thread'), ContextKeyExpr.and(CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'), CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD))!;\nregisterCallStackInlineMenuItem(PAUSE_ID, PAUSE_LABEL, icons.debugPause, ContextKeyExpr.and(threadOrSessionWithOneThread, CONTEXT_CALLSTACK_ITEM_STOPPED.toNegated())!, 10);\nregisterCallStackInlineMenuItem(CONTINUE_ID, CONTINUE_LABEL, icons.debugContinue, ContextKeyExpr.and(threadOrSessionWithOneThread, CONTEXT_CALLSTACK_ITEM_STOPPED)!, 10);\nregisterCallStackInlineMenuItem(STEP_OVER_ID, STEP_OVER_LABEL, icons.debugStepOver, threadOrSessionWithOneThread, 20, CONTEXT_CALLSTACK_ITEM_STOPPED);\nregisterCallStackInlineMenuItem(STEP_INTO_ID, STEP_INTO_LABEL, icons.debugStepInto, threadOrSessionWithOneThread, 30, CONTEXT_CALLSTACK_ITEM_STOPPED);\nregisterCallStackInlineMenuItem(STEP_OUT_ID, STEP_OUT_LABEL, icons.debugStepOut, threadOrSessionWithOneThread, 40, CONTEXT_CALLSTACK_ITEM_STOPPED);\nregisterCallStackInlineMenuItem(RESTART_SESSION_ID, RESTART_LABEL, icons.debugRestart, CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'), 50);\nregisterCallStackInlineMenuItem(STOP_ID, STOP_LABEL, icons.debugStop, ContextKeyExpr.and(CONTEXT_CALLSTACK_SESSION_IS_ATTACH.toNegated(), CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'))!, 60);\nregisterCallStackInlineMenuItem(DISCONNECT_ID, DISCONNECT_LABEL, icons.debugDisconnect, ContextKeyExpr.and(CONTEXT_CALLSTACK_SESSION_IS_ATTACH, CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'))!, 60);\n"]}