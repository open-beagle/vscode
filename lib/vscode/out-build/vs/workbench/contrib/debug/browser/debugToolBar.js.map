{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugToolBar.ts"],"names":[],"mappings":"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","file":"debugToolBar.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/debugToolBar';\nimport * as errors from 'vs/base/common/errors';\nimport * as browser from 'vs/base/browser/browser';\nimport * as dom from 'vs/base/browser/dom';\nimport * as arrays from 'vs/base/common/arrays';\nimport { localize } from 'vs/nls';\nimport { StandardMouseEvent } from 'vs/base/browser/mouseEvent';\nimport { IAction, IRunEvent, WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification } from 'vs/base/common/actions';\nimport { ActionBar, ActionsOrientation } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { IWorkbenchLayoutService } from 'vs/workbench/services/layout/browser/layoutService';\nimport { IWorkbenchContribution } from 'vs/workbench/common/contributions';\nimport { IDebugConfiguration, IDebugService, State, CONTEXT_DEBUG_STATE, CONTEXT_FOCUSED_SESSION_IS_ATTACH, CONTEXT_STEP_BACK_SUPPORTED, CONTEXT_MULTI_SESSION_DEBUG, VIEWLET_ID } from 'vs/workbench/contrib/debug/common/debug';\nimport { FocusSessionActionViewItem } from 'vs/workbench/contrib/debug/browser/debugActionViewItems';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IThemeService, Themable, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { contrastBorder, widgetShadow } from 'vs/platform/theme/common/colorRegistry';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { createActionViewItem, createAndFillInActionBarActions } from 'vs/platform/actions/browser/menuEntryActionViewItem';\nimport { ICommandAction, IMenu, IMenuService, MenuId, MenuRegistry } from 'vs/platform/actions/common/actions';\nimport { IContextKeyService, ContextKeyExpression, ContextKeyExpr, ContextKeyEqualsExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport * as icons from 'vs/workbench/contrib/debug/browser/debugIcons';\nimport { debugToolBarBackground, debugToolBarBorder } from 'vs/workbench/contrib/debug/browser/debugColors';\nimport { URI } from 'vs/base/common/uri';\nimport { CONTINUE_LABEL, CONTINUE_ID, PAUSE_ID, STOP_ID, DISCONNECT_ID, STEP_OVER_ID, STEP_INTO_ID, RESTART_SESSION_ID, STEP_OUT_ID, STEP_BACK_ID, REVERSE_CONTINUE_ID, RESTART_LABEL, STEP_OUT_LABEL, STEP_INTO_LABEL, STEP_OVER_LABEL, DISCONNECT_LABEL, STOP_LABEL, PAUSE_LABEL, FOCUS_SESSION_ID, FOCUS_SESSION_LABEL } from 'vs/workbench/contrib/debug/browser/debugCommands';\n\nconst DEBUG_TOOLBAR_POSITION_KEY = 'debug.actionswidgetposition';\nconst DEBUG_TOOLBAR_Y_KEY = 'debug.actionswidgety';\n\nexport class DebugToolBar extends Themable implements IWorkbenchContribution {\n\n\tprivate $el: HTMLElement;\n\tprivate dragArea: HTMLElement;\n\tprivate actionBar: ActionBar;\n\tprivate activeActions: IAction[];\n\tprivate updateScheduler: RunOnceScheduler;\n\tprivate debugToolBarMenu: IMenu;\n\tprivate disposeOnUpdate: IDisposable | undefined;\n\tprivate yCoordinate = 0;\n\n\tprivate isVisible = false;\n\tprivate isBuilt = false;\n\n\tconstructor(\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService\n\t) {\n\t\tsuper(themeService);\n\n\t\tthis.$el = dom.$('div.debug-toolbar');\n\t\tthis.$el.style.top = `${layoutService.offset?.top ?? 0}px`;\n\n\t\tthis.dragArea = dom.append(this.$el, dom.$('div.drag-area' + ThemeIcon.asCSSSelector(icons.debugGripper)));\n\n\t\tconst actionBarContainer = dom.append(this.$el, dom.$('div.action-bar-container'));\n\t\tthis.debugToolBarMenu = menuService.createMenu(MenuId.DebugToolBar, contextKeyService);\n\t\tthis._register(this.debugToolBarMenu);\n\n\t\tthis.activeActions = [];\n\t\tthis.actionBar = this._register(new ActionBar(actionBarContainer, {\n\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\tactionViewItemProvider: (action: IAction) => {\n\t\t\t\tif (action.id === FOCUS_SESSION_ID) {\n\t\t\t\t\treturn this.instantiationService.createInstance(FocusSessionActionViewItem, action, undefined);\n\t\t\t\t}\n\t\t\t\treturn createActionViewItem(this.instantiationService, action);\n\t\t\t}\n\t\t}));\n\n\t\tthis.updateScheduler = this._register(new RunOnceScheduler(() => {\n\t\t\tconst state = this.debugService.state;\n\t\t\tconst toolBarLocation = this.configurationService.getValue<IDebugConfiguration>('debug').toolBarLocation;\n\t\t\tif (state === State.Inactive || toolBarLocation === 'docked' || toolBarLocation === 'hidden') {\n\t\t\t\treturn this.hide();\n\t\t\t}\n\n\t\t\tconst actions: IAction[] = [];\n\t\t\tconst disposable = createAndFillInActionBarActions(this.debugToolBarMenu, { shouldForwardArgs: true }, actions);\n\t\t\tif (!arrays.equals(actions, this.activeActions, (first, second) => first.id === second.id && first.enabled === second.enabled)) {\n\t\t\t\tthis.actionBar.clear();\n\t\t\t\tthis.actionBar.push(actions, { icon: true, label: false });\n\t\t\t\tthis.activeActions = actions;\n\t\t\t}\n\t\t\tif (this.disposeOnUpdate) {\n\t\t\t\tdispose(this.disposeOnUpdate);\n\t\t\t}\n\t\t\tthis.disposeOnUpdate = disposable;\n\n\t\t\tthis.show();\n\t\t}, 20));\n\n\t\tthis.updateStyles();\n\t\tthis.registerListeners();\n\t\tthis.hide();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.debugService.onDidChangeState(() => this.updateScheduler.schedule()));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.toolBarLocation')) {\n\t\t\t\tthis.updateScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.debugToolBarMenu.onDidChange(() => this.updateScheduler.schedule()));\n\t\tthis._register(this.actionBar.actionRunner.onDidRun((e: IRunEvent) => {\n\t\t\t// check for error\n\t\t\tif (e.error && !errors.isPromiseCanceledError(e.error)) {\n\t\t\t\tthis.notificationService.error(e.error);\n\t\t\t}\n\n\t\t\t// log in telemetry\n\t\t\tthis.telemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: e.action.id, from: 'debugActionsWidget' });\n\t\t}));\n\t\tthis._register(dom.addDisposableListener(window, dom.EventType.RESIZE, () => this.setCoordinates()));\n\n\t\tthis._register(dom.addDisposableGenericMouseUpListner(this.dragArea, (event: MouseEvent) => {\n\t\t\tconst mouseClickEvent = new StandardMouseEvent(event);\n\t\t\tif (mouseClickEvent.detail === 2) {\n\t\t\t\t// double click on debug bar centers it again #8250\n\t\t\t\tconst widgetWidth = this.$el.clientWidth;\n\t\t\t\tthis.setCoordinates(0.5 * window.innerWidth - 0.5 * widgetWidth, 0);\n\t\t\t\tthis.storePosition();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(dom.addDisposableGenericMouseDownListner(this.dragArea, (event: MouseEvent) => {\n\t\t\tthis.dragArea.classList.add('dragged');\n\n\t\t\tconst mouseMoveListener = dom.addDisposableGenericMouseMoveListner(window, (e: MouseEvent) => {\n\t\t\t\tconst mouseMoveEvent = new StandardMouseEvent(e);\n\t\t\t\t// Prevent default to stop editor selecting text #8524\n\t\t\t\tmouseMoveEvent.preventDefault();\n\t\t\t\t// Reduce x by width of drag handle to reduce jarring #16604\n\t\t\t\tthis.setCoordinates(mouseMoveEvent.posx - 14, mouseMoveEvent.posy - (this.layoutService.offset?.top ?? 0));\n\t\t\t});\n\n\t\t\tconst mouseUpListener = dom.addDisposableGenericMouseUpListner(window, (e: MouseEvent) => {\n\t\t\t\tthis.storePosition();\n\t\t\t\tthis.dragArea.classList.remove('dragged');\n\n\t\t\t\tmouseMoveListener.dispose();\n\t\t\t\tmouseUpListener.dispose();\n\t\t\t});\n\t\t}));\n\n\t\tthis._register(this.layoutService.onDidChangePartVisibility(() => this.setYCoordinate()));\n\t\tthis._register(browser.onDidChangeZoomLevel(() => this.setYCoordinate()));\n\t}\n\n\tprivate storePosition(): void {\n\t\tconst left = dom.getComputedStyle(this.$el).left;\n\t\tif (left) {\n\t\t\tconst position = parseFloat(left) / window.innerWidth;\n\t\t\tthis.storageService.store(DEBUG_TOOLBAR_POSITION_KEY, position, StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t\t}\n\t}\n\n\tprotected override updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\tif (this.$el) {\n\t\t\tthis.$el.style.backgroundColor = this.getColor(debugToolBarBackground) || '';\n\n\t\t\tconst widgetShadowColor = this.getColor(widgetShadow);\n\t\t\tthis.$el.style.boxShadow = widgetShadowColor ? `0 0 8px 2px ${widgetShadowColor}` : '';\n\n\t\t\tconst contrastBorderColor = this.getColor(contrastBorder);\n\t\t\tconst borderColor = this.getColor(debugToolBarBorder);\n\n\t\t\tif (contrastBorderColor) {\n\t\t\t\tthis.$el.style.border = `1px solid ${contrastBorderColor}`;\n\t\t\t} else {\n\t\t\t\tthis.$el.style.border = borderColor ? `solid ${borderColor}` : 'none';\n\t\t\t\tthis.$el.style.border = '1px 0';\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setYCoordinate(y = this.yCoordinate): void {\n\t\tconst titlebarOffset = this.layoutService.offset?.top ?? 0;\n\t\tthis.$el.style.top = `${titlebarOffset + y}px`;\n\t\tthis.yCoordinate = y;\n\t}\n\n\tprivate setCoordinates(x?: number, y?: number): void {\n\t\tif (!this.isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tconst widgetWidth = this.$el.clientWidth;\n\t\tif (x === undefined) {\n\t\t\tconst positionPercentage = this.storageService.get(DEBUG_TOOLBAR_POSITION_KEY, StorageScope.GLOBAL);\n\t\t\tx = positionPercentage !== undefined ? parseFloat(positionPercentage) * window.innerWidth : (0.5 * window.innerWidth - 0.5 * widgetWidth);\n\t\t}\n\n\t\tx = Math.max(0, Math.min(x, window.innerWidth - widgetWidth)); // do not allow the widget to overflow on the right\n\t\tthis.$el.style.left = `${x}px`;\n\n\t\tif (y === undefined) {\n\t\t\ty = this.storageService.getNumber(DEBUG_TOOLBAR_Y_KEY, StorageScope.GLOBAL, 0);\n\t\t}\n\t\tconst titleAreaHeight = 35;\n\t\tif ((y < titleAreaHeight / 2) || (y > titleAreaHeight + titleAreaHeight / 2)) {\n\t\t\tconst moveToTop = y < titleAreaHeight;\n\t\t\tthis.setYCoordinate(moveToTop ? 0 : titleAreaHeight);\n\t\t\tthis.storageService.store(DEBUG_TOOLBAR_Y_KEY, moveToTop ? 0 : 2 * titleAreaHeight, StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t\t}\n\t}\n\n\tprivate show(): void {\n\t\tif (this.isVisible) {\n\t\t\tthis.setCoordinates();\n\t\t\treturn;\n\t\t}\n\t\tif (!this.isBuilt) {\n\t\t\tthis.isBuilt = true;\n\t\t\tthis.layoutService.container.appendChild(this.$el);\n\t\t}\n\n\t\tthis.isVisible = true;\n\t\tdom.show(this.$el);\n\t\tthis.setCoordinates();\n\t}\n\n\tprivate hide(): void {\n\t\tthis.isVisible = false;\n\t\tdom.hide(this.$el);\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\n\t\tif (this.$el) {\n\t\t\tthis.$el.remove();\n\t\t}\n\t\tif (this.disposeOnUpdate) {\n\t\t\tdispose(this.disposeOnUpdate);\n\t\t}\n\t}\n}\n\n// Debug toolbar\n\nconst registerDebugToolBarItem = (id: string, title: string, order: number, icon?: { light?: URI, dark?: URI } | ThemeIcon, when?: ContextKeyExpression, precondition?: ContextKeyExpression, alt?: ICommandAction) => {\n\tMenuRegistry.appendMenuItem(MenuId.DebugToolBar, {\n\t\tgroup: 'navigation',\n\t\twhen,\n\t\torder,\n\t\tcommand: {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\ticon,\n\t\t\tprecondition\n\t\t},\n\t\talt\n\t});\n\n\t// Register actions in debug viewlet when toolbar is docked\n\tMenuRegistry.appendMenuItem(MenuId.ViewContainerTitle, {\n\t\tgroup: 'navigation',\n\t\twhen: ContextKeyExpr.and(when, ContextKeyEqualsExpr.create('viewContainer', VIEWLET_ID), CONTEXT_DEBUG_STATE.notEqualsTo('inactive'), ContextKeyExpr.equals('config.debug.toolBarLocation', 'docked')),\n\t\torder,\n\t\tcommand: {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\ticon,\n\t\t\tprecondition\n\t\t}\n\t});\n};\n\nregisterDebugToolBarItem(CONTINUE_ID, CONTINUE_LABEL, 10, icons.debugContinue, CONTEXT_DEBUG_STATE.isEqualTo('stopped'));\nregisterDebugToolBarItem(PAUSE_ID, PAUSE_LABEL, 10, icons.debugPause, CONTEXT_DEBUG_STATE.notEqualsTo('stopped'), CONTEXT_DEBUG_STATE.isEqualTo('running'));\nregisterDebugToolBarItem(STOP_ID, STOP_LABEL, 70, icons.debugStop, CONTEXT_FOCUSED_SESSION_IS_ATTACH.toNegated(), undefined, { id: DISCONNECT_ID, title: DISCONNECT_LABEL, icon: icons.debugDisconnect });\nregisterDebugToolBarItem(DISCONNECT_ID, DISCONNECT_LABEL, 70, icons.debugDisconnect, CONTEXT_FOCUSED_SESSION_IS_ATTACH, undefined, { id: STOP_ID, title: STOP_LABEL, icon: icons.debugStop });\nregisterDebugToolBarItem(STEP_OVER_ID, STEP_OVER_LABEL, 20, icons.debugStepOver, undefined, CONTEXT_DEBUG_STATE.isEqualTo('stopped'));\nregisterDebugToolBarItem(STEP_INTO_ID, STEP_INTO_LABEL, 30, icons.debugStepInto, undefined, CONTEXT_DEBUG_STATE.isEqualTo('stopped'));\nregisterDebugToolBarItem(STEP_OUT_ID, STEP_OUT_LABEL, 40, icons.debugStepOut, undefined, CONTEXT_DEBUG_STATE.isEqualTo('stopped'));\nregisterDebugToolBarItem(RESTART_SESSION_ID, RESTART_LABEL, 60, icons.debugRestart);\nregisterDebugToolBarItem(STEP_BACK_ID, localize('stepBackDebug', \"Step Back\"), 50, icons.debugStepBack, CONTEXT_STEP_BACK_SUPPORTED, CONTEXT_DEBUG_STATE.isEqualTo('stopped'));\nregisterDebugToolBarItem(REVERSE_CONTINUE_ID, localize('reverseContinue', \"Reverse\"), 60, icons.debugReverseContinue, CONTEXT_STEP_BACK_SUPPORTED, CONTEXT_DEBUG_STATE.isEqualTo('stopped'));\nregisterDebugToolBarItem(FOCUS_SESSION_ID, FOCUS_SESSION_LABEL, 100, undefined, CONTEXT_MULTI_SESSION_DEBUG);\n"]}