{"version":3,"sources":["vs/workbench/contrib/preferences/browser/preferencesEditor.ts"],"names":[],"mappings":"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","file":"preferencesEditor.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from 'vs/base/browser/dom';\nimport { Orientation, Sizing, SplitView } from 'vs/base/browser/ui/splitview/splitview';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { Delayer, ThrottledDelayer } from 'vs/base/common/async';\nimport { CancellationToken, CancellationTokenSource } from 'vs/base/common/cancellation';\nimport { IStringDictionary } from 'vs/base/common/collections';\nimport { getErrorMessage, isPromiseCanceledError, onUnexpectedError } from 'vs/base/common/errors';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { Disposable, dispose, IDisposable } from 'vs/base/common/lifecycle';\nimport { ArrayNavigator } from 'vs/base/common/navigator';\nimport { assertIsDefined, withNullAsUndefined, withUndefinedAsNull } from 'vs/base/common/types';\nimport { URI } from 'vs/base/common/uri';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { EditorExtensionsRegistry, IEditorContributionDescription, registerEditorContribution } from 'vs/editor/browser/editorExtensions';\nimport { CodeEditorWidget } from 'vs/editor/browser/widget/codeEditorWidget';\nimport { IEditorOptions } from 'vs/editor/common/config/editorOptions';\nimport * as editorCommon from 'vs/editor/common/editorCommon';\nimport { ITextResourceConfigurationService } from 'vs/editor/common/services/textResourceConfigurationService';\nimport { FindController } from 'vs/editor/contrib/find/findController';\nimport { FoldingController } from 'vs/editor/contrib/folding/folding';\nimport { MessageController } from 'vs/editor/contrib/message/messageController';\nimport { SelectionHighlighter } from 'vs/editor/contrib/multicursor/multicursor';\nimport * as nls from 'vs/nls';\nimport { ConfigurationTarget } from 'vs/platform/configuration/common/configuration';\nimport { IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IConstructorSignature1, IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { IEditorProgressService } from 'vs/platform/progress/common/progress';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { scrollbarShadow } from 'vs/platform/theme/common/colorRegistry';\nimport { attachStylerCallback } from 'vs/platform/theme/common/styler';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { IEditorRegistry } from 'vs/workbench/browser/editor';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { BaseTextEditor } from 'vs/workbench/browser/parts/editor/textEditor';\nimport { EditorExtensions, EditorInput, EditorOptions, IEditorControl, IEditorOpenContext } from 'vs/workbench/common/editor';\nimport { ResourceEditorModel } from 'vs/workbench/common/editor/resourceEditorModel';\nimport { DefaultSettingsRenderer, FolderSettingsRenderer, IPreferencesRenderer, UserSettingsRenderer, WorkspaceSettingsRenderer } from 'vs/workbench/contrib/preferences/browser/preferencesRenderers';\nimport { SearchWidget, SettingsTarget, SettingsTargetsWidget } from 'vs/workbench/contrib/preferences/browser/preferencesWidgets';\nimport { CONTEXT_SETTINGS_EDITOR, CONTEXT_SETTINGS_JSON_EDITOR, CONTEXT_SETTINGS_SEARCH_FOCUS, IPreferencesSearchService, ISearchProvider } from 'vs/workbench/contrib/preferences/common/preferences';\nimport { IEditorGroup, IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IFilterResult, IPreferencesService, ISetting, ISettingsEditorModel, ISettingsGroup, SettingsEditorOptions } from 'vs/workbench/services/preferences/common/preferences';\nimport { DefaultPreferencesEditorInput, PreferencesEditorInput } from 'vs/workbench/services/preferences/browser/preferencesEditorInput';\nimport { DefaultSettingsEditorModel, SettingsEditorModel } from 'vs/workbench/services/preferences/common/preferencesModels';\n\nexport class PreferencesEditor extends EditorPane {\n\n\tstatic readonly ID: string = 'workbench.editor.preferencesEditor';\n\n\tprivate defaultSettingsEditorContextKey: IContextKey<boolean>;\n\tprivate defaultSettingsJSONEditorContextKey: IContextKey<boolean>;\n\tprivate searchFocusContextKey: IContextKey<boolean>;\n\tprivate headerContainer!: HTMLElement;\n\tprivate searchWidget!: SearchWidget;\n\tprivate sideBySidePreferencesWidget!: SideBySidePreferencesWidget;\n\tprivate preferencesRenderers!: PreferencesRenderersController;\n\n\tprivate delayedFilterLogging: Delayer<void>;\n\tprivate localSearchDelayer: Delayer<void>;\n\tprivate remoteSearchThrottle: ThrottledDelayer<void>;\n\tprivate _lastReportedFilter: string | null = null;\n\n\tprivate lastFocusedWidget: SearchWidget | SideBySidePreferencesWidget | undefined = undefined;\n\n\toverride get minimumWidth(): number { return this.sideBySidePreferencesWidget ? this.sideBySidePreferencesWidget.minimumWidth : 0; }\n\toverride get maximumWidth(): number { return this.sideBySidePreferencesWidget ? this.sideBySidePreferencesWidget.maximumWidth : Number.POSITIVE_INFINITY; }\n\n\t// these setters need to exist because this extends from EditorPane\n\toverride set minimumWidth(value: number) { /*noop*/ }\n\toverride set maximumWidth(value: number) { /*noop*/ }\n\n\toverride get minimumHeight() { return 260; }\n\n\tprivate _onDidCreateWidget = this._register(new Emitter<{ width: number; height: number; } | undefined>());\n\toverride readonly onDidChangeSizeConstraints: Event<{ width: number; height: number; } | undefined> = this._onDidCreateWidget.event;\n\n\tconstructor(\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IEditorProgressService private readonly editorProgressService: IEditorProgressService,\n\t\t@IStorageService storageService: IStorageService\n\t) {\n\t\tsuper(PreferencesEditor.ID, telemetryService, themeService, storageService);\n\t\tthis.defaultSettingsEditorContextKey = CONTEXT_SETTINGS_EDITOR.bindTo(this.contextKeyService);\n\t\tthis.defaultSettingsJSONEditorContextKey = CONTEXT_SETTINGS_JSON_EDITOR.bindTo(this.contextKeyService);\n\t\tthis.searchFocusContextKey = CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.delayedFilterLogging = new Delayer<void>(1000);\n\t\tthis.localSearchDelayer = new Delayer(100);\n\t\tthis.remoteSearchThrottle = new ThrottledDelayer(200);\n\t}\n\n\tcreateEditor(parent: HTMLElement): void {\n\t\tparent.classList.add('preferences-editor');\n\n\t\tthis.headerContainer = DOM.append(parent, DOM.$('.preferences-header'));\n\t\tthis.searchWidget = this._register(this.instantiationService.createInstance(SearchWidget, this.headerContainer, {\n\t\t\tariaLabel: nls.localize('SearchSettingsWidget.AriaLabel', \"Search settings\"),\n\t\t\tplaceholder: nls.localize('SearchSettingsWidget.Placeholder', \"Search Settings\"),\n\t\t\tfocusKey: this.searchFocusContextKey,\n\t\t\tshowResultCount: true,\n\t\t\tariaLive: 'assertive',\n\t\t\thistory: [],\n\t\t}));\n\t\tthis._register(this.searchWidget.onDidChange(value => this.onInputChanged()));\n\t\tthis._register(this.searchWidget.onFocus(() => this.lastFocusedWidget = this.searchWidget));\n\t\tthis.lastFocusedWidget = this.searchWidget;\n\n\t\tconst editorsContainer = DOM.append(parent, DOM.$('.preferences-editors-container'));\n\t\tthis.sideBySidePreferencesWidget = this._register(this.instantiationService.createInstance(SideBySidePreferencesWidget, editorsContainer));\n\t\tthis._onDidCreateWidget.fire(undefined);\n\t\tthis._register(this.sideBySidePreferencesWidget.onFocus(() => this.lastFocusedWidget = this.sideBySidePreferencesWidget));\n\t\tthis._register(this.sideBySidePreferencesWidget.onDidSettingsTargetChange(target => this.switchSettings(target)));\n\n\t\tthis.preferencesRenderers = this._register(this.instantiationService.createInstance(PreferencesRenderersController));\n\n\t\tthis._register(this.preferencesRenderers.onDidFilterResultsCountChange(count => this.showSearchResultsMessage(count)));\n\t}\n\n\tclearSearchResults(): void {\n\t\tif (this.searchWidget) {\n\t\t\tthis.searchWidget.clear();\n\t\t}\n\t}\n\n\tfocusNextResult(): void {\n\t\tif (this.preferencesRenderers) {\n\t\t\tthis.preferencesRenderers.focusNextPreference(true);\n\t\t}\n\t}\n\n\tfocusPreviousResult(): void {\n\t\tif (this.preferencesRenderers) {\n\t\t\tthis.preferencesRenderers.focusNextPreference(false);\n\t\t}\n\t}\n\n\teditFocusedPreference(): void {\n\t\tthis.preferencesRenderers.editFocusedPreference();\n\t}\n\n\toverride setInput(newInput: EditorInput, options: SettingsEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tthis.defaultSettingsEditorContextKey.set(true);\n\t\tthis.defaultSettingsJSONEditorContextKey.set(true);\n\t\tif (options && options.query) {\n\t\t\tthis.focusSearch(options.query);\n\t\t}\n\n\t\treturn super.setInput(newInput, options, context, token).then(() => this.updateInput(newInput as PreferencesEditorInput, options, context, token));\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.searchWidget.layout(dimension);\n\t\tconst headerHeight = DOM.getTotalHeight(this.headerContainer);\n\t\tthis.sideBySidePreferencesWidget.layout(new DOM.Dimension(dimension.width, dimension.height - headerHeight));\n\t}\n\n\toverride getControl(): IEditorControl | undefined {\n\t\treturn this.sideBySidePreferencesWidget.getControl();\n\t}\n\n\toverride focus(): void {\n\t\tif (this.lastFocusedWidget) {\n\t\t\tthis.lastFocusedWidget.focus();\n\t\t}\n\t}\n\n\tfocusSearch(filter?: string): void {\n\t\tif (filter) {\n\t\t\tthis.searchWidget.setValue(filter);\n\t\t}\n\n\t\tthis.searchWidget.focus();\n\t}\n\n\tfocusSettingsFileEditor(): void {\n\t\tif (this.sideBySidePreferencesWidget) {\n\t\t\tthis.sideBySidePreferencesWidget.focus();\n\t\t}\n\t}\n\n\toverride clearInput(): void {\n\t\tthis.defaultSettingsEditorContextKey.set(false);\n\t\tthis.defaultSettingsJSONEditorContextKey.set(false);\n\t\tthis.sideBySidePreferencesWidget.clearInput();\n\t\tthis.preferencesRenderers.onHidden();\n\t\tsuper.clearInput();\n\t}\n\n\tprotected override setEditorVisible(visible: boolean, group: IEditorGroup | undefined): void {\n\t\tthis.sideBySidePreferencesWidget.setEditorVisible(visible, group);\n\t\tsuper.setEditorVisible(visible, group);\n\t}\n\n\tprivate updateInput(newInput: PreferencesEditorInput, options: EditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\treturn this.sideBySidePreferencesWidget.setInput(<DefaultPreferencesEditorInput>newInput.secondary, <EditorInput>newInput.primary, options, context, token).then(({ defaultPreferencesRenderer, editablePreferencesRenderer }) => {\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.preferencesRenderers.defaultPreferencesRenderer = defaultPreferencesRenderer!;\n\t\t\tthis.preferencesRenderers.editablePreferencesRenderer = editablePreferencesRenderer!;\n\t\t\tthis.onInputChanged();\n\t\t});\n\t}\n\n\tprivate onInputChanged(): void {\n\t\tconst query = this.searchWidget.getValue().trim();\n\t\tthis.delayedFilterLogging.cancel();\n\t\tthis.triggerSearch(query)\n\t\t\t.then(() => {\n\t\t\t\tconst result = this.preferencesRenderers.lastFilterResult;\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.delayedFilterLogging.trigger(() => this.reportFilteringUsed(\n\t\t\t\t\t\tquery,\n\t\t\t\t\t\tthis.preferencesRenderers.lastFilterResult));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate triggerSearch(query: string): Promise<void> {\n\t\tif (query) {\n\t\t\treturn Promise.all([\n\t\t\t\tthis.localSearchDelayer.trigger(() => this.preferencesRenderers.localFilterPreferences(query).then(() => { })),\n\t\t\t\tthis.remoteSearchThrottle.trigger(() => Promise.resolve(this.editorProgressService.showWhile(this.preferencesRenderers.remoteSearchPreferences(query), 500)))\n\t\t\t]).then(() => { });\n\t\t} else {\n\t\t\t// When clearing the input, update immediately to clear it\n\t\t\tthis.localSearchDelayer.cancel();\n\t\t\tthis.preferencesRenderers.localFilterPreferences(query);\n\n\t\t\tthis.remoteSearchThrottle.cancel();\n\t\t\treturn this.preferencesRenderers.remoteSearchPreferences(query);\n\t\t}\n\t}\n\n\tprivate switchSettings(target: SettingsTarget): void {\n\t\t// Focus the editor if this editor is not active editor\n\t\tif (this.editorService.activeEditorPane !== this) {\n\t\t\tthis.focus();\n\t\t}\n\t\tconst promise = this.input && this.input.isDirty() ? this.editorService.save({ editor: this.input, groupId: this.group!.id }) : Promise.resolve(true);\n\t\tpromise.then(() => {\n\t\t\tif (target === ConfigurationTarget.USER_LOCAL) {\n\t\t\t\tthis.preferencesService.switchSettings(ConfigurationTarget.USER_LOCAL, this.preferencesService.userSettingsResource);\n\t\t\t} else if (target === ConfigurationTarget.WORKSPACE) {\n\t\t\t\tthis.preferencesService.switchSettings(ConfigurationTarget.WORKSPACE, this.preferencesService.workspaceSettingsResource!);\n\t\t\t} else if (target instanceof URI) {\n\t\t\t\tthis.preferencesService.switchSettings(ConfigurationTarget.WORKSPACE_FOLDER, target);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate showSearchResultsMessage(count: IPreferencesCount): void {\n\t\tconst countValue = count.count;\n\t\tif (count.target) {\n\t\t\tthis.sideBySidePreferencesWidget.setResultCount(count.target, count.count);\n\t\t} else if (this.searchWidget.getValue()) {\n\t\t\tif (countValue === 0) {\n\t\t\t\tthis.searchWidget.showMessage(nls.localize('noSettingsFound', \"No Settings Found\"));\n\t\t\t} else if (countValue === 1) {\n\t\t\t\tthis.searchWidget.showMessage(nls.localize('oneSettingFound', \"1 Setting Found\"));\n\t\t\t} else {\n\t\t\t\tthis.searchWidget.showMessage(nls.localize('settingsFound', \"{0} Settings Found\", countValue));\n\t\t\t}\n\t\t} else {\n\t\t\tthis.searchWidget.showMessage(nls.localize('totalSettingsMessage', \"Total {0} Settings\", countValue));\n\t\t}\n\t}\n\n\tprivate _countById(settingsGroups: ISettingsGroup[]): IStringDictionary<number> {\n\t\tconst result: IStringDictionary<number> = {};\n\n\t\tfor (const group of settingsGroups) {\n\t\t\tlet i = 0;\n\t\t\tfor (const section of group.sections) {\n\t\t\t\ti += section.settings.length;\n\t\t\t}\n\n\t\t\tresult[group.id] = i;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate reportFilteringUsed(filter: string, filterResult: IFilterResult | null): void {\n\t\tif (filter && filter !== this._lastReportedFilter) {\n\t\t\tconst metadata = filterResult && filterResult.metadata;\n\t\t\tconst counts = filterResult && this._countById(filterResult.filteredGroups);\n\n\t\t\tlet durations: Record<string, number> | undefined;\n\t\t\tif (metadata) {\n\t\t\t\tdurations = Object.create(null);\n\t\t\t\tObject.keys(metadata).forEach(key => durations![key] = metadata[key].duration);\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tfilter,\n\t\t\t\tdurations,\n\t\t\t\tcounts,\n\t\t\t\trequestCount: metadata && metadata['nlpResult'] && metadata['nlpResult'].requestCount\n\t\t\t};\n\n\t\t\t/* __GDPR__\n\t\t\t\t\"defaultSettings.filter\" : {\n\t\t\t\t\t\"filter\": { \"classification\": \"CustomerContent\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\"durations.nlpresult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\t\"counts.nlpresult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\t\"durations.filterresult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\t\"counts.filterresult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\t\"requestCount\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t\t}\n\t\t\t*/\n\t\t\tthis.telemetryService.publicLog('defaultSettings.filter', data);\n\t\t\tthis._lastReportedFilter = filter;\n\t\t}\n\t}\n}\n\nclass SettingsNavigator extends ArrayNavigator<ISetting> {\n\n\toverride next(): ISetting | null {\n\t\treturn super.next() || super.first();\n\t}\n\n\toverride previous(): ISetting | null {\n\t\treturn super.previous() || super.last();\n\t}\n\n\treset(): void {\n\t\tthis.index = this.start - 1;\n\t}\n}\n\ninterface IPreferencesCount {\n\ttarget?: SettingsTarget;\n\tcount: number;\n}\n\nclass PreferencesRenderersController extends Disposable {\n\n\tprivate _defaultPreferencesRenderer!: IPreferencesRenderer<ISetting>;\n\tprivate _defaultPreferencesRendererDisposables: IDisposable[] = [];\n\n\tprivate _editablePreferencesRenderer!: IPreferencesRenderer<ISetting>;\n\tprivate _editablePreferencesRendererDisposables: IDisposable[] = [];\n\n\tprivate _settingsNavigator: SettingsNavigator | null = null;\n\tprivate _remoteFilterCancelToken: CancellationTokenSource | null = null;\n\tprivate _prefsModelsForSearch = new Map<string, ISettingsEditorModel>();\n\n\tprivate _currentLocalSearchProvider: ISearchProvider | null = null;\n\tprivate _currentRemoteSearchProvider: ISearchProvider | null = null;\n\tprivate _lastQuery = '';\n\tprivate _lastFilterResult: IFilterResult | null = null;\n\n\tprivate readonly _onDidFilterResultsCountChange: Emitter<IPreferencesCount> = this._register(new Emitter<IPreferencesCount>());\n\treadonly onDidFilterResultsCountChange: Event<IPreferencesCount> = this._onDidFilterResultsCountChange.event;\n\n\tconstructor(\n\t\t@IPreferencesSearchService private readonly preferencesSearchService: IPreferencesSearchService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@ILogService private readonly logService: ILogService\n\t) {\n\t\tsuper();\n\t}\n\n\tget lastFilterResult(): IFilterResult | null {\n\t\treturn this._lastFilterResult;\n\t}\n\n\tget defaultPreferencesRenderer(): IPreferencesRenderer<ISetting> {\n\t\treturn this._defaultPreferencesRenderer;\n\t}\n\n\tget editablePreferencesRenderer(): IPreferencesRenderer<ISetting> {\n\t\treturn this._editablePreferencesRenderer;\n\t}\n\n\tset defaultPreferencesRenderer(defaultPreferencesRenderer: IPreferencesRenderer<ISetting>) {\n\t\tif (this._defaultPreferencesRenderer !== defaultPreferencesRenderer) {\n\t\t\tthis._defaultPreferencesRenderer = defaultPreferencesRenderer;\n\n\t\t\tthis._defaultPreferencesRendererDisposables = dispose(this._defaultPreferencesRendererDisposables);\n\n\t\t\tif (this._defaultPreferencesRenderer) {\n\t\t\t\tthis._defaultPreferencesRenderer.onUpdatePreference(({ key, value, source }) => {\n\t\t\t\t\tthis._editablePreferencesRenderer.updatePreference(key, value, source);\n\t\t\t\t\tthis._updatePreference(key, value, source);\n\t\t\t\t}, this, this._defaultPreferencesRendererDisposables);\n\t\t\t\tthis._defaultPreferencesRenderer.onFocusPreference(preference => this._focusPreference(preference, this._editablePreferencesRenderer), this, this._defaultPreferencesRendererDisposables);\n\t\t\t\tthis._defaultPreferencesRenderer.onClearFocusPreference(preference => this._clearFocus(preference, this._editablePreferencesRenderer), this, this._defaultPreferencesRendererDisposables);\n\t\t\t}\n\t\t}\n\t}\n\n\tset editablePreferencesRenderer(editableSettingsRenderer: IPreferencesRenderer<ISetting>) {\n\t\tif (this._editablePreferencesRenderer !== editableSettingsRenderer) {\n\t\t\tthis._editablePreferencesRenderer = editableSettingsRenderer;\n\t\t\tthis._editablePreferencesRendererDisposables = dispose(this._editablePreferencesRendererDisposables);\n\t\t\tif (this._editablePreferencesRenderer) {\n\t\t\t\t(<ISettingsEditorModel>this._editablePreferencesRenderer.preferencesModel)\n\t\t\t\t\t.onDidChangeGroups(this._onEditableContentDidChange, this, this._editablePreferencesRendererDisposables);\n\n\t\t\t\tthis._editablePreferencesRenderer.onUpdatePreference(({ key, value, source }) => this._updatePreference(key, value, source, true), this, this._defaultPreferencesRendererDisposables);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async _onEditableContentDidChange(): Promise<void> {\n\t\tconst foundExactMatch = await this.localFilterPreferences(this._lastQuery, true);\n\t\tif (!foundExactMatch) {\n\t\t\tawait this.remoteSearchPreferences(this._lastQuery, true);\n\t\t}\n\t}\n\n\tonHidden(): void {\n\t\tthis._prefsModelsForSearch.forEach(model => model.dispose());\n\t\tthis._prefsModelsForSearch = new Map<string, ISettingsEditorModel>();\n\t}\n\n\tremoteSearchPreferences(query: string, updateCurrentResults?: boolean): Promise<void> {\n\t\tif (this.lastFilterResult && this.lastFilterResult.exactMatch) {\n\t\t\t// Skip and clear remote search\n\t\t\tquery = '';\n\t\t}\n\n\t\tif (this._remoteFilterCancelToken) {\n\t\t\tthis._remoteFilterCancelToken.cancel();\n\t\t\tthis._remoteFilterCancelToken.dispose();\n\t\t\tthis._remoteFilterCancelToken = null;\n\t\t}\n\n\t\tthis._currentRemoteSearchProvider = (updateCurrentResults && this._currentRemoteSearchProvider) || this.preferencesSearchService.getRemoteSearchProvider(query) || null;\n\n\t\tthis._remoteFilterCancelToken = new CancellationTokenSource();\n\t\treturn this.filterOrSearchPreferences(query, this._currentRemoteSearchProvider!, 'nlpResult', nls.localize('nlpResult', \"Natural Language Results\"), 1, this._remoteFilterCancelToken.token, updateCurrentResults).then(() => {\n\t\t\tif (this._remoteFilterCancelToken) {\n\t\t\t\tthis._remoteFilterCancelToken.dispose();\n\t\t\t\tthis._remoteFilterCancelToken = null;\n\t\t\t}\n\t\t}, err => {\n\t\t\tif (isPromiseCanceledError(err)) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t});\n\t}\n\n\tlocalFilterPreferences(query: string, updateCurrentResults?: boolean): Promise<boolean> {\n\t\tif (this._settingsNavigator) {\n\t\t\tthis._settingsNavigator.reset();\n\t\t}\n\n\t\tthis._currentLocalSearchProvider = (updateCurrentResults && this._currentLocalSearchProvider) || this.preferencesSearchService.getLocalSearchProvider(query);\n\t\treturn this.filterOrSearchPreferences(query, this._currentLocalSearchProvider, 'filterResult', nls.localize('filterResult', \"Filtered Results\"), 0, undefined, updateCurrentResults);\n\t}\n\n\tprivate filterOrSearchPreferences(query: string, searchProvider: ISearchProvider, groupId: string, groupLabel: string, groupOrder: number, token?: CancellationToken, editableContentOnly?: boolean): Promise<boolean> {\n\t\tthis._lastQuery = query;\n\n\t\tconst filterPs: Promise<IFilterResult | undefined>[] = [this._filterOrSearchPreferences(query, this.editablePreferencesRenderer, searchProvider, groupId, groupLabel, groupOrder, token)];\n\t\tif (!editableContentOnly) {\n\t\t\tfilterPs.push(\n\t\t\t\tthis._filterOrSearchPreferences(query, this.defaultPreferencesRenderer, searchProvider, groupId, groupLabel, groupOrder, token));\n\t\t\tfilterPs.push(\n\t\t\t\tthis.searchAllSettingsTargets(query, searchProvider, groupId, groupLabel, groupOrder, token).then(() => undefined));\n\t\t}\n\n\t\treturn Promise.all(filterPs).then(results => {\n\t\t\tlet [editableFilterResult, defaultFilterResult] = results;\n\n\t\t\tif (!defaultFilterResult && editableContentOnly) {\n\t\t\t\tdefaultFilterResult = this.lastFilterResult!;\n\t\t\t}\n\n\t\t\tthis.consolidateAndUpdate(defaultFilterResult, editableFilterResult);\n\t\t\tthis._lastFilterResult = withUndefinedAsNull(defaultFilterResult);\n\n\t\t\treturn !!(defaultFilterResult && defaultFilterResult.exactMatch);\n\t\t});\n\t}\n\n\tprivate searchAllSettingsTargets(query: string, searchProvider: ISearchProvider, groupId: string, groupLabel: string, groupOrder: number, token?: CancellationToken): Promise<void> {\n\t\tconst searchPs = [\n\t\t\tthis.searchSettingsTarget(query, searchProvider, ConfigurationTarget.WORKSPACE, groupId, groupLabel, groupOrder, token),\n\t\t\tthis.searchSettingsTarget(query, searchProvider, ConfigurationTarget.USER_LOCAL, groupId, groupLabel, groupOrder, token)\n\t\t];\n\n\t\tfor (const folder of this.workspaceContextService.getWorkspace().folders) {\n\t\t\tconst folderSettingsResource = this.preferencesService.getFolderSettingsResource(folder.uri);\n\t\t\tsearchPs.push(this.searchSettingsTarget(query, searchProvider, withNullAsUndefined(folderSettingsResource), groupId, groupLabel, groupOrder, token));\n\t\t}\n\n\n\t\treturn Promise.all(searchPs).then(() => { });\n\t}\n\n\tprivate searchSettingsTarget(query: string, provider: ISearchProvider, target: SettingsTarget | undefined, groupId: string, groupLabel: string, groupOrder: number, token?: CancellationToken): Promise<void> {\n\t\tif (!query) {\n\t\t\t// Don't open the other settings targets when query is empty\n\t\t\tthis._onDidFilterResultsCountChange.fire({ target, count: 0 });\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn this.getPreferencesEditorModel(target).then<IFilterResult | undefined>(model => {\n\t\t\treturn model && this._filterOrSearchPreferencesModel('', <ISettingsEditorModel>model, provider, groupId, groupLabel, groupOrder, token);\n\t\t}).then(result => {\n\t\t\tconst count = result ? this._flatten(result.filteredGroups).length : 0;\n\t\t\tthis._onDidFilterResultsCountChange.fire({ target, count });\n\t\t}, err => {\n\t\t\tif (!isPromiseCanceledError(err)) {\n\t\t\t\treturn Promise.reject(err);\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tprivate async getPreferencesEditorModel(target: SettingsTarget | undefined): Promise<ISettingsEditorModel | undefined> {\n\t\tconst resource = target === ConfigurationTarget.USER_LOCAL ? this.preferencesService.userSettingsResource :\n\t\t\ttarget === ConfigurationTarget.USER_REMOTE ? this.preferencesService.userSettingsResource :\n\t\t\t\ttarget === ConfigurationTarget.WORKSPACE ? this.preferencesService.workspaceSettingsResource :\n\t\t\t\t\ttarget;\n\n\t\tif (!resource) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst targetKey = resource.toString();\n\t\tif (!this._prefsModelsForSearch.has(targetKey)) {\n\t\t\ttry {\n\t\t\t\tconst model = await this.preferencesService.createPreferencesEditorModel(resource);\n\t\t\t\tif (model) {\n\t\t\t\t\tthis._register(model);\n\t\t\t\t\tthis._prefsModelsForSearch.set(targetKey, <ISettingsEditorModel>model);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// Will throw when the settings file doesn't exist.\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn this._prefsModelsForSearch.get(targetKey);\n\t}\n\n\tfocusNextPreference(forward: boolean = true) {\n\t\tif (!this._settingsNavigator) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst setting = forward ? this._settingsNavigator.next() : this._settingsNavigator.previous();\n\t\tthis._focusPreference(setting, this._defaultPreferencesRenderer);\n\t\tthis._focusPreference(setting, this._editablePreferencesRenderer);\n\t}\n\n\teditFocusedPreference(): void {\n\t\tif (!this._settingsNavigator || !this._settingsNavigator.current()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst setting = this._settingsNavigator.current();\n\t\tconst shownInEditableRenderer = this._editablePreferencesRenderer.editPreference(setting!);\n\t\tif (!shownInEditableRenderer) {\n\t\t\tthis.defaultPreferencesRenderer.editPreference(setting!);\n\t\t}\n\t}\n\n\tprivate _filterOrSearchPreferences(filter: string, preferencesRenderer: IPreferencesRenderer<ISetting>, provider: ISearchProvider, groupId: string, groupLabel: string, groupOrder: number, token?: CancellationToken): Promise<IFilterResult | undefined> {\n\t\tif (!preferencesRenderer) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tconst model = <ISettingsEditorModel>preferencesRenderer.preferencesModel;\n\t\treturn this._filterOrSearchPreferencesModel(filter, model, provider, groupId, groupLabel, groupOrder, token).then(filterResult => {\n\t\t\tpreferencesRenderer.filterPreferences(filterResult);\n\t\t\treturn filterResult;\n\t\t});\n\t}\n\n\tprivate _filterOrSearchPreferencesModel(filter: string, model: ISettingsEditorModel, provider: ISearchProvider, groupId: string, groupLabel: string, groupOrder: number, token?: CancellationToken): Promise<IFilterResult | undefined> {\n\t\tconst searchP = provider ? provider.searchModel(model, token) : Promise.resolve(null);\n\t\treturn searchP\n\t\t\t.then(null, err => {\n\t\t\t\tif (isPromiseCanceledError(err)) {\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t} else {\n\t\t\t\t\t/* __GDPR__\n\t\t\t\t\t\t\"defaultSettings.searchError\" : {\n\t\t\t\t\t\t\t\"message\": { \"classification\": \"CallstackOrException\", \"purpose\": \"FeatureInsight\" }\n\t\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\t\tconst message = getErrorMessage(err).trim();\n\t\t\t\t\tif (message && message !== 'Error') {\n\t\t\t\t\t\t// \"Error\" = any generic network error\n\t\t\t\t\t\tthis.telemetryService.publicLogError('defaultSettings.searchError', { message });\n\t\t\t\t\t\tthis.logService.info('Setting search error: ' + message);\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(searchResult => {\n\t\t\t\tif (token && token.isCancellationRequested) {\n\t\t\t\t\tsearchResult = null;\n\t\t\t\t}\n\n\t\t\t\tconst filterResult = searchResult ?\n\t\t\t\t\tmodel.updateResultGroup(groupId, {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tlabel: groupLabel,\n\t\t\t\t\t\tresult: searchResult,\n\t\t\t\t\t\torder: groupOrder\n\t\t\t\t\t}) :\n\t\t\t\t\tmodel.updateResultGroup(groupId, undefined);\n\n\t\t\t\tif (filterResult) {\n\t\t\t\t\tfilterResult.query = filter;\n\t\t\t\t\tfilterResult.exactMatch = !!searchResult && searchResult.exactMatch;\n\t\t\t\t}\n\n\t\t\t\treturn filterResult;\n\t\t\t});\n\t}\n\n\tprivate consolidateAndUpdate(defaultFilterResult: IFilterResult | undefined, editableFilterResult: IFilterResult | undefined): void {\n\t\tconst defaultPreferencesFilteredGroups = defaultFilterResult ? defaultFilterResult.filteredGroups : this._getAllPreferences(this._defaultPreferencesRenderer);\n\t\tconst editablePreferencesFilteredGroups = editableFilterResult ? editableFilterResult.filteredGroups : this._getAllPreferences(this._editablePreferencesRenderer);\n\t\tconst consolidatedSettings = this._consolidateSettings(editablePreferencesFilteredGroups, defaultPreferencesFilteredGroups);\n\n\t\t// Maintain the current navigation position when updating SettingsNavigator\n\t\tconst current = this._settingsNavigator && this._settingsNavigator.current();\n\t\tconst navigatorSettings = this._lastQuery ? consolidatedSettings : [];\n\t\tconst currentIndex = current ?\n\t\t\tnavigatorSettings.findIndex(s => s.key === current.key) :\n\t\t\t-1;\n\n\t\tthis._settingsNavigator = new SettingsNavigator(navigatorSettings, Math.max(currentIndex, 0));\n\n\t\tif (currentIndex >= 0) {\n\t\t\tthis._settingsNavigator.next();\n\t\t\tconst newCurrent = this._settingsNavigator.current();\n\t\t\tthis._focusPreference(newCurrent, this._defaultPreferencesRenderer);\n\t\t\tthis._focusPreference(newCurrent, this._editablePreferencesRenderer);\n\t\t}\n\n\t\tconst totalCount = consolidatedSettings.length;\n\t\tthis._onDidFilterResultsCountChange.fire({ count: totalCount });\n\t}\n\n\tprivate _getAllPreferences(preferencesRenderer: IPreferencesRenderer<ISetting>): ISettingsGroup[] {\n\t\treturn preferencesRenderer ? (<ISettingsEditorModel>preferencesRenderer.preferencesModel).settingsGroups : [];\n\t}\n\n\tprivate _focusPreference(preference: ISetting | null, preferencesRenderer: IPreferencesRenderer<ISetting>): void {\n\t\tif (preference && preferencesRenderer) {\n\t\t\tpreferencesRenderer.focusPreference(preference);\n\t\t}\n\t}\n\n\tprivate _clearFocus(preference: ISetting, preferencesRenderer: IPreferencesRenderer<ISetting>): void {\n\t\tif (preference && preferencesRenderer) {\n\t\t\tpreferencesRenderer.clearFocus(preference);\n\t\t}\n\t}\n\n\tprivate _updatePreference(key: string, value: any, source: ISetting, fromEditableSettings?: boolean): void {\n\t\tconst data: { [key: string]: any; } = {\n\t\t\tuserConfigurationKeys: [key]\n\t\t};\n\n\t\tif (this.lastFilterResult) {\n\t\t\tdata['query'] = this.lastFilterResult.query;\n\t\t\tdata['editableSide'] = !!fromEditableSettings;\n\n\t\t\tconst nlpMetadata = this.lastFilterResult.metadata && this.lastFilterResult.metadata['nlpResult'];\n\t\t\tif (nlpMetadata) {\n\t\t\t\tconst sortedKeys = Object.keys(nlpMetadata.scoredResults).sort((a, b) => nlpMetadata.scoredResults[b].score - nlpMetadata.scoredResults[a].score);\n\t\t\t\tconst suffix = '##' + key;\n\t\t\t\tdata['nlpIndex'] = sortedKeys.findIndex(key => key.endsWith(suffix));\n\t\t\t}\n\n\t\t\tconst settingLocation = this._findSetting(this.lastFilterResult, key);\n\t\t\tif (settingLocation) {\n\t\t\t\tdata['groupId'] = this.lastFilterResult.filteredGroups[settingLocation.groupIdx].id;\n\t\t\t\tdata['displayIdx'] = settingLocation.overallSettingIdx;\n\t\t\t}\n\t\t}\n\n\t\t/* __GDPR__\n\t\t\t\"defaultSettingsActions.copySetting\" : {\n\t\t\t\t\"userConfigurationKeys\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"query\" : { \"classification\": \"CustomerContent\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"nlpIndex\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"groupId\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"displayIdx\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"editableSide\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog('defaultSettingsActions.copySetting', data);\n\t}\n\n\tprivate _findSetting(filterResult: IFilterResult, key: string): { groupIdx: number, settingIdx: number, overallSettingIdx: number; } | undefined {\n\t\tlet overallSettingIdx = 0;\n\n\t\tfor (let groupIdx = 0; groupIdx < filterResult.filteredGroups.length; groupIdx++) {\n\t\t\tconst group = filterResult.filteredGroups[groupIdx];\n\t\t\tfor (let settingIdx = 0; settingIdx < group.sections[0].settings.length; settingIdx++) {\n\t\t\t\tconst setting = group.sections[0].settings[settingIdx];\n\t\t\t\tif (key === setting.key) {\n\t\t\t\t\treturn { groupIdx, settingIdx, overallSettingIdx };\n\t\t\t\t}\n\n\t\t\t\toverallSettingIdx++;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate _consolidateSettings(editableSettingsGroups: ISettingsGroup[], defaultSettingsGroups: ISettingsGroup[]): ISetting[] {\n\t\tconst defaultSettings = this._flatten(defaultSettingsGroups);\n\t\tconst editableSettings = this._flatten(editableSettingsGroups).filter(secondarySetting => defaultSettings.every(primarySetting => primarySetting.key !== secondarySetting.key));\n\t\treturn [...defaultSettings, ...editableSettings];\n\t}\n\n\tprivate _flatten(settingsGroups: ISettingsGroup[]): ISetting[] {\n\t\tconst settings: ISetting[] = [];\n\t\tfor (const group of settingsGroups) {\n\t\t\tfor (const section of group.sections) {\n\t\t\t\tsettings.push(...section.settings);\n\t\t\t}\n\t\t}\n\n\t\treturn settings;\n\t}\n\n\toverride dispose(): void {\n\t\tdispose(this._defaultPreferencesRendererDisposables);\n\t\tdispose(this._editablePreferencesRendererDisposables);\n\t\tsuper.dispose();\n\t}\n}\n\nclass SideBySidePreferencesWidget extends Widget {\n\n\tprivate dimension: DOM.Dimension = new DOM.Dimension(0, 0);\n\n\tprivate defaultPreferencesHeader: HTMLElement;\n\tprivate defaultPreferencesEditor: DefaultPreferencesEditor;\n\tprivate editablePreferencesEditor: EditorPane | null = null;\n\tprivate defaultPreferencesEditorContainer: HTMLElement;\n\tprivate editablePreferencesEditorContainer: HTMLElement;\n\n\tprivate settingsTargetsWidget: SettingsTargetsWidget;\n\n\tprivate readonly _onFocus = this._register(new Emitter<void>());\n\treadonly onFocus: Event<void> = this._onFocus.event;\n\n\tprivate readonly _onDidSettingsTargetChange = this._register(new Emitter<SettingsTarget>());\n\treadonly onDidSettingsTargetChange: Event<SettingsTarget> = this._onDidSettingsTargetChange.event;\n\n\tprivate splitview: SplitView;\n\n\tprivate isVisible = false;\n\tprivate group: IEditorGroup | undefined;\n\n\tget minimumWidth(): number { return this.splitview.minimumSize; }\n\tget maximumWidth(): number { return this.splitview.maximumSize; }\n\n\tconstructor(\n\t\tparentElement: HTMLElement,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t) {\n\t\tsuper();\n\n\t\tparentElement.classList.add('side-by-side-preferences-editor');\n\n\t\tthis.splitview = new SplitView(parentElement, { orientation: Orientation.HORIZONTAL });\n\t\tthis._register(this.splitview);\n\t\tthis._register(this.splitview.onDidSashReset(() => this.splitview.distributeViewSizes()));\n\n\t\tthis.defaultPreferencesEditorContainer = DOM.$('.default-preferences-editor-container');\n\n\t\tconst defaultPreferencesHeaderContainer = DOM.append(this.defaultPreferencesEditorContainer, DOM.$('.preferences-header-container'));\n\t\tthis.defaultPreferencesHeader = DOM.append(defaultPreferencesHeaderContainer, DOM.$('div.default-preferences-header'));\n\t\tthis.defaultPreferencesHeader.textContent = nls.localize('defaultSettings', \"Default Settings\");\n\n\t\tthis.defaultPreferencesEditor = this._register(this.instantiationService.createInstance(DefaultPreferencesEditor));\n\t\tthis.defaultPreferencesEditor.create(this.defaultPreferencesEditorContainer);\n\n\t\tthis.splitview.addView({\n\t\t\telement: this.defaultPreferencesEditorContainer,\n\t\t\tlayout: size => this.defaultPreferencesEditor.layout(new DOM.Dimension(size, this.dimension.height - 34 /* height of header container */)),\n\t\t\tminimumSize: 220,\n\t\t\tmaximumSize: Number.POSITIVE_INFINITY,\n\t\t\tonDidChange: Event.None\n\t\t}, Sizing.Distribute);\n\n\t\tthis.editablePreferencesEditorContainer = DOM.$('.editable-preferences-editor-container');\n\t\tconst editablePreferencesHeaderContainer = DOM.append(this.editablePreferencesEditorContainer, DOM.$('.preferences-header-container'));\n\t\tthis.settingsTargetsWidget = this._register(this.instantiationService.createInstance(SettingsTargetsWidget, editablePreferencesHeaderContainer, undefined));\n\t\tthis._register(this.settingsTargetsWidget.onDidTargetChange(target => this._onDidSettingsTargetChange.fire(target)));\n\n\t\tthis._register(attachStylerCallback(this.themeService, { scrollbarShadow }, colors => {\n\t\t\tconst shadow = colors.scrollbarShadow ? colors.scrollbarShadow.toString() : null;\n\n\t\t\tthis.editablePreferencesEditorContainer.style.boxShadow = shadow ? `-6px 0 5px -5px ${shadow}` : '';\n\t\t}));\n\n\t\tthis.splitview.addView({\n\t\t\telement: this.editablePreferencesEditorContainer,\n\t\t\tlayout: size => this.editablePreferencesEditor && this.editablePreferencesEditor.layout(new DOM.Dimension(size, this.dimension.height - 34 /* height of header container */)),\n\t\t\tminimumSize: 220,\n\t\t\tmaximumSize: Number.POSITIVE_INFINITY,\n\t\t\tonDidChange: Event.None\n\t\t}, Sizing.Distribute);\n\n\t\tconst focusTracker = this._register(DOM.trackFocus(parentElement));\n\t\tthis._register(focusTracker.onDidFocus(() => this._onFocus.fire()));\n\t}\n\n\tsetInput(defaultPreferencesEditorInput: DefaultPreferencesEditorInput, editablePreferencesEditorInput: EditorInput, options: EditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<{ defaultPreferencesRenderer?: IPreferencesRenderer<ISetting>, editablePreferencesRenderer?: IPreferencesRenderer<ISetting>; }> {\n\t\tthis.getOrCreateEditablePreferencesEditor(editablePreferencesEditorInput);\n\t\tthis.settingsTargetsWidget.settingsTarget = this.getSettingsTarget(editablePreferencesEditorInput.resource!);\n\t\treturn Promise.all([\n\t\t\tthis.updateInput(this.defaultPreferencesEditor, defaultPreferencesEditorInput, DefaultSettingsEditorContribution.ID, editablePreferencesEditorInput.resource!, options, context, token),\n\t\t\tthis.updateInput(this.editablePreferencesEditor!, editablePreferencesEditorInput, SettingsEditorContribution.ID, defaultPreferencesEditorInput.resource!, options, context, token)\n\t\t])\n\t\t\t.then(([defaultPreferencesRenderer, editablePreferencesRenderer]) => {\n\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\n\t\t\t\tthis.defaultPreferencesHeader.textContent = withUndefinedAsNull(defaultPreferencesRenderer && this.getDefaultPreferencesHeaderText((<DefaultSettingsEditorModel>defaultPreferencesRenderer.preferencesModel).target));\n\t\t\t\treturn { defaultPreferencesRenderer, editablePreferencesRenderer };\n\t\t\t});\n\t}\n\n\tprivate getDefaultPreferencesHeaderText(target: ConfigurationTarget): string {\n\t\tswitch (target) {\n\t\t\tcase ConfigurationTarget.USER_LOCAL:\n\t\t\t\treturn nls.localize('defaultUserSettings', \"Default User Settings\");\n\t\t\tcase ConfigurationTarget.WORKSPACE:\n\t\t\t\treturn nls.localize('defaultWorkspaceSettings', \"Default Workspace Settings\");\n\t\t\tcase ConfigurationTarget.WORKSPACE_FOLDER:\n\t\t\t\treturn nls.localize('defaultFolderSettings', \"Default Folder Settings\");\n\t\t}\n\t\treturn '';\n\t}\n\n\tsetResultCount(settingsTarget: SettingsTarget, count: number): void {\n\t\tthis.settingsTargetsWidget.setResultCount(settingsTarget, count);\n\t}\n\n\tlayout(dimension: DOM.Dimension = this.dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.splitview.layout(dimension.width);\n\t}\n\n\tfocus(): void {\n\t\tif (this.editablePreferencesEditor) {\n\t\t\tthis.editablePreferencesEditor.focus();\n\t\t}\n\t}\n\n\tgetControl(): IEditorControl | undefined {\n\t\treturn this.editablePreferencesEditor ? this.editablePreferencesEditor.getControl() : undefined;\n\t}\n\n\tclearInput(): void {\n\t\tif (this.defaultPreferencesEditor) {\n\t\t\tthis.defaultPreferencesEditor.clearInput();\n\t\t}\n\t\tif (this.editablePreferencesEditor) {\n\t\t\tthis.editablePreferencesEditor.clearInput();\n\t\t}\n\t}\n\n\tsetEditorVisible(visible: boolean, group: IEditorGroup | undefined): void {\n\t\tthis.isVisible = visible;\n\t\tthis.group = group;\n\n\t\tif (this.defaultPreferencesEditor) {\n\t\t\tthis.defaultPreferencesEditor.setVisible(this.isVisible, this.group);\n\t\t}\n\t\tif (this.editablePreferencesEditor) {\n\t\t\tthis.editablePreferencesEditor.setVisible(this.isVisible, this.group);\n\t\t}\n\t}\n\n\tprivate getOrCreateEditablePreferencesEditor(editorInput: EditorInput): EditorPane {\n\t\tif (this.editablePreferencesEditor) {\n\t\t\treturn this.editablePreferencesEditor;\n\t\t}\n\t\tconst descriptor = Registry.as<IEditorRegistry>(EditorExtensions.Editors).getEditor(editorInput);\n\t\tconst editor = descriptor!.instantiate(this.instantiationService);\n\t\tthis.editablePreferencesEditor = editor;\n\t\tthis.editablePreferencesEditor.create(this.editablePreferencesEditorContainer);\n\t\tthis.editablePreferencesEditor.setVisible(this.isVisible, this.group);\n\t\tthis.layout();\n\n\t\treturn editor;\n\t}\n\n\tprivate async updateInput(editor: EditorPane, input: EditorInput, editorContributionId: string, associatedPreferencesModelUri: URI, options: EditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<IPreferencesRenderer<ISetting> | undefined> {\n\t\tawait editor.setInput(input, options, context, token);\n\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn withNullAsUndefined(\n\t\t\tawait (<CodeEditorWidget>editor.getControl()).getContribution<ISettingsEditorContribution>(editorContributionId).updatePreferencesRenderer(associatedPreferencesModelUri));\n\t}\n\n\tprivate getSettingsTarget(resource: URI): SettingsTarget {\n\t\tif (this.preferencesService.userSettingsResource.toString() === resource.toString()) {\n\t\t\treturn ConfigurationTarget.USER_LOCAL;\n\t\t}\n\n\t\tconst workspaceSettingsResource = this.preferencesService.workspaceSettingsResource;\n\t\tif (workspaceSettingsResource && workspaceSettingsResource.toString() === resource.toString()) {\n\t\t\treturn ConfigurationTarget.WORKSPACE;\n\t\t}\n\n\t\tconst folder = this.workspaceContextService.getWorkspaceFolder(resource);\n\t\tif (folder) {\n\t\t\treturn folder.uri;\n\t\t}\n\n\t\treturn ConfigurationTarget.USER_LOCAL;\n\t}\n\n\tprivate disposeEditors(): void {\n\t\tif (this.defaultPreferencesEditor) {\n\t\t\tthis.defaultPreferencesEditor.dispose();\n\t\t}\n\t\tif (this.editablePreferencesEditor) {\n\t\t\tthis.editablePreferencesEditor.dispose();\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tthis.disposeEditors();\n\t\tsuper.dispose();\n\t}\n}\n\nexport class DefaultPreferencesEditor extends BaseTextEditor {\n\n\tstatic readonly ID: string = 'workbench.editor.defaultPreferences';\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@ITextResourceConfigurationService configurationService: ITextResourceConfigurationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService\n\t) {\n\t\tsuper(DefaultPreferencesEditor.ID, telemetryService, instantiationService, storageService, configurationService, themeService, editorService, editorGroupService);\n\t}\n\n\tprivate static _getContributions(): IEditorContributionDescription[] {\n\t\tconst skipContributions = [FoldingController.ID, SelectionHighlighter.ID, FindController.ID];\n\t\tconst contributions = EditorExtensionsRegistry.getEditorContributions().filter(c => skipContributions.indexOf(c.id) === -1);\n\t\tcontributions.push({ id: DefaultSettingsEditorContribution.ID, ctor: DefaultSettingsEditorContribution as IConstructorSignature1<ICodeEditor, editorCommon.IEditorContribution> });\n\t\treturn contributions;\n\t}\n\n\toverride createEditorControl(parent: HTMLElement, configuration: IEditorOptions): editorCommon.IEditor {\n\t\tconst editor = this.instantiationService.createInstance(CodeEditorWidget, parent, configuration, { contributions: DefaultPreferencesEditor._getContributions() });\n\n\t\t// Inform user about editor being readonly if user starts type\n\t\tthis._register(editor.onDidType(() => this.showReadonlyHint(editor)));\n\t\tthis._register(editor.onDidPaste(() => this.showReadonlyHint(editor)));\n\n\t\treturn editor;\n\t}\n\n\tprivate showReadonlyHint(editor: ICodeEditor): void {\n\t\tconst messageController = MessageController.get(editor);\n\t\tif (!messageController.isVisible()) {\n\t\t\tmessageController.showMessage(nls.localize('defaultEditorReadonly', \"Edit in the right hand side editor to override defaults.\"), editor.getSelection()!.getPosition());\n\t\t}\n\t}\n\n\tprotected override getConfigurationOverrides(): IEditorOptions {\n\t\tconst options = super.getConfigurationOverrides();\n\t\toptions.readOnly = true;\n\t\tif (this.input) {\n\t\t\toptions.lineNumbers = 'off';\n\t\t\toptions.renderLineHighlight = 'none';\n\t\t\toptions.scrollBeyondLastLine = false;\n\t\t\toptions.folding = false;\n\t\t\toptions.renderWhitespace = 'none';\n\t\t\toptions.wordWrap = 'on';\n\t\t\toptions.renderIndentGuides = false;\n\t\t\toptions.rulers = [];\n\t\t\toptions.glyphMargin = true;\n\t\t\toptions.minimap = {\n\t\t\t\tenabled: false\n\t\t\t};\n\t\t\toptions.renderValidationDecorations = 'editable';\n\t\t}\n\t\treturn options;\n\t}\n\n\toverride async setInput(input: DefaultPreferencesEditorInput, options: EditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tawait super.setInput(input, options, context, token);\n\t\tconst editorModel = await this.input!.resolve();\n\t\tif (!editorModel) {\n\t\t\treturn;\n\t\t}\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\t\tawait editorModel.resolve();\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\t\tconst editor = assertIsDefined(this.getControl());\n\t\teditor.setModel((<ResourceEditorModel>editorModel).textEditorModel);\n\t}\n\n\toverride clearInput(): void {\n\t\t// Clear Model\n\t\tconst editor = this.getControl();\n\t\tif (editor) {\n\t\t\teditor.setModel(null);\n\t\t}\n\n\t\t// Pass to super\n\t\tsuper.clearInput();\n\t}\n\n\toverride layout(dimension: DOM.Dimension) {\n\t\tconst editor = assertIsDefined(this.getControl());\n\t\teditor.layout(dimension);\n\t}\n\n\tprotected getAriaLabel(): string {\n\t\treturn nls.localize('preferencesAriaLabel', \"Default preferences. Readonly.\");\n\t}\n}\n\ninterface ISettingsEditorContribution extends editorCommon.IEditorContribution {\n\n\tupdatePreferencesRenderer(associatedPreferencesModelUri: URI): Promise<IPreferencesRenderer<ISetting> | null>;\n\n}\n\nabstract class AbstractSettingsEditorContribution extends Disposable implements ISettingsEditorContribution {\n\n\tprivate preferencesRendererCreationPromise: Promise<IPreferencesRenderer<ISetting> | null> | null = null;\n\n\tconstructor(protected editor: ICodeEditor,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService,\n\t\t@IPreferencesService protected preferencesService: IPreferencesService,\n\t\t@IWorkspaceContextService protected workspaceContextService: IWorkspaceContextService\n\t) {\n\t\tsuper();\n\t\tthis._register(this.editor.onDidChangeModel(() => this._onModelChanged()));\n\t}\n\n\tupdatePreferencesRenderer(associatedPreferencesModelUri: URI): Promise<IPreferencesRenderer<ISetting> | null> {\n\t\tif (!this.preferencesRendererCreationPromise) {\n\t\t\tthis.preferencesRendererCreationPromise = this._createPreferencesRenderer();\n\t\t}\n\n\t\tif (this.preferencesRendererCreationPromise) {\n\t\t\treturn this._hasAssociatedPreferencesModelChanged(associatedPreferencesModelUri)\n\t\t\t\t.then(changed => changed ? this._updatePreferencesRenderer(associatedPreferencesModelUri) : this.preferencesRendererCreationPromise);\n\t\t}\n\n\t\treturn Promise.resolve(null);\n\t}\n\n\tprotected _onModelChanged(): void {\n\t\tconst model = this.editor.getModel();\n\t\tthis.disposePreferencesRenderer();\n\t\tif (model) {\n\t\t\tthis.preferencesRendererCreationPromise = this._createPreferencesRenderer();\n\t\t}\n\t}\n\n\tprivate _hasAssociatedPreferencesModelChanged(associatedPreferencesModelUri: URI): Promise<boolean> {\n\t\treturn this.preferencesRendererCreationPromise!.then(preferencesRenderer => {\n\t\t\treturn !(preferencesRenderer && preferencesRenderer.getAssociatedPreferencesModel() && preferencesRenderer.getAssociatedPreferencesModel().uri!.toString() === associatedPreferencesModelUri.toString());\n\t\t});\n\t}\n\n\tprivate _updatePreferencesRenderer(associatedPreferencesModelUri: URI): Promise<IPreferencesRenderer<ISetting> | null> {\n\t\treturn this.preferencesService.createPreferencesEditorModel<ISetting>(associatedPreferencesModelUri)\n\t\t\t.then(associatedPreferencesEditorModel => {\n\t\t\t\tif (associatedPreferencesEditorModel) {\n\t\t\t\t\treturn this.preferencesRendererCreationPromise!.then(preferencesRenderer => {\n\t\t\t\t\t\tif (preferencesRenderer) {\n\t\t\t\t\t\t\tconst associatedPreferencesModel = preferencesRenderer.getAssociatedPreferencesModel();\n\t\t\t\t\t\t\tif (associatedPreferencesModel) {\n\t\t\t\t\t\t\t\tassociatedPreferencesModel.dispose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpreferencesRenderer.setAssociatedPreferencesModel(associatedPreferencesEditorModel);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn preferencesRenderer;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n\n\tprivate disposePreferencesRenderer(): void {\n\t\tif (this.preferencesRendererCreationPromise) {\n\t\t\tthis.preferencesRendererCreationPromise.then(preferencesRenderer => {\n\t\t\t\tif (preferencesRenderer) {\n\t\t\t\t\tconst associatedPreferencesModel = preferencesRenderer.getAssociatedPreferencesModel();\n\t\t\t\t\tif (associatedPreferencesModel) {\n\t\t\t\t\t\tassociatedPreferencesModel.dispose();\n\t\t\t\t\t}\n\t\t\t\t\tpreferencesRenderer.preferencesModel.dispose();\n\t\t\t\t\tpreferencesRenderer.dispose();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.preferencesRendererCreationPromise = Promise.resolve(null);\n\t\t}\n\t}\n\n\toverride dispose() {\n\t\tthis.disposePreferencesRenderer();\n\t\tsuper.dispose();\n\t}\n\n\tprotected abstract _createPreferencesRenderer(): Promise<IPreferencesRenderer<ISetting> | null> | null;\n}\n\nexport class DefaultSettingsEditorContribution extends AbstractSettingsEditorContribution implements ISettingsEditorContribution {\n\n\tstatic readonly ID: string = 'editor.contrib.defaultsettings';\n\n\tprotected _createPreferencesRenderer(): Promise<IPreferencesRenderer<ISetting> | null> | null {\n\t\treturn this.preferencesService.createPreferencesEditorModel(this.editor.getModel()!.uri)\n\t\t\t.then(editorModel => {\n\t\t\t\tif (editorModel instanceof DefaultSettingsEditorModel && this.editor.getModel()) {\n\t\t\t\t\tconst preferencesRenderer = this.instantiationService.createInstance(DefaultSettingsRenderer, this.editor, editorModel);\n\t\t\t\t\tpreferencesRenderer.render();\n\t\t\t\t\treturn preferencesRenderer;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n}\n\nclass SettingsEditorContribution extends AbstractSettingsEditorContribution implements ISettingsEditorContribution {\n\n\tstatic readonly ID: string = 'editor.contrib.settings';\n\n\tconstructor(editor: ICodeEditor,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IPreferencesService preferencesService: IPreferencesService,\n\t\t@IWorkspaceContextService workspaceContextService: IWorkspaceContextService\n\t) {\n\t\tsuper(editor, instantiationService, preferencesService, workspaceContextService);\n\t\tthis._register(this.workspaceContextService.onDidChangeWorkbenchState(() => this._onModelChanged()));\n\t}\n\n\tprotected _createPreferencesRenderer(): Promise<IPreferencesRenderer<ISetting> | null> | null {\n\t\tconst model = this.editor.getModel();\n\t\tif (model) {\n\t\t\treturn this.preferencesService.createPreferencesEditorModel(model.uri)\n\t\t\t\t.then(settingsModel => {\n\t\t\t\t\tif (settingsModel instanceof SettingsEditorModel && this.editor.getModel()) {\n\t\t\t\t\t\tswitch (settingsModel.configurationTarget) {\n\t\t\t\t\t\t\tcase ConfigurationTarget.USER_LOCAL:\n\t\t\t\t\t\t\tcase ConfigurationTarget.USER_REMOTE:\n\t\t\t\t\t\t\t\treturn this.instantiationService.createInstance(UserSettingsRenderer, this.editor, settingsModel);\n\t\t\t\t\t\t\tcase ConfigurationTarget.WORKSPACE:\n\t\t\t\t\t\t\t\treturn this.instantiationService.createInstance(WorkspaceSettingsRenderer, this.editor, settingsModel);\n\t\t\t\t\t\t\tcase ConfigurationTarget.WORKSPACE_FOLDER:\n\t\t\t\t\t\t\t\treturn this.instantiationService.createInstance(FolderSettingsRenderer, this.editor, settingsModel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})\n\t\t\t\t.then(preferencesRenderer => {\n\t\t\t\t\tif (preferencesRenderer) {\n\t\t\t\t\t\tpreferencesRenderer.render();\n\t\t\t\t\t}\n\t\t\t\t\treturn preferencesRenderer;\n\t\t\t\t});\n\t\t}\n\t\treturn null;\n\t}\n}\n\nregisterEditorContribution(SettingsEditorContribution.ID, SettingsEditorContribution);\n"]}