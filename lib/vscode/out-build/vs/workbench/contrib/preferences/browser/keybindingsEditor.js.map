{"version":3,"sources":["vs/workbench/contrib/preferences/browser/keybindingsEditor.ts"],"names":[],"mappings":"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","file":"keybindingsEditor.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/keybindingsEditor';\nimport { localize } from 'vs/nls';\nimport { Delayer } from 'vs/base/common/async';\nimport * as DOM from 'vs/base/browser/dom';\nimport { OS } from 'vs/base/common/platform';\nimport { DisposableStore, IDisposable } from 'vs/base/common/lifecycle';\nimport { CheckboxActionViewItem } from 'vs/base/browser/ui/checkbox/checkbox';\nimport { HighlightedLabel } from 'vs/base/browser/ui/highlightedlabel/highlightedLabel';\nimport { KeybindingLabel } from 'vs/base/browser/ui/keybindingLabel/keybindingLabel';\nimport { IAction, Action, Separator } from 'vs/base/common/actions';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { EditorOptions, IEditorOpenContext } from 'vs/workbench/common/editor';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IClipboardService } from 'vs/platform/clipboard/common/clipboardService';\nimport { KeybindingsEditorModel, KEYBINDING_ENTRY_TEMPLATE_ID } from 'vs/workbench/services/preferences/browser/keybindingsEditorModel';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IKeybindingService, IUserFriendlyKeybinding } from 'vs/platform/keybinding/common/keybinding';\nimport { DefineKeybindingWidget, KeybindingsSearchWidget } from 'vs/workbench/contrib/preferences/browser/keybindingWidgets';\nimport { CONTEXT_KEYBINDING_FOCUS, CONTEXT_KEYBINDINGS_EDITOR, CONTEXT_KEYBINDINGS_SEARCH_FOCUS, KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS, KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE, KEYBINDINGS_EDITOR_COMMAND_DEFINE, KEYBINDINGS_EDITOR_COMMAND_REMOVE, KEYBINDINGS_EDITOR_COMMAND_RESET, KEYBINDINGS_EDITOR_COMMAND_COPY, KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND, KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS, KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN, KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR, KEYBINDINGS_EDITOR_COMMAND_ADD } from 'vs/workbench/contrib/preferences/common/preferences';\nimport { IContextMenuService, IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { IKeybindingEditingService } from 'vs/workbench/services/keybinding/common/keybindingEditing';\nimport { IListContextMenuEvent, IListEvent } from 'vs/base/browser/ui/list/list';\nimport { IThemeService, registerThemingParticipant, IColorTheme, ICssStyleCollector, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { IContextKeyService, IContextKey, ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { KeyCode, ResolvedKeybinding } from 'vs/base/common/keyCodes';\nimport { listHighlightForeground, badgeBackground, contrastBorder, badgeForeground, listActiveSelectionForeground, listInactiveSelectionForeground, listHoverForeground, listFocusForeground, editorBackground, foreground, listActiveSelectionBackground, listInactiveSelectionBackground, listFocusBackground, listHoverBackground } from 'vs/platform/theme/common/colorRegistry';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { EditorExtensionsRegistry } from 'vs/editor/browser/editorExtensions';\nimport { WorkbenchTable } from 'vs/platform/list/browser/listService';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { KeybindingsEditorInput } from 'vs/workbench/services/preferences/browser/preferencesEditorInput';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { attachStylerCallback, attachInputBoxStyler, attachCheckboxStyler, attachKeybindingLabelStyler } from 'vs/platform/theme/common/styler';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { InputBox, MessageType } from 'vs/base/browser/ui/inputbox/inputBox';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { MenuRegistry, MenuId, isIMenuItem } from 'vs/platform/actions/common/actions';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { Color, RGBA } from 'vs/base/common/color';\nimport { WORKBENCH_BACKGROUND } from 'vs/workbench/common/theme';\nimport { IBaseActionViewItemOptions } from 'vs/base/browser/ui/actionbar/actionViewItems';\nimport { IKeybindingItemEntry, IKeybindingsEditorPane } from 'vs/workbench/services/preferences/common/preferences';\nimport { keybindingsRecordKeysIcon, keybindingsSortIcon, keybindingsAddIcon, preferencesClearInputIcon, keybindingsEditIcon } from 'vs/workbench/contrib/preferences/browser/preferencesIcons';\nimport { ITableRenderer, ITableVirtualDelegate } from 'vs/base/browser/ui/table/table';\n\nconst $ = DOM.$;\n\nconst evenRowBackgroundColor = new Color(new RGBA(130, 130, 130, 0.04));\n\nclass ThemableCheckboxActionViewItem extends CheckboxActionViewItem {\n\n\tconstructor(context: any, action: IAction, options: IBaseActionViewItemOptions | undefined, private readonly themeService: IThemeService) {\n\t\tsuper(context, action, options);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tif (this.checkbox) {\n\t\t\tthis.disposables.add(attachCheckboxStyler(this.checkbox, this.themeService));\n\t\t}\n\t}\n}\n\nexport class KeybindingsEditor extends EditorPane implements IKeybindingsEditorPane {\n\n\tstatic readonly ID: string = 'workbench.editor.keybindings';\n\n\tprivate _onDefineWhenExpression: Emitter<IKeybindingItemEntry> = this._register(new Emitter<IKeybindingItemEntry>());\n\treadonly onDefineWhenExpression: Event<IKeybindingItemEntry> = this._onDefineWhenExpression.event;\n\n\tprivate _onLayout: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onLayout: Event<void> = this._onLayout.event;\n\n\tprivate keybindingsEditorModel: KeybindingsEditorModel | null = null;\n\n\tprivate headerContainer!: HTMLElement;\n\tprivate actionsContainer!: HTMLElement;\n\tprivate searchWidget!: KeybindingsSearchWidget;\n\tprivate searchHistoryDelayer: Delayer<void>;\n\n\tprivate overlayContainer!: HTMLElement;\n\tprivate defineKeybindingWidget!: DefineKeybindingWidget;\n\n\tprivate unAssignedKeybindingItemToRevealAndFocus: IKeybindingItemEntry | null = null;\n\tprivate tableEntries: IKeybindingItemEntry[] = [];\n\tprivate keybindingsTableContainer!: HTMLElement;\n\tprivate keybindingsTable!: WorkbenchTable<IKeybindingItemEntry>;\n\n\tprivate dimension: DOM.Dimension | null = null;\n\tprivate delayedFiltering: Delayer<void>;\n\tprivate latestEmptyFilters: string[] = [];\n\tprivate keybindingsEditorContextKey: IContextKey<boolean>;\n\tprivate keybindingFocusContextKey: IContextKey<boolean>;\n\tprivate searchFocusContextKey: IContextKey<boolean>;\n\n\tprivate readonly sortByPrecedenceAction: Action;\n\tprivate readonly recordKeysAction: Action;\n\n\tprivate ariaLabelElement!: HTMLElement;\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingEditingService private readonly keybindingEditingService: IKeybindingEditingService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IClipboardService private readonly clipboardService: IClipboardService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IStorageService storageService: IStorageService\n\t) {\n\t\tsuper(KeybindingsEditor.ID, telemetryService, themeService, storageService);\n\t\tthis.delayedFiltering = new Delayer<void>(300);\n\t\tthis._register(keybindingsService.onDidUpdateKeybindings(() => this.render(!!this.keybindingFocusContextKey.get())));\n\n\t\tthis.keybindingsEditorContextKey = CONTEXT_KEYBINDINGS_EDITOR.bindTo(this.contextKeyService);\n\t\tthis.searchFocusContextKey = CONTEXT_KEYBINDINGS_SEARCH_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.keybindingFocusContextKey = CONTEXT_KEYBINDING_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.searchHistoryDelayer = new Delayer<void>(500);\n\n\t\tconst recordKeysActionKeybinding = this.keybindingsService.lookupKeybinding(KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS);\n\t\tconst recordKeysActionLabel = localize('recordKeysLabel', \"Record Keys\");\n\t\tthis.recordKeysAction = new Action(KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS, recordKeysActionKeybinding ? localize('recordKeysLabelWithKeybinding', \"{0} ({1})\", recordKeysActionLabel, recordKeysActionKeybinding.getLabel()) : recordKeysActionLabel, ThemeIcon.asClassName(keybindingsRecordKeysIcon));\n\t\tthis.recordKeysAction.checked = false;\n\n\t\tconst sortByPrecedenceActionKeybinding = this.keybindingsService.lookupKeybinding(KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE);\n\t\tconst sortByPrecedenceActionLabel = localize('sortByPrecedeneLabel', \"Sort by Precedence\");\n\t\tthis.sortByPrecedenceAction = new Action('keybindings.editor.sortByPrecedence', sortByPrecedenceActionKeybinding ? localize('sortByPrecedeneLabelWithKeybinding', \"{0} ({1})\", sortByPrecedenceActionLabel, sortByPrecedenceActionKeybinding.getLabel()) : sortByPrecedenceActionLabel, ThemeIcon.asClassName(keybindingsSortIcon));\n\t\tthis.sortByPrecedenceAction.checked = false;\n\t}\n\n\tcreateEditor(parent: HTMLElement): void {\n\t\tconst keybindingsEditorElement = DOM.append(parent, $('div', { class: 'keybindings-editor' }));\n\n\t\tthis.createAriaLabelElement(keybindingsEditorElement);\n\t\tthis.createOverlayContainer(keybindingsEditorElement);\n\t\tthis.createHeader(keybindingsEditorElement);\n\t\tthis.createBody(keybindingsEditorElement);\n\t}\n\n\toverride setInput(input: KeybindingsEditorInput, options: EditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tthis.keybindingsEditorContextKey.set(true);\n\t\treturn super.setInput(input, options, context, token)\n\t\t\t.then(() => this.render(!!(options && options.preserveFocus)));\n\t}\n\n\toverride clearInput(): void {\n\t\tsuper.clearInput();\n\t\tthis.keybindingsEditorContextKey.reset();\n\t\tthis.keybindingFocusContextKey.reset();\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.layoutSearchWidget(dimension);\n\n\t\tthis.overlayContainer.style.width = dimension.width + 'px';\n\t\tthis.overlayContainer.style.height = dimension.height + 'px';\n\t\tthis.defineKeybindingWidget.layout(this.dimension);\n\n\t\tthis.layoutKeybindingsTable();\n\t\tthis._onLayout.fire();\n\t}\n\n\toverride focus(): void {\n\t\tconst activeKeybindingEntry = this.activeKeybindingEntry;\n\t\tif (activeKeybindingEntry) {\n\t\t\tthis.selectEntry(activeKeybindingEntry);\n\t\t} else {\n\t\t\tthis.searchWidget.focus();\n\t\t}\n\t}\n\n\tget activeKeybindingEntry(): IKeybindingItemEntry | null {\n\t\tconst focusedElement = this.keybindingsTable.getFocusedElements()[0];\n\t\treturn focusedElement && focusedElement.templateId === KEYBINDING_ENTRY_TEMPLATE_ID ? <IKeybindingItemEntry>focusedElement : null;\n\t}\n\n\tasync defineKeybinding(keybindingEntry: IKeybindingItemEntry, add: boolean): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tthis.showOverlayContainer();\n\t\ttry {\n\t\t\tconst key = await this.defineKeybindingWidget.define();\n\t\t\tif (key) {\n\t\t\t\tthis.reportKeybindingAction(KEYBINDINGS_EDITOR_COMMAND_DEFINE, keybindingEntry.keybindingItem.command, key);\n\t\t\t\tawait this.updateKeybinding(keybindingEntry, key, keybindingEntry.keybindingItem.when, add);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.onKeybindingEditingError(error);\n\t\t} finally {\n\t\t\tthis.hideOverlayContainer();\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t}\n\t}\n\n\tdefineWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tif (keybindingEntry.keybindingItem.keybinding) {\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t\tthis._onDefineWhenExpression.fire(keybindingEntry);\n\t\t}\n\t}\n\n\tasync updateKeybinding(keybindingEntry: IKeybindingItemEntry, key: string, when: string | undefined, add?: boolean): Promise<void> {\n\t\tconst currentKey = keybindingEntry.keybindingItem.keybinding ? keybindingEntry.keybindingItem.keybinding.getUserSettingsLabel() : '';\n\t\tif (currentKey !== key || keybindingEntry.keybindingItem.when !== when) {\n\t\t\tif (add) {\n\t\t\t\tawait this.keybindingEditingService.addKeybinding(keybindingEntry.keybindingItem.keybindingItem, key, when || undefined);\n\t\t\t} else {\n\t\t\t\tawait this.keybindingEditingService.editKeybinding(keybindingEntry.keybindingItem.keybindingItem, key, when || undefined);\n\t\t\t}\n\t\t\tif (!keybindingEntry.keybindingItem.keybinding) { // reveal only if keybinding was added to unassinged. Because the entry will be placed in different position after rendering\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = keybindingEntry;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync removeKeybinding(keybindingEntry: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tif (keybindingEntry.keybindingItem.keybinding) { // This should be a pre-condition\n\t\t\tthis.reportKeybindingAction(KEYBINDINGS_EDITOR_COMMAND_REMOVE, keybindingEntry.keybindingItem.command, keybindingEntry.keybindingItem.keybinding);\n\t\t\ttry {\n\t\t\t\tawait this.keybindingEditingService.removeKeybinding(keybindingEntry.keybindingItem.keybindingItem);\n\t\t\t\tthis.focus();\n\t\t\t} catch (error) {\n\t\t\t\tthis.onKeybindingEditingError(error);\n\t\t\t\tthis.selectEntry(keybindingEntry);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync resetKeybinding(keybindingEntry: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tthis.reportKeybindingAction(KEYBINDINGS_EDITOR_COMMAND_RESET, keybindingEntry.keybindingItem.command, keybindingEntry.keybindingItem.keybinding);\n\t\ttry {\n\t\t\tawait this.keybindingEditingService.resetKeybinding(keybindingEntry.keybindingItem.keybindingItem);\n\t\t\tif (!keybindingEntry.keybindingItem.keybinding) { // reveal only if keybinding was added to unassinged. Because the entry will be placed in different position after rendering\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = keybindingEntry;\n\t\t\t}\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t} catch (error) {\n\t\t\tthis.onKeybindingEditingError(error);\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t}\n\t}\n\n\tasync copyKeybinding(keybinding: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tthis.reportKeybindingAction(KEYBINDINGS_EDITOR_COMMAND_COPY, keybinding.keybindingItem.command, keybinding.keybindingItem.keybinding);\n\t\tconst userFriendlyKeybinding: IUserFriendlyKeybinding = {\n\t\t\tkey: keybinding.keybindingItem.keybinding ? keybinding.keybindingItem.keybinding.getUserSettingsLabel() || '' : '',\n\t\t\tcommand: keybinding.keybindingItem.command\n\t\t};\n\t\tif (keybinding.keybindingItem.when) {\n\t\t\tuserFriendlyKeybinding.when = keybinding.keybindingItem.when;\n\t\t}\n\t\tawait this.clipboardService.writeText(JSON.stringify(userFriendlyKeybinding, null, '  '));\n\t}\n\n\tasync copyKeybindingCommand(keybinding: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tthis.reportKeybindingAction(KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND, keybinding.keybindingItem.command, keybinding.keybindingItem.keybinding);\n\t\tawait this.clipboardService.writeText(keybinding.keybindingItem.command);\n\t}\n\n\tfocusSearch(): void {\n\t\tthis.searchWidget.focus();\n\t}\n\n\tsearch(filter: string): void {\n\t\tthis.focusSearch();\n\t\tthis.searchWidget.setValue(filter);\n\t\tthis.selectEntry(0);\n\t}\n\n\tclearSearchResults(): void {\n\t\tthis.searchWidget.clear();\n\t}\n\n\tshowSimilarKeybindings(keybindingEntry: IKeybindingItemEntry): void {\n\t\tconst value = `\"${keybindingEntry.keybindingItem.keybinding.getAriaLabel()}\"`;\n\t\tif (value !== this.searchWidget.getValue()) {\n\t\t\tthis.searchWidget.setValue(value);\n\t\t}\n\t}\n\n\tprivate createAriaLabelElement(parent: HTMLElement): void {\n\t\tthis.ariaLabelElement = DOM.append(parent, DOM.$(''));\n\t\tthis.ariaLabelElement.setAttribute('id', 'keybindings-editor-aria-label-element');\n\t\tthis.ariaLabelElement.setAttribute('aria-live', 'assertive');\n\t}\n\n\tprivate createOverlayContainer(parent: HTMLElement): void {\n\t\tthis.overlayContainer = DOM.append(parent, $('.overlay-container'));\n\t\tthis.overlayContainer.style.position = 'absolute';\n\t\tthis.overlayContainer.style.zIndex = '10';\n\t\tthis.defineKeybindingWidget = this._register(this.instantiationService.createInstance(DefineKeybindingWidget, this.overlayContainer));\n\t\tthis._register(this.defineKeybindingWidget.onDidChange(keybindingStr => this.defineKeybindingWidget.printExisting(this.keybindingsEditorModel!.fetch(`\"${keybindingStr}\"`).length)));\n\t\tthis._register(this.defineKeybindingWidget.onShowExistingKeybidings(keybindingStr => this.searchWidget.setValue(`\"${keybindingStr}\"`)));\n\t\tthis.hideOverlayContainer();\n\t}\n\n\tprivate showOverlayContainer() {\n\t\tthis.overlayContainer.style.display = 'block';\n\t}\n\n\tprivate hideOverlayContainer() {\n\t\tthis.overlayContainer.style.display = 'none';\n\t}\n\n\tprivate createHeader(parent: HTMLElement): void {\n\t\tthis.headerContainer = DOM.append(parent, $('.keybindings-header'));\n\t\tconst fullTextSearchPlaceholder = localize('SearchKeybindings.FullTextSearchPlaceholder', \"Type to search in keybindings\");\n\t\tconst keybindingsSearchPlaceholder = localize('SearchKeybindings.KeybindingsSearchPlaceholder', \"Recording Keys. Press Escape to exit\");\n\n\t\tconst clearInputAction = new Action(KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS, localize('clearInput', \"Clear Keybindings Search Input\"), ThemeIcon.asClassName(preferencesClearInputIcon), false, async () => this.clearSearchResults());\n\n\t\tconst searchContainer = DOM.append(this.headerContainer, $('.search-container'));\n\t\tthis.searchWidget = this._register(this.instantiationService.createInstance(KeybindingsSearchWidget, searchContainer, {\n\t\t\tariaLabel: fullTextSearchPlaceholder,\n\t\t\tplaceholder: fullTextSearchPlaceholder,\n\t\t\tfocusKey: this.searchFocusContextKey,\n\t\t\tariaLabelledBy: 'keybindings-editor-aria-label-element',\n\t\t\trecordEnter: true,\n\t\t\tquoteRecordedKeys: true,\n\t\t\thistory: this.getMemento(StorageScope.GLOBAL, StorageTarget.USER)['searchHistory'] || [],\n\t\t}));\n\t\tthis._register(this.searchWidget.onDidChange(searchValue => {\n\t\t\tclearInputAction.enabled = !!searchValue;\n\t\t\tthis.delayedFiltering.trigger(() => this.filterKeybindings());\n\t\t\tthis.updateSearchOptions();\n\t\t}));\n\t\tthis._register(this.searchWidget.onEscape(() => this.recordKeysAction.checked = false));\n\n\t\tthis.actionsContainer = DOM.append(searchContainer, DOM.$('.keybindings-search-actions-container'));\n\t\tconst recordingBadge = this.createRecordingBadge(this.actionsContainer);\n\n\t\tthis._register(this.sortByPrecedenceAction.onDidChange(e => {\n\t\t\tif (e.checked !== undefined) {\n\t\t\t\tthis.renderKeybindingsEntries(false);\n\t\t\t}\n\t\t\tthis.updateSearchOptions();\n\t\t}));\n\n\t\tthis._register(this.recordKeysAction.onDidChange(e => {\n\t\t\tif (e.checked !== undefined) {\n\t\t\t\trecordingBadge.classList.toggle('disabled', !e.checked);\n\t\t\t\tif (e.checked) {\n\t\t\t\t\tthis.searchWidget.inputBox.setPlaceHolder(keybindingsSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.inputBox.setAriaLabel(keybindingsSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.startRecordingKeys();\n\t\t\t\t\tthis.searchWidget.focus();\n\t\t\t\t} else {\n\t\t\t\t\tthis.searchWidget.inputBox.setPlaceHolder(fullTextSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.inputBox.setAriaLabel(fullTextSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.stopRecordingKeys();\n\t\t\t\t\tthis.searchWidget.focus();\n\t\t\t\t}\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}\n\t\t}));\n\n\t\tconst actionBar = this._register(new ActionBar(this.actionsContainer, {\n\t\t\tanimated: false,\n\t\t\tactionViewItemProvider: (action: IAction) => {\n\t\t\t\tlet checkboxViewItem: CheckboxActionViewItem | undefined;\n\t\t\t\tif (action.id === this.sortByPrecedenceAction.id) {\n\t\t\t\t\tcheckboxViewItem = new ThemableCheckboxActionViewItem(null, action, undefined, this.themeService);\n\t\t\t\t}\n\t\t\t\telse if (action.id === this.recordKeysAction.id) {\n\t\t\t\t\tcheckboxViewItem = new ThemableCheckboxActionViewItem(null, action, undefined, this.themeService);\n\t\t\t\t}\n\t\t\t\tif (checkboxViewItem) {\n\n\t\t\t\t}\n\t\t\t\treturn checkboxViewItem;\n\t\t\t}\n\t\t}));\n\n\t\tactionBar.push([this.recordKeysAction, this.sortByPrecedenceAction, clearInputAction], { label: false, icon: true });\n\t}\n\n\tprivate updateSearchOptions(): void {\n\t\tconst keybindingsEditorInput = this.input as KeybindingsEditorInput;\n\t\tif (keybindingsEditorInput) {\n\t\t\tkeybindingsEditorInput.searchOptions = {\n\t\t\t\tsearchValue: this.searchWidget.getValue(),\n\t\t\t\trecordKeybindings: !!this.recordKeysAction.checked,\n\t\t\t\tsortByPrecedence: !!this.sortByPrecedenceAction.checked\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate createRecordingBadge(container: HTMLElement): HTMLElement {\n\t\tconst recordingBadge = DOM.append(container, DOM.$('.recording-badge.monaco-count-badge.long.disabled'));\n\t\trecordingBadge.textContent = localize('recording', \"Recording Keys\");\n\t\tthis._register(attachStylerCallback(this.themeService, { badgeBackground, contrastBorder, badgeForeground }, colors => {\n\t\t\tconst background = colors.badgeBackground ? colors.badgeBackground.toString() : '';\n\t\t\tconst border = colors.contrastBorder ? colors.contrastBorder.toString() : '';\n\t\t\tconst color = colors.badgeForeground ? colors.badgeForeground.toString() : '';\n\n\t\t\trecordingBadge.style.backgroundColor = background;\n\t\t\trecordingBadge.style.borderWidth = border ? '1px' : '';\n\t\t\trecordingBadge.style.borderStyle = border ? 'solid' : '';\n\t\t\trecordingBadge.style.borderColor = border;\n\t\t\trecordingBadge.style.color = color ? color.toString() : '';\n\t\t}));\n\t\treturn recordingBadge;\n\t}\n\n\tprivate layoutSearchWidget(dimension: DOM.Dimension): void {\n\t\tthis.searchWidget.layout(dimension);\n\t\tthis.headerContainer.classList.toggle('small', dimension.width < 400);\n\t\tthis.searchWidget.inputBox.inputElement.style.paddingRight = `${DOM.getTotalWidth(this.actionsContainer) + 12}px`;\n\t}\n\n\tprivate createBody(parent: HTMLElement): void {\n\t\tconst bodyContainer = DOM.append(parent, $('.keybindings-body'));\n\t\tthis.createTable(bodyContainer);\n\t}\n\n\tprivate createTable(parent: HTMLElement): void {\n\t\tthis.keybindingsTableContainer = DOM.append(parent, $('.keybindings-table-container'));\n\t\tthis.keybindingsTable = this._register(this.instantiationService.createInstance(WorkbenchTable,\n\t\t\t'KeybindingsEditor',\n\t\t\tthis.keybindingsTableContainer,\n\t\t\tnew Delegate(),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0,\n\t\t\t\t\tminimumWidth: 40,\n\t\t\t\t\tmaximumWidth: 40,\n\t\t\t\t\ttemplateId: ActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('command', \"Command\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.3,\n\t\t\t\t\ttemplateId: CommandColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('keybinding', \"Keybinding\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.2,\n\t\t\t\t\ttemplateId: KeybindingColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('when', \"When\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.4,\n\t\t\t\t\ttemplateId: WhenColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('source', \"Source\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.1,\n\t\t\t\t\ttemplateId: SourceColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(ActionsColumnRenderer, this),\n\t\t\t\tthis.instantiationService.createInstance(CommandColumnRenderer),\n\t\t\t\tthis.instantiationService.createInstance(KeybindingColumnRenderer),\n\t\t\t\tthis.instantiationService.createInstance(WhenColumnRenderer, this),\n\t\t\t\tthis.instantiationService.createInstance(SourceColumnRenderer),\n\t\t\t],\n\t\t\t{\n\t\t\t\tidentityProvider: { getId: (e: IKeybindingItemEntry) => e.id },\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\taccessibilityProvider: new AccessibilityProvider(),\n\t\t\t\tkeyboardNavigationLabelProvider: { getKeyboardNavigationLabel: (e: IKeybindingItemEntry) => e.keybindingItem.commandLabel || e.keybindingItem.command },\n\t\t\t\toverrideStyles: {\n\t\t\t\t\tlistBackground: editorBackground\n\t\t\t\t},\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\topenOnSingleClick: false,\n\t\t\t}\n\t\t)) as WorkbenchTable<IKeybindingItemEntry>;\n\n\t\tthis._register(this.keybindingsTable.onContextMenu(e => this.onContextMenu(e)));\n\t\tthis._register(this.keybindingsTable.onDidChangeFocus(e => this.onFocusChange(e)));\n\t\tthis._register(this.keybindingsTable.onDidFocus(() => {\n\t\t\tthis.keybindingsTable.getHTMLElement().classList.add('focused');\n\t\t}));\n\t\tthis._register(this.keybindingsTable.onDidBlur(() => {\n\t\t\tthis.keybindingsTable.getHTMLElement().classList.remove('focused');\n\t\t\tthis.keybindingFocusContextKey.reset();\n\t\t}));\n\t\tthis._register(this.keybindingsTable.onDidOpen((e) => {\n\t\t\tconst activeKeybindingEntry = this.activeKeybindingEntry;\n\t\t\tif (activeKeybindingEntry) {\n\t\t\t\tthis.defineKeybinding(activeKeybindingEntry, false);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async render(preserveFocus: boolean): Promise<void> {\n\t\tif (this.input) {\n\t\t\tconst input: KeybindingsEditorInput = this.input as KeybindingsEditorInput;\n\t\t\tthis.keybindingsEditorModel = await input.resolve();\n\t\t\tawait this.keybindingsEditorModel.resolve(this.getActionsLabels());\n\t\t\tthis.renderKeybindingsEntries(false, preserveFocus);\n\t\t\tif (input.searchOptions) {\n\t\t\t\tthis.recordKeysAction.checked = input.searchOptions.recordKeybindings;\n\t\t\t\tthis.sortByPrecedenceAction.checked = input.searchOptions.sortByPrecedence;\n\t\t\t\tthis.searchWidget.setValue(input.searchOptions.searchValue);\n\t\t\t} else {\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getActionsLabels(): Map<string, string> {\n\t\tconst actionsLabels: Map<string, string> = new Map<string, string>();\n\t\tEditorExtensionsRegistry.getEditorActions().forEach(editorAction => actionsLabels.set(editorAction.id, editorAction.label));\n\t\tfor (const menuItem of MenuRegistry.getMenuItems(MenuId.CommandPalette)) {\n\t\t\tif (isIMenuItem(menuItem)) {\n\t\t\t\tconst title = typeof menuItem.command.title === 'string' ? menuItem.command.title : menuItem.command.title.value;\n\t\t\t\tconst category = menuItem.command.category ? typeof menuItem.command.category === 'string' ? menuItem.command.category : menuItem.command.category.value : undefined;\n\t\t\t\tactionsLabels.set(menuItem.command.id, category ? `${category}: ${title}` : title);\n\t\t\t}\n\t\t}\n\t\treturn actionsLabels;\n\t}\n\n\tprivate filterKeybindings(): void {\n\t\tthis.renderKeybindingsEntries(this.searchWidget.hasFocus());\n\t\tthis.searchHistoryDelayer.trigger(() => {\n\t\t\tthis.searchWidget.inputBox.addToHistory();\n\t\t\tthis.getMemento(StorageScope.GLOBAL, StorageTarget.USER)['searchHistory'] = this.searchWidget.inputBox.getHistory();\n\t\t\tthis.saveState();\n\t\t\tthis.reportFilteringUsed(this.searchWidget.getValue());\n\t\t});\n\t}\n\n\tprivate renderKeybindingsEntries(reset: boolean, preserveFocus?: boolean): void {\n\t\tif (this.keybindingsEditorModel) {\n\t\t\tconst filter = this.searchWidget.getValue();\n\t\t\tconst keybindingsEntries: IKeybindingItemEntry[] = this.keybindingsEditorModel.fetch(filter, this.sortByPrecedenceAction.checked);\n\n\t\t\tthis.ariaLabelElement.setAttribute('aria-label', this.getAriaLabel(keybindingsEntries));\n\n\t\t\tif (keybindingsEntries.length === 0) {\n\t\t\t\tthis.latestEmptyFilters.push(filter);\n\t\t\t}\n\t\t\tconst currentSelectedIndex = this.keybindingsTable.getSelection()[0];\n\t\t\tthis.tableEntries = keybindingsEntries;\n\t\t\tthis.keybindingsTable.splice(0, this.keybindingsTable.length, this.tableEntries);\n\t\t\tthis.layoutKeybindingsTable();\n\n\t\t\tif (reset) {\n\t\t\t\tthis.keybindingsTable.setSelection([]);\n\t\t\t\tthis.keybindingsTable.setFocus([]);\n\t\t\t} else {\n\t\t\t\tif (this.unAssignedKeybindingItemToRevealAndFocus) {\n\t\t\t\t\tconst index = this.getNewIndexOfUnassignedKeybinding(this.unAssignedKeybindingItemToRevealAndFocus);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tthis.keybindingsTable.reveal(index, 0.2);\n\t\t\t\t\t\tthis.selectEntry(index);\n\t\t\t\t\t}\n\t\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = null;\n\t\t\t\t} else if (currentSelectedIndex !== -1 && currentSelectedIndex < this.tableEntries.length) {\n\t\t\t\t\tthis.selectEntry(currentSelectedIndex, preserveFocus);\n\t\t\t\t} else if (this.editorService.activeEditorPane === this && !preserveFocus) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getAriaLabel(keybindingsEntries: IKeybindingItemEntry[]): string {\n\t\tif (this.sortByPrecedenceAction.checked) {\n\t\t\treturn localize('show sorted keybindings', \"Showing {0} Keybindings in precedence order\", keybindingsEntries.length);\n\t\t} else {\n\t\t\treturn localize('show keybindings', \"Showing {0} Keybindings in alphabetical order\", keybindingsEntries.length);\n\t\t}\n\t}\n\n\tprivate layoutKeybindingsTable(): void {\n\t\tif (!this.dimension) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst tableHeight = this.dimension.height - (DOM.getDomNodePagePosition(this.headerContainer).height + 12 /*padding*/);\n\t\tthis.keybindingsTableContainer.style.height = `${tableHeight}px`;\n\t\tthis.keybindingsTable.layout(tableHeight);\n\t}\n\n\tprivate getIndexOf(listEntry: IKeybindingItemEntry): number {\n\t\tconst index = this.tableEntries.indexOf(listEntry);\n\t\tif (index === -1) {\n\t\t\tfor (let i = 0; i < this.tableEntries.length; i++) {\n\t\t\t\tif (this.tableEntries[i].id === listEntry.id) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t}\n\n\tprivate getNewIndexOfUnassignedKeybinding(unassignedKeybinding: IKeybindingItemEntry): number {\n\t\tfor (let index = 0; index < this.tableEntries.length; index++) {\n\t\t\tconst entry = this.tableEntries[index];\n\t\t\tif (entry.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\t\tconst keybindingItemEntry = (<IKeybindingItemEntry>entry);\n\t\t\t\tif (keybindingItemEntry.keybindingItem.command === unassignedKeybinding.keybindingItem.command) {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tprivate selectEntry(keybindingItemEntry: IKeybindingItemEntry | number, focus: boolean = true): void {\n\t\tconst index = typeof keybindingItemEntry === 'number' ? keybindingItemEntry : this.getIndexOf(keybindingItemEntry);\n\t\tif (index !== -1) {\n\t\t\tif (focus) {\n\t\t\t\tthis.keybindingsTable.domFocus();\n\t\t\t\tthis.keybindingsTable.setFocus([index]);\n\t\t\t}\n\t\t\tthis.keybindingsTable.setSelection([index]);\n\t\t}\n\t}\n\n\tfocusKeybindings(): void {\n\t\tthis.keybindingsTable.domFocus();\n\t\tconst currentFocusIndices = this.keybindingsTable.getFocus();\n\t\tthis.keybindingsTable.setFocus([currentFocusIndices.length ? currentFocusIndices[0] : 0]);\n\t}\n\n\tselectKeybinding(keybindingItemEntry: IKeybindingItemEntry): void {\n\t\tthis.selectEntry(keybindingItemEntry);\n\t}\n\n\trecordSearchKeys(): void {\n\t\tthis.recordKeysAction.checked = true;\n\t}\n\n\ttoggleSortByPrecedence(): void {\n\t\tthis.sortByPrecedenceAction.checked = !this.sortByPrecedenceAction.checked;\n\t}\n\n\tprivate onContextMenu(e: IListContextMenuEvent<IKeybindingItemEntry>): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tconst keybindingItemEntry = <IKeybindingItemEntry>e.element;\n\t\t\tthis.selectEntry(keybindingItemEntry);\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => [\n\t\t\t\t\tthis.createCopyAction(keybindingItemEntry),\n\t\t\t\t\tthis.createCopyCommandAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\t...(keybindingItemEntry.keybindingItem.keybinding\n\t\t\t\t\t\t? [this.createDefineKeybindingAction(keybindingItemEntry), this.createAddKeybindingAction(keybindingItemEntry)]\n\t\t\t\t\t\t: [this.createDefineKeybindingAction(keybindingItemEntry)]),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createRemoveAction(keybindingItemEntry),\n\t\t\t\t\tthis.createResetAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createDefineWhenExpressionAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createShowConflictsAction(keybindingItemEntry)]\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onFocusChange(e: IListEvent<IKeybindingItemEntry>): void {\n\t\tthis.keybindingFocusContextKey.reset();\n\t\tconst element = e.elements[0];\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\t\tif (element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tthis.keybindingFocusContextKey.set(true);\n\t\t}\n\t}\n\n\tprivate createDefineKeybindingAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: keybindingItemEntry.keybindingItem.keybinding ? localize('changeLabel', \"Change Keybinding...\") : localize('addLabel', \"Add Keybinding...\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_DEFINE,\n\t\t\trun: () => this.defineKeybinding(keybindingItemEntry, false)\n\t\t};\n\t}\n\n\tprivate createAddKeybindingAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('addLabel', \"Add Keybinding...\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_ADD,\n\t\t\trun: () => this.defineKeybinding(keybindingItemEntry, true)\n\t\t};\n\t}\n\n\tprivate createDefineWhenExpressionAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('editWhen', \"Change When Expression\"),\n\t\t\tenabled: !!keybindingItemEntry.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN,\n\t\t\trun: () => this.defineWhenExpression(keybindingItemEntry)\n\t\t};\n\t}\n\n\tprivate createRemoveAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('removeLabel', \"Remove Keybinding\"),\n\t\t\tenabled: !!keybindingItem.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_REMOVE,\n\t\t\trun: () => this.removeKeybinding(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createResetAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('resetLabel', \"Reset Keybinding\"),\n\t\t\tenabled: !keybindingItem.keybindingItem.keybindingItem.isDefault,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_RESET,\n\t\t\trun: () => this.resetKeybinding(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createShowConflictsAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('showSameKeybindings', \"Show Same Keybindings\"),\n\t\t\tenabled: !!keybindingItem.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,\n\t\t\trun: () => this.showSimilarKeybindings(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createCopyAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('copyLabel', \"Copy\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY,\n\t\t\trun: () => this.copyKeybinding(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createCopyCommandAction(keybinding: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('copyCommandLabel', \"Copy Command ID\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,\n\t\t\trun: () => this.copyKeybindingCommand(keybinding)\n\t\t};\n\t}\n\n\tprivate reportFilteringUsed(filter: string): void {\n\t\tif (filter) {\n\t\t\tconst data = {\n\t\t\t\tfilter,\n\t\t\t\temptyFilters: this.getLatestEmptyFiltersForTelemetry()\n\t\t\t};\n\t\t\tthis.latestEmptyFilters = [];\n\t\t\t/* __GDPR__\n\t\t\t\t\"keybindings.filter\" : {\n\t\t\t\t\t\"filter\": { \"classification\": \"CustomerContent\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\"emptyFilters\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\t\t\t}\n\t\t\t*/\n\t\t\tthis.telemetryService.publicLog('keybindings.filter', data);\n\t\t}\n\t}\n\n\t/**\n\t * Put a rough limit on the size of the telemetry data, since otherwise it could be an unbounded large amount\n\t * of data. 8192 is the max size of a property value. This is rough since that probably includes \"\"s, etc.\n\t */\n\tprivate getLatestEmptyFiltersForTelemetry(): string[] {\n\t\tlet cumulativeSize = 0;\n\t\treturn this.latestEmptyFilters.filter(filterText => (cumulativeSize += filterText.length) <= 8192);\n\t}\n\n\tprivate reportKeybindingAction(action: string, command: string, keybinding: ResolvedKeybinding | string): void {\n\t\t// __GDPR__TODO__ Need to move off dynamic event names and properties as they cannot be registered statically\n\t\tthis.telemetryService.publicLog(action, { command, keybinding: keybinding ? (typeof keybinding === 'string' ? keybinding : keybinding.getUserSettingsLabel()) : '' });\n\t}\n\n\tprivate onKeybindingEditingError(error: any): void {\n\t\tthis.notificationService.error(typeof error === 'string' ? error : localize('error', \"Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.\", `${error}`));\n\t}\n}\n\nclass Delegate implements ITableVirtualDelegate<IKeybindingItemEntry> {\n\n\treadonly headerRowHeight = 30;\n\n\tgetHeight(element: IKeybindingItemEntry) {\n\t\tif (element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tconst commandIdMatched = (<IKeybindingItemEntry>element).keybindingItem.commandLabel && (<IKeybindingItemEntry>element).commandIdMatches;\n\t\t\tconst commandDefaultLabelMatched = !!(<IKeybindingItemEntry>element).commandDefaultLabelMatches;\n\t\t\tif (commandIdMatched && commandDefaultLabelMatched) {\n\t\t\t\treturn 60;\n\t\t\t}\n\t\t\tif (commandIdMatched || commandDefaultLabelMatched) {\n\t\t\t\treturn 40;\n\t\t\t}\n\t\t}\n\t\treturn 24;\n\t}\n\n}\n\ninterface IActionsColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass ActionsColumnRenderer implements ITableRenderer<IKeybindingItemEntry, IActionsColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'actions';\n\n\treadonly templateId: string = ActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly keybindingsEditor: KeybindingsEditor,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst element = DOM.append(container, $('.actions'));\n\t\tconst actionBar = new ActionBar(element, { animated: false });\n\t\treturn { actionBar };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: IActionsColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.actionBar.clear();\n\t\tconst actions: IAction[] = [];\n\t\tif (keybindingItemEntry.keybindingItem.keybinding) {\n\t\t\tactions.push(this.createEditAction(keybindingItemEntry));\n\t\t} else {\n\t\t\tactions.push(this.createAddAction(keybindingItemEntry));\n\t\t}\n\t\ttemplateData.actionBar.push(actions, { icon: true });\n\t}\n\n\tprivate createEditAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\tconst keybinding = this.keybindingsService.lookupKeybinding(KEYBINDINGS_EDITOR_COMMAND_DEFINE);\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(keybindingsEditIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'editKeybinding',\n\t\t\ttooltip: keybinding ? localize('editKeybindingLabelWithKey', \"Change Keybinding {0}\", `(${keybinding.getLabel()})`) : localize('editKeybindingLabel', \"Change Keybinding\"),\n\t\t\trun: () => this.keybindingsEditor.defineKeybinding(keybindingItemEntry, false)\n\t\t};\n\t}\n\n\tprivate createAddAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\tconst keybinding = this.keybindingsService.lookupKeybinding(KEYBINDINGS_EDITOR_COMMAND_DEFINE);\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(keybindingsAddIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'addKeybinding',\n\t\t\ttooltip: keybinding ? localize('addKeybindingLabelWithKey', \"Add Keybinding {0}\", `(${keybinding.getLabel()})`) : localize('addKeybindingLabel', \"Add Keybinding\"),\n\t\t\trun: () => this.keybindingsEditor.defineKeybinding(keybindingItemEntry, false)\n\t\t};\n\t}\n\n\tdisposeTemplate(templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n\n}\n\ninterface ICommandColumnTemplateData {\n\tcommandColumn: HTMLElement;\n\tcommandLabelContainer: HTMLElement;\n\tcommandLabel: HighlightedLabel;\n\tcommandDefaultLabelContainer: HTMLElement;\n\tcommandDefaultLabel: HighlightedLabel;\n\tcommandIdLabelContainer: HTMLElement;\n\tcommandIdLabel: HighlightedLabel;\n}\n\nclass CommandColumnRenderer implements ITableRenderer<IKeybindingItemEntry, ICommandColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'commands';\n\n\treadonly templateId: string = CommandColumnRenderer.TEMPLATE_ID;\n\n\trenderTemplate(container: HTMLElement): ICommandColumnTemplateData {\n\t\tconst commandColumn = DOM.append(container, $('.command'));\n\t\tconst commandLabelContainer = DOM.append(commandColumn, $('.command-label'));\n\t\tconst commandLabel = new HighlightedLabel(commandLabelContainer, false);\n\t\tconst commandDefaultLabelContainer = DOM.append(commandColumn, $('.command-default-label'));\n\t\tconst commandDefaultLabel = new HighlightedLabel(commandDefaultLabelContainer, false);\n\t\tconst commandIdLabelContainer = DOM.append(commandColumn, $('.command-id.code'));\n\t\tconst commandIdLabel = new HighlightedLabel(commandIdLabelContainer, false);\n\t\treturn { commandColumn, commandLabelContainer, commandLabel, commandDefaultLabelContainer, commandDefaultLabel, commandIdLabelContainer, commandIdLabel };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: ICommandColumnTemplateData, height: number | undefined): void {\n\t\tconst keybindingItem = keybindingItemEntry.keybindingItem;\n\t\tconst commandIdMatched = !!(keybindingItem.commandLabel && keybindingItemEntry.commandIdMatches);\n\t\tconst commandDefaultLabelMatched = !!keybindingItemEntry.commandDefaultLabelMatches;\n\n\t\ttemplateData.commandColumn.classList.toggle('vertical-align-column', commandIdMatched || commandDefaultLabelMatched);\n\t\ttemplateData.commandColumn.title = keybindingItem.commandLabel ? localize('title', \"{0} ({1})\", keybindingItem.commandLabel, keybindingItem.command) : keybindingItem.command;\n\n\t\tif (keybindingItem.commandLabel) {\n\t\t\ttemplateData.commandLabelContainer.classList.remove('hide');\n\t\t\ttemplateData.commandLabel.set(keybindingItem.commandLabel, keybindingItemEntry.commandLabelMatches);\n\t\t} else {\n\t\t\ttemplateData.commandLabelContainer.classList.add('hide');\n\t\t\ttemplateData.commandLabel.set(undefined);\n\t\t}\n\n\t\tif (keybindingItemEntry.commandDefaultLabelMatches) {\n\t\t\ttemplateData.commandDefaultLabelContainer.classList.remove('hide');\n\t\t\ttemplateData.commandDefaultLabel.set(keybindingItem.commandDefaultLabel, keybindingItemEntry.commandDefaultLabelMatches);\n\t\t} else {\n\t\t\ttemplateData.commandDefaultLabelContainer.classList.add('hide');\n\t\t\ttemplateData.commandDefaultLabel.set(undefined);\n\t\t}\n\n\t\tif (keybindingItemEntry.commandIdMatches || !keybindingItem.commandLabel) {\n\t\t\ttemplateData.commandIdLabelContainer.classList.remove('hide');\n\t\t\ttemplateData.commandIdLabel.set(keybindingItem.command, keybindingItemEntry.commandIdMatches);\n\t\t} else {\n\t\t\ttemplateData.commandIdLabelContainer.classList.add('hide');\n\t\t\ttemplateData.commandIdLabel.set(undefined);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ICommandColumnTemplateData): void { }\n}\n\ninterface IKeybindingColumnTemplateData {\n\tkeybindingLabel: KeybindingLabel;\n\tkeybindingLabelStyler: IDisposable;\n}\n\nclass KeybindingColumnRenderer implements ITableRenderer<IKeybindingItemEntry, IKeybindingColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'keybindings';\n\n\treadonly templateId: string = KeybindingColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(@IThemeService private readonly themeService: IThemeService) { }\n\n\trenderTemplate(container: HTMLElement): IKeybindingColumnTemplateData {\n\t\tconst element = DOM.append(container, $('.keybinding'));\n\t\tconst keybindingLabel = new KeybindingLabel(DOM.append(element, $('div.keybinding-label')), OS);\n\t\tconst keybindingLabelStyler = attachKeybindingLabelStyler(keybindingLabel, this.themeService);\n\t\treturn { keybindingLabel, keybindingLabelStyler };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: IKeybindingColumnTemplateData, height: number | undefined): void {\n\t\tif (keybindingItemEntry.keybindingItem.keybinding) {\n\t\t\ttemplateData.keybindingLabel.set(keybindingItemEntry.keybindingItem.keybinding, keybindingItemEntry.keybindingMatches);\n\t\t} else {\n\t\t\ttemplateData.keybindingLabel.set(undefined, undefined);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IKeybindingColumnTemplateData): void {\n\t\ttemplateData.keybindingLabelStyler.dispose();\n\t}\n}\n\ninterface ISourceColumnTemplateData {\n\thighlightedLabel: HighlightedLabel;\n}\n\nclass SourceColumnRenderer implements ITableRenderer<IKeybindingItemEntry, ISourceColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'source';\n\n\treadonly templateId: string = SourceColumnRenderer.TEMPLATE_ID;\n\n\trenderTemplate(container: HTMLElement): ISourceColumnTemplateData {\n\t\tconst sourceColumn = DOM.append(container, $('.source'));\n\t\tconst highlightedLabel = new HighlightedLabel(sourceColumn, false);\n\t\treturn { highlightedLabel };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: ISourceColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.highlightedLabel.set(keybindingItemEntry.keybindingItem.source, keybindingItemEntry.sourceMatches);\n\t}\n\n\tdisposeTemplate(templateData: ISourceColumnTemplateData): void { }\n}\n\ninterface IWhenColumnTemplateData {\n\treadonly element: HTMLElement;\n\treadonly whenContainer: HTMLElement;\n\treadonly whenLabel: HighlightedLabel;\n\treadonly whenInput: InputBox\n\treadonly renderDisposables: DisposableStore;\n\treadonly onDidAccept: Event<void>;\n\treadonly onDidReject: Event<void>;\n\treadonly disposables: DisposableStore;\n}\n\nclass WhenColumnRenderer implements ITableRenderer<IKeybindingItemEntry, IWhenColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'when';\n\n\treadonly templateId: string = WhenColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly keybindingsEditor: KeybindingsEditor,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IThemeService private readonly themeService: IThemeService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): IWhenColumnTemplateData {\n\t\tconst element = DOM.append(container, $('.when'));\n\n\t\tconst whenContainer = DOM.append(element, $('div.when-label'));\n\t\tconst whenLabel = new HighlightedLabel(whenContainer, false);\n\t\tconst whenInput = new InputBox(element, this.contextViewService, {\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: (value) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tContextKeyExpr.deserialize(value, true);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcontent: error.message,\n\t\t\t\t\t\t\tformatContent: true,\n\t\t\t\t\t\t\ttype: MessageType.ERROR\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tariaLabel: localize('whenContextInputAriaLabel', \"Type when context. Press Enter to confirm or Escape to cancel.\")\n\t\t});\n\n\t\tconst disposables = new DisposableStore();\n\t\tdisposables.add(attachInputBoxStyler(whenInput, this.themeService));\n\n\t\tconst _onDidAccept: Emitter<void> = disposables.add(new Emitter<void>());\n\t\tconst onDidAccept: Event<void> = _onDidAccept.event;\n\n\t\tconst _onDidReject: Emitter<void> = disposables.add(new Emitter<void>());\n\t\tconst onDidReject: Event<void> = _onDidReject.event;\n\n\t\tconst hideInputBox = () => {\n\t\t\telement.classList.remove('input-mode');\n\t\t\tcontainer.style.paddingLeft = '10px';\n\t\t};\n\n\t\tdisposables.add(DOM.addStandardDisposableListener(whenInput.inputElement, DOM.EventType.KEY_DOWN, e => {\n\t\t\tlet handled = false;\n\t\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\t\thideInputBox();\n\t\t\t\t_onDidAccept.fire();\n\t\t\t\thandled = true;\n\t\t\t} else if (e.equals(KeyCode.Escape)) {\n\t\t\t\thideInputBox();\n\t\t\t\t_onDidReject.fire();\n\t\t\t\thandled = true;\n\t\t\t}\n\t\t\tif (handled) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}));\n\t\tdisposables.add((DOM.addDisposableListener(whenInput.inputElement, DOM.EventType.BLUR, () => {\n\t\t\thideInputBox();\n\t\t\t_onDidReject.fire();\n\t\t})));\n\n\t\tconst renderDisposables = disposables.add(new DisposableStore());\n\n\t\treturn {\n\t\t\telement,\n\t\t\twhenContainer,\n\t\t\twhenLabel,\n\t\t\twhenInput,\n\t\t\tonDidAccept,\n\t\t\tonDidReject,\n\t\t\trenderDisposables,\n\t\t\tdisposables,\n\t\t};\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: IWhenColumnTemplateData, height: number | undefined): void {\n\t\ttemplateData.renderDisposables.clear();\n\n\t\ttemplateData.renderDisposables.add(this.keybindingsEditor.onDefineWhenExpression(e => {\n\t\t\tif (keybindingItemEntry === e) {\n\t\t\t\ttemplateData.element.classList.add('input-mode');\n\t\t\t\ttemplateData.whenInput.focus();\n\t\t\t\ttemplateData.whenInput.select();\n\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '0px';\n\t\t\t}\n\t\t}));\n\n\t\ttemplateData.whenInput.value = keybindingItemEntry.keybindingItem.when || '';\n\t\ttemplateData.whenContainer.classList.toggle('code', !!keybindingItemEntry.keybindingItem.when);\n\t\ttemplateData.whenContainer.classList.toggle('empty', !keybindingItemEntry.keybindingItem.when);\n\n\t\tif (keybindingItemEntry.keybindingItem.when) {\n\t\t\ttemplateData.whenLabel.set(keybindingItemEntry.keybindingItem.when, keybindingItemEntry.whenMatches);\n\t\t\ttemplateData.whenLabel.element.title = keybindingItemEntry.keybindingItem.when;\n\t\t\ttemplateData.element.title = keybindingItemEntry.keybindingItem.when;\n\t\t} else {\n\t\t\ttemplateData.whenLabel.set('-');\n\t\t\ttemplateData.whenLabel.element.title = '';\n\t\t\ttemplateData.element.title = '';\n\t\t}\n\n\t\ttemplateData.renderDisposables.add(templateData.onDidAccept(() => {\n\t\t\tthis.keybindingsEditor.updateKeybinding(keybindingItemEntry, keybindingItemEntry.keybindingItem.keybinding ? keybindingItemEntry.keybindingItem.keybinding.getUserSettingsLabel() || '' : '', templateData.whenInput.value);\n\t\t\tthis.keybindingsEditor.selectKeybinding(keybindingItemEntry);\n\t\t}));\n\n\t\ttemplateData.renderDisposables.add(templateData.onDidReject(() => {\n\t\t\ttemplateData.whenInput.value = keybindingItemEntry.keybindingItem.when || '';\n\t\t\tthis.keybindingsEditor.selectKeybinding(keybindingItemEntry);\n\t\t}));\n\t}\n\n\tdisposeTemplate(templateData: IWhenColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.renderDisposables.dispose();\n\t}\n}\n\nclass AccessibilityProvider implements IListAccessibilityProvider<IKeybindingItemEntry> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('keybindingsLabel', \"Keybindings\");\n\t}\n\n\tgetAriaLabel(keybindingItemEntry: IKeybindingItemEntry): string {\n\t\tlet ariaLabel = keybindingItemEntry.keybindingItem.commandLabel ? keybindingItemEntry.keybindingItem.commandLabel : keybindingItemEntry.keybindingItem.command;\n\t\tariaLabel += ', ' + (keybindingItemEntry.keybindingItem.keybinding?.getAriaLabel() || localize('noKeybinding', \"No Keybinding assigned.\"));\n\t\tariaLabel += ', ' + keybindingItemEntry.keybindingItem.source;\n\t\tariaLabel += ', ' + keybindingItemEntry.keybindingItem.when ? keybindingItemEntry.keybindingItem.when : localize('noWhen', \"No when context.\");\n\t\treturn ariaLabel;\n\t}\n\n}\n\nregisterThemingParticipant((theme: IColorTheme, collector: ICssStyleCollector) => {\n\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-table-th { background-color: ${evenRowBackgroundColor}; }`);\n\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row:nth-child(even):not(.focused):not(.selected):not(:hover) .monaco-table-tr { background-color: ${evenRowBackgroundColor}; }`);\n\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list:not(:focus) .monaco-list-row:nth-child(even).focused:not(.selected):not(:hover) .monaco-table-tr { background-color: ${evenRowBackgroundColor}; }`);\n\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list:not(.focused) .monaco-list-row:nth-child(even).focused:not(.selected):not(:hover) .monaco-table-tr { background-color: ${evenRowBackgroundColor}; }`);\n\n\tconst foregroundColor = theme.getColor(foreground);\n\tif (foregroundColor) {\n\t\tconst whenForegroundColor = foregroundColor.transparent(.8).makeOpaque(WORKBENCH_BACKGROUND(theme));\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t\tconst whenForegroundColorForEvenRow = foregroundColor.transparent(.8).makeOpaque(evenRowBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row:nth-child(even) .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColorForEvenRow}; }`);\n\t}\n\n\tconst listActiveSelectionForegroundColor = theme.getColor(listActiveSelectionForeground);\n\tconst listActiveSelectionBackgroundColor = theme.getColor(listActiveSelectionBackground);\n\tif (listActiveSelectionForegroundColor && listActiveSelectionBackgroundColor) {\n\t\tconst whenForegroundColor = listActiveSelectionForegroundColor.transparent(.8).makeOpaque(listActiveSelectionBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listInactiveSelectionForegroundColor = theme.getColor(listInactiveSelectionForeground);\n\tconst listInactiveSelectionBackgroundColor = theme.getColor(listInactiveSelectionBackground);\n\tif (listInactiveSelectionForegroundColor && listInactiveSelectionBackgroundColor) {\n\t\tconst whenForegroundColor = listInactiveSelectionForegroundColor.transparent(.8).makeOpaque(listInactiveSelectionBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listFocusForegroundColor = theme.getColor(listFocusForeground);\n\tconst listFocusBackgroundColor = theme.getColor(listFocusBackground);\n\tif (listFocusForegroundColor && listFocusBackgroundColor) {\n\t\tconst whenForegroundColor = listFocusForegroundColor.transparent(.8).makeOpaque(listFocusBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.focused .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listHoverForegroundColor = theme.getColor(listHoverForeground);\n\tconst listHoverBackgroundColor = theme.getColor(listHoverBackground);\n\tif (listHoverForegroundColor && listHoverBackgroundColor) {\n\t\tconst whenForegroundColor = listHoverForegroundColor.transparent(.8).makeOpaque(listHoverBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row:hover:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listHighlightForegroundColor = theme.getColor(listHighlightForeground);\n\tif (listHighlightForegroundColor) {\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-table-tr .monaco-table-td .highlight { color: ${listHighlightForegroundColor}; }`);\n\t}\n\n\tif (listActiveSelectionForegroundColor) {\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.selected.focused .monaco-table-tr .monaco-table-td .monaco-keybinding-key { color: ${listActiveSelectionForegroundColor}; }`);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-tr .monaco-table-td .monaco-keybinding-key { color: ${listActiveSelectionForegroundColor}; }`);\n\t}\n\tconst listInactiveFocusAndSelectionForegroundColor = theme.getColor(listInactiveSelectionForeground);\n\tif (listInactiveFocusAndSelectionForegroundColor) {\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row.selected .monaco-table-tr .monaco-table-td .monaco-keybinding-key { color: ${listInactiveFocusAndSelectionForegroundColor}; }`);\n\t}\n\tif (listHoverForegroundColor) {\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row:hover:not(.selected):not(.focused) .monaco-table-tr .monaco-table-td .monaco-keybinding-key { color: ${listHoverForegroundColor}; }`);\n\t}\n\tif (listFocusForegroundColor) {\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row.focused .monaco-table-tr .monaco-table-td .monaco-keybinding-key { color: ${listFocusForegroundColor}; }`);\n\t}\n});\n"]}