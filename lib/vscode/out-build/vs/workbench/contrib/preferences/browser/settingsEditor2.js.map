{"version":3,"sources":["vs/workbench/contrib/preferences/browser/settingsEditor2.ts"],"names":[],"mappings":"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","file":"settingsEditor2.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from 'vs/base/browser/dom';\nimport * as aria from 'vs/base/browser/ui/aria/aria';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { Button } from 'vs/base/browser/ui/button/button';\nimport { ITreeElement } from 'vs/base/browser/ui/tree/tree';\nimport { Action } from 'vs/base/common/actions';\nimport { Delayer, IntervalTimer, ThrottledDelayer, timeout } from 'vs/base/common/async';\nimport { CancellationToken, CancellationTokenSource } from 'vs/base/common/cancellation';\nimport * as collections from 'vs/base/common/collections';\nimport { fromNow } from 'vs/base/common/date';\nimport { getErrorMessage, isPromiseCanceledError } from 'vs/base/common/errors';\nimport { Emitter } from 'vs/base/common/event';\nimport { Iterable } from 'vs/base/common/iterator';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport * as platform from 'vs/base/common/platform';\nimport { isArray, withNullAsUndefined, withUndefinedAsNull } from 'vs/base/common/types';\nimport { URI } from 'vs/base/common/uri';\nimport 'vs/css!./media/settingsEditor2';\nimport { localize } from 'vs/nls';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { ConfigurationTarget, IConfigurationOverrides } from 'vs/platform/configuration/common/configuration';\nimport { IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { badgeBackground, badgeForeground, contrastBorder, editorForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { attachButtonStyler, attachStylerCallback } from 'vs/platform/theme/common/styler';\nimport { IThemeService, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { IUserDataAutoSyncEnablementService, IUserDataSyncService, SyncStatus } from 'vs/platform/userDataSync/common/userDataSync';\nimport { EditorPane } from 'vs/workbench/browser/parts/editor/editorPane';\nimport { IEditorMemento, IEditorOpenContext, IEditorPane } from 'vs/workbench/common/editor';\nimport { attachSuggestEnabledInputBoxStyler, SuggestEnabledInput } from 'vs/workbench/contrib/codeEditor/browser/suggestEnabledInput/suggestEnabledInput';\nimport { SettingsTarget, SettingsTargetsWidget } from 'vs/workbench/contrib/preferences/browser/preferencesWidgets';\nimport { commonlyUsedData, tocData } from 'vs/workbench/contrib/preferences/browser/settingsLayout';\nimport { AbstractSettingRenderer, ISettingLinkClickEvent, ISettingOverrideClickEvent, resolveConfiguredUntrustedSettings, resolveExtensionsSettings, resolveSettingsTree, SettingsTree, SettingTreeRenderers } from 'vs/workbench/contrib/preferences/browser/settingsTree';\nimport { ISettingsEditorViewState, parseQuery, SearchResultIdx, SearchResultModel, SettingsTreeElement, SettingsTreeGroupChild, SettingsTreeGroupElement, SettingsTreeModel, SettingsTreeSettingElement } from 'vs/workbench/contrib/preferences/browser/settingsTreeModels';\nimport { settingsTextInputBorder } from 'vs/workbench/contrib/preferences/browser/settingsWidgets';\nimport { createTOCIterator, TOCTree, TOCTreeModel } from 'vs/workbench/contrib/preferences/browser/tocTree';\nimport { CONTEXT_SETTINGS_EDITOR, CONTEXT_SETTINGS_ROW_FOCUS, CONTEXT_SETTINGS_SEARCH_FOCUS, CONTEXT_TOC_ROW_FOCUS, EXTENSION_SETTING_TAG, FEATURE_SETTING_TAG, ID_SETTING_TAG, IPreferencesSearchService, ISearchProvider, MODIFIED_SETTING_TAG, REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG, SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS } from 'vs/workbench/contrib/preferences/common/preferences';\nimport { IEditorGroup, IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { IPreferencesService, ISearchResult, ISettingsEditorModel, ISettingsEditorOptions, SettingsEditorOptions, SettingValueType } from 'vs/workbench/services/preferences/common/preferences';\nimport { SettingsEditor2Input } from 'vs/workbench/services/preferences/browser/preferencesEditorInput';\nimport { Settings2EditorModel } from 'vs/workbench/services/preferences/common/preferencesModels';\nimport { IUserDataSyncWorkbenchService } from 'vs/workbench/services/userDataSync/common/userDataSync';\nimport { preferencesClearInputIcon } from 'vs/workbench/contrib/preferences/browser/preferencesIcons';\nimport { IWorkspaceTrustManagementService } from 'vs/platform/workspace/common/workspaceTrust';\nimport { IWorkbenchConfigurationService } from 'vs/workbench/services/configuration/common/configuration';\nimport { isIPad } from 'vs/base/browser/browser';\n\nexport const enum SettingsFocusContext {\n\tSearch,\n\tTableOfContents,\n\tSettingTree,\n\tSettingControl\n}\n\nexport function createGroupIterator(group: SettingsTreeGroupElement): Iterable<ITreeElement<SettingsTreeGroupChild>> {\n\treturn Iterable.map(group.children, g => {\n\t\treturn {\n\t\t\telement: g,\n\t\t\tchildren: g instanceof SettingsTreeGroupElement ?\n\t\t\t\tcreateGroupIterator(g) :\n\t\t\t\tundefined\n\t\t};\n\t});\n}\n\nconst $ = DOM.$;\n\ninterface IFocusEventFromScroll extends KeyboardEvent {\n\tfromScroll: true;\n}\n\nconst searchBoxLabel = localize('SearchSettings.AriaLabel', \"Search settings\");\n\nconst SETTINGS_AUTOSAVE_NOTIFIED_KEY = 'hasNotifiedOfSettingsAutosave';\nconst SETTINGS_EDITOR_STATE_KEY = 'settingsEditorState';\nexport class SettingsEditor2 extends EditorPane {\n\n\tstatic readonly ID: string = 'workbench.editor.settings2';\n\tprivate static NUM_INSTANCES: number = 0;\n\tprivate static SETTING_UPDATE_FAST_DEBOUNCE: number = 200;\n\tprivate static SETTING_UPDATE_SLOW_DEBOUNCE: number = 1000;\n\tprivate static CONFIG_SCHEMA_UPDATE_DELAYER = 500;\n\n\tprivate static readonly SUGGESTIONS: string[] = [\n\t\t`@${MODIFIED_SETTING_TAG}`, '@tag:usesOnlineServices', '@tag:sync', `@tag:${REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG}`, `@${ID_SETTING_TAG}`, `@${EXTENSION_SETTING_TAG}`, `@${FEATURE_SETTING_TAG}scm`, `@${FEATURE_SETTING_TAG}explorer`, `@${FEATURE_SETTING_TAG}search`, `@${FEATURE_SETTING_TAG}debug`, `@${FEATURE_SETTING_TAG}extensions`, `@${FEATURE_SETTING_TAG}terminal`, `@${FEATURE_SETTING_TAG}task`, `@${FEATURE_SETTING_TAG}problems`, `@${FEATURE_SETTING_TAG}output`, `@${FEATURE_SETTING_TAG}comments`, `@${FEATURE_SETTING_TAG}remote`, `@${FEATURE_SETTING_TAG}timeline`\n\t];\n\n\tprivate static shouldSettingUpdateFast(type: SettingValueType | SettingValueType[]): boolean {\n\t\tif (isArray(type)) {\n\t\t\t// nullable integer/number or complex\n\t\t\treturn false;\n\t\t}\n\t\treturn type === SettingValueType.Enum ||\n\t\t\ttype === SettingValueType.ArrayOfString ||\n\t\t\ttype === SettingValueType.Complex ||\n\t\t\ttype === SettingValueType.Boolean ||\n\t\t\ttype === SettingValueType.Exclude;\n\t}\n\n\t// (!) Lots of props that are set once on the first render\n\tprivate defaultSettingsEditorModel!: Settings2EditorModel;\n\tprivate modelDisposables: DisposableStore;\n\n\tprivate rootElement!: HTMLElement;\n\tprivate headerContainer!: HTMLElement;\n\tprivate searchWidget!: SuggestEnabledInput;\n\tprivate countElement!: HTMLElement;\n\tprivate controlsElement!: HTMLElement;\n\tprivate settingsTargetsWidget!: SettingsTargetsWidget;\n\n\tprivate settingsTreeContainer!: HTMLElement;\n\tprivate settingsTree!: SettingsTree;\n\tprivate settingRenderers!: SettingTreeRenderers;\n\tprivate tocTreeModel!: TOCTreeModel;\n\tprivate settingsTreeModel!: SettingsTreeModel;\n\tprivate noResultsMessage!: HTMLElement;\n\tprivate clearFilterLinkContainer!: HTMLElement;\n\n\tprivate tocTreeContainer!: HTMLElement;\n\tprivate tocTree!: TOCTree;\n\n\tprivate delayedFilterLogging: Delayer<void>;\n\tprivate localSearchDelayer: Delayer<void>;\n\tprivate remoteSearchThrottle: ThrottledDelayer<void>;\n\tprivate searchInProgress: CancellationTokenSource | null = null;\n\n\tprivate updatedConfigSchemaDelayer: Delayer<void>;\n\n\tprivate settingFastUpdateDelayer: Delayer<void>;\n\tprivate settingSlowUpdateDelayer: Delayer<void>;\n\tprivate pendingSettingUpdate: { key: string, value: any } | null = null;\n\n\tprivate readonly viewState: ISettingsEditorViewState;\n\tprivate _searchResultModel: SearchResultModel | null = null;\n\tprivate searchResultLabel: string | null = null;\n\tprivate lastSyncedLabel: string | null = null;\n\n\tprivate tocRowFocused: IContextKey<boolean>;\n\tprivate settingRowFocused: IContextKey<boolean>;\n\tprivate inSettingsEditorContextKey: IContextKey<boolean>;\n\tprivate searchFocusContextKey: IContextKey<boolean>;\n\n\tprivate scheduledRefreshes: Map<string, DOM.IFocusTracker>;\n\tprivate _currentFocusContext: SettingsFocusContext = SettingsFocusContext.Search;\n\n\t/** Don't spam warnings */\n\tprivate hasWarnedMissingSettings = false;\n\n\tprivate editorMemento: IEditorMemento<ISettingsEditor2State>;\n\n\tprivate tocFocusedElement: SettingsTreeGroupElement | null = null;\n\tprivate treeFocusedElement: SettingsTreeElement | null = null;\n\tprivate settingsTreeScrollTop = 0;\n\tprivate dimension!: DOM.Dimension;\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IWorkbenchConfigurationService private readonly configurationService: IWorkbenchConfigurationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IPreferencesSearchService private readonly preferencesSearchService: IPreferencesSearchService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorGroupsService protected editorGroupService: IEditorGroupsService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IWorkspaceTrustManagementService private readonly workspaceTrustManagementService: IWorkspaceTrustManagementService,\n\t) {\n\t\tsuper(SettingsEditor2.ID, telemetryService, themeService, storageService);\n\t\tthis.delayedFilterLogging = new Delayer<void>(1000);\n\t\tthis.localSearchDelayer = new Delayer(300);\n\t\tthis.remoteSearchThrottle = new ThrottledDelayer(200);\n\t\tthis.viewState = { settingsTarget: ConfigurationTarget.USER_LOCAL };\n\n\t\tthis.settingFastUpdateDelayer = new Delayer<void>(SettingsEditor2.SETTING_UPDATE_FAST_DEBOUNCE);\n\t\tthis.settingSlowUpdateDelayer = new Delayer<void>(SettingsEditor2.SETTING_UPDATE_SLOW_DEBOUNCE);\n\n\t\tthis.updatedConfigSchemaDelayer = new Delayer<void>(SettingsEditor2.CONFIG_SCHEMA_UPDATE_DELAYER);\n\n\t\tthis.inSettingsEditorContextKey = CONTEXT_SETTINGS_EDITOR.bindTo(contextKeyService);\n\t\tthis.searchFocusContextKey = CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(contextKeyService);\n\t\tthis.tocRowFocused = CONTEXT_TOC_ROW_FOCUS.bindTo(contextKeyService);\n\t\tthis.settingRowFocused = CONTEXT_SETTINGS_ROW_FOCUS.bindTo(contextKeyService);\n\n\t\tthis.scheduledRefreshes = new Map<string, DOM.IFocusTracker>();\n\n\t\tthis.editorMemento = this.getEditorMemento<ISettingsEditor2State>(editorGroupService, SETTINGS_EDITOR_STATE_KEY);\n\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.source !== ConfigurationTarget.DEFAULT) {\n\t\t\t\tthis.onConfigUpdate(e.affectedKeys);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(workspaceTrustManagementService.onDidChangeTrust(() => {\n\t\t\tif (this.searchResultModel) {\n\t\t\t\tthis.searchResultModel.updateWorkspaceTrust(workspaceTrustManagementService.isWorkpaceTrusted());\n\t\t\t}\n\n\t\t\tif (this.settingsTreeModel) {\n\t\t\t\tthis.settingsTreeModel.updateWorkspaceTrust(workspaceTrustManagementService.isWorkpaceTrusted());\n\t\t\t}\n\t\t\tthis.renderTree();\n\t\t}));\n\n\t\tthis._register(configurationService.onDidChangeRestrictedSettings(e => {\n\t\t\tif (e.default.length) {\n\t\t\t\tthis.updateElementsByKey([...e.default]);\n\t\t\t}\n\t\t}));\n\n\t\tthis.modelDisposables = this._register(new DisposableStore());\n\t}\n\n\toverride get minimumWidth(): number { return 375; }\n\toverride get maximumWidth(): number { return Number.POSITIVE_INFINITY; }\n\n\t// these setters need to exist because this extends from EditorPane\n\toverride set minimumWidth(value: number) { /*noop*/ }\n\toverride set maximumWidth(value: number) { /*noop*/ }\n\n\tprivate get currentSettingsModel() {\n\t\treturn this.searchResultModel || this.settingsTreeModel;\n\t}\n\n\tprivate get searchResultModel(): SearchResultModel | null {\n\t\treturn this._searchResultModel;\n\t}\n\n\tprivate set searchResultModel(value: SearchResultModel | null) {\n\t\tthis._searchResultModel = value;\n\n\t\tthis.rootElement.classList.toggle('search-mode', !!this._searchResultModel);\n\t}\n\n\tprivate get focusedSettingDOMElement(): HTMLElement | undefined {\n\t\tconst focused = this.settingsTree.getFocus()[0];\n\t\tif (!(focused instanceof SettingsTreeSettingElement)) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.settingRenderers.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(), focused.setting.key)[0];\n\t}\n\n\tget currentFocusContext() {\n\t\treturn this._currentFocusContext;\n\t}\n\n\tcreateEditor(parent: HTMLElement): void {\n\t\tparent.setAttribute('tabindex', '-1');\n\t\tthis.rootElement = DOM.append(parent, $('.settings-editor', { tabindex: '-1' }));\n\n\t\tthis.createHeader(this.rootElement);\n\t\tthis.createBody(this.rootElement);\n\t\tthis.addCtrlAInterceptor(this.rootElement);\n\t\tthis.updateStyles();\n\t}\n\n\toverride async setInput(input: SettingsEditor2Input, options: SettingsEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tthis.inSettingsEditorContextKey.set(true);\n\t\tawait super.setInput(input, options, context, token);\n\t\tawait timeout(0); // Force setInput to be async\n\t\tif (!this.input) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = await this.input.resolve();\n\t\tif (token.isCancellationRequested || !(model instanceof Settings2EditorModel)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.modelDisposables.clear();\n\t\tthis.modelDisposables.add(model.onDidChangeGroups(() => {\n\t\t\tthis.updatedConfigSchemaDelayer.trigger(() => {\n\t\t\t\tthis.onConfigUpdate(undefined, undefined, true);\n\t\t\t});\n\t\t}));\n\t\tthis.defaultSettingsEditorModel = model;\n\n\t\toptions = options || SettingsEditorOptions.create({});\n\t\tif (!this.viewState.settingsTarget) {\n\t\t\tif (!options.target) {\n\t\t\t\toptions.target = ConfigurationTarget.USER_LOCAL;\n\t\t\t}\n\t\t}\n\t\tthis._setOptions(options);\n\n\t\t// Don't block setInput on render (which can trigger an async search)\n\t\tthis.onConfigUpdate(undefined, true).then(() => {\n\t\t\tthis._register(input.onWillDispose(() => {\n\t\t\t\tthis.searchWidget.setValue('');\n\t\t\t}));\n\n\t\t\t// Init TOC selection\n\t\t\tthis.updateTreeScrollSync();\n\t\t});\n\t}\n\n\tprivate restoreCachedState(): ISettingsEditor2State | null {\n\t\tconst cachedState = this.group && this.input && this.editorMemento.loadEditorState(this.group, this.input);\n\t\tif (cachedState && typeof cachedState.target === 'object') {\n\t\t\tcachedState.target = URI.revive(cachedState.target);\n\t\t}\n\n\t\tif (cachedState) {\n\t\t\tconst settingsTarget = cachedState.target;\n\t\t\tthis.settingsTargetsWidget.settingsTarget = settingsTarget;\n\t\t\tthis.viewState.settingsTarget = settingsTarget;\n\t\t\tthis.searchWidget.setValue(cachedState.searchQuery);\n\t\t}\n\n\t\tif (this.input) {\n\t\t\tthis.editorMemento.clearEditorState(this.input, this.group);\n\t\t}\n\n\t\treturn withUndefinedAsNull(cachedState);\n\t}\n\n\toverride setOptions(options: SettingsEditorOptions | undefined): void {\n\t\tsuper.setOptions(options);\n\n\t\tif (options) {\n\t\t\tthis._setOptions(options);\n\t\t}\n\t}\n\n\tprivate _setOptions(options: SettingsEditorOptions): void {\n\t\tif (options.focusSearch && !isIPad) {\n\t\t\t// isIPad - #122044\n\t\t\tthis.focusSearch();\n\t\t}\n\n\t\tif (options.query) {\n\t\t\tthis.searchWidget.setValue(options.query);\n\t\t}\n\n\t\tconst target: SettingsTarget = options.folderUri || <SettingsTarget>options.target;\n\t\tif (target) {\n\t\t\tthis.settingsTargetsWidget.settingsTarget = target;\n\t\t\tthis.viewState.settingsTarget = target;\n\t\t}\n\t}\n\n\toverride clearInput(): void {\n\t\tthis.inSettingsEditorContextKey.set(false);\n\t\tsuper.clearInput();\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.dimension = dimension;\n\n\t\tif (!this.isVisible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.layoutTrees(dimension);\n\n\t\tconst innerWidth = Math.min(1000, dimension.width) - 24 * 2; // 24px padding on left and right;\n\t\t// minus padding inside inputbox, countElement width, controls width, extra padding before countElement\n\t\tconst monacoWidth = innerWidth - 10 - this.countElement.clientWidth - this.controlsElement.clientWidth - 12;\n\t\tthis.searchWidget.layout(new DOM.Dimension(monacoWidth, 20));\n\n\t\tthis.rootElement.classList.toggle('mid-width', dimension.width < 1000 && dimension.width >= 600);\n\t\tthis.rootElement.classList.toggle('narrow-width', dimension.width < 600);\n\t}\n\n\toverride focus(): void {\n\t\tif (this._currentFocusContext === SettingsFocusContext.Search) {\n\t\t\tif (!isIPad) {\n\t\t\t\t// #122044\n\t\t\t\tthis.focusSearch();\n\t\t\t}\n\t\t} else if (this._currentFocusContext === SettingsFocusContext.SettingControl) {\n\t\t\tconst element = this.focusedSettingDOMElement;\n\t\t\tif (element) {\n\t\t\t\tconst control = element.querySelector(AbstractSettingRenderer.CONTROL_SELECTOR);\n\t\t\t\tif (control) {\n\t\t\t\t\t(<HTMLElement>control).focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (this._currentFocusContext === SettingsFocusContext.SettingTree) {\n\t\t\tthis.settingsTree.domFocus();\n\t\t} else if (this._currentFocusContext === SettingsFocusContext.TableOfContents) {\n\t\t\tthis.tocTree.domFocus();\n\t\t}\n\t}\n\n\tprotected override setEditorVisible(visible: boolean, group: IEditorGroup | undefined): void {\n\t\tsuper.setEditorVisible(visible, group);\n\n\t\tif (!visible) {\n\t\t\t// Wait for editor to be removed from DOM #106303\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.searchWidget.onHide();\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\tfocusSettings(focusSettingInput = false): void {\n\t\tconst focused = this.settingsTree.getFocus();\n\t\tif (!focused.length) {\n\t\t\tthis.settingsTree.focusFirst();\n\t\t}\n\n\t\tthis.settingsTree.domFocus();\n\n\t\tif (focusSettingInput) {\n\t\t\tconst controlInFocusedRow = this.settingsTree.getHTMLElement().querySelector(`.focused ${AbstractSettingRenderer.CONTROL_SELECTOR}`);\n\t\t\tif (controlInFocusedRow) {\n\t\t\t\t(<HTMLElement>controlInFocusedRow).focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tfocusTOC(): void {\n\t\tthis.tocTree.domFocus();\n\t}\n\n\tshowContextMenu(): void {\n\t\tconst focused = this.settingsTree.getFocus()[0];\n\t\tconst rowElement = this.focusedSettingDOMElement;\n\t\tif (rowElement && focused instanceof SettingsTreeSettingElement) {\n\t\t\tthis.settingRenderers.showContextMenu(focused, rowElement);\n\t\t}\n\t}\n\n\tfocusSearch(filter?: string, selectAll = true): void {\n\t\tif (filter && this.searchWidget) {\n\t\t\tthis.searchWidget.setValue(filter);\n\t\t}\n\n\t\tthis.searchWidget.focus(selectAll);\n\t}\n\n\tclearSearchResults(): void {\n\t\tthis.searchWidget.setValue('');\n\t\tthis.focusSearch();\n\t}\n\n\tclearSearchFilters(): void {\n\t\tlet query = this.searchWidget.getValue();\n\n\t\tSettingsEditor2.SUGGESTIONS.forEach(suggestion => {\n\t\t\tquery = query.replace(suggestion, '');\n\t\t});\n\n\t\tthis.searchWidget.setValue(query.trim());\n\t}\n\n\tprivate updateInputAriaLabel() {\n\t\tlet label = searchBoxLabel;\n\t\tif (this.searchResultLabel) {\n\t\t\tlabel += `. ${this.searchResultLabel}`;\n\t\t}\n\n\t\tif (this.lastSyncedLabel) {\n\t\t\tlabel += `. ${this.lastSyncedLabel}`;\n\t\t}\n\n\t\tthis.searchWidget.updateAriaLabel(label);\n\t}\n\n\tprivate createHeader(parent: HTMLElement): void {\n\t\tthis.headerContainer = DOM.append(parent, $('.settings-header'));\n\n\t\tconst searchContainer = DOM.append(this.headerContainer, $('.search-container'));\n\n\t\tconst clearInputAction = new Action(SETTINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS, localize('clearInput', \"Clear Settings Search Input\"), ThemeIcon.asClassName(preferencesClearInputIcon), false, async () => this.clearSearchResults());\n\n\t\tthis.searchWidget = this._register(this.instantiationService.createInstance(SuggestEnabledInput, `${SettingsEditor2.ID}.searchbox`, searchContainer, {\n\t\t\ttriggerCharacters: ['@'],\n\t\t\tprovideResults: (query: string) => {\n\t\t\t\treturn SettingsEditor2.SUGGESTIONS.filter(tag => query.indexOf(tag) === -1).map(tag => tag.endsWith(':') ? tag : tag + ' ');\n\t\t\t}\n\t\t}, searchBoxLabel, 'settingseditor:searchinput' + SettingsEditor2.NUM_INSTANCES++, {\n\t\t\tplaceholderText: searchBoxLabel,\n\t\t\tfocusContextKey: this.searchFocusContextKey,\n\t\t\t// TODO: Aria-live\n\t\t}));\n\t\tthis._register(this.searchWidget.onFocus(() => {\n\t\t\tthis._currentFocusContext = SettingsFocusContext.Search;\n\t\t}));\n\n\t\tthis._register(attachSuggestEnabledInputBoxStyler(this.searchWidget, this.themeService, {\n\t\t\tinputBorder: settingsTextInputBorder\n\t\t}));\n\n\t\tthis.countElement = DOM.append(searchContainer, DOM.$('.settings-count-widget.monaco-count-badge.long'));\n\t\tthis._register(attachStylerCallback(this.themeService, { badgeBackground, contrastBorder, badgeForeground }, colors => {\n\t\t\tconst background = colors.badgeBackground ? colors.badgeBackground.toString() : '';\n\t\t\tconst border = colors.contrastBorder ? colors.contrastBorder.toString() : '';\n\t\t\tconst foreground = colors.badgeForeground ? colors.badgeForeground.toString() : '';\n\n\t\t\tthis.countElement.style.backgroundColor = background;\n\t\t\tthis.countElement.style.color = foreground;\n\n\t\t\tthis.countElement.style.borderWidth = border ? '1px' : '';\n\t\t\tthis.countElement.style.borderStyle = border ? 'solid' : '';\n\t\t\tthis.countElement.style.borderColor = border;\n\t\t}));\n\n\t\tthis._register(this.searchWidget.onInputDidChange(() => {\n\t\t\tconst searchVal = this.searchWidget.getValue();\n\t\t\tclearInputAction.enabled = !!searchVal;\n\t\t\tthis.onSearchInputChanged();\n\t\t}));\n\n\t\tconst headerControlsContainer = DOM.append(this.headerContainer, $('.settings-header-controls'));\n\t\tconst targetWidgetContainer = DOM.append(headerControlsContainer, $('.settings-target-container'));\n\t\tthis.settingsTargetsWidget = this._register(this.instantiationService.createInstance(SettingsTargetsWidget, targetWidgetContainer, { enableRemoteSettings: true }));\n\t\tthis.settingsTargetsWidget.settingsTarget = ConfigurationTarget.USER_LOCAL;\n\t\tthis.settingsTargetsWidget.onDidTargetChange(target => this.onDidSettingsTargetChange(target));\n\t\tthis._register(DOM.addDisposableListener(targetWidgetContainer, DOM.EventType.KEY_DOWN, e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tif (event.keyCode === KeyCode.DownArrow) {\n\t\t\t\tthis.focusSettings();\n\t\t\t}\n\t\t}));\n\n\t\tif (this.userDataSyncWorkbenchService.enabled && this.userDataAutoSyncEnablementService.canToggleEnablement()) {\n\t\t\tconst syncControls = this._register(this.instantiationService.createInstance(SyncControls, headerControlsContainer));\n\t\t\tthis._register(syncControls.onDidChangeLastSyncedLabel(lastSyncedLabel => {\n\t\t\t\tthis.lastSyncedLabel = lastSyncedLabel;\n\t\t\t\tthis.updateInputAriaLabel();\n\t\t\t}));\n\t\t}\n\n\t\tthis.controlsElement = DOM.append(searchContainer, DOM.$('.settings-clear-widget'));\n\n\t\tconst actionBar = this._register(new ActionBar(this.controlsElement, {\n\t\t\tanimated: false,\n\t\t\tactionViewItemProvider: (_action) => { return undefined; }\n\t\t}));\n\n\t\tactionBar.push([clearInputAction], { label: false, icon: true });\n\t}\n\n\tprivate onDidSettingsTargetChange(target: SettingsTarget): void {\n\t\tthis.viewState.settingsTarget = target;\n\n\t\t// TODO Instead of rebuilding the whole model, refresh and uncache the inspected setting value\n\t\tthis.onConfigUpdate(undefined, true);\n\t}\n\n\tprivate onDidClickSetting(evt: ISettingLinkClickEvent, recursed?: boolean): void {\n\t\tconst elements = this.currentSettingsModel.getElementsByName(evt.targetKey);\n\t\tif (elements && elements[0]) {\n\t\t\tlet sourceTop = 0.5;\n\t\t\ttry {\n\t\t\t\tconst _sourceTop = this.settingsTree.getRelativeTop(evt.source);\n\t\t\t\tif (_sourceTop !== null) {\n\t\t\t\t\tsourceTop = _sourceTop;\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// e.g. clicked a searched element, now the search has been cleared\n\t\t\t}\n\n\t\t\tthis.settingsTree.reveal(elements[0], sourceTop);\n\n\t\t\t// We need to shift focus from the setting that contains the link to the setting that's\n\t\t\t//  linked. Clicking on the link sets focus on the setting that contains the link,\n\t\t\t//  which is why we need the setTimeout\n\t\t\tsetTimeout(() => this.settingsTree.setFocus([elements[0]]), 50);\n\n\t\t\tconst domElements = this.settingRenderers.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(), evt.targetKey);\n\t\t\tif (domElements && domElements[0]) {\n\t\t\t\tconst control = domElements[0].querySelector(AbstractSettingRenderer.CONTROL_SELECTOR);\n\t\t\t\tif (control) {\n\t\t\t\t\t(<HTMLElement>control).focus();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!recursed) {\n\t\t\tconst p = this.triggerSearch('');\n\t\t\tp.then(() => {\n\t\t\t\tthis.searchWidget.setValue('');\n\t\t\t\tthis.onDidClickSetting(evt, true);\n\t\t\t});\n\t\t}\n\t}\n\n\tswitchToSettingsFile(): Promise<IEditorPane | undefined> {\n\t\tconst query = parseQuery(this.searchWidget.getValue()).query;\n\t\treturn this.openSettingsFile({ query });\n\t}\n\n\tprivate async openSettingsFile(options?: ISettingsEditorOptions): Promise<IEditorPane | undefined> {\n\t\tconst currentSettingsTarget = this.settingsTargetsWidget.settingsTarget;\n\n\t\tif (currentSettingsTarget === ConfigurationTarget.USER_LOCAL) {\n\t\t\treturn this.preferencesService.openGlobalSettings(true, options);\n\t\t} else if (currentSettingsTarget === ConfigurationTarget.USER_REMOTE) {\n\t\t\treturn this.preferencesService.openRemoteSettings();\n\t\t} else if (currentSettingsTarget === ConfigurationTarget.WORKSPACE) {\n\t\t\treturn this.preferencesService.openWorkspaceSettings(true, options);\n\t\t} else if (URI.isUri(currentSettingsTarget)) {\n\t\t\treturn this.preferencesService.openFolderSettings(currentSettingsTarget, true, options);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate createBody(parent: HTMLElement): void {\n\t\tconst bodyContainer = DOM.append(parent, $('.settings-body'));\n\n\t\tthis.noResultsMessage = DOM.append(bodyContainer, $('.no-results-message'));\n\n\t\tthis.noResultsMessage.innerText = localize('noResults', \"No Settings Found\");\n\n\t\tthis.clearFilterLinkContainer = $('span.clear-search-filters');\n\n\t\tthis.clearFilterLinkContainer.textContent = ' - ';\n\t\tconst clearFilterLink = DOM.append(this.clearFilterLinkContainer, $('a.pointer.prominent', { tabindex: 0 }, localize('clearSearchFilters', 'Clear Filters')));\n\t\tthis._register(DOM.addDisposableListener(clearFilterLink, DOM.EventType.CLICK, (e: MouseEvent) => {\n\t\t\tDOM.EventHelper.stop(e, false);\n\t\t\tthis.clearSearchFilters();\n\t\t}));\n\n\t\tDOM.append(this.noResultsMessage, this.clearFilterLinkContainer);\n\n\t\tthis._register(attachStylerCallback(this.themeService, { editorForeground }, colors => {\n\t\t\tthis.noResultsMessage.style.color = colors.editorForeground ? colors.editorForeground.toString() : '';\n\t\t}));\n\n\t\tthis.createTOC(bodyContainer);\n\t\tthis.createSettingsTree(bodyContainer);\n\t}\n\n\tprivate addCtrlAInterceptor(container: HTMLElement): void {\n\t\tthis._register(DOM.addStandardDisposableListener(container, DOM.EventType.KEY_DOWN, (e: StandardKeyboardEvent) => {\n\t\t\tif (\n\t\t\t\te.keyCode === KeyCode.KEY_A &&\n\t\t\t\t(platform.isMacintosh ? e.metaKey : e.ctrlKey) &&\n\t\t\t\te.target.tagName !== 'TEXTAREA' &&\n\t\t\t\te.target.tagName !== 'INPUT'\n\t\t\t) {\n\t\t\t\t// Avoid browser ctrl+a\n\t\t\t\te.browserEvent.stopPropagation();\n\t\t\t\te.browserEvent.preventDefault();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate createTOC(parent: HTMLElement): void {\n\t\tthis.tocTreeModel = this.instantiationService.createInstance(TOCTreeModel, this.viewState);\n\t\tthis.tocTreeContainer = DOM.append(parent, $('.settings-toc-container'));\n\n\t\tthis.tocTree = this._register(this.instantiationService.createInstance(TOCTree,\n\t\t\tDOM.append(this.tocTreeContainer, $('.settings-toc-wrapper', {\n\t\t\t\t'role': 'navigation',\n\t\t\t\t'aria-label': localize('settings', \"Settings\"),\n\t\t\t})),\n\t\t\tthis.viewState));\n\n\t\tthis._register(this.tocTree.onDidFocus(() => {\n\t\t\tthis._currentFocusContext = SettingsFocusContext.TableOfContents;\n\t\t}));\n\n\t\tthis._register(this.tocTree.onDidChangeFocus(e => {\n\t\t\tconst element: SettingsTreeGroupElement | null = e.elements[0];\n\t\t\tif (this.tocFocusedElement === element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.tocFocusedElement = element;\n\t\t\tthis.tocTree.setSelection(element ? [element] : []);\n\t\t\tif (this.searchResultModel) {\n\t\t\t\tif (this.viewState.filterToCategory !== element) {\n\t\t\t\t\tthis.viewState.filterToCategory = withNullAsUndefined(element);\n\t\t\t\t\tthis.renderTree();\n\t\t\t\t\tthis.settingsTree.scrollTop = 0;\n\t\t\t\t}\n\t\t\t} else if (element && (!e.browserEvent || !(<IFocusEventFromScroll>e.browserEvent).fromScroll)) {\n\t\t\t\tthis.settingsTree.reveal(element, 0);\n\t\t\t\tthis.settingsTree.setFocus([element]);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.tocTree.onDidFocus(() => {\n\t\t\tthis.tocRowFocused.set(true);\n\t\t}));\n\n\t\tthis._register(this.tocTree.onDidBlur(() => {\n\t\t\tthis.tocRowFocused.set(false);\n\t\t}));\n\t}\n\n\tprivate createSettingsTree(parent: HTMLElement): void {\n\t\tthis.settingsTreeContainer = DOM.append(parent, $('.settings-tree-container'));\n\n\t\tthis.settingRenderers = this.instantiationService.createInstance(SettingTreeRenderers);\n\t\tthis._register(this.settingRenderers.onDidChangeSetting(e => this.onDidChangeSetting(e.key, e.value, e.type)));\n\t\tthis._register(this.settingRenderers.onDidOpenSettings(settingKey => {\n\t\t\tthis.openSettingsFile({ revealSetting: { key: settingKey, edit: true } });\n\t\t}));\n\t\tthis._register(this.settingRenderers.onDidClickSettingLink(settingName => this.onDidClickSetting(settingName)));\n\t\tthis._register(this.settingRenderers.onDidFocusSetting(element => {\n\t\t\tthis.settingsTree.setFocus([element]);\n\t\t\tthis._currentFocusContext = SettingsFocusContext.SettingControl;\n\t\t\tthis.settingRowFocused.set(false);\n\t\t}));\n\t\tthis._register(this.settingRenderers.onDidClickOverrideElement((element: ISettingOverrideClickEvent) => {\n\t\t\tif (element.scope.toLowerCase() === 'workspace') {\n\t\t\t\tthis.settingsTargetsWidget.updateTarget(ConfigurationTarget.WORKSPACE);\n\t\t\t} else if (element.scope.toLowerCase() === 'user') {\n\t\t\t\tthis.settingsTargetsWidget.updateTarget(ConfigurationTarget.USER_LOCAL);\n\t\t\t} else if (element.scope.toLowerCase() === 'remote') {\n\t\t\t\tthis.settingsTargetsWidget.updateTarget(ConfigurationTarget.USER_REMOTE);\n\t\t\t}\n\n\t\t\tthis.searchWidget.setValue(element.targetKey);\n\t\t}));\n\n\t\tthis.settingsTree = this._register(this.instantiationService.createInstance(SettingsTree,\n\t\t\tthis.settingsTreeContainer,\n\t\t\tthis.viewState,\n\t\t\tthis.settingRenderers.allRenderers));\n\n\t\tthis._register(this.settingsTree.onDidScroll(() => {\n\t\t\tif (this.settingsTree.scrollTop === this.settingsTreeScrollTop) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.settingsTreeScrollTop = this.settingsTree.scrollTop;\n\n\t\t\t// setTimeout because calling setChildren on the settingsTree can trigger onDidScroll, so it fires when\n\t\t\t// setChildren has called on the settings tree but not the toc tree yet, so their rendered elements are out of sync\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.updateTreeScrollSync();\n\t\t\t}, 0);\n\t\t}));\n\n\t\tthis._register(this.settingsTree.onDidFocus(() => {\n\t\t\tif (document.activeElement?.classList.contains('monaco-list')) {\n\t\t\t\tthis._currentFocusContext = SettingsFocusContext.SettingTree;\n\t\t\t\tthis.settingRowFocused.set(true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.settingsTree.onDidBlur(() => {\n\t\t\tthis.settingRowFocused.set(false);\n\t\t}));\n\n\t\t// There is no different select state in the settings tree\n\t\tthis._register(this.settingsTree.onDidChangeFocus(e => {\n\t\t\tconst element = e.elements[0];\n\t\t\tif (this.treeFocusedElement === element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.treeFocusedElement) {\n\t\t\t\tthis.treeFocusedElement.tabbable = false;\n\t\t\t}\n\n\t\t\tthis.treeFocusedElement = element;\n\n\t\t\tif (this.treeFocusedElement) {\n\t\t\t\tthis.treeFocusedElement.tabbable = true;\n\t\t\t}\n\n\t\t\tthis.settingsTree.setSelection(element ? [element] : []);\n\t\t}));\n\t}\n\n\tprivate notifyNoSaveNeeded() {\n\t\tif (!this.storageService.getBoolean(SETTINGS_AUTOSAVE_NOTIFIED_KEY, StorageScope.GLOBAL, false)) {\n\t\t\tthis.storageService.store(SETTINGS_AUTOSAVE_NOTIFIED_KEY, true, StorageScope.GLOBAL, StorageTarget.USER);\n\t\t\tthis.notificationService.info(localize('settingsNoSaveNeeded', \"Changes to settings are saved automatically.\"));\n\t\t}\n\t}\n\n\tprivate onDidChangeSetting(key: string, value: any, type: SettingValueType | SettingValueType[]): void {\n\t\tthis.notifyNoSaveNeeded();\n\n\t\tif (this.pendingSettingUpdate && this.pendingSettingUpdate.key !== key) {\n\t\t\tthis.updateChangedSetting(key, value);\n\t\t}\n\n\t\tthis.pendingSettingUpdate = { key, value };\n\t\tif (SettingsEditor2.shouldSettingUpdateFast(type)) {\n\t\t\tthis.settingFastUpdateDelayer.trigger(() => this.updateChangedSetting(key, value));\n\t\t} else {\n\t\t\tthis.settingSlowUpdateDelayer.trigger(() => this.updateChangedSetting(key, value));\n\t\t}\n\t}\n\n\tprivate updateTreeScrollSync(): void {\n\t\tthis.settingRenderers.cancelSuggesters();\n\t\tif (this.searchResultModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.tocTreeModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elementToSync = this.settingsTree.firstVisibleElement;\n\t\tconst element = elementToSync instanceof SettingsTreeSettingElement ? elementToSync.parent :\n\t\t\telementToSync instanceof SettingsTreeGroupElement ? elementToSync :\n\t\t\t\tnull;\n\n\t\t// It's possible for this to be called when the TOC and settings tree are out of sync - e.g. when the settings tree has deferred a refresh because\n\t\t// it is focused. So, bail if element doesn't exist in the TOC.\n\t\tlet nodeExists = true;\n\t\ttry { this.tocTree.getNode(element); } catch (e) { nodeExists = false; }\n\t\tif (!nodeExists) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (element && this.tocTree.getSelection()[0] !== element) {\n\t\t\tconst ancestors = this.getAncestors(element);\n\t\t\tancestors.forEach(e => this.tocTree.expand(<SettingsTreeGroupElement>e));\n\n\t\t\tthis.tocTree.reveal(element);\n\t\t\tconst elementTop = this.tocTree.getRelativeTop(element);\n\t\t\tif (typeof elementTop !== 'number') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.tocTree.collapseAll();\n\n\t\t\tancestors.forEach(e => this.tocTree.expand(<SettingsTreeGroupElement>e));\n\t\t\tif (elementTop < 0 || elementTop > 1) {\n\t\t\t\tthis.tocTree.reveal(element);\n\t\t\t} else {\n\t\t\t\tthis.tocTree.reveal(element, elementTop);\n\t\t\t}\n\n\t\t\tthis.tocTree.expand(element);\n\n\t\t\tthis.tocTree.setSelection([element]);\n\n\t\t\tconst fakeKeyboardEvent = new KeyboardEvent('keydown');\n\t\t\t(<IFocusEventFromScroll>fakeKeyboardEvent).fromScroll = true;\n\t\t\tthis.tocTree.setFocus([element], fakeKeyboardEvent);\n\t\t}\n\t}\n\n\tprivate getAncestors(element: SettingsTreeElement): SettingsTreeElement[] {\n\t\tconst ancestors: any[] = [];\n\n\t\twhile (element.parent) {\n\t\t\tif (element.parent.id !== 'root') {\n\t\t\t\tancestors.push(element.parent);\n\t\t\t}\n\n\t\t\telement = element.parent;\n\t\t}\n\n\t\treturn ancestors.reverse();\n\t}\n\n\tprivate updateChangedSetting(key: string, value: any): Promise<void> {\n\t\t// ConfigurationService displays the error if this fails.\n\t\t// Force a render afterwards because onDidConfigurationUpdate doesn't fire if the update doesn't result in an effective setting value change\n\t\tconst settingsTarget = this.settingsTargetsWidget.settingsTarget;\n\t\tconst resource = URI.isUri(settingsTarget) ? settingsTarget : undefined;\n\t\tconst configurationTarget = <ConfigurationTarget>(resource ? ConfigurationTarget.WORKSPACE_FOLDER : settingsTarget);\n\t\tconst overrides: IConfigurationOverrides = { resource };\n\n\t\tconst isManualReset = value === undefined;\n\n\t\t// If the user is changing the value back to the default, do a 'reset' instead\n\t\tconst inspected = this.configurationService.inspect(key, overrides);\n\t\tif (inspected.defaultValue === value) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\treturn this.configurationService.updateValue(key, value, overrides, configurationTarget)\n\t\t\t.then(() => {\n\t\t\t\tthis.renderTree(key, isManualReset);\n\t\t\t\tconst reportModifiedProps = {\n\t\t\t\t\tkey,\n\t\t\t\t\tquery: this.searchWidget.getValue(),\n\t\t\t\t\tsearchResults: this.searchResultModel && this.searchResultModel.getUniqueResults(),\n\t\t\t\t\trawResults: this.searchResultModel && this.searchResultModel.getRawResults(),\n\t\t\t\t\tshowConfiguredOnly: !!this.viewState.tagFilters && this.viewState.tagFilters.has(MODIFIED_SETTING_TAG),\n\t\t\t\t\tisReset: typeof value === 'undefined',\n\t\t\t\t\tsettingsTarget: this.settingsTargetsWidget.settingsTarget as SettingsTarget\n\t\t\t\t};\n\n\t\t\t\treturn this.reportModifiedSetting(reportModifiedProps);\n\t\t\t});\n\t}\n\n\tprivate reportModifiedSetting(props: { key: string, query: string, searchResults: ISearchResult[] | null, rawResults: ISearchResult[] | null, showConfiguredOnly: boolean, isReset: boolean, settingsTarget: SettingsTarget }): void {\n\t\tthis.pendingSettingUpdate = null;\n\n\t\tlet groupId: string | undefined = undefined;\n\t\tlet nlpIndex: number | undefined = undefined;\n\t\tlet displayIndex: number | undefined = undefined;\n\t\tif (props.searchResults) {\n\t\t\tconst remoteResult = props.searchResults[SearchResultIdx.Remote];\n\t\t\tconst localResult = props.searchResults[SearchResultIdx.Local];\n\n\t\t\tconst localIndex = localResult!.filterMatches.findIndex(m => m.setting.key === props.key);\n\t\t\tgroupId = localIndex >= 0 ?\n\t\t\t\t'local' :\n\t\t\t\t'remote';\n\n\t\t\tdisplayIndex = localIndex >= 0 ?\n\t\t\t\tlocalIndex :\n\t\t\t\tremoteResult && (remoteResult.filterMatches.findIndex(m => m.setting.key === props.key) + localResult.filterMatches.length);\n\n\t\t\tif (this.searchResultModel) {\n\t\t\t\tconst rawResults = this.searchResultModel.getRawResults();\n\t\t\t\tif (rawResults[SearchResultIdx.Remote]) {\n\t\t\t\t\tconst _nlpIndex = rawResults[SearchResultIdx.Remote].filterMatches.findIndex(m => m.setting.key === props.key);\n\t\t\t\t\tnlpIndex = _nlpIndex >= 0 ? _nlpIndex : undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst reportedTarget = props.settingsTarget === ConfigurationTarget.USER_LOCAL ? 'user' :\n\t\t\tprops.settingsTarget === ConfigurationTarget.USER_REMOTE ? 'user_remote' :\n\t\t\t\tprops.settingsTarget === ConfigurationTarget.WORKSPACE ? 'workspace' :\n\t\t\t\t\t'folder';\n\n\t\tconst data = {\n\t\t\tkey: props.key,\n\t\t\tquery: props.query,\n\t\t\tgroupId,\n\t\t\tnlpIndex,\n\t\t\tdisplayIndex,\n\t\t\tshowConfiguredOnly: props.showConfiguredOnly,\n\t\t\tisReset: props.isReset,\n\t\t\ttarget: reportedTarget\n\t\t};\n\n\t\t/* __GDPR__\n\t\t\t\"settingsEditor.settingModified\" : {\n\t\t\t\t\"key\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"query\" : { \"classification\": \"CustomerContent\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"groupId\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"nlpIndex\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"displayIndex\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"showConfiguredOnly\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"isReset\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"target\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog('settingsEditor.settingModified', data);\n\t}\n\n\tprivate onSearchModeToggled(): void {\n\t\tthis.rootElement.classList.remove('no-toc-search');\n\t\tif (this.configurationService.getValue('workbench.settings.settingsSearchTocBehavior') === 'hide') {\n\t\t\tthis.rootElement.classList.toggle('no-toc-search', !!this.searchResultModel);\n\t\t}\n\t}\n\n\tprivate scheduleRefresh(element: HTMLElement, key = ''): void {\n\t\tif (key && this.scheduledRefreshes.has(key)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!key) {\n\t\t\tthis.scheduledRefreshes.forEach(r => r.dispose());\n\t\t\tthis.scheduledRefreshes.clear();\n\t\t}\n\n\t\tconst scheduledRefreshTracker = DOM.trackFocus(element);\n\t\tthis.scheduledRefreshes.set(key, scheduledRefreshTracker);\n\t\tscheduledRefreshTracker.onDidBlur(() => {\n\t\t\tscheduledRefreshTracker.dispose();\n\t\t\tthis.scheduledRefreshes.delete(key);\n\t\t\tthis.onConfigUpdate([key]);\n\t\t});\n\t}\n\n\tprivate async onConfigUpdate(keys?: string[], forceRefresh = false, schemaChange = false): Promise<void> {\n\t\tif (keys && this.settingsTreeModel) {\n\t\t\treturn this.updateElementsByKey(keys);\n\t\t}\n\n\t\tconst groups = this.defaultSettingsEditorModel.settingsGroups.slice(1); // Without commonlyUsed\n\t\tconst dividedGroups = collections.groupBy(groups, g => g.extensionInfo ? 'extension' : 'core');\n\t\tconst settingsResult = resolveSettingsTree(tocData, dividedGroups.core, this.logService);\n\t\tconst resolvedSettingsRoot = settingsResult.tree;\n\n\t\t// Warn for settings not included in layout\n\t\tif (settingsResult.leftoverSettings.size && !this.hasWarnedMissingSettings) {\n\t\t\tconst settingKeyList: string[] = [];\n\t\t\tsettingsResult.leftoverSettings.forEach(s => {\n\t\t\t\tsettingKeyList.push(s.key);\n\t\t\t});\n\n\t\t\tthis.logService.warn(`SettingsEditor2: Settings not included in settingsLayout.ts: ${settingKeyList.join(', ')}`);\n\t\t\tthis.hasWarnedMissingSettings = true;\n\t\t}\n\n\t\tconst commonlyUsed = resolveSettingsTree(commonlyUsedData, dividedGroups.core, this.logService);\n\t\tresolvedSettingsRoot.children!.unshift(commonlyUsed.tree);\n\n\t\tresolvedSettingsRoot.children!.push(resolveExtensionsSettings(dividedGroups.extension || []));\n\n\t\tif (!this.workspaceTrustManagementService.isWorkpaceTrusted() && (this.viewState.settingsTarget instanceof URI || this.viewState.settingsTarget === ConfigurationTarget.WORKSPACE)) {\n\t\t\tconst configuredUntrustedWorkspaceSettings = resolveConfiguredUntrustedSettings(groups, this.viewState.settingsTarget, this.configurationService);\n\t\t\tif (configuredUntrustedWorkspaceSettings.length) {\n\t\t\t\tresolvedSettingsRoot.children!.unshift({\n\t\t\t\t\tid: 'workspaceTrust',\n\t\t\t\t\tlabel: localize('settings require trust', \"Workspace Trust\"),\n\t\t\t\t\tsettings: configuredUntrustedWorkspaceSettings\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (this.searchResultModel) {\n\t\t\tthis.searchResultModel.updateChildren();\n\t\t}\n\n\t\tif (this.settingsTreeModel) {\n\t\t\tthis.settingsTreeModel.update(resolvedSettingsRoot);\n\n\t\t\tif (schemaChange && !!this.searchResultModel) {\n\t\t\t\t// If an extension's settings were just loaded and a search is active, retrigger the search so it shows up\n\t\t\t\treturn await this.onSearchInputChanged();\n\t\t\t}\n\n\t\t\tthis.refreshTOCTree();\n\t\t\tthis.renderTree(undefined, forceRefresh);\n\t\t} else {\n\t\t\tthis.settingsTreeModel = this.instantiationService.createInstance(SettingsTreeModel, this.viewState, this.workspaceTrustManagementService.isWorkpaceTrusted());\n\t\t\tthis.settingsTreeModel.update(resolvedSettingsRoot);\n\t\t\tthis.tocTreeModel.settingsTreeRoot = this.settingsTreeModel.root as SettingsTreeGroupElement;\n\n\t\t\tconst cachedState = this.restoreCachedState();\n\t\t\tif (cachedState && cachedState.searchQuery) {\n\t\t\t\tawait this.onSearchInputChanged();\n\t\t\t} else {\n\t\t\t\tthis.refreshTOCTree();\n\t\t\t\tthis.refreshTree();\n\t\t\t\tthis.tocTree.collapseAll();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateElementsByKey(keys: string[]): void {\n\t\tif (keys.length) {\n\t\t\tif (this.searchResultModel) {\n\t\t\t\tkeys.forEach(key => this.searchResultModel!.updateElementsByName(key));\n\t\t\t}\n\n\t\t\tif (this.settingsTreeModel) {\n\t\t\t\tkeys.forEach(key => this.settingsTreeModel.updateElementsByName(key));\n\t\t\t}\n\n\t\t\tkeys.forEach(key => this.renderTree(key));\n\t\t} else {\n\t\t\treturn this.renderTree();\n\t\t}\n\t}\n\n\tprivate getActiveControlInSettingsTree(): HTMLElement | null {\n\t\treturn (document.activeElement && DOM.isAncestor(document.activeElement, this.settingsTree.getHTMLElement())) ?\n\t\t\t<HTMLElement>document.activeElement :\n\t\t\tnull;\n\t}\n\n\tprivate renderTree(key?: string, force = false): void {\n\t\tif (!force && key && this.scheduledRefreshes.has(key)) {\n\t\t\tthis.updateModifiedLabelForKey(key);\n\t\t\treturn;\n\t\t}\n\n\t\t// If the context view is focused, delay rendering settings\n\t\tif (this.contextViewFocused()) {\n\t\t\tconst element = document.querySelector('.context-view');\n\t\t\tif (element) {\n\t\t\t\tthis.scheduleRefresh(element as HTMLElement, key);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// If a setting control is currently focused, schedule a refresh for later\n\t\tconst activeElement = this.getActiveControlInSettingsTree();\n\t\tconst focusedSetting = activeElement && this.settingRenderers.getSettingDOMElementForDOMElement(activeElement);\n\t\tif (focusedSetting && !force) {\n\t\t\t// If a single setting is being refreshed, it's ok to refresh now if that is not the focused setting\n\t\t\tif (key) {\n\t\t\t\tconst focusedKey = focusedSetting.getAttribute(AbstractSettingRenderer.SETTING_KEY_ATTR);\n\t\t\t\tif (focusedKey === key &&\n\t\t\t\t\t// update `list`s live, as they have a separate \"submit edit\" step built in before this\n\t\t\t\t\t(focusedSetting.parentElement && !focusedSetting.parentElement.classList.contains('setting-item-list'))\n\t\t\t\t) {\n\n\t\t\t\t\tthis.updateModifiedLabelForKey(key);\n\t\t\t\t\tthis.scheduleRefresh(focusedSetting, key);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.scheduleRefresh(focusedSetting);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.renderResultCountMessages();\n\n\t\tif (key) {\n\t\t\tconst elements = this.currentSettingsModel.getElementsByName(key);\n\t\t\tif (elements && elements.length) {\n\t\t\t\t// TODO https://github.com/microsoft/vscode/issues/57360\n\t\t\t\tthis.refreshTree();\n\t\t\t} else {\n\t\t\t\t// Refresh requested for a key that we don't know about\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.refreshTree();\n\t\t}\n\n\t\treturn;\n\t}\n\n\tprivate contextViewFocused(): boolean {\n\t\treturn !!DOM.findParentWithClass(<HTMLElement>document.activeElement, 'context-view');\n\t}\n\n\tprivate refreshTree(): void {\n\t\tif (this.isVisible()) {\n\t\t\tthis.settingsTree.setChildren(null, createGroupIterator(this.currentSettingsModel.root));\n\t\t}\n\t}\n\n\tprivate refreshTOCTree(): void {\n\t\tif (this.isVisible()) {\n\t\t\tthis.tocTreeModel.update();\n\t\t\tthis.tocTree.setChildren(null, createTOCIterator(this.tocTreeModel, this.tocTree));\n\t\t}\n\t}\n\n\tprivate updateModifiedLabelForKey(key: string): void {\n\t\tconst dataElements = this.currentSettingsModel.getElementsByName(key);\n\t\tconst isModified = dataElements && dataElements[0] && dataElements[0].isConfigured; // all elements are either configured or not\n\t\tconst elements = this.settingRenderers.getDOMElementsForSettingKey(this.settingsTree.getHTMLElement(), key);\n\t\tif (elements && elements[0]) {\n\t\t\telements[0].classList.toggle('is-configured', !!isModified);\n\t\t}\n\t}\n\n\tprivate async onSearchInputChanged(): Promise<void> {\n\t\tconst query = this.searchWidget.getValue().trim();\n\t\tthis.delayedFilterLogging.cancel();\n\t\tawait this.triggerSearch(query.replace(//g, ' '));\n\n\t\tif (query && this.searchResultModel) {\n\t\t\tthis.delayedFilterLogging.trigger(() => this.reportFilteringUsed(query, this.searchResultModel!.getUniqueResults()));\n\t\t}\n\t}\n\n\tprivate parseSettingFromJSON(query: string): string | null {\n\t\tconst match = query.match(/\"([a-zA-Z.]+)\": /);\n\t\treturn match && match[1];\n\t}\n\n\tprivate triggerSearch(query: string): Promise<void> {\n\t\tthis.viewState.tagFilters = new Set<string>();\n\t\tthis.viewState.extensionFilters = new Set<string>();\n\t\tthis.viewState.featureFilters = new Set<string>();\n\t\tthis.viewState.idFilters = new Set<string>();\n\t\tif (query) {\n\t\t\tconst parsedQuery = parseQuery(query);\n\t\t\tquery = parsedQuery.query;\n\t\t\tparsedQuery.tags.forEach(tag => this.viewState.tagFilters!.add(tag));\n\t\t\tparsedQuery.extensionFilters.forEach(extensionId => this.viewState.extensionFilters!.add(extensionId));\n\t\t\tparsedQuery.featureFilters!.forEach(feature => this.viewState.featureFilters!.add(feature));\n\t\t\tparsedQuery.idFilters!.forEach(id => this.viewState.idFilters!.add(id));\n\t\t}\n\n\t\tif (query && query !== '@') {\n\t\t\tquery = this.parseSettingFromJSON(query) || query;\n\t\t\treturn this.triggerFilterPreferences(query);\n\t\t} else {\n\t\t\tif (this.viewState.tagFilters.size || this.viewState.extensionFilters.size || this.viewState.featureFilters.size || this.viewState.idFilters.size) {\n\t\t\t\tthis.searchResultModel = this.createFilterModel();\n\t\t\t} else {\n\t\t\t\tthis.searchResultModel = null;\n\t\t\t}\n\n\t\t\tthis.localSearchDelayer.cancel();\n\t\t\tthis.remoteSearchThrottle.cancel();\n\t\t\tif (this.searchInProgress) {\n\t\t\t\tthis.searchInProgress.cancel();\n\t\t\t\tthis.searchInProgress.dispose();\n\t\t\t\tthis.searchInProgress = null;\n\t\t\t}\n\n\t\t\tthis.tocTree.setFocus([]);\n\t\t\tthis.viewState.filterToCategory = undefined;\n\t\t\tthis.tocTreeModel.currentSearchModel = this.searchResultModel;\n\t\t\tthis.onSearchModeToggled();\n\n\t\t\tif (this.searchResultModel) {\n\t\t\t\t// Added a filter model\n\t\t\t\tthis.tocTree.setSelection([]);\n\t\t\t\tthis.tocTree.expandAll();\n\t\t\t\tthis.refreshTOCTree();\n\t\t\t\tthis.renderResultCountMessages();\n\t\t\t\tthis.refreshTree();\n\t\t\t} else {\n\t\t\t\t// Leaving search mode\n\t\t\t\tthis.tocTree.collapseAll();\n\t\t\t\tthis.refreshTOCTree();\n\t\t\t\tthis.renderResultCountMessages();\n\t\t\t\tthis.refreshTree();\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Return a fake SearchResultModel which can hold a flat list of all settings, to be filtered (@modified etc)\n\t */\n\tprivate createFilterModel(): SearchResultModel {\n\t\tconst filterModel = this.instantiationService.createInstance(SearchResultModel, this.viewState, this.workspaceTrustManagementService.isWorkpaceTrusted());\n\n\t\tconst fullResult: ISearchResult = {\n\t\t\tfilterMatches: []\n\t\t};\n\t\tfor (const g of this.defaultSettingsEditorModel.settingsGroups.slice(1)) {\n\t\t\tfor (const sect of g.sections) {\n\t\t\t\tfor (const setting of sect.settings) {\n\t\t\t\t\tfullResult.filterMatches.push({ setting, matches: [], score: 0 });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfilterModel.setResult(0, fullResult);\n\n\t\treturn filterModel;\n\t}\n\n\tprivate reportFilteringUsed(query: string, results: ISearchResult[]): void {\n\t\tconst nlpResult = results[SearchResultIdx.Remote];\n\t\tconst nlpMetadata = nlpResult && nlpResult.metadata;\n\n\t\tconst durations = {\n\t\t\tnlpResult: nlpMetadata && nlpMetadata.duration\n\t\t};\n\n\t\t// Count unique results\n\t\tconst counts: { nlpResult?: number, filterResult?: number } = {};\n\t\tconst filterResult = results[SearchResultIdx.Local];\n\t\tif (filterResult) {\n\t\t\tcounts['filterResult'] = filterResult.filterMatches.length;\n\t\t}\n\n\t\tif (nlpResult) {\n\t\t\tcounts['nlpResult'] = nlpResult.filterMatches.length;\n\t\t}\n\n\t\tconst requestCount = nlpMetadata && nlpMetadata.requestCount;\n\n\t\tconst data = {\n\t\t\tquery,\n\t\t\tdurations,\n\t\t\tcounts,\n\t\t\trequestCount\n\t\t};\n\n\t\t/* __GDPR__\n\t\t\t\"settingsEditor.filter\" : {\n\t\t\t\t\"query\": { \"classification\": \"CustomerContent\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\"durations.nlpResult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"counts.nlpResult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"counts.filterResult\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\t\"requestCount\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog('settingsEditor.filter', data);\n\t}\n\n\tprivate triggerFilterPreferences(query: string): Promise<void> {\n\t\tif (this.searchInProgress) {\n\t\t\tthis.searchInProgress.cancel();\n\t\t\tthis.searchInProgress = null;\n\t\t}\n\n\t\t// Trigger the local search. If it didn't find an exact match, trigger the remote search.\n\t\tconst searchInProgress = this.searchInProgress = new CancellationTokenSource();\n\t\treturn this.localSearchDelayer.trigger(() => {\n\t\t\tif (searchInProgress && !searchInProgress.token.isCancellationRequested) {\n\t\t\t\treturn this.localFilterPreferences(query).then(result => {\n\t\t\t\t\tif (result && !result.exactMatch) {\n\t\t\t\t\t\tthis.remoteSearchThrottle.trigger(() => {\n\t\t\t\t\t\t\treturn searchInProgress && !searchInProgress.token.isCancellationRequested ?\n\t\t\t\t\t\t\t\tthis.remoteSearchPreferences(query, this.searchInProgress!.token) :\n\t\t\t\t\t\t\t\tPromise.resolve();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate localFilterPreferences(query: string, token?: CancellationToken): Promise<ISearchResult | null> {\n\t\tconst localSearchProvider = this.preferencesSearchService.getLocalSearchProvider(query);\n\t\treturn this.filterOrSearchPreferences(query, SearchResultIdx.Local, localSearchProvider, token);\n\t}\n\n\tprivate remoteSearchPreferences(query: string, token?: CancellationToken): Promise<void> {\n\t\tconst remoteSearchProvider = this.preferencesSearchService.getRemoteSearchProvider(query);\n\t\tconst newExtSearchProvider = this.preferencesSearchService.getRemoteSearchProvider(query, true);\n\n\t\treturn Promise.all([\n\t\t\tthis.filterOrSearchPreferences(query, SearchResultIdx.Remote, remoteSearchProvider, token),\n\t\t\tthis.filterOrSearchPreferences(query, SearchResultIdx.NewExtensions, newExtSearchProvider, token)\n\t\t]).then(() => { });\n\t}\n\n\tprivate filterOrSearchPreferences(query: string, type: SearchResultIdx, searchProvider?: ISearchProvider, token?: CancellationToken): Promise<ISearchResult | null> {\n\t\treturn this._filterOrSearchPreferencesModel(query, this.defaultSettingsEditorModel, searchProvider, token).then(result => {\n\t\t\tif (token && token.isCancellationRequested) {\n\t\t\t\t// Handle cancellation like this because cancellation is lost inside the search provider due to async/await\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!this.searchResultModel) {\n\t\t\t\tthis.searchResultModel = this.instantiationService.createInstance(SearchResultModel, this.viewState, this.workspaceTrustManagementService.isWorkpaceTrusted());\n\t\t\t\tthis.searchResultModel.setResult(type, result);\n\t\t\t\tthis.tocTreeModel.currentSearchModel = this.searchResultModel;\n\t\t\t\tthis.onSearchModeToggled();\n\t\t\t} else {\n\t\t\t\tthis.searchResultModel.setResult(type, result);\n\t\t\t\tthis.tocTreeModel.update();\n\t\t\t}\n\n\t\t\tif (type === SearchResultIdx.Local) {\n\t\t\t\tthis.tocTree.setFocus([]);\n\t\t\t\tthis.viewState.filterToCategory = undefined;\n\t\t\t\tthis.tocTree.expandAll();\n\t\t\t}\n\n\t\t\tthis.refreshTOCTree();\n\t\t\tthis.renderTree(undefined, true);\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tprivate renderResultCountMessages() {\n\t\tif (!this.currentSettingsModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.clearFilterLinkContainer.style.display = this.viewState.tagFilters && this.viewState.tagFilters.size > 0\n\t\t\t? 'initial'\n\t\t\t: 'none';\n\n\t\tif (!this.searchResultModel) {\n\t\t\tif (this.countElement.style.display !== 'none') {\n\t\t\t\tthis.searchResultLabel = null;\n\t\t\t\tthis.countElement.style.display = 'none';\n\t\t\t\tthis.layout(this.dimension);\n\t\t\t}\n\n\t\t\tthis.rootElement.classList.remove('no-results');\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.tocTreeModel && this.tocTreeModel.settingsTreeRoot) {\n\t\t\tconst count = this.tocTreeModel.settingsTreeRoot.count;\n\t\t\tlet resultString: string;\n\t\t\tswitch (count) {\n\t\t\t\tcase 0: resultString = localize('noResults', \"No Settings Found\"); break;\n\t\t\t\tcase 1: resultString = localize('oneResult', \"1 Setting Found\"); break;\n\t\t\t\tdefault: resultString = localize('moreThanOneResult', \"{0} Settings Found\", count);\n\t\t\t}\n\n\t\t\tthis.searchResultLabel = resultString;\n\t\t\tthis.updateInputAriaLabel();\n\t\t\tthis.countElement.innerText = resultString;\n\t\t\taria.status(resultString);\n\n\t\t\tif (this.countElement.style.display !== 'block') {\n\t\t\t\tthis.countElement.style.display = 'block';\n\t\t\t\tthis.layout(this.dimension);\n\t\t\t}\n\t\t\tthis.rootElement.classList.toggle('no-results', count === 0);\n\t\t}\n\t}\n\n\tprivate _filterOrSearchPreferencesModel(filter: string, model: ISettingsEditorModel, provider?: ISearchProvider, token?: CancellationToken): Promise<ISearchResult | null> {\n\t\tconst searchP = provider ? provider.searchModel(model, token) : Promise.resolve(null);\n\t\treturn searchP\n\t\t\t.then<ISearchResult, ISearchResult | null>(undefined, err => {\n\t\t\t\tif (isPromiseCanceledError(err)) {\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t} else {\n\t\t\t\t\t/* __GDPR__\n\t\t\t\t\t\t\"settingsEditor.searchError\" : {\n\t\t\t\t\t\t\t\"message\": { \"classification\": \"CallstackOrException\", \"purpose\": \"FeatureInsight\" }\n\t\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\t\tconst message = getErrorMessage(err).trim();\n\t\t\t\t\tif (message && message !== 'Error') {\n\t\t\t\t\t\t// \"Error\" = any generic network error\n\t\t\t\t\t\tthis.telemetryService.publicLogError('settingsEditor.searchError', { message });\n\t\t\t\t\t\tthis.logService.info('Setting search error: ' + message);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate layoutTrees(dimension: DOM.Dimension): void {\n\t\tconst listHeight = dimension.height - (72 + 11 /* header height + editor padding */);\n\t\tconst settingsTreeHeight = listHeight - 14;\n\t\tthis.settingsTreeContainer.style.height = `${settingsTreeHeight}px`;\n\t\tthis.settingsTree.layout(settingsTreeHeight, dimension.width);\n\n\t\tconst tocTreeHeight = settingsTreeHeight - 1;\n\t\tthis.tocTreeContainer.style.height = `${tocTreeHeight}px`;\n\t\tthis.tocTree.layout(tocTreeHeight);\n\t}\n\n\tprotected override saveState(): void {\n\t\tif (this.isVisible()) {\n\t\t\tconst searchQuery = this.searchWidget.getValue().trim();\n\t\t\tconst target = this.settingsTargetsWidget.settingsTarget as SettingsTarget;\n\t\t\tif (this.group && this.input) {\n\t\t\t\tthis.editorMemento.saveEditorState(this.group, this.input, { searchQuery, target });\n\t\t\t}\n\t\t}\n\n\t\tsuper.saveState();\n\t}\n}\n\nclass SyncControls extends Disposable {\n\tprivate readonly lastSyncedLabel!: HTMLElement;\n\tprivate readonly turnOnSyncButton!: Button;\n\n\tprivate readonly _onDidChangeLastSyncedLabel = this._register(new Emitter<string>());\n\tpublic readonly onDidChangeLastSyncedLabel = this._onDidChangeLastSyncedLabel.event;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IUserDataSyncService private readonly userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IThemeService themeService: IThemeService,\n\t) {\n\t\tsuper();\n\n\t\tconst headerRightControlsContainer = DOM.append(container, $('.settings-right-controls'));\n\t\tconst turnOnSyncButtonContainer = DOM.append(headerRightControlsContainer, $('.turn-on-sync'));\n\t\tthis.turnOnSyncButton = this._register(new Button(turnOnSyncButtonContainer, { title: true }));\n\t\tthis._register(attachButtonStyler(this.turnOnSyncButton, themeService));\n\t\tthis.lastSyncedLabel = DOM.append(headerRightControlsContainer, $('.last-synced-label'));\n\t\tDOM.hide(this.lastSyncedLabel);\n\n\t\tthis.turnOnSyncButton.enabled = true;\n\t\tthis.turnOnSyncButton.label = localize('turnOnSyncButton', \"Turn on Settings Sync\");\n\t\tDOM.hide(this.turnOnSyncButton.element);\n\n\t\tthis._register(this.turnOnSyncButton.onDidClick(async () => {\n\t\t\tawait this.commandService.executeCommand('workbench.userDataSync.actions.turnOn');\n\t\t}));\n\n\t\tthis.updateLastSyncedTime();\n\t\tthis._register(this.userDataSyncService.onDidChangeLastSyncTime(() => {\n\t\t\tthis.updateLastSyncedTime();\n\t\t}));\n\n\t\tconst updateLastSyncedTimer = this._register(new IntervalTimer());\n\t\tupdateLastSyncedTimer.cancelAndSet(() => this.updateLastSyncedTime(), 60 * 1000);\n\n\t\tthis.update();\n\t\tthis._register(this.userDataSyncService.onDidChangeStatus(() => {\n\t\t\tthis.update();\n\t\t}));\n\n\t\tthis._register(this.userDataAutoSyncEnablementService.onDidChangeEnablement(() => {\n\t\t\tthis.update();\n\t\t}));\n\t}\n\n\tprivate updateLastSyncedTime(): void {\n\t\tconst last = this.userDataSyncService.lastSyncTime;\n\t\tlet label: string;\n\t\tif (typeof last === 'number') {\n\t\t\tconst d = fromNow(last, true);\n\t\t\tlabel = localize('lastSyncedLabel', \"Last synced: {0}\", d);\n\t\t} else {\n\t\t\tlabel = '';\n\t\t}\n\n\t\tthis.lastSyncedLabel.textContent = label;\n\t\tthis._onDidChangeLastSyncedLabel.fire(label);\n\t}\n\n\tprivate update(): void {\n\t\tif (this.userDataSyncService.status === SyncStatus.Uninitialized) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.userDataAutoSyncEnablementService.isEnabled() || this.userDataSyncService.status !== SyncStatus.Idle) {\n\t\t\tDOM.show(this.lastSyncedLabel);\n\t\t\tDOM.hide(this.turnOnSyncButton.element);\n\t\t} else {\n\t\t\tDOM.hide(this.lastSyncedLabel);\n\t\t\tDOM.show(this.turnOnSyncButton.element);\n\t\t}\n\t}\n}\n\ninterface ISettingsEditor2State {\n\tsearchQuery: string;\n\ttarget: SettingsTarget;\n}\n"]}