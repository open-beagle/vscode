{"version":3,"sources":["vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek.ts"],"names":[],"mappings":"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","file":"callHierarchyPeek.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/callHierarchy';\nimport * as peekView from 'vs/editor/contrib/peekView/peekView';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { CallHierarchyDirection, CallHierarchyModel } from 'vs/workbench/contrib/callHierarchy/common/callHierarchy';\nimport { WorkbenchAsyncDataTree, IWorkbenchAsyncDataTreeOptions } from 'vs/platform/list/browser/listService';\nimport { FuzzyScore } from 'vs/base/common/filters';\nimport * as callHTree from 'vs/workbench/contrib/callHierarchy/browser/callHierarchyTree';\nimport { IAsyncDataTreeViewState } from 'vs/base/browser/ui/tree/asyncDataTree';\nimport { localize } from 'vs/nls';\nimport { ScrollType } from 'vs/editor/common/editorCommon';\nimport { IRange, Range } from 'vs/editor/common/core/range';\nimport { SplitView, Orientation, Sizing } from 'vs/base/browser/ui/splitview/splitview';\nimport { Dimension } from 'vs/base/browser/dom';\nimport { Event } from 'vs/base/common/event';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { EmbeddedCodeEditorWidget } from 'vs/editor/browser/widget/embeddedCodeEditorWidget';\nimport { IEditorOptions } from 'vs/editor/common/config/editorOptions';\nimport { ITextModelService } from 'vs/editor/common/services/resolverService';\nimport { toDisposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { TrackedRangeStickiness, IModelDeltaDecoration, IModelDecorationOptions, OverviewRulerLane } from 'vs/editor/common/model';\nimport { registerThemingParticipant, themeColorFromId, IThemeService, IColorTheme } from 'vs/platform/theme/common/themeService';\nimport { IPosition } from 'vs/editor/common/core/position';\nimport { IAction } from 'vs/base/common/actions';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { Color } from 'vs/base/common/color';\nimport { TreeMouseEventTarget, ITreeNode } from 'vs/base/browser/ui/tree/tree';\nimport { URI } from 'vs/base/common/uri';\nimport { MenuId, IMenuService } from 'vs/platform/actions/common/actions';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { createAndFillInActionBarActions } from 'vs/platform/actions/browser/menuEntryActionViewItem';\n\nconst enum State {\n\tLoading = 'loading',\n\tMessage = 'message',\n\tData = 'data'\n}\n\nclass LayoutInfo {\n\n\tstatic store(info: LayoutInfo, storageService: IStorageService): void {\n\t\tstorageService.store('callHierarchyPeekLayout', JSON.stringify(info), StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t}\n\n\tstatic retrieve(storageService: IStorageService): LayoutInfo {\n\t\tconst value = storageService.get('callHierarchyPeekLayout', StorageScope.GLOBAL, '{}');\n\t\tconst defaultInfo: LayoutInfo = { ratio: 0.7, height: 17 };\n\t\ttry {\n\t\t\treturn { ...defaultInfo, ...JSON.parse(value) };\n\t\t} catch {\n\t\t\treturn defaultInfo;\n\t\t}\n\t}\n\n\tconstructor(\n\t\tpublic ratio: number,\n\t\tpublic height: number\n\t) { }\n}\n\nclass CallHierarchyTree extends WorkbenchAsyncDataTree<CallHierarchyModel, callHTree.Call, FuzzyScore>{ }\n\nexport class CallHierarchyTreePeekWidget extends peekView.PeekViewWidget {\n\n\tstatic readonly TitleMenu = new MenuId('callhierarchy/title');\n\n\tprivate _parent!: HTMLElement;\n\tprivate _message!: HTMLElement;\n\tprivate _splitView!: SplitView;\n\tprivate _tree!: CallHierarchyTree;\n\tprivate _treeViewStates = new Map<CallHierarchyDirection, IAsyncDataTreeViewState>();\n\tprivate _editor!: EmbeddedCodeEditorWidget;\n\tprivate _dim!: Dimension;\n\tprivate _layoutInfo!: LayoutInfo;\n\n\tprivate readonly _previewDisposable = new DisposableStore();\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tprivate readonly _where: IPosition,\n\t\tprivate _direction: CallHierarchyDirection,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@peekView.IPeekViewService private readonly _peekViewService: peekView.IPeekViewService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ITextModelService private readonly _textModelService: ITextModelService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(editor, { showFrame: true, showArrow: true, isResizeable: true, isAccessible: true }, _instantiationService);\n\t\tthis.create();\n\t\tthis._peekViewService.addExclusiveWidget(editor, this);\n\t\tthis._applyTheme(themeService.getColorTheme());\n\t\tthis._disposables.add(themeService.onDidColorThemeChange(this._applyTheme, this));\n\t\tthis._disposables.add(this._previewDisposable);\n\t}\n\n\toverride dispose(): void {\n\t\tLayoutInfo.store(this._layoutInfo, this._storageService);\n\t\tthis._splitView.dispose();\n\t\tthis._tree.dispose();\n\t\tthis._editor.dispose();\n\t\tsuper.dispose();\n\t}\n\n\tget direction(): CallHierarchyDirection {\n\t\treturn this._direction;\n\t}\n\n\tprivate _applyTheme(theme: IColorTheme) {\n\t\tconst borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\n\t\tthis.style({\n\t\t\tarrowColor: borderColor,\n\t\t\tframeColor: borderColor,\n\t\t\theaderBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\n\t\t\tprimaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\n\t\t\tsecondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\n\t\t});\n\t}\n\n\tprotected override _fillHead(container: HTMLElement): void {\n\t\tsuper._fillHead(container, true);\n\n\t\tconst menu = this._menuService.createMenu(CallHierarchyTreePeekWidget.TitleMenu, this._contextKeyService);\n\t\tconst updateToolbar = () => {\n\t\t\tconst actions: IAction[] = [];\n\t\t\tcreateAndFillInActionBarActions(menu, undefined, actions);\n\t\t\tthis._actionbarWidget!.clear();\n\t\t\tthis._actionbarWidget!.push(actions, { label: false, icon: true });\n\t\t};\n\t\tthis._disposables.add(menu);\n\t\tthis._disposables.add(menu.onDidChange(updateToolbar));\n\t\tupdateToolbar();\n\t}\n\n\tprotected _fillBody(parent: HTMLElement): void {\n\n\t\tthis._layoutInfo = LayoutInfo.retrieve(this._storageService);\n\t\tthis._dim = new Dimension(0, 0);\n\n\t\tthis._parent = parent;\n\t\tparent.classList.add('call-hierarchy');\n\n\t\tconst message = document.createElement('div');\n\t\tmessage.classList.add('message');\n\t\tparent.appendChild(message);\n\t\tthis._message = message;\n\t\tthis._message.tabIndex = 0;\n\n\t\tconst container = document.createElement('div');\n\t\tcontainer.classList.add('results');\n\t\tparent.appendChild(container);\n\n\t\tthis._splitView = new SplitView(container, { orientation: Orientation.HORIZONTAL });\n\n\t\t// editor stuff\n\t\tconst editorContainer = document.createElement('div');\n\t\teditorContainer.classList.add('editor');\n\t\tcontainer.appendChild(editorContainer);\n\t\tlet editorOptions: IEditorOptions = {\n\t\t\tscrollBeyondLastLine: false,\n\t\t\tscrollbar: {\n\t\t\t\tverticalScrollbarSize: 14,\n\t\t\t\thorizontal: 'auto',\n\t\t\t\tuseShadows: true,\n\t\t\t\tverticalHasArrows: false,\n\t\t\t\thorizontalHasArrows: false,\n\t\t\t\talwaysConsumeMouseWheel: false\n\t\t\t},\n\t\t\toverviewRulerLanes: 2,\n\t\t\tfixedOverflowWidgets: true,\n\t\t\tminimap: {\n\t\t\t\tenabled: false\n\t\t\t}\n\t\t};\n\t\tthis._editor = this._instantiationService.createInstance(\n\t\t\tEmbeddedCodeEditorWidget,\n\t\t\teditorContainer,\n\t\t\teditorOptions,\n\t\t\tthis.editor\n\t\t);\n\n\t\t// tree stuff\n\t\tconst treeContainer = document.createElement('div');\n\t\ttreeContainer.classList.add('tree');\n\t\tcontainer.appendChild(treeContainer);\n\t\tconst options: IWorkbenchAsyncDataTreeOptions<callHTree.Call, FuzzyScore> = {\n\t\t\tsorter: new callHTree.Sorter(),\n\t\t\taccessibilityProvider: new callHTree.AccessibilityProvider(() => this._direction),\n\t\t\tidentityProvider: new callHTree.IdentityProvider(() => this._direction),\n\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: peekView.peekViewResultsBackground\n\t\t\t}\n\t\t};\n\t\tthis._tree = this._instantiationService.createInstance(\n\t\t\tCallHierarchyTree,\n\t\t\t'CallHierarchyPeek',\n\t\t\ttreeContainer,\n\t\t\tnew callHTree.VirtualDelegate(),\n\t\t\t[this._instantiationService.createInstance(callHTree.CallRenderer)],\n\t\t\tthis._instantiationService.createInstance(callHTree.DataSource, () => this._direction),\n\t\t\toptions\n\t\t);\n\n\t\t// split stuff\n\t\tthis._splitView.addView({\n\t\t\tonDidChange: Event.None,\n\t\t\telement: editorContainer,\n\t\t\tminimumSize: 200,\n\t\t\tmaximumSize: Number.MAX_VALUE,\n\t\t\tlayout: (width) => {\n\t\t\t\tif (this._dim.height) {\n\t\t\t\t\tthis._editor.layout({ height: this._dim.height, width });\n\t\t\t\t}\n\t\t\t}\n\t\t}, Sizing.Distribute);\n\n\t\tthis._splitView.addView({\n\t\t\tonDidChange: Event.None,\n\t\t\telement: treeContainer,\n\t\t\tminimumSize: 100,\n\t\t\tmaximumSize: Number.MAX_VALUE,\n\t\t\tlayout: (width) => {\n\t\t\t\tif (this._dim.height) {\n\t\t\t\t\tthis._tree.layout(this._dim.height, width);\n\t\t\t\t}\n\t\t\t}\n\t\t}, Sizing.Distribute);\n\n\t\tthis._disposables.add(this._splitView.onDidSashChange(() => {\n\t\t\tif (this._dim.width) {\n\t\t\t\tthis._layoutInfo.ratio = this._splitView.getViewSize(0) / this._dim.width;\n\t\t\t}\n\t\t}));\n\n\t\t// update editor\n\t\tthis._disposables.add(this._tree.onDidChangeFocus(this._updatePreview, this));\n\n\t\tthis._disposables.add(this._editor.onMouseDown(e => {\n\t\t\tconst { event, target } = e;\n\t\t\tif (event.detail !== 2) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst [focus] = this._tree.getFocus();\n\t\t\tif (!focus) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.dispose();\n\t\t\tthis._editorService.openEditor({\n\t\t\t\tresource: focus.item.uri,\n\t\t\t\toptions: { selection: target.range! }\n\t\t\t});\n\n\t\t}));\n\n\t\tthis._disposables.add(this._tree.onMouseDblClick(e => {\n\t\t\tif (e.target === TreeMouseEventTarget.Twistie) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.element) {\n\t\t\t\tthis.dispose();\n\t\t\t\tthis._editorService.openEditor({\n\t\t\t\t\tresource: e.element.item.uri,\n\t\t\t\t\toptions: { selection: e.element.item.selectionRange, pinned: true }\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(this._tree.onDidChangeSelection(e => {\n\t\t\tconst [element] = e.elements;\n\t\t\t// don't close on click\n\t\t\tif (element && e.browserEvent instanceof KeyboardEvent) {\n\t\t\t\tthis.dispose();\n\t\t\t\tthis._editorService.openEditor({\n\t\t\t\t\tresource: element.item.uri,\n\t\t\t\t\toptions: { selection: element.item.selectionRange, pinned: true }\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async _updatePreview() {\n\t\tconst [element] = this._tree.getFocus();\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._previewDisposable.clear();\n\n\t\t// update: editor and editor highlights\n\t\tconst options: IModelDecorationOptions = {\n\t\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\t\tclassName: 'call-decoration',\n\t\t\toverviewRuler: {\n\t\t\t\tcolor: themeColorFromId(peekView.peekViewEditorMatchHighlight),\n\t\t\t\tposition: OverviewRulerLane.Center\n\t\t\t},\n\t\t};\n\n\t\tlet previewUri: URI;\n\t\tif (this._direction === CallHierarchyDirection.CallsFrom) {\n\t\t\t// outgoing calls: show caller and highlight focused calls\n\t\t\tpreviewUri = element.parent ? element.parent.item.uri : element.model.root.uri;\n\n\t\t} else {\n\t\t\t// incoming calls: show caller and highlight focused calls\n\t\t\tpreviewUri = element.item.uri;\n\t\t}\n\n\t\tconst value = await this._textModelService.createModelReference(previewUri);\n\t\tthis._editor.setModel(value.object.textEditorModel);\n\n\t\t// set decorations for caller ranges (if in the same file)\n\t\tlet decorations: IModelDeltaDecoration[] = [];\n\t\tlet fullRange: IRange | undefined;\n\t\tlet locations = element.locations;\n\t\tif (!locations) {\n\t\t\tlocations = [{ uri: element.item.uri, range: element.item.selectionRange }];\n\t\t}\n\t\tfor (const loc of locations) {\n\t\t\tif (loc.uri.toString() === previewUri.toString()) {\n\t\t\t\tdecorations.push({ range: loc.range, options });\n\t\t\t\tfullRange = !fullRange ? loc.range : Range.plusRange(loc.range, fullRange);\n\t\t\t}\n\t\t}\n\t\tif (fullRange) {\n\t\t\tthis._editor.revealRangeInCenter(fullRange, ScrollType.Immediate);\n\t\t\tconst ids = this._editor.deltaDecorations([], decorations);\n\t\t\tthis._previewDisposable.add(toDisposable(() => this._editor.deltaDecorations(ids, [])));\n\t\t}\n\t\tthis._previewDisposable.add(value);\n\n\t\t// update: title\n\t\tconst title = this._direction === CallHierarchyDirection.CallsFrom\n\t\t\t? localize('callFrom', \"Calls from '{0}'\", element.model.root.name)\n\t\t\t: localize('callsTo', \"Callers of '{0}'\", element.model.root.name);\n\t\tthis.setTitle(title);\n\t}\n\n\tshowLoading(): void {\n\t\tthis._parent.dataset['state'] = State.Loading;\n\t\tthis.setTitle(localize('title.loading', \"Loading...\"));\n\t\tthis._show();\n\t}\n\n\tshowMessage(message: string): void {\n\t\tthis._parent.dataset['state'] = State.Message;\n\t\tthis.setTitle('');\n\t\tthis.setMetaTitle('');\n\t\tthis._message.innerText = message;\n\t\tthis._show();\n\t\tthis._message.focus();\n\t}\n\n\tasync showModel(model: CallHierarchyModel): Promise<void> {\n\n\t\tthis._show();\n\t\tconst viewState = this._treeViewStates.get(this._direction);\n\n\t\tawait this._tree.setInput(model, viewState);\n\n\t\tconst root = <ITreeNode<callHTree.Call>>this._tree.getNode(model).children[0];\n\t\tawait this._tree.expand(root.element);\n\n\t\tif (root.children.length === 0) {\n\t\t\t//\n\t\t\tthis.showMessage(this._direction === CallHierarchyDirection.CallsFrom\n\t\t\t\t? localize('empt.callsFrom', \"No calls from '{0}'\", model.root.name)\n\t\t\t\t: localize('empt.callsTo', \"No callers of '{0}'\", model.root.name));\n\n\t\t} else {\n\t\t\tthis._parent.dataset['state'] = State.Data;\n\t\t\tif (!viewState || this._tree.getFocus().length === 0) {\n\t\t\t\tthis._tree.setFocus([root.children[0].element]);\n\t\t\t}\n\t\t\tthis._tree.domFocus();\n\t\t\tthis._updatePreview();\n\t\t}\n\t}\n\n\tgetModel(): CallHierarchyModel | undefined {\n\t\treturn this._tree.getInput();\n\t}\n\n\tgetFocused(): callHTree.Call | undefined {\n\t\treturn this._tree.getFocus()[0];\n\t}\n\n\tasync updateDirection(newDirection: CallHierarchyDirection): Promise<void> {\n\t\tconst model = this._tree.getInput();\n\t\tif (model && newDirection !== this._direction) {\n\t\t\tthis._treeViewStates.set(this._direction, this._tree.getViewState());\n\t\t\tthis._direction = newDirection;\n\t\t\tawait this.showModel(model);\n\t\t}\n\t}\n\n\tprivate _show() {\n\t\tif (!this._isShowing) {\n\t\t\tthis.editor.revealLineInCenterIfOutsideViewport(this._where.lineNumber, ScrollType.Smooth);\n\t\t\tsuper.show(Range.fromPositions(this._where), this._layoutInfo.height);\n\t\t}\n\t}\n\n\tprotected override _onWidth(width: number) {\n\t\tif (this._dim) {\n\t\t\tthis._doLayoutBody(this._dim.height, width);\n\t\t}\n\t}\n\n\tprotected override _doLayoutBody(height: number, width: number): void {\n\t\tif (this._dim.height !== height || this._dim.width !== width) {\n\t\t\tsuper._doLayoutBody(height, width);\n\t\t\tthis._dim = new Dimension(width, height);\n\t\t\tthis._layoutInfo.height = this._viewZone ? this._viewZone.heightInLines : this._layoutInfo.height;\n\t\t\tthis._splitView.layout(width);\n\t\t\tthis._splitView.resizeView(0, width * this._layoutInfo.ratio);\n\t\t}\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst referenceHighlightColor = theme.getColor(peekView.peekViewEditorMatchHighlight);\n\tif (referenceHighlightColor) {\n\t\tcollector.addRule(`.monaco-editor .call-hierarchy .call-decoration { background-color: ${referenceHighlightColor}; }`);\n\t}\n\tconst referenceHighlightBorder = theme.getColor(peekView.peekViewEditorMatchHighlightBorder);\n\tif (referenceHighlightBorder) {\n\t\tcollector.addRule(`.monaco-editor .call-hierarchy .call-decoration { border: 2px solid ${referenceHighlightBorder}; box-sizing: border-box; }`);\n\t}\n\tconst resultsBackground = theme.getColor(peekView.peekViewResultsBackground);\n\tif (resultsBackground) {\n\t\tcollector.addRule(`.monaco-editor .call-hierarchy .tree { background-color: ${resultsBackground}; }`);\n\t}\n\tconst resultsMatchForeground = theme.getColor(peekView.peekViewResultsFileForeground);\n\tif (resultsMatchForeground) {\n\t\tcollector.addRule(`.monaco-editor .call-hierarchy .tree { color: ${resultsMatchForeground}; }`);\n\t}\n\tconst resultsSelectedBackground = theme.getColor(peekView.peekViewResultsSelectionBackground);\n\tif (resultsSelectedBackground) {\n\t\tcollector.addRule(`.monaco-editor .call-hierarchy .tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${resultsSelectedBackground}; }`);\n\t}\n\tconst resultsSelectedForeground = theme.getColor(peekView.peekViewResultsSelectionForeground);\n\tif (resultsSelectedForeground) {\n\t\tcollector.addRule(`.monaco-editor .call-hierarchy .tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${resultsSelectedForeground} !important; }`);\n\t}\n\tconst editorBackground = theme.getColor(peekView.peekViewEditorBackground);\n\tif (editorBackground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor .call-hierarchy .editor .monaco-editor .monaco-editor-background,` +\n\t\t\t`.monaco-editor .call-hierarchy .editor .monaco-editor .inputarea.ime-input {` +\n\t\t\t`\tbackground-color: ${editorBackground};` +\n\t\t\t`}`\n\t\t);\n\t}\n\tconst editorGutterBackground = theme.getColor(peekView.peekViewEditorGutterBackground);\n\tif (editorGutterBackground) {\n\t\tcollector.addRule(\n\t\t\t`.monaco-editor .call-hierarchy .editor .monaco-editor .margin {` +\n\t\t\t`\tbackground-color: ${editorGutterBackground};` +\n\t\t\t`}`\n\t\t);\n\t}\n});\n"]}