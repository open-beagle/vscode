{"version":3,"sources":["vs/workbench/contrib/performance/browser/perfviewEditor.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;;;IA0BhG,IAAa,eAAe,GAA5B,MAAa,eAAe;QAI3B,YACwB,YAAmC,EACvC,wBAA2C;YAE9D,IAAI,CAAC,aAAa,GAAG,wBAAwB,CAAC,gCAAgC,CAAC,MAAM,EAAE,YAAY,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC,CAAC;QAC/I,CAAC;QAED,OAAO;YACN,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC9B,CAAC;KACD,CAAA;IAdY,eAAe;QAKzB,WAAA,qCAAqB,CAAA;QACrB,WAAA,mCAAiB,CAAA;OANP,eAAe,CAc3B;IAdY,0CAAe;IAgB5B,IAAa,aAAa,GAA1B,MAAa,aAAc,SAAQ,yCAAmB;QASrD,YACoB,wBAA2C,EAC5C,eAAiC,EACnC,aAA6B,EACvB,kBAAwC,EAChD,WAAyB,EACxB,YAA2B,EACd,yBAAqD;YAEjF,KAAK,CACJ,aAAa,CAAC,GAAG,EACjB,CAAA,GAAA,cAAQ,CAAA,CAAC,CAAM,EAAE,IAAqB,CAAC,EACvC,SAAS,EACT,SAAS,EACT,wBAAwB,EACxB,eAAe,EACf,aAAa,EACb,kBAAkB,EAClB,WAAW,EACX,YAAY,EACZ,yBAAyB,CACzB,CAAC;QACH,CAAC;QA1BD,IAAa,MAAM;YAClB,OAAO,aAAa,CAAC,EAAE,CAAC;QACzB,CAAC;KAyBD,CAAA;IA9BgB,gBAAE,GAAG,eAAe,CAAC;IACrB,iBAAG,GAAG,SAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,qBAAqB,EAAE,CAAC,CAAC;IAHpE,aAAa;QAUvB,WAAA,mCAAiB,CAAA;QACjB,WAAA,4BAAgB,CAAA;QAChB,WAAA,8BAAc,CAAA;QACd,WAAA,0CAAoB,CAAA;QACpB,WAAA,oBAAY,CAAA;QACZ,WAAA,qBAAa,CAAA;QACb,WAAA,sDAA0B,CAAA;OAhBhB,aAAa,CAgCzB;IAhCY,sCAAa;IAkC1B,IAAM,wBAAwB,GAA9B,MAAM,wBAAwB;QAK7B,YACiC,aAA4B,EAC7B,YAA0B,EACpB,cAAkC,EACnC,iBAAoC,EACxC,aAA4B,EACxB,iBAAoC,EACtC,eAAgC;YANlC,kBAAa,GAAb,aAAa,CAAe;YAC7B,iBAAY,GAAZ,YAAY,CAAc;YACpB,mBAAc,GAAd,cAAc,CAAoB;YACnC,sBAAiB,GAAjB,iBAAiB,CAAmB;YACxC,kBAAa,GAAb,aAAa,CAAe;YACxB,sBAAiB,GAAjB,iBAAiB,CAAmB;YACtC,oBAAe,GAAf,eAAe,CAAiB;YAT3D,sBAAiB,GAAkB,EAAE,CAAC;QAU1C,CAAC;QAEL,kBAAkB,CAAC,QAAa;YAE/B,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE;gBAC7C,CAAA,GAAA,mBAAO,CAAA,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAChC,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBACpD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,YAAY,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;gBAEtH,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;oBAClD,IAAI,IAAI,CAAC,MAAM,EAAE;wBAChB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;qBACvB;gBACF,CAAC,CAAC,CAAC,CAAC;gBACJ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,2BAA2B,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;gBAEzG,CAAA,GAAA,oCAAmB,CAAA,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,gBAAgB,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;aACnF;YACD,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrC,CAAC;QAEO,YAAY;YAEnB,OAAO,CAAC,GAAG,CAAC;gBACX,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,oBAA2B;gBACtD,IAAI,CAAC,iBAAiB,CAAC,iCAAiC,EAAE;aAC1D,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBACZ,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE;oBAE7C,IAAI,KAAK,GAAG,iBAAW,CAAC,GAAG,EAAE,CAAC;oBAC9B,IAAI,EAAE,GAAG,IAAI,eAAe,EAAE,CAAC;oBAC/B,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;oBACrB,EAAE,CAAC,KAAK,EAAE,CAAC;oBACX,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;oBACjC,EAAE,CAAC,KAAK,EAAE,CAAC;oBACX,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;oBAC7B,EAAE,CAAC,KAAK,EAAE,CAAC;oBACX,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;oBAC1B,EAAE,CAAC,KAAK,EAAE,CAAC;oBACX,mCAAmC;oBACnC,cAAc;oBACd,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;oBAE7B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;iBAC/B;YACF,CAAC,CAAC,CAAC;QAEJ,CAAC;QAEO,WAAW,CAAC,EAAmB;YACtC,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;YAClD,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;YAC7B,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,KAAK,IAAI,CAAC,eAAe,CAAC,OAAO,KAAK,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,SAAS,GAAG,CAAC,CAAC;YAC1H,EAAE,CAAC,EAAE,CAAC,OAAO,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;YACrD,IAAI,OAAO,CAAC,IAAI,EAAE;gBACjB,EAAE,CAAC,EAAE,CAAC,SAAS,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,MAAM,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;aACpF;YACD,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,OAAO,KAAK,QAAQ,EAAE;gBAChF,EAAE,CAAC,EAAE,CAAC,mBAAmB,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,gBAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,gBAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;aACrI;YACD,IAAI,OAAO,CAAC,OAAO,EAAE;gBACpB,EAAE,CAAC,EAAE,CAAC,oBAAoB,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,GAAG,gBAAQ,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,GAAG,gBAAQ,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,GAAG,gBAAQ,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;aAChP;YACD,EAAE,CAAC,EAAE,CAAC,mBAAmB,OAAO,CAAC,cAAc,GAAG,CAAC,CAAC;YACpD,EAAE,CAAC,EAAE,CAAC,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC;YACpD,EAAE,CAAC,EAAE,CAAC,OAAO,OAAO,CAAC,WAAW,GAAG,CAAC,gBAAgB,CAAC,CAAC;YACtD,EAAE,CAAC,EAAE,CAAC,yBAAyB,OAAO,CAAC,uBAAuB,EAAE,CAAC,CAAC;YAClE,EAAE,CAAC,EAAE,CAAC,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC;QACrD,CAAC;QAEO,gBAAgB,CAAC,EAAmB,EAAE,KAAmB;YAEhE,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;YAClD,MAAM,KAAK,GAA8C,EAAE,CAAC;YAC5D,KAAK,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YAC9H,KAAK,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACnI,KAAK,CAAC,IAAI,CAAC,CAAC,yBAAyB,EAAE,OAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACvI,KAAK,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACnI,KAAK,CAAC,IAAI,CAAC,CAAC,uBAAuB,EAAE,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACjI,KAAK,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,OAAO,CAAC,MAAM,CAAC,oBAAoB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,KAAK,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,UAAU,OAAO,CAAC,MAAM,CAAC,0BAA0B,eAAe,OAAO,CAAC,MAAM,CAAC,2BAA2B,aAAa,OAAO,CAAC,MAAM,CAAC,sBAAsB,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAChU,KAAK,CAAC,IAAI,CAAC,CAAC,iCAAiC,EAAE,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,QAAQ,EAAE,oBAAoB,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YAC3I,KAAK,CAAC,IAAI,CAAC,CAAC,iEAAiE,EAAE,OAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,kBAAkB,EAAE,CAAA,GAAA,+BAAmB,CAAA,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACzL,KAAK,CAAC,IAAI,CAAC,CAAC,oCAAoC,EAAE,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,YAAY,EAAE,gBAAgB,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,uBAAuB,KAAK,CAAC,gBAAgB,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC/N,KAAK,CAAC,IAAI,CAAC,CAAC,wBAAwB,EAAE,OAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YAC5G,KAAK,CAAC,IAAI,CAAC,CAAC,4BAA4B,EAAE,OAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YAC5G,KAAK,CAAC,IAAI,CAAC,CAAC,mCAAmC,EAAE,OAAO,CAAC,MAAM,CAAC,mBAAmB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YAC/G,KAAK,CAAC,IAAI,CAAC,CAAC,wBAAwB,EAAE,OAAO,CAAC,MAAM,CAAC,4BAA4B,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YAC7G,IAAI,gBAAK,EAAE;gBACV,KAAK,CAAC,IAAI,CAAC,CAAC,2DAA2D,EAAE,OAAO,CAAC,MAAM,CAAC,4BAA4B,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;gBAChJ,KAAK,CAAC,IAAI,CAAC,CAAC,oEAAoE,EAAE,OAAO,CAAC,MAAM,CAAC,yBAAyB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;aACtJ;YACD,KAAK,CAAC,IAAI,CAAC,CAAC,4CAA4C,EAAE,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YACvH,KAAK,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,OAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,YAAY,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACxG,KAAK,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,OAAO,CAAC,MAAM,CAAC,oBAAoB,EAAE,YAAY,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAClG,KAAK,CAAC,IAAI,CAAC,CAAC,mCAAmC,EAAE,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,SAAS,CAAC,MAAM,KAAK,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YACtK,KAAK,CAAC,IAAI,CAAC,CAAC,wBAAwB,EAAE,OAAO,CAAC,MAAM,CAAC,iBAAiB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YAClG,KAAK,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAAC,CAAC;YACjF,KAAK,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YACzF,KAAK,CAAC,IAAI,CAAC,CAAC,iCAAiC,EAAE,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,2BAA2B,EAAE,SAAS,CAAC,CAAC,CAAC;YACtI,KAAK,CAAC,IAAI,CAAC,CAAC,uBAAuB,EAAE,OAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC;YAEvG,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,mBAAmB,CAAC,CAAC;YACnC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC;QAEO,mBAAmB,CAAC,EAAmB;YAE9C,MAAM,KAAK,GAAiC,EAAE,CAAC;YAC/C,MAAM,MAAM,GAAiC,EAAE,CAAC;YAChD,IAAI,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;YACpE,KAAK,IAAI,EAAE,IAAI,gBAAgB,EAAE;gBAChC,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBACxD,IAAI,CAAC,KAAK,EAAE;oBACX,SAAS;iBACT;gBACD,IAAI,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE;oBACnC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,gBAAgB,CAAC,eAAe,EAAE,KAAK,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC9M;qBAAM;oBACN,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,gBAAgB,CAAC,eAAe,EAAE,KAAK,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC/M;aACD;YAED,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACnC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,4BAA4B,CAAC,CAAC;gBAC5C,EAAE,CAAC,KAAK,CACP,CAAC,WAAW,EAAE,OAAO,EAAE,WAAW,EAAE,eAAe,EAAE,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,EACtF,KAAK,CACL,CAAC;aACF;QACF,CAAC;QAEO,gBAAgB,CAAC,EAAmB;YAE3C,KAAK,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,EAAE;gBACrE,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,mBAAmB,MAAM,EAAE,CAAC,CAAC;gBAC3C,EAAE,CAAC,KAAK,IAAI,OAAO,CAAC;gBACpB,EAAE,CAAC,KAAK,IAAI,iCAAiC,CAAC;gBAC9C,IAAI,aAAa,GAAG,CAAC,CAAC,CAAC;gBACvB,IAAI,KAAK,GAAG,CAAC,CAAC;gBACd,KAAK,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,KAAK,EAAE;oBACxC,IAAI,KAAK,GAAG,aAAa,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjE,KAAK,IAAI,KAAK,CAAC;oBACf,EAAE,CAAC,KAAK,IAAI,GAAG,IAAI,KAAK,SAAS,KAAK,KAAK,KAAK,KAAK,IAAI,CAAC;oBAC1D,aAAa,GAAG,SAAS,CAAC;iBAC1B;gBACD,EAAE,CAAC,KAAK,IAAI,OAAO,CAAC;aACpB;QACF,CAAC;QAED,2EAA2E;QAC3E,kCAAkC;QAClC,qCAAqC;QACrC,oDAAoD;QACpD,eAAe;QACf,0CAA0C;QAC1C,wDAAwD;QACxD,eAAe;QACf,+CAA+C;QAC/C,sDAAsD;QACtD,eAAe;QACf,4CAA4C;QAC5C,qDAAqD;QACrD,IAAI;QAEI,mBAAmB,CAAC,EAAmB;YAE9C,MAAM,GAAG,GAAG,IAAI,GAAG,EAA6B,CAAC;YACjD,GAAG,CAAC,GAAG,6BAAoC,EAAE,CAAC,CAAC;YAC/C,GAAG,CAAC,GAAG,2BAAkC,EAAE,CAAC,CAAC;YAC7C,GAAG,CAAC,GAAG,4BAAmC,EAAE,CAAC,CAAC;YAC9C,GAAG,CAAC,GAAG,8BAAqC,EAAE,CAAC,CAAC;YAChD,KAAK,MAAM,IAAI,IAAI,OAAO,CAAC,QAAQ,EAAE,EAAE;gBACtC,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;oBACvB,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACtC;aACD;YAED,MAAM,UAAU,GAAG,CAAC,GAAc,EAAE,EAAE;gBACrC,IAAI,GAAG,EAAE;oBACR,GAAG,CAAC,IAAI,EAAE,CAAC;oBACX,KAAK,MAAM,CAAC,IAAI,GAAG,EAAE;wBACpB,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;qBACd;oBACD,EAAE,CAAC,KAAK,EAAE,CAAC;iBACX;YACF,CAAC,CAAC;YAEF,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,wBAAwB,CAAC,CAAC;YACxC,EAAE,CAAC,KAAK,EAAE,CAAC;YACX,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;YAClC,UAAU,CAAC,GAAG,CAAC,GAAG,0BAAiC,CAAC,CAAC;YACrD,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,oBAAoB,CAAC,CAAC;YACpC,UAAU,CAAC,GAAG,CAAC,GAAG,2BAAkC,CAAC,CAAC;YACtD,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,sBAAsB,CAAC,CAAC;YACtC,UAAU,CAAC,GAAG,CAAC,GAAG,6BAAoC,CAAC,CAAC;YACxD,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,kDAAkD,CAAC,CAAC;YAClE,UAAU,CAAC,GAAG,CAAC,GAAG,4BAAmC,CAAC,CAAC;QACxD,CAAC;KACD,CAAA;IAtNK,wBAAwB;QAM3B,WAAA,4BAAa,CAAA;QACb,WAAA,0BAAY,CAAA;QACZ,WAAA,sCAAkB,CAAA;QAClB,WAAA,6BAAiB,CAAA;QACjB,WAAA,4BAAa,CAAA;QACb,WAAA,8BAAiB,CAAA;QACjB,WAAA,gCAAe,CAAA;OAZZ,wBAAwB,CAsN7B;IAED,MAAM,eAAe;QAArB;YAEC,UAAK,GAAW,EAAE,CAAC;QAoBpB,CAAC;QAlBA,OAAO,CAAC,KAAa,EAAE,KAAa;YACnC,IAAI,CAAC,KAAK,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,MAAM,CAAC;YAClD,OAAO,IAAI,CAAC;QACb,CAAC;QAED,KAAK;YACJ,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;YACnB,OAAO,IAAI,CAAC;QACb,CAAC;QAED,EAAE,CAAC,KAAa;YACf,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,IAAI,CAAC;YAC7B,OAAO,IAAI,CAAC;QACb,CAAC;QAED,KAAK,CAAC,MAAgB,EAAE,IAAsD;YAC7E,IAAI,CAAC,KAAK,IAAI,iBAAW,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACzD,CAAC;KACD","file":"perfviewEditor.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from 'vs/nls';\nimport { URI } from 'vs/base/common/uri';\nimport { ResourceEditorInput } from 'vs/workbench/common/editor/resourceEditorInput';\nimport { ITextModelService, ITextModelContentProvider } from 'vs/editor/common/services/resolverService';\nimport { ITextModel } from 'vs/editor/common/model';\nimport { ILifecycleService, LifecyclePhase, StartupKindToString } from 'vs/workbench/services/lifecycle/common/lifecycle';\nimport { IModeService } from 'vs/editor/common/services/modeService';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IModelService } from 'vs/editor/common/services/modelService';\nimport { ITimerService } from 'vs/workbench/services/timer/browser/timerService';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\nimport { writeTransientState } from 'vs/workbench/contrib/codeEditor/browser/toggleWordWrap';\nimport { LoaderStats } from 'vs/base/common/amd';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { ITextFileService } from 'vs/workbench/services/textfile/common/textfiles';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { ByteSize, IFileService } from 'vs/platform/files/common/files';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { IFilesConfigurationService } from 'vs/workbench/services/filesConfiguration/common/filesConfigurationService';\nimport { isWeb } from 'vs/base/common/platform';\n\nexport class PerfviewContrib {\n\n\tprivate readonly _registration: IDisposable;\n\n\tconstructor(\n\t\t@IInstantiationService instaService: IInstantiationService,\n\t\t@ITextModelService textModelResolverService: ITextModelService\n\t) {\n\t\tthis._registration = textModelResolverService.registerTextModelContentProvider('perf', instaService.createInstance(PerfModelContentProvider));\n\t}\n\n\tdispose(): void {\n\t\tthis._registration.dispose();\n\t}\n}\n\nexport class PerfviewInput extends ResourceEditorInput {\n\n\tstatic readonly Id = 'PerfviewInput';\n\tstatic readonly Uri = URI.from({ scheme: 'perf', path: 'Startup Performance' });\n\n\toverride get typeId(): string {\n\t\treturn PerfviewInput.Id;\n\t}\n\n\tconstructor(\n\t\t@ITextModelService textModelResolverService: ITextModelService,\n\t\t@ITextFileService textFileService: ITextFileService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IFileService fileService: IFileService,\n\t\t@ILabelService labelService: ILabelService,\n\t\t@IFilesConfigurationService filesConfigurationService: IFilesConfigurationService\n\t) {\n\t\tsuper(\n\t\t\tPerfviewInput.Uri,\n\t\t\tlocalize('name', \"Startup Performance\"),\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\ttextModelResolverService,\n\t\t\ttextFileService,\n\t\t\teditorService,\n\t\t\teditorGroupService,\n\t\t\tfileService,\n\t\t\tlabelService,\n\t\t\tfilesConfigurationService\n\t\t);\n\t}\n}\n\nclass PerfModelContentProvider implements ITextModelContentProvider {\n\n\tprivate _model: ITextModel | undefined;\n\tprivate _modelDisposables: IDisposable[] = [];\n\n\tconstructor(\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@IModeService private readonly _modeService: IModeService,\n\t\t@ICodeEditorService private readonly _editorService: ICodeEditorService,\n\t\t@ILifecycleService private readonly _lifecycleService: ILifecycleService,\n\t\t@ITimerService private readonly _timerService: ITimerService,\n\t\t@IExtensionService private readonly _extensionService: IExtensionService,\n\t\t@IProductService private readonly _productService: IProductService\n\t) { }\n\n\tprovideTextContent(resource: URI): Promise<ITextModel> {\n\n\t\tif (!this._model || this._model.isDisposed()) {\n\t\t\tdispose(this._modelDisposables);\n\t\t\tconst langId = this._modeService.create('markdown');\n\t\t\tthis._model = this._modelService.getModel(resource) || this._modelService.createModel('Loading...', langId, resource);\n\n\t\t\tthis._modelDisposables.push(langId.onDidChange(e => {\n\t\t\t\tif (this._model) {\n\t\t\t\t\tthis._model.setMode(e);\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._modelDisposables.push(this._extensionService.onDidChangeExtensionsStatus(this._updateModel, this));\n\n\t\t\twriteTransientState(this._model, { wordWrapOverride: 'off' }, this._editorService);\n\t\t}\n\t\tthis._updateModel();\n\t\treturn Promise.resolve(this._model);\n\t}\n\n\tprivate _updateModel(): void {\n\n\t\tPromise.all([\n\t\t\tthis._timerService.whenReady(),\n\t\t\tthis._lifecycleService.when(LifecyclePhase.Eventually),\n\t\t\tthis._extensionService.whenInstalledExtensionsRegistered()\n\t\t]).then(() => {\n\t\t\tif (this._model && !this._model.isDisposed()) {\n\n\t\t\t\tlet stats = LoaderStats.get();\n\t\t\t\tlet md = new MarkdownBuilder();\n\t\t\t\tthis._addSummary(md);\n\t\t\t\tmd.blank();\n\t\t\t\tthis._addSummaryTable(md, stats);\n\t\t\t\tmd.blank();\n\t\t\t\tthis._addExtensionsTable(md);\n\t\t\t\tmd.blank();\n\t\t\t\tthis._addRawPerfMarks(md);\n\t\t\t\tmd.blank();\n\t\t\t\t// this._addLoaderStats(md, stats);\n\t\t\t\t// md.blank();\n\t\t\t\tthis._addCachedDataStats(md);\n\n\t\t\t\tthis._model.setValue(md.value);\n\t\t\t}\n\t\t});\n\n\t}\n\n\tprivate _addSummary(md: MarkdownBuilder): void {\n\t\tconst metrics = this._timerService.startupMetrics;\n\t\tmd.heading(2, 'System Info');\n\t\tmd.li(`${this._productService.nameShort}: ${this._productService.version} (${this._productService.commit || '0000000'})`);\n\t\tmd.li(`OS: ${metrics.platform}(${metrics.release})`);\n\t\tif (metrics.cpus) {\n\t\t\tmd.li(`CPUs: ${metrics.cpus.model}(${metrics.cpus.count} x ${metrics.cpus.speed})`);\n\t\t}\n\t\tif (typeof metrics.totalmem === 'number' && typeof metrics.freemem === 'number') {\n\t\t\tmd.li(`Memory(System): ${(metrics.totalmem / (ByteSize.GB)).toFixed(2)} GB(${(metrics.freemem / (ByteSize.GB)).toFixed(2)}GB free)`);\n\t\t}\n\t\tif (metrics.meminfo) {\n\t\t\tmd.li(`Memory(Process): ${(metrics.meminfo.workingSetSize / ByteSize.KB).toFixed(2)} MB working set(${(metrics.meminfo.privateBytes / ByteSize.KB).toFixed(2)}MB private, ${(metrics.meminfo.sharedBytes / ByteSize.KB).toFixed(2)}MB shared)`);\n\t\t}\n\t\tmd.li(`VM(likelihood): ${metrics.isVMLikelyhood}%`);\n\t\tmd.li(`Initial Startup: ${metrics.initialStartup}`);\n\t\tmd.li(`Has ${metrics.windowCount - 1} other windows`);\n\t\tmd.li(`Screen Reader Active: ${metrics.hasAccessibilitySupport}`);\n\t\tmd.li(`Empty Workspace: ${metrics.emptyWorkbench}`);\n\t}\n\n\tprivate _addSummaryTable(md: MarkdownBuilder, stats?: LoaderStats): void {\n\n\t\tconst metrics = this._timerService.startupMetrics;\n\t\tconst table: Array<Array<string | number | undefined>> = [];\n\t\ttable.push(['start => app.isReady', metrics.timers.ellapsedAppReady, '[main]', `initial startup: ${metrics.initialStartup}`]);\n\t\ttable.push(['nls:start => nls:end', metrics.timers.ellapsedNlsGeneration, '[main]', `initial startup: ${metrics.initialStartup}`]);\n\t\ttable.push(['require(main.bundle.js)', metrics.timers.ellapsedLoadMainBundle, '[main]', `initial startup: ${metrics.initialStartup}`]);\n\t\ttable.push(['start crash reporter', metrics.timers.ellapsedCrashReporter, '[main]', `initial startup: ${metrics.initialStartup}`]);\n\t\ttable.push(['serve main IPC handle', metrics.timers.ellapsedMainServer, '[main]', `initial startup: ${metrics.initialStartup}`]);\n\t\ttable.push(['create window', metrics.timers.ellapsedWindowCreate, '[main]', `initial startup: ${metrics.initialStartup}, ${metrics.initialStartup ? `state: ${metrics.timers.ellapsedWindowRestoreState}ms, widget: ${metrics.timers.ellapsedBrowserWindowCreate}ms, show: ${metrics.timers.ellapsedWindowMaximize}ms` : ''}`]);\n\t\ttable.push(['app.isReady => window.loadUrl()', metrics.timers.ellapsedWindowLoad, '[main]', `initial startup: ${metrics.initialStartup}`]);\n\t\ttable.push(['window.loadUrl() => begin to require(workbench.desktop.main.js)', metrics.timers.ellapsedWindowLoadToRequire, '[main->renderer]', StartupKindToString(metrics.windowKind)]);\n\t\ttable.push(['require(workbench.desktop.main.js)', metrics.timers.ellapsedRequire, '[renderer]', `cached data: ${(metrics.didUseCachedData ? 'YES' : 'NO')}${stats ? `, node_modules took ${stats.nodeRequireTotal}ms` : ''}`]);\n\t\ttable.push(['wait for window config', metrics.timers.ellapsedWaitForWindowConfig, '[renderer]', undefined]);\n\t\ttable.push(['wait for shell environment', metrics.timers.ellapsedWaitForShellEnv, '[renderer]', undefined]);\n\t\ttable.push(['init storage (global & workspace)', metrics.timers.ellapsedStorageInit, '[renderer]', undefined]);\n\t\ttable.push(['init workspace service', metrics.timers.ellapsedWorkspaceServiceInit, '[renderer]', undefined]);\n\t\tif (isWeb) {\n\t\t\ttable.push(['init settings and global state from settings sync service', metrics.timers.ellapsedRequiredUserDataInit, '[renderer]', undefined]);\n\t\t\ttable.push(['init keybindings, snippets & extensions from settings sync service', metrics.timers.ellapsedOtherUserDataInit, '[renderer]', undefined]);\n\t\t}\n\t\ttable.push(['register extensions & spawn extension host', metrics.timers.ellapsedExtensions, '[renderer]', undefined]);\n\t\ttable.push(['restore viewlet', metrics.timers.ellapsedViewletRestore, '[renderer]', metrics.viewletId]);\n\t\ttable.push(['restore panel', metrics.timers.ellapsedPanelRestore, '[renderer]', metrics.panelId]);\n\t\ttable.push(['restore & resolve visible editors', metrics.timers.ellapsedEditorRestore, '[renderer]', `${metrics.editorIds.length}: ${metrics.editorIds.join(', ')}`]);\n\t\ttable.push(['overall workbench load', metrics.timers.ellapsedWorkbench, '[renderer]', undefined]);\n\t\ttable.push(['workbench ready', metrics.ellapsed, '[main->renderer]', undefined]);\n\t\ttable.push(['renderer ready', metrics.timers.ellapsedRenderer, '[renderer]', undefined]);\n\t\ttable.push(['shared process connection ready', metrics.timers.ellapsedSharedProcesConnected, '[renderer->sharedprocess]', undefined]);\n\t\ttable.push(['extensions registered', metrics.timers.ellapsedExtensionsReady, '[renderer]', undefined]);\n\n\t\tmd.heading(2, 'Performance Marks');\n\t\tmd.table(['What', 'Duration', 'Process', 'Info'], table);\n\t}\n\n\tprivate _addExtensionsTable(md: MarkdownBuilder): void {\n\n\t\tconst eager: ({ toString(): string })[][] = [];\n\t\tconst normal: ({ toString(): string })[][] = [];\n\t\tlet extensionsStatus = this._extensionService.getExtensionsStatus();\n\t\tfor (let id in extensionsStatus) {\n\t\t\tconst { activationTimes: times } = extensionsStatus[id];\n\t\t\tif (!times) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (times.activationReason.startup) {\n\t\t\t\teager.push([id, times.activationReason.startup, times.codeLoadingTime, times.activateCallTime, times.activateResolvedTime, times.activationReason.activationEvent, times.activationReason.extensionId.value]);\n\t\t\t} else {\n\t\t\t\tnormal.push([id, times.activationReason.startup, times.codeLoadingTime, times.activateCallTime, times.activateResolvedTime, times.activationReason.activationEvent, times.activationReason.extensionId.value]);\n\t\t\t}\n\t\t}\n\n\t\tconst table = eager.concat(normal);\n\t\tif (table.length > 0) {\n\t\t\tmd.heading(2, 'Extension Activation Stats');\n\t\t\tmd.table(\n\t\t\t\t['Extension', 'Eager', 'Load Code', 'Call Activate', 'Finish Activate', 'Event', 'By'],\n\t\t\t\ttable\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate _addRawPerfMarks(md: MarkdownBuilder): void {\n\n\t\tfor (let [source, marks] of this._timerService.getPerformanceMarks()) {\n\t\t\tmd.heading(2, `Raw Perf Marks: ${source}`);\n\t\t\tmd.value += '```\\n';\n\t\t\tmd.value += `Name\\tTimestamp\\tDelta\\tTotal\\n`;\n\t\t\tlet lastStartTime = -1;\n\t\t\tlet total = 0;\n\t\t\tfor (const { name, startTime } of marks) {\n\t\t\t\tlet delta = lastStartTime !== -1 ? startTime - lastStartTime : 0;\n\t\t\t\ttotal += delta;\n\t\t\t\tmd.value += `${name}\\t${startTime}\\t${delta}\\t${total}\\n`;\n\t\t\t\tlastStartTime = startTime;\n\t\t\t}\n\t\t\tmd.value += '```\\n';\n\t\t}\n\t}\n\n\t// private _addLoaderStats(md: MarkdownBuilder, stats: LoaderStats): void {\n\t// \tmd.heading(2, 'Loader Stats');\n\t// \tmd.heading(3, 'Load AMD-module');\n\t// \tmd.table(['Module', 'Duration'], stats.amdLoad);\n\t// \tmd.blank();\n\t// \tmd.heading(3, 'Load commonjs-module');\n\t// \tmd.table(['Module', 'Duration'], stats.nodeRequire);\n\t// \tmd.blank();\n\t// \tmd.heading(3, 'Invoke AMD-module factory');\n\t// \tmd.table(['Module', 'Duration'], stats.amdInvoke);\n\t// \tmd.blank();\n\t// \tmd.heading(3, 'Invoke commonjs-module');\n\t// \tmd.table(['Module', 'Duration'], stats.nodeEval);\n\t// }\n\n\tprivate _addCachedDataStats(md: MarkdownBuilder): void {\n\n\t\tconst map = new Map<LoaderEventType, string[]>();\n\t\tmap.set(LoaderEventType.CachedDataCreated, []);\n\t\tmap.set(LoaderEventType.CachedDataFound, []);\n\t\tmap.set(LoaderEventType.CachedDataMissed, []);\n\t\tmap.set(LoaderEventType.CachedDataRejected, []);\n\t\tfor (const stat of require.getStats()) {\n\t\t\tif (map.has(stat.type)) {\n\t\t\t\tmap.get(stat.type)!.push(stat.detail);\n\t\t\t}\n\t\t}\n\n\t\tconst printLists = (arr?: string[]) => {\n\t\t\tif (arr) {\n\t\t\t\tarr.sort();\n\t\t\t\tfor (const e of arr) {\n\t\t\t\t\tmd.li(`${e}`);\n\t\t\t\t}\n\t\t\t\tmd.blank();\n\t\t\t}\n\t\t};\n\n\t\tmd.heading(2, 'Node Cached Data Stats');\n\t\tmd.blank();\n\t\tmd.heading(3, 'cached data used');\n\t\tprintLists(map.get(LoaderEventType.CachedDataFound));\n\t\tmd.heading(3, 'cached data missed');\n\t\tprintLists(map.get(LoaderEventType.CachedDataMissed));\n\t\tmd.heading(3, 'cached data rejected');\n\t\tprintLists(map.get(LoaderEventType.CachedDataRejected));\n\t\tmd.heading(3, 'cached data created (lazy, might need refreshes)');\n\t\tprintLists(map.get(LoaderEventType.CachedDataCreated));\n\t}\n}\n\nclass MarkdownBuilder {\n\n\tvalue: string = '';\n\n\theading(level: number, value: string): this {\n\t\tthis.value += `${'#'.repeat(level)} ${value}\\n\\n`;\n\t\treturn this;\n\t}\n\n\tblank() {\n\t\tthis.value += '\\n';\n\t\treturn this;\n\t}\n\n\tli(value: string) {\n\t\tthis.value += `* ${value}\\n`;\n\t\treturn this;\n\t}\n\n\ttable(header: string[], rows: Array<Array<{ toString(): string } | undefined>>) {\n\t\tthis.value += LoaderStats.toMarkdownTable(header, rows);\n\t}\n}\n"]}