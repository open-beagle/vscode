{"version":3,"file":"notebookTextModel.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/notebook/test/notebookTextModel.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { CellKind, CellEditType, NotebookTextModelChangedEvent, SelectionStateType, ICellEditOperation } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { withTestNotebook, TestCell, setupInstantiationService } from 'vs/workbench/contrib/notebook/test/testNotebookEditor';\nimport { IUndoRedoService } from 'vs/platform/undoRedo/common/undoRedo';\nimport { IModeService } from 'vs/editor/common/services/modeService';\n\nsuite('NotebookTextModel', () => {\n\tconst instantiationService = setupInstantiationService();\n\tconst modeService = instantiationService.get(IModeService);\n\tinstantiationService.spy(IUndoRedoService, 'pushElement');\n\n\ttest('insert', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst viewModel = editor.viewModel;\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(viewModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 3, count: 0, cells: [new TestCell(viewModel.viewType, 6, 'var f = 6;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 6);\n\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[4].getValue(), 'var f = 6;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('multiple inserts at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst viewModel = editor.viewModel;\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(viewModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(viewModel.viewType, 6, 'var f = 6;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 6);\n\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var f = 6;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('delete', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 3, count: 1, cells: [] },\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var c = 3;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('delete + insert', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst viewModel = editor.viewModel;\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 3, count: 0, cells: [new TestCell(viewModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var e = 5;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('delete + insert at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst viewModel = editor.viewModel;\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(viewModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var c = 3;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('(replace) delete + insert at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst viewModel = editor.viewModel;\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [new TestCell(viewModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var c = 3;');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('output', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\n\t\t\t\t// invalid index 1\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: Number.MAX_VALUE,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\toutputs: []\n\t\t\t\t\t}], true, undefined, () => undefined, undefined);\n\t\t\t\t});\n\n\t\t\t\t// invalid index 2\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: -1,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\toutputs: []\n\t\t\t\t\t}], true, undefined, () => undefined, undefined);\n\t\t\t\t});\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\toutputs: [{\n\t\t\t\t\t\toutputId: 'someId',\n\t\t\t\t\t\toutputs: [{ mime: 'text/markdown', value: '_Hello_' }]\n\t\t\t\t\t}]\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 1);\n\n\t\t\t\t// append\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\tappend: true,\n\t\t\t\t\toutputs: [{\n\t\t\t\t\t\toutputId: 'someId2',\n\t\t\t\t\t\toutputs: [{ mime: 'text/markdown', value: '_Hello2_' }]\n\t\t\t\t\t}]\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 2);\n\t\t\t\tlet [first, second] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'someId');\n\t\t\t\tassert.strictEqual(second.outputId, 'someId2');\n\n\t\t\t\t// replace all\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\toutputs: [{\n\t\t\t\t\t\toutputId: 'someId3',\n\t\t\t\t\t\toutputs: [{ mime: 'text/plain', value: 'Last, replaced output' }]\n\t\t\t\t\t}]\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 1);\n\t\t\t\t[first] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'someId3');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('multiple append output in one position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\n\t\t\t\t// append\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append1',\n\t\t\t\t\t\t\toutputs: [{ mime: 'text/markdown', value: 'append 1' }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tappend: true,\n\t\t\t\t\t\toutputs: [{\n\t\t\t\t\t\t\toutputId: 'append2',\n\t\t\t\t\t\t\toutputs: [{ mime: 'text/markdown', value: 'append 2' }]\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].outputs.length, 2);\n\t\t\t\tconst [first, second] = textModel.cells[0].outputs;\n\t\t\t\tassert.strictEqual(first.outputId, 'append1');\n\t\t\t\tassert.strictEqual(second.outputId, 'append2');\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('metadata', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\n\t\t\t\t// invalid index 1\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: Number.MAX_VALUE,\n\t\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\t\tmetadata: {}\n\t\t\t\t\t}], true, undefined, () => undefined, undefined);\n\t\t\t\t});\n\n\t\t\t\t// invalid index 2\n\t\t\t\tassert.throws(() => {\n\t\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\t\tindex: -1,\n\t\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\t\tmetadata: {}\n\t\t\t\t\t}], true, undefined, () => undefined, undefined);\n\t\t\t\t});\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: { executionOrder: 15 },\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: {},\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].metadata?.executionOrder, undefined);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('partial metadata', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.PartialMetadata,\n\t\t\t\t\tmetadata: { executionOrder: 15 },\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\ttextModel.applyEdits([{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.PartialMetadata,\n\t\t\t\t\tmetadata: {},\n\t\t\t\t}], true, undefined, () => undefined, undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 1);\n\t\t\t\tassert.strictEqual(textModel.cells[0].metadata?.executionOrder, 15);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('multiple inserts in one edit', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst viewModel = editor.viewModel;\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\tlet changeEvent: NotebookTextModelChangedEvent | undefined = undefined;\n\t\t\t\tconst eventListener = textModel.onDidChangeContent(e => {\n\t\t\t\t\tchangeEvent = e;\n\t\t\t\t});\n\t\t\t\tconst version = textModel.versionId;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 0, cells: [new TestCell(viewModel.viewType, 5, 'var e = 5;', 'javascript', CellKind.Code, [], modeService)] },\n\t\t\t\t], true, undefined, () => ({ kind: SelectionStateType.Index, focus: { start: 0, end: 1 }, selections: [{ start: 0, end: 1 }] }), undefined);\n\n\t\t\t\tassert.strictEqual(textModel.cells.length, 4);\n\t\t\t\tassert.strictEqual(textModel.cells[0].getValue(), 'var a = 1;');\n\t\t\t\tassert.strictEqual(textModel.cells[1].getValue(), 'var e = 5;');\n\t\t\t\tassert.strictEqual(textModel.cells[2].getValue(), 'var c = 3;');\n\n\t\t\t\tassert.notStrictEqual(changeEvent, undefined);\n\t\t\t\tassert.strictEqual(changeEvent!.rawEvents.length, 2);\n\t\t\t\tassert.deepStrictEqual(changeEvent!.endSelectionState?.selections, [{ start: 0, end: 1 }]);\n\t\t\t\tassert.strictEqual(textModel.versionId, version + 1);\n\t\t\t\teventListener.dispose();\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('insert and metadata change in one edit', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var c = 3;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['var d = 4;', 'javascript', CellKind.Code, [], {}]\n\t\t\t],\n\t\t\t(editor) => {\n\t\t\t\tconst textModel = editor.viewModel.notebookDocument;\n\t\t\t\tlet changeEvent: NotebookTextModelChangedEvent | undefined = undefined;\n\t\t\t\tconst eventListener = textModel.onDidChangeContent(e => {\n\t\t\t\t\tchangeEvent = e;\n\t\t\t\t});\n\t\t\t\tconst version = textModel.versionId;\n\n\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t{ editType: CellEditType.Replace, index: 1, count: 1, cells: [] },\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\t\tmetadata: {},\n\t\t\t\t\t}\n\t\t\t\t], true, undefined, () => ({ kind: SelectionStateType.Index, focus: { start: 0, end: 1 }, selections: [{ start: 0, end: 1 }] }), undefined);\n\n\t\t\t\tassert.notStrictEqual(changeEvent, undefined);\n\t\t\t\tassert.strictEqual(changeEvent!.rawEvents.length, 2);\n\t\t\t\tassert.deepStrictEqual(changeEvent!.endSelectionState?.selections, [{ start: 0, end: 1 }]);\n\t\t\t\tassert.strictEqual(textModel.versionId, version + 1);\n\t\t\t\teventListener.dispose();\n\t\t\t}\n\t\t);\n\t});\n\n\n\ttest('Updating appending/updating output in Notebooks does not work as expected #117273', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.viewModel.notebookDocument;\n\n\t\t\tassert.strictEqual(model.cells.length, 1);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 0);\n\n\t\t\tconst success1 = model.applyEdits(\n\t\t\t\t[{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t{ outputId: 'out1', outputs: [{ mime: 'application/x.notebook.stream', value: 1 }] }\n\t\t\t\t\t],\n\t\t\t\t\tappend: false\n\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t);\n\n\t\t\tassert.ok(success1);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 1);\n\n\t\t\tconst success2 = model.applyEdits(\n\t\t\t\t[{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t{ outputId: 'out2', outputs: [{ mime: 'application/x.notebook.stream', value: 1 }] }\n\t\t\t\t\t],\n\t\t\t\t\tappend: true\n\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t);\n\n\t\t\tassert.ok(success2);\n\t\t\tassert.strictEqual(model.cells[0].outputs.length, 2);\n\t\t});\n\t});\n\n\ttest('Clearing output of an empty notebook makes it dirty #119608', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}]\n\t\t], (editor) => {\n\t\t\tconst model = editor.viewModel.notebookDocument;\n\n\t\t\tlet event: NotebookTextModelChangedEvent | undefined;\n\n\t\t\tmodel.onDidChangeContent(e => { event = e; });\n\n\t\t\t{\n\t\t\t\t// 1: add ouput -> event\n\t\t\t\tconst success = model.applyEdits(\n\t\t\t\t\t[{\n\t\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: [\n\t\t\t\t\t\t\t{ outputId: 'out1', outputs: [{ mime: 'application/x.notebook.stream', value: 1 }] }\n\t\t\t\t\t\t],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t\t);\n\n\t\t\t\tassert.ok(success);\n\t\t\t\tassert.strictEqual(model.cells[0].outputs.length, 1);\n\t\t\t\tassert.ok(event);\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// 2: clear all output w/ output -> event\n\t\t\t\tevent = undefined;\n\t\t\t\tconst success = model.applyEdits(\n\t\t\t\t\t[{\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}, {\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t\t);\n\t\t\t\tassert.ok(success);\n\t\t\t\tassert.ok(event);\n\t\t\t}\n\n\t\t\t{\n\t\t\t\t// 2: clear all output wo/ output -> NO event\n\t\t\t\tevent = undefined;\n\t\t\t\tconst success = model.applyEdits(\n\t\t\t\t\t[{\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}, {\n\t\t\t\t\t\teditType: CellEditType.Output,\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\tappend: false\n\t\t\t\t\t}], true, undefined, () => undefined, undefined, false\n\t\t\t\t);\n\n\t\t\t\tassert.ok(success);\n\t\t\t\tassert.ok(event === undefined);\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('Cell metadata/output change should update version id and alternative id #121807', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}]\n\t\t], async (editor) => {\n\t\t\tassert.strictEqual(editor.viewModel.getVersionId(), 0);\n\t\t\tconst firstAltVersion = '0_0,1;1,1';\n\t\t\tassert.strictEqual(editor.viewModel.getAlternativeId(), firstAltVersion);\n\t\t\teditor.viewModel.notebookDocument.applyEdits([\n\t\t\t\t{\n\t\t\t\t\tindex: 0,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\tinputCollapsed: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t], true, undefined, () => undefined, undefined, true);\n\t\t\tassert.strictEqual(editor.viewModel.getVersionId(), 1);\n\t\t\tassert.notStrictEqual(editor.viewModel.getAlternativeId(), firstAltVersion);\n\t\t\tconst secondAltVersion = '1_0,1;1,1';\n\t\t\tassert.strictEqual(editor.viewModel.getAlternativeId(), secondAltVersion);\n\n\t\t\tawait editor.viewModel.undo();\n\t\t\tassert.strictEqual(editor.viewModel.getVersionId(), 2);\n\t\t\tassert.strictEqual(editor.viewModel.getAlternativeId(), firstAltVersion);\n\n\t\t\tawait editor.viewModel.redo();\n\t\t\tassert.strictEqual(editor.viewModel.getVersionId(), 3);\n\t\t\tassert.notStrictEqual(editor.viewModel.getAlternativeId(), firstAltVersion);\n\t\t\tassert.strictEqual(editor.viewModel.getAlternativeId(), secondAltVersion);\n\n\t\t\teditor.viewModel.notebookDocument.applyEdits([\n\t\t\t\t{\n\t\t\t\t\tindex: 1,\n\t\t\t\t\teditType: CellEditType.Metadata,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\tinputCollapsed: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t], true, undefined, () => undefined, undefined, true);\n\t\t\tassert.strictEqual(editor.viewModel.getVersionId(), 4);\n\t\t\tassert.strictEqual(editor.viewModel.getAlternativeId(), '4_0,1;1,1');\n\n\t\t\tawait editor.viewModel.undo();\n\t\t\tassert.strictEqual(editor.viewModel.getVersionId(), 5);\n\t\t\tassert.strictEqual(editor.viewModel.getAlternativeId(), secondAltVersion);\n\n\t\t});\n\t});\n\n\ttest('Destructive sorting in _doApplyEdits #121994', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{ outputId: 'i42', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}]\n\t\t], async (editor) => {\n\n\t\t\tconst notebook = editor.viewModel.notebookDocument;\n\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs[0].outputs[0].value, 'test');\n\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, handle: 0, outputs: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, handle: 0, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput',\n\t\t\t\t\t\toutputs: [{ mime: 'text/plain', value: 'cba' }, { mime: 'application/foo', value: 'cba' }]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\teditor.viewModel.notebookDocument.applyEdits(edits, true, undefined, () => undefined, undefined);\n\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs[0].outputs.length, 2);\n\t\t});\n\t});\n\n\ttest('Destructive sorting in _doApplyEdits #121994. cell splice between output changes', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{ outputId: 'i42', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [{ outputId: 'i43', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}],\n\t\t\t['var c = 3;', 'javascript', CellKind.Code, [{ outputId: 'i44', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}]\n\t\t], async (editor) => {\n\t\t\tconst notebook = editor.viewModel.notebookDocument;\n\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 0, outputs: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Replace, index: 1, count: 1, cells: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 2, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput',\n\t\t\t\t\t\toutputs: [{ mime: 'text/plain', value: 'cba' }, { mime: 'application/foo', value: 'cba' }]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\teditor.viewModel.notebookDocument.applyEdits(edits, true, undefined, () => undefined, undefined);\n\n\t\t\tassert.strictEqual(notebook.cells.length, 2);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 0);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs.length, 2);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs[0].outputId, 'i44');\n\t\t\tassert.strictEqual(notebook.cells[1].outputs[1].outputId, 'newOutput');\n\t\t});\n\t});\n\n\ttest('Destructive sorting in _doApplyEdits #121994. cell splice between output changes 2', async function () {\n\t\tawait withTestNotebook([\n\t\t\t['var a = 1;', 'javascript', CellKind.Code, [{ outputId: 'i42', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}],\n\t\t\t['var b = 2;', 'javascript', CellKind.Code, [{ outputId: 'i43', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}],\n\t\t\t['var c = 3;', 'javascript', CellKind.Code, [{ outputId: 'i44', outputs: [{ mime: 'm/ime', value: 'test' }] }], {}]\n\t\t], async (editor) => {\n\t\t\tconst notebook = editor.viewModel.notebookDocument;\n\n\t\t\tconst edits: ICellEditOperation[] = [\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 1, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput',\n\t\t\t\t\t\toutputs: [{ mime: 'text/plain', value: 'cba' }, { mime: 'application/foo', value: 'cba' }]\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Replace, index: 1, count: 1, cells: []\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Output, index: 1, append: true, outputs: [{\n\t\t\t\t\t\toutputId: 'newOutput2',\n\t\t\t\t\t\toutputs: [{ mime: 'text/plain', value: 'cba' }, { mime: 'application/foo', value: 'cba' }]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\teditor.viewModel.notebookDocument.applyEdits(edits, true, undefined, () => undefined, undefined);\n\n\t\t\tassert.strictEqual(notebook.cells.length, 2);\n\t\t\tassert.strictEqual(notebook.cells[0].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs.length, 1);\n\t\t\tassert.strictEqual(notebook.cells[1].outputs[0].outputId, 'i44');\n\t\t});\n\t});\n});\n"]}