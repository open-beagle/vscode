{"version":3,"sources":["vs/workbench/contrib/notebook/browser/diff/notebookDiffActions.ts"],"names":[],"mappings":"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","file":"notebookDiffActions.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IBulkEditService, ResourceTextEdit } from 'vs/editor/browser/services/bulkEditService';\nimport { localize } from 'vs/nls';\nimport { Action2, ICommandActionTitle, MenuId, registerAction2 } from 'vs/platform/actions/common/actions';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyExpr, ContextKeyExpression } from 'vs/platform/contextkey/common/contextkey';\nimport { ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { ActiveEditorContext, viewColumnToEditorGroup } from 'vs/workbench/common/editor';\nimport { DiffElementViewModelBase } from 'vs/workbench/contrib/notebook/browser/diff/diffElementViewModel';\nimport { NOTEBOOK_DIFF_CELL_PROPERTY, NOTEBOOK_DIFF_CELL_PROPERTY_EXPANDED } from 'vs/workbench/contrib/notebook/browser/diff/notebookDiffEditorBrowser';\nimport { NotebookTextDiffEditor } from 'vs/workbench/contrib/notebook/browser/diff/notebookTextDiffEditor';\nimport { NotebookDiffEditorInput } from 'vs/workbench/contrib/notebook/browser/notebookDiffEditorInput';\nimport { openAsTextIcon, renderOutputIcon, revertIcon } from 'vs/workbench/contrib/notebook/browser/notebookIcons';\nimport { IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IConfigurationRegistry, Extensions as ConfigurationExtensions } from 'vs/platform/configuration/common/configurationRegistry';\nimport { EditorOverride } from 'vs/platform/editor/common/editor';\n\n// ActiveEditorContext.isEqualTo(SearchEditorConstants.SearchEditorID)\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.diff.switchToText',\n\t\t\ticon: openAsTextIcon,\n\t\t\ttitle: { value: localize('notebook.diff.switchToText', \"Open Text Diff Editor\"), original: 'Open Text Diff Editor' },\n\t\t\tprecondition: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID),\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID)\n\t\t\t}]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorGroupService = accessor.get(IEditorGroupsService);\n\n\t\tconst activeEditor = editorService.activeEditorPane;\n\t\tif (activeEditor && activeEditor instanceof NotebookTextDiffEditor) {\n\t\t\tconst diffEditorInput = activeEditor.input as NotebookDiffEditorInput;\n\t\t\tconst leftResource = diffEditorInput.originalResource;\n\t\t\tconst rightResource = diffEditorInput.resource;\n\t\t\tconst options = {\n\t\t\t\tpreserveFocus: false\n\t\t\t};\n\n\t\t\tconst label = diffEditorInput.textDiffName;\n\t\t\tconst input = editorService.createEditorInput({ leftResource, rightResource, label, options });\n\t\t\tawait editorService.openEditor(input, { override: EditorOverride.DISABLED }, viewColumnToEditorGroup(editorGroupService, undefined));\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.revertMetadata',\n\t\t\t\ttitle: localize('notebook.diff.cell.revertMetadata', \"Revert Metadata\"),\n\t\t\t\ticon: revertIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellMetadataTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst original = context.cell.original;\n\t\tconst modified = context.cell.modified;\n\n\t\tif (!original || !modified) {\n\t\t\treturn;\n\t\t}\n\n\t\tmodified.textModel.metadata = original.metadata;\n\t}\n});\n\n// registerAction2(class extends Action2 {\n// \tconstructor() {\n// \t\tsuper(\n// \t\t\t{\n// \t\t\t\tid: 'notebook.diff.cell.switchOutputRenderingStyle',\n// \t\t\t\ttitle: localize('notebook.diff.cell.switchOutputRenderingStyle', \"Switch Outputs Rendering\"),\n// \t\t\t\ticon: renderOutputIcon,\n// \t\t\t\tf1: false,\n// \t\t\t\tmenu: {\n// \t\t\t\t\tid: MenuId.NotebookDiffCellOutputsTitle\n// \t\t\t\t}\n// \t\t\t}\n// \t\t);\n// \t}\n// \trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n// \t\tif (!context) {\n// \t\t\treturn;\n// \t\t}\n\n// \t\tcontext.cell.renderOutput = true;\n// \t}\n// });\n\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.switchOutputRenderingStyleToText',\n\t\t\t\ttitle: localize('notebook.diff.cell.switchOutputRenderingStyleToText', \"Switch Output Rendering\"),\n\t\t\t\ticon: renderOutputIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellOutputsTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY_EXPANDED\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontext.cell.renderOutput = !context.cell.renderOutput;\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.revertOutputs',\n\t\t\t\ttitle: localize('notebook.diff.cell.revertOutputs', \"Revert Outputs\"),\n\t\t\t\ticon: revertIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellOutputsTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst original = context.cell.original;\n\t\tconst modified = context.cell.modified;\n\n\t\tif (!original || !modified) {\n\t\t\treturn;\n\t\t}\n\n\t\tmodified.textModel.spliceNotebookCellOutputs([[0, modified.outputs.length, original.outputs]]);\n\t}\n});\n\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.diff.cell.revertInput',\n\t\t\t\ttitle: localize('notebook.diff.cell.revertInput', \"Revert Input\"),\n\t\t\t\ticon: revertIcon,\n\t\t\t\tf1: false,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.NotebookDiffCellInputTitle,\n\t\t\t\t\twhen: NOTEBOOK_DIFF_CELL_PROPERTY\n\t\t\t\t},\n\t\t\t\tprecondition: NOTEBOOK_DIFF_CELL_PROPERTY\n\n\t\t\t}\n\t\t);\n\t}\n\trun(accessor: ServicesAccessor, context?: { cell: DiffElementViewModelBase }) {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst original = context.cell.original;\n\t\tconst modified = context.cell.modified;\n\n\t\tif (!original || !modified) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst bulkEditService = accessor.get(IBulkEditService);\n\t\treturn bulkEditService.apply([\n\t\t\tnew ResourceTextEdit(modified.uri, { range: modified.textModel.getFullModelRange(), text: original.textModel.getValue() }),\n\t\t], { quotableLabel: 'Split Notebook Cell' });\n\t}\n});\n\nclass ToggleRenderAction extends Action2 {\n\tconstructor(id: string, title: string | ICommandActionTitle, precondition: ContextKeyExpression | undefined, toggled: ContextKeyExpression | undefined, order: number, private readonly toggleOutputs?: boolean, private readonly toggleMetadata?: boolean) {\n\t\tsuper({\n\t\t\tid: id,\n\t\t\ttitle: title,\n\t\t\tprecondition: precondition,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'notebook',\n\t\t\t\twhen: precondition,\n\t\t\t\torder: order,\n\t\t\t}],\n\t\t\ttoggled: toggled\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tif (this.toggleOutputs !== undefined) {\n\t\t\tconst oldValue = configurationService.getValue<boolean>('notebook.diff.ignoreOutputs');\n\t\t\tconfigurationService.updateValue('notebook.diff.ignoreOutputs', !oldValue);\n\t\t}\n\n\t\tif (this.toggleMetadata !== undefined) {\n\t\t\tconst oldValue = configurationService.getValue<boolean>('notebook.diff.ignoreMetadata');\n\t\t\tconfigurationService.updateValue('notebook.diff.ignoreMetadata', !oldValue);\n\t\t}\n\t}\n}\n\nregisterAction2(class extends ToggleRenderAction {\n\tconstructor() {\n\t\tsuper('notebook.diff.showOutputs',\n\t\t\t{ value: localize('notebook.diff.showOutputs', \"Show Outputs Differences\"), original: 'Show Outputs Differences' },\n\t\t\tActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID),\n\t\t\tContextKeyExpr.notEquals('config.notebook.diff.ignoreOutputs', true),\n\t\t\t2,\n\t\t\ttrue,\n\t\t\tundefined\n\t\t);\n\t}\n});\n\nregisterAction2(class extends ToggleRenderAction {\n\tconstructor() {\n\t\tsuper('notebook.diff.showMetadata',\n\t\t\t{ value: localize('notebook.diff.showMetadata', \"Show Metadata Differences\"), original: 'Show Metadata Differences' },\n\t\t\tActiveEditorContext.isEqualTo(NotebookTextDiffEditor.ID),\n\t\t\tContextKeyExpr.notEquals('config.notebook.diff.ignoreMetadata', true),\n\t\t\t1,\n\t\t\tundefined,\n\t\t\ttrue\n\t\t);\n\t}\n});\n\nRegistry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).registerConfiguration({\n\tid: 'notebook',\n\torder: 100,\n\ttype: 'object',\n\t'properties': {\n\t\t'notebook.diff.ignoreMetadata': {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tmarkdownDescription: localize('notebook.diff.ignoreMetadata', \"Hide Metadata Differences\")\n\t\t},\n\t\t'notebook.diff.ignoreOutputs': {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tmarkdownDescription: localize('notebook.diff.ignoreOutputs', \"Hide Outputs Differences\")\n\t\t},\n\t}\n});\n"]}