{"version":3,"sources":["vs/workbench/contrib/notebook/browser/contrib/find/findController.ts"],"names":[],"mappings":"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","file":"findController.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/notebookFind';\nimport { alert as alertFn } from 'vs/base/browser/ui/aria/aria';\nimport * as strings from 'vs/base/common/strings';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { IContextKeyService, IContextKey, ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { KEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED, INotebookEditor, CellFindMatch, CellEditState, INotebookEditorContribution, NOTEBOOK_EDITOR_FOCUSED, getNotebookEditorFromEditorPane, NOTEBOOK_IS_ACTIVE_EDITOR } from 'vs/workbench/contrib/notebook/browser/notebookBrowser';\nimport { Range } from 'vs/editor/common/core/range';\nimport { MATCHES_LIMIT } from 'vs/editor/contrib/find/findModel';\nimport { FindDecorations } from 'vs/editor/contrib/find/findDecorations';\nimport { ModelDecorationOptions } from 'vs/editor/common/model/textModel';\nimport { IModelDeltaDecoration } from 'vs/editor/common/model';\nimport { ICellModelDeltaDecorations, ICellModelDecorations } from 'vs/workbench/contrib/notebook/browser/viewModel/notebookViewModel';\nimport { PrefixSumComputer } from 'vs/editor/common/viewModel/prefixSumComputer';\nimport { IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { SimpleFindReplaceWidget } from 'vs/workbench/contrib/codeEditor/browser/find/simpleFindReplaceWidget';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport * as DOM from 'vs/base/browser/dom';\nimport { registerNotebookContribution } from 'vs/workbench/contrib/notebook/browser/notebookEditorExtensions';\nimport { registerAction2, Action2 } from 'vs/platform/actions/common/actions';\nimport { localize } from 'vs/nls';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { FindReplaceState } from 'vs/editor/contrib/find/findState';\nimport { INotebookSearchOptions } from 'vs/workbench/contrib/notebook/common/notebookCommon';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { StartFindAction, StartFindReplaceAction } from 'vs/editor/contrib/find/findController';\nimport { EditorContextKeys } from 'vs/editor/common/editorContextKeys';\nimport { NLS_MATCHES_LOCATION, NLS_NO_RESULTS } from 'vs/editor/contrib/find/findWidget';\n\nconst FIND_HIDE_TRANSITION = 'find-hide-transition';\nconst FIND_SHOW_TRANSITION = 'find-show-transition';\nlet MAX_MATCHES_COUNT_WIDTH = 69;\n\n\nexport class NotebookFindWidget extends SimpleFindReplaceWidget implements INotebookEditorContribution {\n\tstatic id: string = 'workbench.notebook.find';\n\tprotected _findWidgetFocused: IContextKey<boolean>;\n\tprivate _findMatches: CellFindMatch[] = [];\n\tprotected _findMatchesStarts: PrefixSumComputer | null = null;\n\tprivate _currentMatch: number = -1;\n\tprivate _allMatchesDecorations: ICellModelDecorations[] = [];\n\tprivate _currentMatchDecorations: ICellModelDecorations[] = [];\n\tprivate _showTimeout: number | null = null;\n\tprivate _hideTimeout: number | null = null;\n\tprivate _previousFocusElement?: HTMLElement;\n\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditor,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\n\t) {\n\t\tsuper(contextViewService, contextKeyService, themeService, new FindReplaceState(), true);\n\t\tDOM.append(this._notebookEditor.getDomNode(), this.getDomNode());\n\n\t\tthis._findWidgetFocused = KEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED.bindTo(contextKeyService);\n\t\tthis._register(this._findInput.onKeyDown((e) => this._onFindInputKeyDown(e)));\n\t\tthis.updateTheme(themeService.getColorTheme());\n\t\tthis._register(themeService.onDidColorThemeChange(() => {\n\t\t\tthis.updateTheme(themeService.getColorTheme());\n\t\t}));\n\n\t\tthis._register(this._state.onFindReplaceStateChange(() => {\n\t\t\tthis.onInputChanged();\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(this.getDomNode(), DOM.EventType.FOCUS, e => {\n\t\t\tthis._previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n\t\t}, true));\n\t}\n\n\tprivate _onFindInputKeyDown(e: IKeyboardEvent): void {\n\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\tif (this._findMatches.length) {\n\t\t\t\tthis.find(false);\n\t\t\t} else {\n\t\t\t\tthis.set(null, true);\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t} else if (e.equals(KeyMod.Shift | KeyCode.Enter)) {\n\t\t\tif (this._findMatches.length) {\n\t\t\t\tthis.find(true);\n\t\t\t} else {\n\t\t\t\tthis.set(null, true);\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprotected onInputChanged(): boolean {\n\t\tconst val = this.inputValue;\n\t\tconst wordSeparators = this._configurationService.inspect<string>('editor.wordSeparators').value;\n\t\tconst options: INotebookSearchOptions = { regex: this._getRegexValue(), wholeWord: this._getWholeWordValue(), caseSensitive: this._getCaseSensitiveValue(), wordSeparators: wordSeparators };\n\t\tif (val) {\n\t\t\tthis._findMatches = this._notebookEditor.viewModel!.find(val, options).filter(match => match.matches.length > 0);\n\t\t\tthis.set(this._findMatches, false);\n\t\t\tif (this._findMatches.length) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.set([], false);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprotected find(previous: boolean): void {\n\t\tif (!this._findMatches.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// let currCell;\n\t\tif (!this._findMatchesStarts) {\n\t\t\tthis.set(this._findMatches, true);\n\t\t} else {\n\t\t\t// const currIndex = this._findMatchesStarts!.getIndexOf(this._currentMatch);\n\t\t\t// currCell = this._findMatches[currIndex.index].cell;\n\n\t\t\tconst totalVal = this._findMatchesStarts.getTotalValue();\n\t\t\tconst nextVal = (this._currentMatch + (previous ? -1 : 1) + totalVal) % totalVal;\n\t\t\tthis._currentMatch = nextVal;\n\t\t}\n\n\t\tconst nextIndex = this._findMatchesStarts!.getIndexOf(this._currentMatch);\n\t\t// const newFocusedCell = this._findMatches[nextIndex.index].cell;\n\t\tthis.setCurrentFindMatchDecoration(nextIndex.index, nextIndex.remainder);\n\t\tthis.revealCellRange(nextIndex.index, nextIndex.remainder);\n\n\t\tthis._state.changeMatchInfo(\n\t\t\tthis._currentMatch,\n\t\t\tthis._findMatches.reduce((p, c) => p + c.matches.length, 0),\n\t\t\tundefined\n\t\t);\n\n\t\t// if (currCell && currCell !== newFocusedCell && currCell.getEditState() === CellEditState.Editing && currCell.editStateSource === 'find') {\n\t\t// \tcurrCell.updateEditState(CellEditState.Preview, 'find');\n\t\t// }\n\t\t// this._updateMatchesCount();\n\t}\n\n\tprotected replaceOne() {\n\t\tif (!this._findMatches.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._findMatchesStarts) {\n\t\t\tthis.set(this._findMatches, true);\n\t\t}\n\n\t\tconst nextIndex = this._findMatchesStarts!.getIndexOf(this._currentMatch);\n\t\tconst cell = this._findMatches[nextIndex.index].cell;\n\t\tconst match = this._findMatches[nextIndex.index].matches[nextIndex.remainder];\n\n\t\tthis._progressBar.infinite().show();\n\n\t\tthis._notebookEditor.viewModel!.replaceOne(cell, match.range, this.replaceValue).then(() => {\n\t\t\tthis._progressBar.stop();\n\t\t});\n\t}\n\n\tprotected replaceAll() {\n\t\tthis._progressBar.infinite().show();\n\n\t\tthis._notebookEditor.viewModel!.replaceAll(this._findMatches, this.replaceValue).then(() => {\n\t\t\tthis._progressBar.stop();\n\t\t});\n\t}\n\n\tprivate revealCellRange(cellIndex: number, matchIndex: number) {\n\t\tthis._findMatches[cellIndex].cell.updateEditState(CellEditState.Editing, 'find');\n\t\tthis._notebookEditor.focusElement(this._findMatches[cellIndex].cell);\n\t\tthis._notebookEditor.setCellEditorSelection(this._findMatches[cellIndex].cell, this._findMatches[cellIndex].matches[matchIndex].range);\n\t\tthis._notebookEditor.revealRangeInCenterIfOutsideViewportAsync(this._findMatches[cellIndex].cell, this._findMatches[cellIndex].matches[matchIndex].range);\n\t}\n\n\tprotected findFirst(): void { }\n\n\tprotected onFocusTrackerFocus() {\n\t\tthis._findWidgetFocused.set(true);\n\t}\n\n\tprotected onFocusTrackerBlur() {\n\t\tthis._previousFocusElement = undefined;\n\t\tthis._findWidgetFocused.reset();\n\t}\n\n\tprotected onReplaceInputFocusTrackerFocus(): void {\n\t\t// throw new Error('Method not implemented.');\n\t}\n\tprotected onReplaceInputFocusTrackerBlur(): void {\n\t\t// throw new Error('Method not implemented.');\n\t}\n\n\tprotected onFindInputFocusTrackerFocus(): void { }\n\tprotected onFindInputFocusTrackerBlur(): void { }\n\n\tprivate constructFindMatchesStarts() {\n\t\tif (this._findMatches && this._findMatches.length) {\n\t\t\tconst values = new Uint32Array(this._findMatches.length);\n\t\t\tfor (let i = 0; i < this._findMatches.length; i++) {\n\t\t\t\tvalues[i] = this._findMatches[i].matches.length;\n\t\t\t}\n\n\t\t\tthis._findMatchesStarts = new PrefixSumComputer(values);\n\t\t} else {\n\t\t\tthis._findMatchesStarts = null;\n\t\t}\n\t}\n\n\tprivate set(cellFindMatches: CellFindMatch[] | null, autoStart: boolean): void {\n\t\tif (!cellFindMatches || !cellFindMatches.length) {\n\t\t\tthis._findMatches = [];\n\t\t\tthis.setAllFindMatchesDecorations([]);\n\n\t\t\tthis.constructFindMatchesStarts();\n\t\t\tthis._currentMatch = -1;\n\t\t\tthis.clearCurrentFindMatchDecoration();\n\t\t\treturn;\n\t\t}\n\n\t\t// all matches\n\t\tthis._findMatches = cellFindMatches;\n\t\tthis.setAllFindMatchesDecorations(cellFindMatches || []);\n\n\t\t// current match\n\t\tthis.constructFindMatchesStarts();\n\n\t\tif (autoStart) {\n\t\t\tthis._currentMatch = 0;\n\t\t\tthis.setCurrentFindMatchDecoration(0, 0);\n\t\t}\n\n\t\tthis._state.changeMatchInfo(\n\t\t\tthis._currentMatch,\n\t\t\tthis._findMatches.reduce((p, c) => p + c.matches.length, 0),\n\t\t\tundefined\n\t\t);\n\t}\n\n\tprivate setCurrentFindMatchDecoration(cellIndex: number, matchIndex: number) {\n\t\tthis._notebookEditor.changeModelDecorations(accessor => {\n\t\t\tconst findMatchesOptions: ModelDecorationOptions = FindDecorations._CURRENT_FIND_MATCH_DECORATION;\n\n\t\t\tconst cell = this._findMatches[cellIndex].cell;\n\t\t\tconst match = this._findMatches[cellIndex].matches[matchIndex];\n\t\t\tconst decorations: IModelDeltaDecoration[] = [\n\t\t\t\t{ range: match.range, options: findMatchesOptions }\n\t\t\t];\n\t\t\tconst deltaDecoration: ICellModelDeltaDecorations = {\n\t\t\t\townerId: cell.handle,\n\t\t\t\tdecorations: decorations\n\t\t\t};\n\n\t\t\tthis._currentMatchDecorations = accessor.deltaDecorations(this._currentMatchDecorations, [deltaDecoration]);\n\t\t});\n\t}\n\n\tprivate clearCurrentFindMatchDecoration() {\n\t\tthis._notebookEditor.changeModelDecorations(accessor => {\n\t\t\tthis._currentMatchDecorations = accessor.deltaDecorations(this._currentMatchDecorations, []);\n\t\t});\n\t}\n\n\tprivate setAllFindMatchesDecorations(cellFindMatches: CellFindMatch[]) {\n\t\tthis._notebookEditor.changeModelDecorations((accessor) => {\n\n\t\t\tconst findMatchesOptions: ModelDecorationOptions = FindDecorations._FIND_MATCH_DECORATION;\n\n\t\t\tconst deltaDecorations: ICellModelDeltaDecorations[] = cellFindMatches.map(cellFindMatch => {\n\t\t\t\tconst findMatches = cellFindMatch.matches;\n\n\t\t\t\t// Find matches\n\t\t\t\tconst newFindMatchesDecorations: IModelDeltaDecoration[] = new Array<IModelDeltaDecoration>(findMatches.length);\n\t\t\t\tfor (let i = 0, len = findMatches.length; i < len; i++) {\n\t\t\t\t\tnewFindMatchesDecorations[i] = {\n\t\t\t\t\t\trange: findMatches[i].range,\n\t\t\t\t\t\toptions: findMatchesOptions\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn { ownerId: cellFindMatch.cell.handle, decorations: newFindMatchesDecorations };\n\t\t\t});\n\n\t\t\tthis._allMatchesDecorations = accessor.deltaDecorations(this._allMatchesDecorations, deltaDecorations);\n\t\t});\n\t}\n\n\toverride show(initialInput?: string): void {\n\t\tsuper.show(initialInput);\n\t\tthis._findInput.select();\n\n\t\tif (this._showTimeout === null) {\n\t\t\tif (this._hideTimeout !== null) {\n\t\t\t\twindow.clearTimeout(this._hideTimeout);\n\t\t\t\tthis._hideTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}\n\n\t\t\tthis._notebookEditor.addClassName(FIND_SHOW_TRANSITION);\n\t\t\tthis._showTimeout = window.setTimeout(() => {\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t}, 200);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\t}\n\n\treplace(initialFindInput?: string, initialReplaceInput?: string) {\n\t\tsuper.showWithReplace(initialFindInput, initialReplaceInput);\n\t\tthis._replaceInput.select();\n\n\t\tif (this._showTimeout === null) {\n\t\t\tif (this._hideTimeout !== null) {\n\t\t\t\twindow.clearTimeout(this._hideTimeout);\n\t\t\t\tthis._hideTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}\n\n\t\t\tthis._notebookEditor.addClassName(FIND_SHOW_TRANSITION);\n\t\t\tthis._showTimeout = window.setTimeout(() => {\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t}, 200);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\t}\n\n\toverride hide() {\n\t\tsuper.hide();\n\t\tthis.set([], false);\n\n\t\tif (this._hideTimeout === null) {\n\t\t\tif (this._showTimeout !== null) {\n\t\t\t\twindow.clearTimeout(this._showTimeout);\n\t\t\t\tthis._showTimeout = null;\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_SHOW_TRANSITION);\n\t\t\t}\n\t\t\tthis._notebookEditor.addClassName(FIND_HIDE_TRANSITION);\n\t\t\tthis._hideTimeout = window.setTimeout(() => {\n\t\t\t\tthis._notebookEditor.removeClassName(FIND_HIDE_TRANSITION);\n\t\t\t}, 200);\n\t\t} else {\n\t\t\t// no op\n\t\t}\n\n\t\tif (this._previousFocusElement && this._previousFocusElement.offsetParent) {\n\t\t\tthis._previousFocusElement.focus();\n\t\t\tthis._previousFocusElement = undefined;\n\t\t}\n\n\t\tthis._notebookEditor.viewModel?.viewCells.forEach(cell => {\n\t\t\tif (cell.getEditState() === CellEditState.Editing && cell.editStateSource === 'find') {\n\t\t\t\tcell.updateEditState(CellEditState.Preview, 'find');\n\t\t\t}\n\t\t});\n\t}\n\n\toverride _updateMatchesCount(): void {\n\t\tif (!this._findMatches) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._matchesCount.style.minWidth = MAX_MATCHES_COUNT_WIDTH + 'px';\n\t\tthis._matchesCount.title = '';\n\n\t\t// remove previous content\n\t\tif (this._matchesCount.firstChild) {\n\t\t\tthis._matchesCount.removeChild(this._matchesCount.firstChild);\n\t\t}\n\n\t\tlet label: string;\n\n\t\tif (this._state.matchesCount > 0) {\n\t\t\tlet matchesCount: string = String(this._state.matchesCount);\n\t\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\t\tmatchesCount += '+';\n\t\t\t}\n\t\t\tlet matchesPosition: string = this._currentMatch < 0 ? '?' : String((this._currentMatch + 1));\n\t\t\tlabel = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\n\t\t} else {\n\t\t\tlabel = NLS_NO_RESULTS;\n\t\t}\n\n\t\tthis._matchesCount.appendChild(document.createTextNode(label));\n\n\t\talertFn(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString));\n\t\tMAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\n\t}\n\n\tprivate _getAriaLabel(label: string, currentMatch: Range | null, searchString: string): string {\n\t\tif (label === NLS_NO_RESULTS) {\n\t\t\treturn searchString === ''\n\t\t\t\t? localize('ariaSearchNoResultEmpty', \"{0} found\", label)\n\t\t\t\t: localize('ariaSearchNoResult', \"{0} found for '{1}'\", label, searchString);\n\t\t}\n\n\t\t// TODO@rebornix, aria for `cell ${index}, line {line}`\n\t\treturn localize('ariaSearchNoResultWithLineNumNoCurrentMatch', \"{0} found for '{1}'\", label, searchString);\n\t}\n\n\tclear() {\n\t\tthis._currentMatch = -1;\n\t\tthis._findMatches = [];\n\t}\n\n\toverride dispose() {\n\t\tthis._notebookEditor?.removeClassName(FIND_SHOW_TRANSITION);\n\t\tthis._notebookEditor?.removeClassName(FIND_HIDE_TRANSITION);\n\t\tsuper.dispose();\n\t}\n\n}\n\nregisterNotebookContribution(NotebookFindWidget.id, NotebookFindWidget);\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.hideFind',\n\t\t\ttitle: { value: localize('notebookActions.hideFind', \"Hide Find in Notebook\"), original: 'Hide Find in Notebook' },\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_EDITOR_FOCUSED, KEYBINDING_CONTEXT_NOTEBOOK_FIND_WIDGET_FOCUSED),\n\t\t\t\tprimary: KeyCode.Escape,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = editor.getContribution<NotebookFindWidget>(NotebookFindWidget.id);\n\t\tcontroller.hide();\n\t\teditor.focus();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.find',\n\t\t\ttitle: { value: localize('notebookActions.findInNotebook', \"Find in Notebook\"), original: 'Find in Notebook' },\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.or(NOTEBOOK_EDITOR_FOCUSED, ContextKeyExpr.and(NOTEBOOK_IS_ACTIVE_EDITOR, EditorContextKeys.focus.toNegated())),\n\t\t\t\tprimary: KeyCode.KEY_F | KeyMod.CtrlCmd,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = editor.getContribution<NotebookFindWidget>(NotebookFindWidget.id);\n\t\tcontroller.show();\n\t}\n});\n\nStartFindAction.addImplementation(100, (accessor: ServicesAccessor, args: any) => {\n\tconst editorService = accessor.get(IEditorService);\n\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\n\tif (!editor) {\n\t\treturn false;\n\t}\n\n\tconst controller = editor.getContribution<NotebookFindWidget>(NotebookFindWidget.id);\n\tcontroller.show();\n\treturn true;\n});\n\nStartFindReplaceAction.addImplementation(100, (accessor: ServicesAccessor, args: any) => {\n\tconst editorService = accessor.get(IEditorService);\n\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\n\tif (!editor) {\n\t\treturn false;\n\t}\n\n\tconst controller = editor.getContribution<NotebookFindWidget>(NotebookFindWidget.id);\n\tcontroller.replace();\n\treturn true;\n});\n"]}