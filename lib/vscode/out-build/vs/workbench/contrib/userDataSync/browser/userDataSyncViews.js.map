{"version":3,"sources":["vs/workbench/contrib/userDataSync/browser/userDataSyncViews.ts"],"names":[],"mappings":"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","file":"userDataSyncViews.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { IViewsRegistry, Extensions, ITreeViewDescriptor, ITreeViewDataProvider, ITreeItem, TreeItemCollapsibleState, TreeViewItemHandleArg, ViewContainer } from 'vs/workbench/common/views';\nimport { localize } from 'vs/nls';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { TreeView, TreeViewPane } from 'vs/workbench/browser/parts/views/treeView';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { ALL_SYNC_RESOURCES, SyncResource, IUserDataSyncService, ISyncResourceHandle as IResourceHandle, SyncStatus, IUserDataSyncResourceEnablementService, IUserDataAutoSyncService, UserDataSyncError, UserDataSyncErrorCode, IUserDataAutoSyncEnablementService } from 'vs/platform/userDataSync/common/userDataSync';\nimport { registerAction2, Action2, MenuId } from 'vs/platform/actions/common/actions';\nimport { ContextKeyExpr, ContextKeyEqualsExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { URI } from 'vs/base/common/uri';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { FolderThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { fromNow } from 'vs/base/common/date';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { Event } from 'vs/base/common/event';\nimport { Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { Action } from 'vs/base/common/actions';\nimport { IUserDataSyncWorkbenchService, CONTEXT_SYNC_STATE, getSyncAreaLabel, CONTEXT_ACCOUNT_STATE, AccountStatus, CONTEXT_ENABLE_ACTIVITY_VIEWS, SYNC_MERGES_VIEW_ID, CONTEXT_ENABLE_SYNC_MERGES_VIEW, SYNC_TITLE } from 'vs/workbench/services/userDataSync/common/userDataSync';\nimport { IUserDataSyncMachinesService, IUserDataSyncMachine } from 'vs/platform/userDataSync/common/userDataSyncMachines';\nimport { IQuickInputService } from 'vs/platform/quickinput/common/quickInput';\nimport { INotificationService, Severity } from 'vs/platform/notification/common/notification';\nimport { flatten } from 'vs/base/common/arrays';\nimport { UserDataSyncMergesViewPane } from 'vs/workbench/contrib/userDataSync/browser/userDataSyncMergesView';\nimport { basename } from 'vs/base/common/resources';\nimport { API_OPEN_DIFF_EDITOR_COMMAND_ID } from 'vs/workbench/browser/parts/editor/editorCommands';\n\nexport class UserDataSyncDataViews extends Disposable {\n\n\tconstructor(\n\t\tcontainer: ViewContainer,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IUserDataSyncResourceEnablementService private readonly userDataSyncResourceEnablementService: IUserDataSyncResourceEnablementService,\n\t\t@IUserDataSyncMachinesService private readonly userDataSyncMachinesService: IUserDataSyncMachinesService,\n\t\t@IUserDataSyncService private readonly userDataSyncService: IUserDataSyncService,\n\t) {\n\t\tsuper();\n\t\tthis.registerViews(container);\n\t}\n\n\tprivate registerViews(container: ViewContainer): void {\n\t\tthis.registerMergesView(container);\n\n\t\tthis.registerActivityView(container, true);\n\t\tthis.registerMachinesView(container);\n\n\t\tthis.registerActivityView(container, false);\n\t}\n\n\tprivate registerMergesView(container: ViewContainer): void {\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tconst viewName = localize('merges', \"Merges\");\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid: SYNC_MERGES_VIEW_ID,\n\t\t\tname: viewName,\n\t\t\tctorDescriptor: new SyncDescriptor(UserDataSyncMergesViewPane),\n\t\t\twhen: CONTEXT_ENABLE_SYNC_MERGES_VIEW,\n\t\t\tcanToggleVisibility: false,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView: this.instantiationService.createInstance(TreeView, SYNC_MERGES_VIEW_ID, viewName),\n\t\t\tcollapsed: false,\n\t\t\torder: 100,\n\t\t}], container);\n\t}\n\n\tprivate registerMachinesView(container: ViewContainer): void {\n\t\tconst id = `workbench.views.sync.machines`;\n\t\tconst name = localize('synced machines', \"Synced Machines\");\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, id, name);\n\t\tconst dataProvider = this.instantiationService.createInstance(UserDataSyncMachinesViewDataProvider, treeView);\n\t\ttreeView.showRefreshAction = true;\n\t\tconst disposable = treeView.onDidChangeVisibility(visible => {\n\t\t\tif (visible && !treeView.dataProvider) {\n\t\t\t\tdisposable.dispose();\n\t\t\t\ttreeView.dataProvider = dataProvider;\n\t\t\t}\n\t\t});\n\t\tthis._register(Event.any(this.userDataSyncMachinesService.onDidChange, this.userDataSyncService.onDidResetRemote)(() => treeView.refresh()));\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid,\n\t\t\tname,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_ENABLE_ACTIVITY_VIEWS),\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\torder: 300,\n\t\t}], container);\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.editMachineName`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.editMachineName', \"Edit Name\"),\n\t\t\t\t\ticon: Codicon.edit,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyEqualsExpr.create('view', id)),\n\t\t\t\t\t\tgroup: 'inline',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst changed = await dataProvider.rename(handle.$treeItemHandle);\n\t\t\t\tif (changed) {\n\t\t\t\t\tawait treeView.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.turnOffSyncOnMachine`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.turnOffSyncOnMachine', \"Turn off Settings Sync\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyEqualsExpr.create('view', id), ContextKeyEqualsExpr.create('viewItem', 'sync-machine')),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tif (await dataProvider.disable(handle.$treeItemHandle)) {\n\t\t\t\t\tawait treeView.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\tprivate registerActivityView(container: ViewContainer, remote: boolean): void {\n\t\tconst id = `workbench.views.sync.${remote ? 'remote' : 'local'}Activity`;\n\t\tconst name = remote ? localize('remote sync activity title', \"Sync Activity (Remote)\") : localize('local sync activity title', \"Sync Activity (Local)\");\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, id, name);\n\t\ttreeView.showCollapseAllAction = true;\n\t\ttreeView.showRefreshAction = true;\n\t\tconst disposable = treeView.onDidChangeVisibility(visible => {\n\t\t\tif (visible && !treeView.dataProvider) {\n\t\t\t\tdisposable.dispose();\n\t\t\t\ttreeView.dataProvider = remote ? this.instantiationService.createInstance(RemoteUserDataSyncActivityViewDataProvider)\n\t\t\t\t\t: this.instantiationService.createInstance(LocalUserDataSyncActivityViewDataProvider);\n\t\t\t}\n\t\t});\n\t\tthis._register(Event.any(this.userDataSyncResourceEnablementService.onDidChangeResourceEnablement,\n\t\t\tthis.userDataAutoSyncEnablementService.onDidChangeEnablement,\n\t\t\tthis.userDataSyncService.onDidResetLocal,\n\t\t\tthis.userDataSyncService.onDidResetRemote)(() => treeView.refresh()));\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid,\n\t\t\tname,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_ENABLE_ACTIVITY_VIEWS),\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\torder: remote ? 200 : 400,\n\t\t\thideByDefault: !remote,\n\t\t}], container);\n\n\t\tthis.registerDataViewActions(id);\n\t}\n\n\tprivate registerDataViewActions(viewId: string) {\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.resolveResource`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.resolveResourceRef', \"Show raw JSON sync data\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyEqualsExpr.create('view', viewId), ContextKeyExpr.regex('viewItem', /sync-resource-.*/i))\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst { resource } = <{ resource: string }>JSON.parse(handle.$treeItemHandle);\n\t\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\t\tawait editorService.openEditor({ resource: URI.parse(resource), options: { pinned: true } });\n\t\t\t}\n\t\t});\n\n\t\tregisterAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.sync.replaceCurrent`,\n\t\t\t\t\ttitle: localize('workbench.actions.sync.replaceCurrent', \"Restore\"),\n\t\t\t\t\ticon: Codicon.discard,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyEqualsExpr.create('view', viewId), ContextKeyExpr.regex('viewItem', /sync-resource-.*/i)),\n\t\t\t\t\t\tgroup: 'inline',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\t\tconst userDataSyncService = accessor.get(IUserDataSyncService);\n\t\t\t\tconst { resource, syncResource } = <{ resource: string, syncResource: SyncResource }>JSON.parse(handle.$treeItemHandle);\n\t\t\t\tconst result = await dialogService.confirm({\n\t\t\t\t\tmessage: localize({ key: 'confirm replace', comment: ['A confirmation message to replace current user data (settings, extensions, keybindings, snippets) with selected version'] }, \"Would you like to replace your current {0} with selected?\", getSyncAreaLabel(syncResource)),\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\ttitle: SYNC_TITLE\n\t\t\t\t});\n\t\t\t\tif (result.confirmed) {\n\t\t\t\t\treturn userDataSyncService.replace(URI.parse(resource));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n}\n\ninterface ISyncResourceHandle extends IResourceHandle {\n\tsyncResource: SyncResource\n}\n\ninterface SyncResourceHandleTreeItem extends ITreeItem {\n\tsyncResourceHandle: ISyncResourceHandle;\n}\n\nabstract class UserDataSyncActivityViewDataProvider implements ITreeViewDataProvider {\n\n\tprivate syncResourceHandlesPromise: Promise<ISyncResourceHandle[]> | undefined;\n\n\tconstructor(\n\t\t@IUserDataSyncService protected readonly userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataAutoSyncService protected readonly userDataAutoSyncService: IUserDataAutoSyncService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t) { }\n\n\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\ttry {\n\t\t\tif (!element) {\n\t\t\t\treturn await this.getRoots();\n\t\t\t}\n\t\t\tif ((<SyncResourceHandleTreeItem>element).syncResourceHandle) {\n\t\t\t\treturn await this.getChildrenForSyncResourceTreeItem(<SyncResourceHandleTreeItem>element);\n\t\t\t}\n\t\t\treturn [];\n\t\t} catch (error) {\n\t\t\tif (!(error instanceof UserDataSyncError)) {\n\t\t\t\terror = UserDataSyncError.toUserDataSyncError(error);\n\t\t\t}\n\t\t\tif (error instanceof UserDataSyncError && error.code === UserDataSyncErrorCode.IncompatibleRemoteContent) {\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Error,\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tprimary: [\n\t\t\t\t\t\t\tnew Action('reset', localize('reset', \"Reset Synced Data\"), undefined, true, () => this.userDataSyncWorkbenchService.resetSyncedData()),\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.notificationService.error(error);\n\t\t\t}\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tprivate async getRoots(): Promise<SyncResourceHandleTreeItem[]> {\n\t\tthis.syncResourceHandlesPromise = undefined;\n\n\t\tconst syncResourceHandles = await this.getSyncResourceHandles();\n\n\t\treturn syncResourceHandles.map(syncResourceHandle => {\n\t\t\tconst handle = JSON.stringify({ resource: syncResourceHandle.uri.toString(), syncResource: syncResourceHandle.syncResource });\n\t\t\treturn {\n\t\t\t\thandle,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tlabel: { label: getSyncAreaLabel(syncResourceHandle.syncResource) },\n\t\t\t\tdescription: fromNow(syncResourceHandle.created, true),\n\t\t\t\tthemeIcon: FolderThemeIcon,\n\t\t\t\tsyncResourceHandle,\n\t\t\t\tcontextValue: `sync-resource-${syncResourceHandle.syncResource}`\n\t\t\t};\n\t\t});\n\t}\n\n\tprotected async getChildrenForSyncResourceTreeItem(element: SyncResourceHandleTreeItem): Promise<ITreeItem[]> {\n\t\tconst associatedResources = await this.userDataSyncService.getAssociatedResources((<SyncResourceHandleTreeItem>element).syncResourceHandle.syncResource, (<SyncResourceHandleTreeItem>element).syncResourceHandle);\n\t\treturn associatedResources.map(({ resource, comparableResource }) => {\n\t\t\tconst handle = JSON.stringify({ resource: resource.toString(), comparableResource: comparableResource.toString() });\n\t\t\tconst leftResourceName = localize({ key: 'leftResourceName', comment: ['remote as in file in cloud'] }, \"{0} (Remote)\", basename(resource));\n\t\t\tconst rightResourceName = localize({ key: 'rightResourceName', comment: ['local as in file in disk'] }, \"{0} (Local)\", basename(comparableResource));\n\t\t\treturn {\n\t\t\t\thandle,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\tresourceUri: resource,\n\t\t\t\tcommand: { id: API_OPEN_DIFF_EDITOR_COMMAND_ID, title: '', arguments: [resource, comparableResource, localize('sideBySideLabels', \"{0} ↔ {1}\", leftResourceName, rightResourceName), undefined] },\n\t\t\t\tcontextValue: `sync-associatedResource-${(<SyncResourceHandleTreeItem>element).syncResourceHandle.syncResource}`\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate getSyncResourceHandles(): Promise<ISyncResourceHandle[]> {\n\t\tif (this.syncResourceHandlesPromise === undefined) {\n\t\t\tthis.syncResourceHandlesPromise = Promise.all(ALL_SYNC_RESOURCES.map(async syncResource => {\n\t\t\t\tconst resourceHandles = await this.getResourceHandles(syncResource);\n\t\t\t\treturn resourceHandles.map(resourceHandle => ({ ...resourceHandle, syncResource }));\n\t\t\t})).then(result => flatten(result).sort((a, b) => b.created - a.created));\n\t\t}\n\t\treturn this.syncResourceHandlesPromise;\n\t}\n\n\tprotected abstract getResourceHandles(syncResource: SyncResource): Promise<IResourceHandle[]>;\n}\n\nclass LocalUserDataSyncActivityViewDataProvider extends UserDataSyncActivityViewDataProvider {\n\n\tprotected getResourceHandles(syncResource: SyncResource): Promise<IResourceHandle[]> {\n\t\treturn this.userDataSyncService.getLocalSyncResourceHandles(syncResource);\n\t}\n}\n\nclass RemoteUserDataSyncActivityViewDataProvider extends UserDataSyncActivityViewDataProvider {\n\n\tprivate machinesPromise: Promise<IUserDataSyncMachine[]> | undefined;\n\n\tconstructor(\n\t\t@IUserDataSyncService userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataAutoSyncService userDataAutoSyncService: IUserDataAutoSyncService,\n\t\t@IUserDataSyncMachinesService private readonly userDataSyncMachinesService: IUserDataSyncMachinesService,\n\t\t@IUserDataSyncWorkbenchService userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@INotificationService notificationService: INotificationService,\n\t) {\n\t\tsuper(userDataSyncService, userDataAutoSyncService, userDataSyncWorkbenchService, notificationService);\n\t}\n\n\toverride async getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\tthis.machinesPromise = undefined;\n\t\t}\n\t\treturn super.getChildren(element);\n\t}\n\n\tprivate getMachines(): Promise<IUserDataSyncMachine[]> {\n\t\tif (this.machinesPromise === undefined) {\n\t\t\tthis.machinesPromise = this.userDataSyncMachinesService.getMachines();\n\t\t}\n\t\treturn this.machinesPromise;\n\t}\n\n\tprotected getResourceHandles(syncResource: SyncResource): Promise<IResourceHandle[]> {\n\t\treturn this.userDataSyncService.getRemoteSyncResourceHandles(syncResource);\n\t}\n\n\tprotected override async getChildrenForSyncResourceTreeItem(element: SyncResourceHandleTreeItem): Promise<ITreeItem[]> {\n\t\tconst children = await super.getChildrenForSyncResourceTreeItem(element);\n\t\tif (children.length) {\n\t\t\tconst machineId = await this.userDataSyncService.getMachineId(element.syncResourceHandle.syncResource, element.syncResourceHandle);\n\t\t\tif (machineId) {\n\t\t\t\tconst machines = await this.getMachines();\n\t\t\t\tconst machine = machines.find(({ id }) => id === machineId);\n\t\t\t\tchildren[0].description = machine?.isCurrent ? localize({ key: 'current', comment: ['Represents current machine'] }, \"Current\") : machine?.name;\n\t\t\t}\n\t\t}\n\t\treturn children;\n\t}\n}\n\nclass UserDataSyncMachinesViewDataProvider implements ITreeViewDataProvider {\n\n\tprivate machinesPromise: Promise<IUserDataSyncMachine[]> | undefined;\n\n\tconstructor(\n\t\tprivate readonly treeView: TreeView,\n\t\t@IUserDataSyncMachinesService private readonly userDataSyncMachinesService: IUserDataSyncMachinesService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t) {\n\t}\n\n\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\tthis.machinesPromise = undefined;\n\t\t}\n\t\ttry {\n\t\t\tlet machines = await this.getMachines();\n\t\t\tmachines = machines.filter(m => !m.disabled).sort((m1, m2) => m1.isCurrent ? -1 : 1);\n\t\t\tthis.treeView.message = machines.length ? undefined : localize('no machines', \"No Machines\");\n\t\t\treturn machines.map(({ id, name, isCurrent }) => ({\n\t\t\t\thandle: id,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\tlabel: { label: name },\n\t\t\t\tdescription: isCurrent ? localize({ key: 'current', comment: ['Current machine'] }, \"Current\") : undefined,\n\t\t\t\tthemeIcon: Codicon.vm,\n\t\t\t\tcontextValue: 'sync-machine'\n\t\t\t}));\n\t\t} catch (error) {\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate getMachines(): Promise<IUserDataSyncMachine[]> {\n\t\tif (this.machinesPromise === undefined) {\n\t\t\tthis.machinesPromise = this.userDataSyncMachinesService.getMachines();\n\t\t}\n\t\treturn this.machinesPromise;\n\t}\n\n\tasync disable(machineId: string): Promise<boolean> {\n\t\tconst machines = await this.getMachines();\n\t\tconst machine = machines.find(({ id }) => id === machineId);\n\t\tif (!machine) {\n\t\t\tthrow new Error(localize('not found', \"machine not found with id: {0}\", machineId));\n\t\t}\n\n\t\tconst result = await this.dialogService.confirm({\n\t\t\ttype: 'info',\n\t\t\tmessage: localize('turn off sync on machine', \"Are you sure you want to turn off sync on {0}?\", machine.name),\n\t\t\tprimaryButton: localize({ key: 'turn off', comment: ['&& denotes a mnemonic'] }, \"&&Turn off\"),\n\t\t});\n\n\t\tif (!result.confirmed) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (machine.isCurrent) {\n\t\t\tawait this.userDataSyncWorkbenchService.turnoff(false);\n\t\t} else {\n\t\t\tawait this.userDataSyncMachinesService.setEnablement(machineId, false);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tasync rename(machineId: string): Promise<boolean> {\n\t\tconst disposableStore = new DisposableStore();\n\t\tconst inputBox = disposableStore.add(this.quickInputService.createInputBox());\n\t\tinputBox.placeholder = localize('placeholder', \"Enter the name of the machine\");\n\t\tinputBox.busy = true;\n\t\tinputBox.show();\n\t\tconst machines = await this.getMachines();\n\t\tconst machine = machines.find(({ id }) => id === machineId);\n\t\tif (!machine) {\n\t\t\tinputBox.hide();\n\t\t\tdisposableStore.dispose();\n\t\t\tthrow new Error(localize('not found', \"machine not found with id: {0}\", machineId));\n\t\t}\n\t\tinputBox.busy = false;\n\t\tinputBox.value = machine.name;\n\t\tconst validateMachineName = (machineName: string): string | null => {\n\t\t\tmachineName = machineName.trim();\n\t\t\treturn machineName && !machines.some(m => m.id !== machineId && m.name === machineName) ? machineName : null;\n\t\t};\n\t\tdisposableStore.add(inputBox.onDidChangeValue(() =>\n\t\t\tinputBox.validationMessage = validateMachineName(inputBox.value) ? '' : localize('valid message', \"Machine name should be unique and not empty\")));\n\t\treturn new Promise<boolean>((c, e) => {\n\t\t\tdisposableStore.add(inputBox.onDidAccept(async () => {\n\t\t\t\tconst machineName = validateMachineName(inputBox.value);\n\t\t\t\tdisposableStore.dispose();\n\t\t\t\tif (machineName && machineName !== machine.name) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this.userDataSyncMachinesService.renameMachine(machineId, machineName);\n\t\t\t\t\t\tc(true);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\te(error);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tc(false);\n\t\t\t\t}\n\t\t\t}));\n\t\t});\n\t}\n}\n"]}