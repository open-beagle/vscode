{"version":3,"sources":["vs/workbench/contrib/userDataSync/browser/userDataSync.ts"],"names":[],"mappings":"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","file":"userDataSync.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Action } from 'vs/base/common/actions';\nimport { getErrorMessage, isPromiseCanceledError } from 'vs/base/common/errors';\nimport { Event } from 'vs/base/common/event';\nimport { Disposable, DisposableStore, dispose, MutableDisposable, toDisposable, IDisposable } from 'vs/base/common/lifecycle';\nimport { isEqual, basename } from 'vs/base/common/resources';\nimport { URI } from 'vs/base/common/uri';\nimport type { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { registerEditorContribution, ServicesAccessor } from 'vs/editor/browser/editorExtensions';\nimport type { IEditorContribution } from 'vs/editor/common/editorCommon';\nimport type { ITextModel } from 'vs/editor/common/model';\nimport { IModelService } from 'vs/editor/common/services/modelService';\nimport { IModeService } from 'vs/editor/common/services/modeService';\nimport { ITextModelContentProvider, ITextModelService } from 'vs/editor/common/services/resolverService';\nimport { localize } from 'vs/nls';\nimport { MenuId, MenuRegistry, registerAction2, Action2 } from 'vs/platform/actions/common/actions';\nimport { CommandsRegistry, ICommandService } from 'vs/platform/commands/common/commands';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ContextKeyEqualsExpr, ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { INotificationService, Severity } from 'vs/platform/notification/common/notification';\nimport { IQuickInputService, IQuickPickItem, IQuickPickSeparator } from 'vs/platform/quickinput/common/quickInput';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport {\n\tIUserDataAutoSyncService, IUserDataSyncService, registerConfiguration,\n\tSyncResource, SyncStatus, UserDataSyncError, UserDataSyncErrorCode, USER_DATA_SYNC_SCHEME, IUserDataSyncResourceEnablementService,\n\tgetSyncResourceFromLocalPreview, IResourcePreview, IUserDataSyncStoreManagementService, UserDataSyncStoreType, IUserDataSyncStore, IUserDataAutoSyncEnablementService\n} from 'vs/platform/userDataSync/common/userDataSync';\nimport { FloatingClickWidget } from 'vs/workbench/browser/codeeditor';\nimport { IWorkbenchContribution } from 'vs/workbench/common/contributions';\nimport { IEditorInput, EditorResourceAccessor, SideBySideEditor } from 'vs/workbench/common/editor';\nimport { DiffEditorInput } from 'vs/workbench/common/editor/diffEditorInput';\nimport * as Constants from 'vs/workbench/contrib/logs/common/logConstants';\nimport { IOutputService } from 'vs/workbench/contrib/output/common/output';\nimport { IActivityService, IBadge, NumberBadge, ProgressBadge } from 'vs/workbench/services/activity/common/activity';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IWorkbenchEnvironmentService } from 'vs/workbench/services/environment/common/environmentService';\nimport { IPreferencesService } from 'vs/workbench/services/preferences/common/preferences';\nimport { IUserDataSyncAccountService } from 'vs/platform/userDataSync/common/userDataSyncAccount';\nimport { fromNow } from 'vs/base/common/date';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IAuthenticationService } from 'vs/workbench/services/authentication/browser/authenticationService';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { ViewContainerLocation, IViewContainersRegistry, Extensions, ViewContainer } from 'vs/workbench/common/views';\nimport { UserDataSyncDataViews } from 'vs/workbench/contrib/userDataSync/browser/userDataSyncViews';\nimport { IUserDataSyncWorkbenchService, getSyncAreaLabel, AccountStatus, CONTEXT_SYNC_STATE, CONTEXT_SYNC_ENABLEMENT, CONTEXT_ACCOUNT_STATE, CONFIGURE_SYNC_COMMAND_ID, SHOW_SYNC_LOG_COMMAND_ID, SYNC_VIEW_CONTAINER_ID, SYNC_TITLE, SYNC_VIEW_ICON } from 'vs/workbench/services/userDataSync/common/userDataSync';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { ViewPaneContainer } from 'vs/workbench/browser/parts/views/viewPaneContainer';\n\nconst CONTEXT_CONFLICTS_SOURCES = new RawContextKey<string>('conflictsSources', '');\n\ntype ConfigureSyncQuickPickItem = { id: SyncResource, label: string, description?: string };\n\ntype SyncConflictsClassification = {\n\tsource: { classification: 'SystemMetaData', purpose: 'FeatureInsight', isMeasurement: true };\n\taction?: { classification: 'SystemMetaData', purpose: 'FeatureInsight', isMeasurement: true };\n};\n\nconst turnOnSyncCommand = { id: 'workbench.userDataSync.actions.turnOn', title: localize('turn on sync with category', \"{0}: Turn On...\", SYNC_TITLE) };\nconst turnOffSyncCommand = { id: 'workbench.userDataSync.actions.turnOff', title: localize('stop sync', \"{0}: Turn Off\", SYNC_TITLE) };\nconst configureSyncCommand = { id: CONFIGURE_SYNC_COMMAND_ID, title: localize('configure sync', \"{0}: Configure...\", SYNC_TITLE) };\nconst resolveSettingsConflictsCommand = { id: 'workbench.userDataSync.actions.resolveSettingsConflicts', title: localize('showConflicts', \"{0}: Show Settings Conflicts\", SYNC_TITLE) };\nconst resolveKeybindingsConflictsCommand = { id: 'workbench.userDataSync.actions.resolveKeybindingsConflicts', title: localize('showKeybindingsConflicts', \"{0}: Show Keybindings Conflicts\", SYNC_TITLE) };\nconst resolveSnippetsConflictsCommand = { id: 'workbench.userDataSync.actions.resolveSnippetsConflicts', title: localize('showSnippetsConflicts', \"{0}: Show User Snippets Conflicts\", SYNC_TITLE) };\nconst syncNowCommand = {\n\tid: 'workbench.userDataSync.actions.syncNow',\n\ttitle: localize('sync now', \"{0}: Sync Now\", SYNC_TITLE),\n\tdescription(userDataSyncService: IUserDataSyncService): string | undefined {\n\t\tif (userDataSyncService.status === SyncStatus.Syncing) {\n\t\t\treturn localize('syncing', \"syncing\");\n\t\t}\n\t\tif (userDataSyncService.lastSyncTime) {\n\t\t\treturn localize('synced with time', \"synced {0}\", fromNow(userDataSyncService.lastSyncTime, true));\n\t\t}\n\t\treturn undefined;\n\t}\n};\nconst showSyncSettingsCommand = { id: 'workbench.userDataSync.actions.settings', title: localize('sync settings', \"{0}: Show Settings\", SYNC_TITLE), };\nconst showSyncedDataCommand = { id: 'workbench.userDataSync.actions.showSyncedData', title: localize('show synced data', \"{0}: Show Synced Data\", SYNC_TITLE), };\n\nconst CONTEXT_TURNING_ON_STATE = new RawContextKey<false>('userDataSyncTurningOn', false);\n\nexport class UserDataSyncWorkbenchContribution extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly turningOnSyncContext: IContextKey<boolean>;\n\tprivate readonly conflictsSources: IContextKey<string>;\n\n\tprivate readonly globalActivityBadgeDisposable = this._register(new MutableDisposable());\n\tprivate readonly accountBadgeDisposable = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\t@IUserDataSyncResourceEnablementService private readonly userDataSyncResourceEnablementService: IUserDataSyncResourceEnablementService,\n\t\t@IUserDataSyncService private readonly userDataSyncService: IUserDataSyncService,\n\t\t@IUserDataSyncWorkbenchService private readonly userDataSyncWorkbenchService: IUserDataSyncWorkbenchService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IActivityService private readonly activityService: IActivityService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IOutputService private readonly outputService: IOutputService,\n\t\t@IUserDataSyncAccountService readonly authTokenService: IUserDataSyncAccountService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IUserDataAutoSyncService userDataAutoSyncService: IUserDataAutoSyncService,\n\t\t@ITextModelService textModelResolverService: ITextModelService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IAuthenticationService private readonly authenticationService: IAuthenticationService,\n\t\t@IUserDataSyncStoreManagementService private readonly userDataSyncStoreManagementService: IUserDataSyncStoreManagementService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\tthis.turningOnSyncContext = CONTEXT_TURNING_ON_STATE.bindTo(contextKeyService);\n\t\tthis.conflictsSources = CONTEXT_CONFLICTS_SOURCES.bindTo(contextKeyService);\n\n\t\tif (userDataSyncWorkbenchService.enabled) {\n\t\t\tregisterConfiguration();\n\n\t\t\tthis.updateAccountBadge();\n\t\t\tthis.updateGlobalActivityBadge();\n\t\t\tthis.onDidChangeConflicts(this.userDataSyncService.conflicts);\n\n\t\t\tthis._register(Event.any(\n\t\t\t\tEvent.debounce(userDataSyncService.onDidChangeStatus, () => undefined, 500),\n\t\t\t\tthis.userDataAutoSyncEnablementService.onDidChangeEnablement,\n\t\t\t\tthis.userDataSyncWorkbenchService.onDidChangeAccountStatus\n\t\t\t)(() => {\n\t\t\t\tthis.updateAccountBadge();\n\t\t\t\tthis.updateGlobalActivityBadge();\n\t\t\t}));\n\t\t\tthis._register(userDataSyncService.onDidChangeConflicts(() => this.onDidChangeConflicts(this.userDataSyncService.conflicts)));\n\t\t\tthis._register(userDataAutoSyncEnablementService.onDidChangeEnablement(() => this.onDidChangeConflicts(this.userDataSyncService.conflicts)));\n\t\t\tthis._register(userDataSyncService.onSyncErrors(errors => this.onSynchronizerErrors(errors)));\n\t\t\tthis._register(userDataAutoSyncService.onError(error => this.onAutoSyncError(error)));\n\n\t\t\tthis.registerActions();\n\t\t\tthis.registerViews();\n\n\t\t\ttextModelResolverService.registerTextModelContentProvider(USER_DATA_SYNC_SCHEME, instantiationService.createInstance(UserDataRemoteContentProvider));\n\t\t\tregisterEditorContribution(AcceptChangesContribution.ID, AcceptChangesContribution);\n\n\t\t\tthis._register(Event.any(userDataSyncService.onDidChangeStatus, userDataAutoSyncEnablementService.onDidChangeEnablement)\n\t\t\t\t(() => this.turningOnSync = !userDataAutoSyncEnablementService.isEnabled() && userDataSyncService.status !== SyncStatus.Idle));\n\t\t}\n\t}\n\n\tprivate get turningOnSync(): boolean {\n\t\treturn !!this.turningOnSyncContext.get();\n\t}\n\n\tprivate set turningOnSync(turningOn: boolean) {\n\t\tthis.turningOnSyncContext.set(turningOn);\n\t\tthis.updateGlobalActivityBadge();\n\t}\n\n\tprivate readonly conflictsDisposables = new Map<SyncResource, IDisposable>();\n\tprivate onDidChangeConflicts(conflicts: [SyncResource, IResourcePreview[]][]) {\n\t\tif (!this.userDataAutoSyncEnablementService.isEnabled()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.updateGlobalActivityBadge();\n\t\tif (conflicts.length) {\n\t\t\tconst conflictsSources: SyncResource[] = conflicts.map(([syncResource]) => syncResource);\n\t\t\tthis.conflictsSources.set(conflictsSources.join(','));\n\t\t\tif (conflictsSources.indexOf(SyncResource.Snippets) !== -1) {\n\t\t\t\tthis.registerShowSnippetsConflictsAction();\n\t\t\t}\n\n\t\t\t// Clear and dispose conflicts those were cleared\n\t\t\tthis.conflictsDisposables.forEach((disposable, conflictsSource) => {\n\t\t\t\tif (conflictsSources.indexOf(conflictsSource) === -1) {\n\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\tthis.conflictsDisposables.delete(conflictsSource);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (const [syncResource, conflicts] of this.userDataSyncService.conflicts) {\n\t\t\t\tconst conflictsEditorInputs = this.getConflictsEditorInputs(syncResource);\n\n\t\t\t\t// close stale conflicts editor previews\n\t\t\t\tif (conflictsEditorInputs.length) {\n\t\t\t\t\tconflictsEditorInputs.forEach(input => {\n\t\t\t\t\t\tif (!conflicts.some(({ previewResource }) => isEqual(previewResource, input.primary.resource))) {\n\t\t\t\t\t\t\tinput.dispose();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Show conflicts notification if not shown before\n\t\t\t\telse if (!this.conflictsDisposables.has(syncResource)) {\n\t\t\t\t\tconst conflictsArea = getSyncAreaLabel(syncResource);\n\t\t\t\t\tconst handle = this.notificationService.prompt(Severity.Warning, localize('conflicts detected', \"Unable to sync due to conflicts in {0}. Please resolve them to continue.\", conflictsArea.toLowerCase()),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: localize('replace remote', \"Replace Remote\"),\n\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\tthis.telemetryService.publicLog2<{ source: string, action: string }, SyncConflictsClassification>('sync/handleConflicts', { source: syncResource, action: 'acceptLocal' });\n\t\t\t\t\t\t\t\t\tthis.acceptLocal(syncResource, conflicts);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: localize('replace local', \"Replace Local\"),\n\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\tthis.telemetryService.publicLog2<{ source: string, action: string }, SyncConflictsClassification>('sync/handleConflicts', { source: syncResource, action: 'acceptRemote' });\n\t\t\t\t\t\t\t\t\tthis.acceptRemote(syncResource, conflicts);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: localize('show conflicts', \"Show Conflicts\"),\n\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\tthis.telemetryService.publicLog2<{ source: string, action?: string }, SyncConflictsClassification>('sync/showConflicts', { source: syncResource });\n\t\t\t\t\t\t\t\t\tthis.handleConflicts([syncResource, conflicts]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsticky: true\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tthis.conflictsDisposables.set(syncResource, toDisposable(() => {\n\n\t\t\t\t\t\t// close the conflicts warning notification\n\t\t\t\t\t\thandle.close();\n\n\t\t\t\t\t\t// close opened conflicts editor previews\n\t\t\t\t\t\tconst conflictsEditorInputs = this.getConflictsEditorInputs(syncResource);\n\t\t\t\t\t\tif (conflictsEditorInputs.length) {\n\t\t\t\t\t\t\tconflictsEditorInputs.forEach(input => input.dispose());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.conflictsDisposables.delete(syncResource);\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.conflictsSources.reset();\n\t\t\tthis.getAllConflictsEditorInputs().forEach(input => input.dispose());\n\t\t\tthis.conflictsDisposables.forEach(disposable => disposable.dispose());\n\t\t\tthis.conflictsDisposables.clear();\n\t\t}\n\t}\n\n\tprivate async acceptRemote(syncResource: SyncResource, conflicts: IResourcePreview[]) {\n\t\ttry {\n\t\t\tfor (const conflict of conflicts) {\n\t\t\t\tawait this.userDataSyncService.accept(syncResource, conflict.remoteResource, undefined, this.userDataAutoSyncEnablementService.isEnabled());\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthis.notificationService.error(localize('accept failed', \"Error while accepting changes. Please check [logs]({0}) for more details.\", `command:${SHOW_SYNC_LOG_COMMAND_ID}`));\n\t\t}\n\t}\n\n\tprivate async acceptLocal(syncResource: SyncResource, conflicts: IResourcePreview[]): Promise<void> {\n\t\ttry {\n\t\t\tfor (const conflict of conflicts) {\n\t\t\t\tawait this.userDataSyncService.accept(syncResource, conflict.localResource, undefined, this.userDataAutoSyncEnablementService.isEnabled());\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthis.notificationService.error(localize('accept failed', \"Error while accepting changes. Please check [logs]({0}) for more details.\", `command:${SHOW_SYNC_LOG_COMMAND_ID}`));\n\t\t}\n\t}\n\n\tprivate onAutoSyncError(error: UserDataSyncError): void {\n\t\tswitch (error.code) {\n\t\t\tcase UserDataSyncErrorCode.SessionExpired:\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Info,\n\t\t\t\t\tmessage: localize('session expired', \"Settings sync was turned off because current session is expired, please sign in again to turn on sync.\"),\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tprimary: [new Action('turn on sync', localize('turn on sync', \"Turn on Settings Sync...\"), undefined, true, () => this.turnOn())]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase UserDataSyncErrorCode.TurnedOff:\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Info,\n\t\t\t\t\tmessage: localize('turned off', \"Settings sync was turned off from another device, please turn on sync again.\"),\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tprimary: [new Action('turn on sync', localize('turn on sync', \"Turn on Settings Sync...\"), undefined, true, () => this.turnOn())]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase UserDataSyncErrorCode.TooLarge:\n\t\t\t\tif (error.resource === SyncResource.Keybindings || error.resource === SyncResource.Settings) {\n\t\t\t\t\tthis.disableSync(error.resource);\n\t\t\t\t\tconst sourceArea = getSyncAreaLabel(error.resource);\n\t\t\t\t\tthis.handleTooLargeError(error.resource, localize('too large', \"Disabled syncing {0} because size of the {1} file to sync is larger than {2}. Please open the file and reduce the size and enable sync\", sourceArea.toLowerCase(), sourceArea.toLowerCase(), '100kb'), error);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase UserDataSyncErrorCode.IncompatibleLocalContent:\n\t\t\tcase UserDataSyncErrorCode.Gone:\n\t\t\tcase UserDataSyncErrorCode.UpgradeRequired:\n\t\t\t\tconst message = localize('error upgrade required', \"Settings sync is disabled because the current version ({0}, {1}) is not compatible with the sync service. Please update before turning on sync.\", this.productService.version, this.productService.commit);\n\t\t\t\tconst operationId = error.operationId ? localize('operationId', \"Operation Id: {0}\", error.operationId) : undefined;\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Error,\n\t\t\t\t\tmessage: operationId ? `${message} ${operationId}` : message,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase UserDataSyncErrorCode.IncompatibleRemoteContent:\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Error,\n\t\t\t\t\tmessage: localize('error reset required', \"Settings sync is disabled because your data in the cloud is older than that of the client. Please clear your data in the cloud before turning on sync.\"),\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tprimary: [\n\t\t\t\t\t\t\tnew Action('reset', localize('reset', \"Clear Data in Cloud...\"), undefined, true, () => this.userDataSyncWorkbenchService.resetSyncedData()),\n\t\t\t\t\t\t\tnew Action('show synced data', localize('show synced data action', \"Show Synced Data\"), undefined, true, () => this.userDataSyncWorkbenchService.showSyncActivity())\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\n\t\t\tcase UserDataSyncErrorCode.ServiceChanged:\n\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\tseverity: Severity.Info,\n\t\t\t\t\tmessage: this.userDataSyncStoreManagementService.userDataSyncStore?.type === 'insiders' ?\n\t\t\t\t\t\tlocalize('service switched to insiders', \"Settings Sync has been switched to insiders service\") :\n\t\t\t\t\t\tlocalize('service switched to stable', \"Settings Sync has been switched to stable service\"),\n\t\t\t\t});\n\n\t\t\t\treturn;\n\n\t\t\tcase UserDataSyncErrorCode.DefaultServiceChanged:\n\t\t\t\t// Settings sync is using separate service\n\t\t\t\tif (this.userDataAutoSyncEnablementService.isEnabled()) {\n\t\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\t\tseverity: Severity.Info,\n\t\t\t\t\t\tmessage: localize('using separate service', \"Settings sync now uses a separate service, more information is available in the [Settings Sync Documentation](https://aka.ms/vscode-settings-sync-help#_syncing-stable-versus-insiders).\"),\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If settings sync got turned off then ask user to turn on sync again.\n\t\t\t\telse {\n\t\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\t\tseverity: Severity.Info,\n\t\t\t\t\t\tmessage: localize('service changed and turned off', \"Settings sync was turned off because {0} now uses a separate service. Please turn on sync again.\", this.productService.nameLong),\n\t\t\t\t\t\tactions: {\n\t\t\t\t\t\t\tprimary: [new Action('turn on sync', localize('turn on sync', \"Turn on Settings Sync...\"), undefined, true, () => this.turnOn())]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate handleTooLargeError(resource: SyncResource, message: string, error: UserDataSyncError): void {\n\t\tconst operationId = error.operationId ? localize('operationId', \"Operation Id: {0}\", error.operationId) : undefined;\n\t\tthis.notificationService.notify({\n\t\t\tseverity: Severity.Error,\n\t\t\tmessage: operationId ? `${message} ${operationId}` : message,\n\t\t\tactions: {\n\t\t\t\tprimary: [new Action('open sync file', localize('open file', \"Open {0} File\", getSyncAreaLabel(resource)), undefined, true,\n\t\t\t\t\t() => resource === SyncResource.Settings ? this.preferencesService.openGlobalSettings(true) : this.preferencesService.openGlobalKeybindingSettings(true))]\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate readonly invalidContentErrorDisposables = new Map<SyncResource, IDisposable>();\n\tprivate onSynchronizerErrors(errors: [SyncResource, UserDataSyncError][]): void {\n\t\tif (errors.length) {\n\t\t\tfor (const [source, error] of errors) {\n\t\t\t\tswitch (error.code) {\n\t\t\t\t\tcase UserDataSyncErrorCode.LocalInvalidContent:\n\t\t\t\t\t\tthis.handleInvalidContentError(source);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconst disposable = this.invalidContentErrorDisposables.get(source);\n\t\t\t\t\t\tif (disposable) {\n\t\t\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\t\t\tthis.invalidContentErrorDisposables.delete(source);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.invalidContentErrorDisposables.forEach(disposable => disposable.dispose());\n\t\t\tthis.invalidContentErrorDisposables.clear();\n\t\t}\n\t}\n\n\tprivate handleInvalidContentError(source: SyncResource): void {\n\t\tif (this.invalidContentErrorDisposables.has(source)) {\n\t\t\treturn;\n\t\t}\n\t\tif (source !== SyncResource.Settings && source !== SyncResource.Keybindings) {\n\t\t\treturn;\n\t\t}\n\t\tconst resource = source === SyncResource.Settings ? this.environmentService.settingsResource : this.environmentService.keybindingsResource;\n\t\tif (isEqual(resource, EditorResourceAccessor.getCanonicalUri(this.editorService.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY }))) {\n\t\t\t// Do not show notification if the file in error is active\n\t\t\treturn;\n\t\t}\n\t\tconst errorArea = getSyncAreaLabel(source);\n\t\tconst handle = this.notificationService.notify({\n\t\t\tseverity: Severity.Error,\n\t\t\tmessage: localize('errorInvalidConfiguration', \"Unable to sync {0} because the content in the file is not valid. Please open the file and correct it.\", errorArea.toLowerCase()),\n\t\t\tactions: {\n\t\t\t\tprimary: [new Action('open sync file', localize('open file', \"Open {0} File\", errorArea), undefined, true,\n\t\t\t\t\t() => source === SyncResource.Settings ? this.preferencesService.openGlobalSettings(true) : this.preferencesService.openGlobalKeybindingSettings(true))]\n\t\t\t}\n\t\t});\n\t\tthis.invalidContentErrorDisposables.set(source, toDisposable(() => {\n\t\t\t// close the error warning notification\n\t\t\thandle.close();\n\t\t\tthis.invalidContentErrorDisposables.delete(source);\n\t\t}));\n\t}\n\n\tprivate async updateGlobalActivityBadge(): Promise<void> {\n\t\tthis.globalActivityBadgeDisposable.clear();\n\n\t\tlet badge: IBadge | undefined = undefined;\n\t\tlet clazz: string | undefined;\n\t\tlet priority: number | undefined = undefined;\n\n\t\tif (this.userDataSyncService.conflicts.length && this.userDataAutoSyncEnablementService.isEnabled()) {\n\t\t\tbadge = new NumberBadge(this.userDataSyncService.conflicts.reduce((result, [, conflicts]) => { return result + conflicts.length; }, 0), () => localize('has conflicts', \"{0}: Conflicts Detected\", SYNC_TITLE));\n\t\t} else if (this.turningOnSync) {\n\t\t\tbadge = new ProgressBadge(() => localize('turning on syncing', \"Turning on Settings Sync...\"));\n\t\t\tclazz = 'progress-badge';\n\t\t\tpriority = 1;\n\t\t}\n\n\t\tif (badge) {\n\t\t\tthis.globalActivityBadgeDisposable.value = this.activityService.showGlobalActivity({ badge, clazz, priority });\n\t\t}\n\t}\n\n\tprivate async updateAccountBadge(): Promise<void> {\n\t\tthis.accountBadgeDisposable.clear();\n\n\t\tlet badge: IBadge | undefined = undefined;\n\n\t\tif (this.userDataSyncService.status !== SyncStatus.Uninitialized && this.userDataAutoSyncEnablementService.isEnabled() && this.userDataSyncWorkbenchService.accountStatus === AccountStatus.Unavailable) {\n\t\t\tbadge = new NumberBadge(1, () => localize('sign in to sync', \"Sign in to Sync Settings\"));\n\t\t}\n\n\t\tif (badge) {\n\t\t\tthis.accountBadgeDisposable.value = this.activityService.showAccountsActivity({ badge, clazz: undefined, priority: undefined });\n\t\t}\n\t}\n\n\tprivate async turnOn(): Promise<void> {\n\t\ttry {\n\t\t\tif (!this.userDataSyncWorkbenchService.authenticationProviders.length) {\n\t\t\t\tthrow new Error(localize('no authentication providers', \"No authentication providers are available.\"));\n\t\t\t}\n\t\t\tif (!this.storageService.getBoolean('sync.donotAskPreviewConfirmation', StorageScope.GLOBAL, false)) {\n\t\t\t\tif (!await this.askForConfirmation()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst turnOn = await this.askToConfigure();\n\t\t\tif (!turnOn) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.userDataSyncStoreManagementService.userDataSyncStore?.canSwitch) {\n\t\t\t\tawait this.selectSettingsSyncService(this.userDataSyncStoreManagementService.userDataSyncStore);\n\t\t\t}\n\t\t\tawait this.userDataSyncWorkbenchService.turnOn();\n\t\t\tthis.storageService.store('sync.donotAskPreviewConfirmation', true, StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t\t} catch (e) {\n\t\t\tif (isPromiseCanceledError(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e instanceof UserDataSyncError) {\n\t\t\t\tswitch (e.code) {\n\t\t\t\t\tcase UserDataSyncErrorCode.TooLarge:\n\t\t\t\t\t\tif (e.resource === SyncResource.Keybindings || e.resource === SyncResource.Settings) {\n\t\t\t\t\t\t\tthis.handleTooLargeError(e.resource, localize('too large while starting sync', \"Settings sync cannot be turned on because size of the {0} file to sync is larger than {1}. Please open the file and reduce the size and turn on sync\", getSyncAreaLabel(e.resource).toLowerCase(), '100kb'), e);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase UserDataSyncErrorCode.IncompatibleLocalContent:\n\t\t\t\t\tcase UserDataSyncErrorCode.Gone:\n\t\t\t\t\tcase UserDataSyncErrorCode.UpgradeRequired:\n\t\t\t\t\t\tconst message = localize('error upgrade required while starting sync', \"Settings sync cannot be turned on because the current version ({0}, {1}) is not compatible with the sync service. Please update before turning on sync.\", this.productService.version, this.productService.commit);\n\t\t\t\t\t\tconst operationId = e.operationId ? localize('operationId', \"Operation Id: {0}\", e.operationId) : undefined;\n\t\t\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\t\t\tseverity: Severity.Error,\n\t\t\t\t\t\t\tmessage: operationId ? `${message} ${operationId}` : message,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase UserDataSyncErrorCode.IncompatibleRemoteContent:\n\t\t\t\t\t\tthis.notificationService.notify({\n\t\t\t\t\t\t\tseverity: Severity.Error,\n\t\t\t\t\t\t\tmessage: localize('error reset required while starting sync', \"Settings sync cannot be turned on because your data in the cloud is older than that of the client. Please clear your data in the cloud before turning on sync.\"),\n\t\t\t\t\t\t\tactions: {\n\t\t\t\t\t\t\t\tprimary: [\n\t\t\t\t\t\t\t\t\tnew Action('reset', localize('reset', \"Clear Data in Cloud...\"), undefined, true, () => this.userDataSyncWorkbenchService.resetSyncedData()),\n\t\t\t\t\t\t\t\t\tnew Action('show synced data', localize('show synced data action', \"Show Synced Data\"), undefined, true, () => this.userDataSyncWorkbenchService.showSyncActivity())\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase UserDataSyncErrorCode.Unauthorized:\n\t\t\t\t\t\tthis.notificationService.error(localize('auth failed', \"Error while turning on Settings Sync: Authentication failed.\"));\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.notificationService.error(localize('turn on failed with user data sync error', \"Error while turning on Settings Sync. Please check [logs]({0}) for more details.\", `command:${SHOW_SYNC_LOG_COMMAND_ID}`));\n\t\t\t} else {\n\t\t\t\tthis.notificationService.error(localize({ key: 'turn on failed', comment: ['Substitution is for error reason'] }, \"Error while turning on Settings Sync. {0}\", getErrorMessage(e)));\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async askForConfirmation(): Promise<boolean> {\n\t\tconst result = await this.dialogService.show(\n\t\t\tSeverity.Info,\n\t\t\tlocalize('sync preview message', \"Synchronizing your settings is a preview feature, please read the documentation before turning it on.\"),\n\t\t\t[\n\t\t\t\tlocalize('turn on', \"Turn On\"),\n\t\t\t\tlocalize('open doc', \"Open Documentation\"),\n\t\t\t\tlocalize('cancel', \"Cancel\"),\n\t\t\t],\n\t\t\t{\n\t\t\t\tcancelId: 2\n\t\t\t}\n\t\t);\n\t\tswitch (result.choice) {\n\t\t\tcase 1: this.openerService.open(URI.parse('https://aka.ms/vscode-settings-sync-help')); return false;\n\t\t\tcase 2: return false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate async askToConfigure(): Promise<boolean> {\n\t\treturn new Promise<boolean>((c, e) => {\n\t\t\tconst disposables: DisposableStore = new DisposableStore();\n\t\t\tconst quickPick = this.quickInputService.createQuickPick<ConfigureSyncQuickPickItem>();\n\t\t\tdisposables.add(quickPick);\n\t\t\tquickPick.title = SYNC_TITLE;\n\t\t\tquickPick.ok = false;\n\t\t\tquickPick.customButton = true;\n\t\t\tquickPick.customLabel = localize('sign in and turn on', \"Sign in & Turn on\");\n\t\t\tquickPick.description = localize('configure and turn on sync detail', \"Please sign in to synchronize your data across devices.\");\n\t\t\tquickPick.canSelectMany = true;\n\t\t\tquickPick.ignoreFocusOut = true;\n\t\t\tquickPick.hideInput = true;\n\t\t\tquickPick.hideCheckAll = true;\n\n\t\t\tconst items = this.getConfigureSyncQuickPickItems();\n\t\t\tquickPick.items = items;\n\t\t\tquickPick.selectedItems = items.filter(item => this.userDataSyncResourceEnablementService.isResourceEnabled(item.id));\n\t\t\tlet accepted: boolean = false;\n\t\t\tdisposables.add(Event.any(quickPick.onDidAccept, quickPick.onDidCustom)(() => {\n\t\t\t\taccepted = true;\n\t\t\t\tquickPick.hide();\n\t\t\t}));\n\t\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\t\ttry {\n\t\t\t\t\tif (accepted) {\n\t\t\t\t\t\tthis.updateConfiguration(items, quickPick.selectedItems);\n\t\t\t\t\t}\n\t\t\t\t\tc(accepted);\n\t\t\t\t} catch (error) {\n\t\t\t\t\te(error);\n\t\t\t\t} finally {\n\t\t\t\t\tdisposables.dispose();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tquickPick.show();\n\t\t});\n\t}\n\n\tprivate getConfigureSyncQuickPickItems(): ConfigureSyncQuickPickItem[] {\n\t\treturn [{\n\t\t\tid: SyncResource.Settings,\n\t\t\tlabel: getSyncAreaLabel(SyncResource.Settings)\n\t\t}, {\n\t\t\tid: SyncResource.Keybindings,\n\t\t\tlabel: getSyncAreaLabel(SyncResource.Keybindings),\n\t\t\tdescription: this.configurationService.getValue('settingsSync.keybindingsPerPlatform') ? localize('per platform', \"for each platform\") : undefined\n\t\t}, {\n\t\t\tid: SyncResource.Snippets,\n\t\t\tlabel: getSyncAreaLabel(SyncResource.Snippets)\n\t\t}, {\n\t\t\tid: SyncResource.Extensions,\n\t\t\tlabel: getSyncAreaLabel(SyncResource.Extensions)\n\t\t}, {\n\t\t\tid: SyncResource.GlobalState,\n\t\t\tlabel: getSyncAreaLabel(SyncResource.GlobalState),\n\t\t}];\n\t}\n\n\tprivate updateConfiguration(items: ConfigureSyncQuickPickItem[], selectedItems: ReadonlyArray<ConfigureSyncQuickPickItem>): void {\n\t\tfor (const item of items) {\n\t\t\tconst wasEnabled = this.userDataSyncResourceEnablementService.isResourceEnabled(item.id);\n\t\t\tconst isEnabled = !!selectedItems.filter(selected => selected.id === item.id)[0];\n\t\t\tif (wasEnabled !== isEnabled) {\n\t\t\t\tthis.userDataSyncResourceEnablementService.setResourceEnablement(item.id!, isEnabled);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async configureSyncOptions(): Promise<void> {\n\t\treturn new Promise((c, e) => {\n\t\t\tconst disposables: DisposableStore = new DisposableStore();\n\t\t\tconst quickPick = this.quickInputService.createQuickPick<ConfigureSyncQuickPickItem>();\n\t\t\tdisposables.add(quickPick);\n\t\t\tquickPick.title = localize('configure sync', \"{0}: Configure...\", SYNC_TITLE);\n\t\t\tquickPick.placeholder = localize('configure sync placeholder', \"Choose what to sync\");\n\t\t\tquickPick.canSelectMany = true;\n\t\t\tquickPick.ignoreFocusOut = true;\n\t\t\tquickPick.ok = true;\n\t\t\tconst items = this.getConfigureSyncQuickPickItems();\n\t\t\tquickPick.items = items;\n\t\t\tquickPick.selectedItems = items.filter(item => this.userDataSyncResourceEnablementService.isResourceEnabled(item.id));\n\t\t\tdisposables.add(quickPick.onDidAccept(async () => {\n\t\t\t\tif (quickPick.selectedItems.length) {\n\t\t\t\t\tthis.updateConfiguration(items, quickPick.selectedItems);\n\t\t\t\t\tquickPick.hide();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\t\tdisposables.dispose();\n\t\t\t\tc();\n\t\t\t}));\n\t\t\tquickPick.show();\n\t\t});\n\t}\n\n\tprivate async turnOff(): Promise<void> {\n\t\tconst result = await this.dialogService.confirm({\n\t\t\ttype: 'info',\n\t\t\tmessage: localize('turn off sync confirmation', \"Do you want to turn off sync?\"),\n\t\t\tdetail: localize('turn off sync detail', \"Your settings, keybindings, extensions, snippets and UI State will no longer be synced.\"),\n\t\t\tprimaryButton: localize({ key: 'turn off', comment: ['&& denotes a mnemonic'] }, \"&&Turn off\"),\n\t\t\tcheckbox: this.userDataSyncWorkbenchService.accountStatus === AccountStatus.Available ? {\n\t\t\t\tlabel: localize('turn off sync everywhere', \"Turn off sync on all your devices and clear the data from the cloud.\")\n\t\t\t} : undefined\n\t\t});\n\t\tif (result.confirmed) {\n\t\t\treturn this.userDataSyncWorkbenchService.turnoff(!!result.checkboxChecked);\n\t\t}\n\t}\n\n\tprivate disableSync(source: SyncResource): void {\n\t\tswitch (source) {\n\t\t\tcase SyncResource.Settings: return this.userDataSyncResourceEnablementService.setResourceEnablement(SyncResource.Settings, false);\n\t\t\tcase SyncResource.Keybindings: return this.userDataSyncResourceEnablementService.setResourceEnablement(SyncResource.Keybindings, false);\n\t\t\tcase SyncResource.Snippets: return this.userDataSyncResourceEnablementService.setResourceEnablement(SyncResource.Snippets, false);\n\t\t\tcase SyncResource.Extensions: return this.userDataSyncResourceEnablementService.setResourceEnablement(SyncResource.Extensions, false);\n\t\t\tcase SyncResource.GlobalState: return this.userDataSyncResourceEnablementService.setResourceEnablement(SyncResource.GlobalState, false);\n\t\t}\n\t}\n\n\tprivate getConflictsEditorInputs(syncResource: SyncResource): DiffEditorInput[] {\n\t\treturn this.editorService.editors.filter(input => {\n\t\t\tconst resource = input instanceof DiffEditorInput ? input.primary.resource : input.resource;\n\t\t\treturn resource && getSyncResourceFromLocalPreview(resource!, this.environmentService) === syncResource;\n\t\t}) as DiffEditorInput[];\n\t}\n\n\tprivate getAllConflictsEditorInputs(): IEditorInput[] {\n\t\treturn this.editorService.editors.filter(input => {\n\t\t\tconst resource = input instanceof DiffEditorInput ? input.primary.resource : input.resource;\n\t\t\treturn resource && getSyncResourceFromLocalPreview(resource!, this.environmentService) !== undefined;\n\t\t});\n\t}\n\n\tprivate async handleSyncResourceConflicts(resource: SyncResource): Promise<void> {\n\t\tconst syncResourceCoflicts = this.userDataSyncService.conflicts.filter(([syncResource]) => syncResource === resource)[0];\n\t\tif (syncResourceCoflicts) {\n\t\t\tthis.handleConflicts(syncResourceCoflicts);\n\t\t}\n\t}\n\n\tprivate async handleConflicts([syncResource, conflicts]: [SyncResource, IResourcePreview[]]): Promise<void> {\n\t\tfor (const conflict of conflicts) {\n\t\t\tconst leftResourceName = localize({ key: 'leftResourceName', comment: ['remote as in file in cloud'] }, \"{0} (Remote)\", basename(conflict.remoteResource));\n\t\t\tconst rightResourceName = localize('merges', \"{0} (Merges)\", basename(conflict.previewResource));\n\t\t\tawait this.editorService.openEditor({\n\t\t\t\tleftResource: conflict.remoteResource,\n\t\t\t\trightResource: conflict.previewResource,\n\t\t\t\tlabel: localize('sideBySideLabels', \"{0} ↔ {1}\", leftResourceName, rightResourceName),\n\t\t\t\tdescription: localize('sideBySideDescription', \"Settings Sync\"),\n\t\t\t\toptions: {\n\t\t\t\t\tpreserveFocus: false,\n\t\t\t\t\tpinned: true,\n\t\t\t\t\trevealIfVisible: true,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate showSyncActivity(): Promise<void> {\n\t\treturn this.outputService.showChannel(Constants.userDataSyncLogChannelId);\n\t}\n\n\tprivate async selectSettingsSyncService(userDataSyncStore: IUserDataSyncStore): Promise<void> {\n\t\treturn new Promise<void>((c, e) => {\n\t\t\tconst disposables: DisposableStore = new DisposableStore();\n\t\t\tconst quickPick = disposables.add(this.quickInputService.createQuickPick<{ id: UserDataSyncStoreType, label: string, description?: string }>());\n\t\t\tquickPick.title = localize('switchSyncService.title', \"{0}: Select Service\", SYNC_TITLE);\n\t\t\tquickPick.description = localize('switchSyncService.description', \"Ensure you are using the same settings sync service when syncing with multiple environments\");\n\t\t\tquickPick.hideInput = true;\n\t\t\tquickPick.ignoreFocusOut = true;\n\t\t\tconst getDescription = (url: URI): string | undefined => {\n\t\t\t\tconst isDefault = isEqual(url, userDataSyncStore.defaultUrl);\n\t\t\t\tif (isDefault) {\n\t\t\t\t\treturn localize('default', \"Default\");\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t};\n\t\t\tquickPick.items = [\n\t\t\t\t{\n\t\t\t\t\tid: 'insiders',\n\t\t\t\t\tlabel: localize('insiders', \"Insiders\"),\n\t\t\t\t\tdescription: getDescription(userDataSyncStore.insidersUrl)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'stable',\n\t\t\t\t\tlabel: localize('stable', \"Stable\"),\n\t\t\t\t\tdescription: getDescription(userDataSyncStore.stableUrl)\n\t\t\t\t}\n\t\t\t];\n\t\t\tdisposables.add(quickPick.onDidAccept(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.userDataSyncStoreManagementService.switch(quickPick.selectedItems[0].id);\n\t\t\t\t\tc();\n\t\t\t\t} catch (error) {\n\t\t\t\t\te(error);\n\t\t\t\t} finally {\n\t\t\t\t\tquickPick.hide();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tdisposables.add(quickPick.onDidHide(() => disposables.dispose()));\n\t\t\tquickPick.show();\n\t\t});\n\t}\n\n\tprivate registerActions(): void {\n\t\tif (this.userDataAutoSyncEnablementService.canToggleEnablement()) {\n\t\t\tthis.registerTurnOnSyncAction();\n\t\t\tthis.registerTurnOffSyncAction();\n\t\t}\n\t\tthis.registerTurninOnSyncAction();\n\t\tthis.registerSignInAction(); // When Sync is turned on from CLI\n\t\tthis.registerShowSettingsConflictsAction();\n\t\tthis.registerShowKeybindingsConflictsAction();\n\t\tthis.registerShowSnippetsConflictsAction();\n\n\t\tthis.registerEnableSyncViewsAction();\n\t\tthis.registerManageSyncAction();\n\t\tthis.registerSyncNowAction();\n\t\tthis.registerConfigureSyncAction();\n\t\tthis.registerShowSettingsAction();\n\t\tthis.registerShowLogAction();\n\t\tthis.registerResetSyncDataAction();\n\t}\n\n\tprivate registerTurnOnSyncAction(): void {\n\t\tconst turnOnSyncWhenContext = ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_SYNC_ENABLEMENT.toNegated(), CONTEXT_ACCOUNT_STATE.notEqualsTo(AccountStatus.Uninitialized), CONTEXT_TURNING_ON_STATE.negate());\n\t\tCommandsRegistry.registerCommand(turnOnSyncCommand.id, () => this.turnOn());\n\t\tMenuRegistry.appendMenuItem(MenuId.GlobalActivity, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: turnOnSyncCommand.id,\n\t\t\t\ttitle: localize('global activity turn on sync', \"Turn on Settings Sync...\")\n\t\t\t},\n\t\t\twhen: turnOnSyncWhenContext,\n\t\t\torder: 1\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\t\tcommand: turnOnSyncCommand,\n\t\t\twhen: turnOnSyncWhenContext,\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.MenubarPreferencesMenu, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: turnOnSyncCommand.id,\n\t\t\t\ttitle: localize('global activity turn on sync', \"Turn on Settings Sync...\")\n\t\t\t},\n\t\t\twhen: turnOnSyncWhenContext,\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.AccountsContext, {\n\t\t\tgroup: '1_sync',\n\t\t\tcommand: {\n\t\t\t\tid: turnOnSyncCommand.id,\n\t\t\t\ttitle: localize('global activity turn on sync', \"Turn on Settings Sync...\")\n\t\t\t},\n\t\t\twhen: turnOnSyncWhenContext\n\t\t});\n\t}\n\n\tprivate registerTurninOnSyncAction(): void {\n\t\tconst when = ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_SYNC_ENABLEMENT.toNegated(), CONTEXT_ACCOUNT_STATE.notEqualsTo(AccountStatus.Uninitialized), CONTEXT_TURNING_ON_STATE);\n\t\tthis._register(registerAction2(class TurningOnSyncAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.userData.actions.turningOn',\n\t\t\t\t\ttitle: localize('turnin on sync', \"Turning on Settings Sync...\"),\n\t\t\t\t\tprecondition: ContextKeyExpr.false(),\n\t\t\t\t\tmenu: [{\n\t\t\t\t\t\tgroup: '5_sync',\n\t\t\t\t\t\tid: MenuId.GlobalActivity,\n\t\t\t\t\t\twhen,\n\t\t\t\t\t\torder: 2\n\t\t\t\t\t}, {\n\t\t\t\t\t\tgroup: '1_sync',\n\t\t\t\t\t\tid: MenuId.AccountsContext,\n\t\t\t\t\t\twhen,\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<any> { }\n\t\t}));\n\t}\n\n\tprivate registerSignInAction(): void {\n\t\tconst that = this;\n\t\tconst id = 'workbench.userData.actions.signin';\n\t\tconst when = ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_SYNC_ENABLEMENT, CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Unavailable));\n\t\tthis._register(registerAction2(class StopSyncAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.userData.actions.signin',\n\t\t\t\t\ttitle: localize('sign in global', \"Sign in to Sync Settings\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tgroup: '5_sync',\n\t\t\t\t\t\tid: MenuId.GlobalActivity,\n\t\t\t\t\t\twhen,\n\t\t\t\t\t\torder: 2\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<any> {\n\t\t\t\ttry {\n\t\t\t\t\tawait that.userDataSyncWorkbenchService.signIn();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthat.notificationService.error(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(MenuRegistry.appendMenuItem(MenuId.AccountsContext, {\n\t\t\tgroup: '1_sync',\n\t\t\tcommand: {\n\t\t\t\tid,\n\t\t\t\ttitle: localize('sign in accounts', \"Sign in to Sync Settings (1)\"),\n\t\t\t},\n\t\t\twhen\n\t\t}));\n\t}\n\n\tprivate registerShowSettingsConflictsAction(): void {\n\t\tconst resolveSettingsConflictsWhenContext = ContextKeyExpr.regex(CONTEXT_CONFLICTS_SOURCES.keys()[0], /.*settings.*/i);\n\t\tCommandsRegistry.registerCommand(resolveSettingsConflictsCommand.id, () => this.handleSyncResourceConflicts(SyncResource.Settings));\n\t\tMenuRegistry.appendMenuItem(MenuId.GlobalActivity, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: resolveSettingsConflictsCommand.id,\n\t\t\t\ttitle: localize('resolveConflicts_global', \"{0}: Show Settings Conflicts (1)\", SYNC_TITLE),\n\t\t\t},\n\t\t\twhen: resolveSettingsConflictsWhenContext,\n\t\t\torder: 2\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.MenubarPreferencesMenu, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: resolveSettingsConflictsCommand.id,\n\t\t\t\ttitle: localize('resolveConflicts_global', \"{0}: Show Settings Conflicts (1)\", SYNC_TITLE),\n\t\t\t},\n\t\t\twhen: resolveSettingsConflictsWhenContext,\n\t\t\torder: 2\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\t\tcommand: resolveSettingsConflictsCommand,\n\t\t\twhen: resolveSettingsConflictsWhenContext,\n\t\t});\n\t}\n\n\tprivate registerShowKeybindingsConflictsAction(): void {\n\t\tconst resolveKeybindingsConflictsWhenContext = ContextKeyExpr.regex(CONTEXT_CONFLICTS_SOURCES.keys()[0], /.*keybindings.*/i);\n\t\tCommandsRegistry.registerCommand(resolveKeybindingsConflictsCommand.id, () => this.handleSyncResourceConflicts(SyncResource.Keybindings));\n\t\tMenuRegistry.appendMenuItem(MenuId.GlobalActivity, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: resolveKeybindingsConflictsCommand.id,\n\t\t\t\ttitle: localize('resolveKeybindingsConflicts_global', \"{0}: Show Keybindings Conflicts (1)\", SYNC_TITLE),\n\t\t\t},\n\t\t\twhen: resolveKeybindingsConflictsWhenContext,\n\t\t\torder: 2\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.MenubarPreferencesMenu, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: resolveKeybindingsConflictsCommand.id,\n\t\t\t\ttitle: localize('resolveKeybindingsConflicts_global', \"{0}: Show Keybindings Conflicts (1)\", SYNC_TITLE),\n\t\t\t},\n\t\t\twhen: resolveKeybindingsConflictsWhenContext,\n\t\t\torder: 2\n\t\t});\n\t\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\t\tcommand: resolveKeybindingsConflictsCommand,\n\t\t\twhen: resolveKeybindingsConflictsWhenContext,\n\t\t});\n\t}\n\n\tprivate _snippetsConflictsActionsDisposable: DisposableStore = new DisposableStore();\n\tprivate registerShowSnippetsConflictsAction(): void {\n\t\tthis._snippetsConflictsActionsDisposable.clear();\n\t\tconst resolveSnippetsConflictsWhenContext = ContextKeyExpr.regex(CONTEXT_CONFLICTS_SOURCES.keys()[0], /.*snippets.*/i);\n\t\tconst conflicts: IResourcePreview[] | undefined = this.userDataSyncService.conflicts.filter(([syncResource]) => syncResource === SyncResource.Snippets)[0]?.[1];\n\t\tthis._snippetsConflictsActionsDisposable.add(CommandsRegistry.registerCommand(resolveSnippetsConflictsCommand.id, () => this.handleSyncResourceConflicts(SyncResource.Snippets)));\n\t\tthis._snippetsConflictsActionsDisposable.add(MenuRegistry.appendMenuItem(MenuId.GlobalActivity, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: resolveSnippetsConflictsCommand.id,\n\t\t\t\ttitle: localize('resolveSnippetsConflicts_global', \"{0}: Show User Snippets Conflicts ({1})\", SYNC_TITLE, conflicts?.length || 1),\n\t\t\t},\n\t\t\twhen: resolveSnippetsConflictsWhenContext,\n\t\t\torder: 2\n\t\t}));\n\t\tthis._snippetsConflictsActionsDisposable.add(MenuRegistry.appendMenuItem(MenuId.MenubarPreferencesMenu, {\n\t\t\tgroup: '5_sync',\n\t\t\tcommand: {\n\t\t\t\tid: resolveSnippetsConflictsCommand.id,\n\t\t\t\ttitle: localize('resolveSnippetsConflicts_global', \"{0}: Show User Snippets Conflicts ({1})\", SYNC_TITLE, conflicts?.length || 1),\n\t\t\t},\n\t\t\twhen: resolveSnippetsConflictsWhenContext,\n\t\t\torder: 2\n\t\t}));\n\t\tthis._snippetsConflictsActionsDisposable.add(MenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\t\tcommand: resolveSnippetsConflictsCommand,\n\t\t\twhen: resolveSnippetsConflictsWhenContext,\n\t\t}));\n\t}\n\n\tprivate registerManageSyncAction(): void {\n\t\tconst that = this;\n\t\tconst when = ContextKeyExpr.and(CONTEXT_SYNC_ENABLEMENT, CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized));\n\t\tthis._register(registerAction2(class SyncStatusAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.userDataSync.actions.manage',\n\t\t\t\t\ttitle: localize('sync is on', \"Settings Sync is On\"),\n\t\t\t\t\tmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.GlobalActivity,\n\t\t\t\t\t\t\tgroup: '5_sync',\n\t\t\t\t\t\t\twhen,\n\t\t\t\t\t\t\torder: 3\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.MenubarPreferencesMenu,\n\t\t\t\t\t\t\tgroup: '5_sync',\n\t\t\t\t\t\t\twhen,\n\t\t\t\t\t\t\torder: 3,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: MenuId.AccountsContext,\n\t\t\t\t\t\t\tgroup: '1_sync',\n\t\t\t\t\t\t\twhen,\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(accessor: ServicesAccessor): any {\n\t\t\t\treturn new Promise<void>((c, e) => {\n\t\t\t\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\t\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\t\t\tconst disposables = new DisposableStore();\n\t\t\t\t\tconst quickPick = quickInputService.createQuickPick();\n\t\t\t\t\tdisposables.add(quickPick);\n\t\t\t\t\tconst items: Array<IQuickPickItem | IQuickPickSeparator> = [];\n\t\t\t\t\tif (that.userDataSyncService.conflicts.length) {\n\t\t\t\t\t\tfor (const [syncResource] of that.userDataSyncService.conflicts) {\n\t\t\t\t\t\t\tswitch (syncResource) {\n\t\t\t\t\t\t\t\tcase SyncResource.Settings:\n\t\t\t\t\t\t\t\t\titems.push({ id: resolveSettingsConflictsCommand.id, label: resolveSettingsConflictsCommand.title });\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase SyncResource.Keybindings:\n\t\t\t\t\t\t\t\t\titems.push({ id: resolveKeybindingsConflictsCommand.id, label: resolveKeybindingsConflictsCommand.title });\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase SyncResource.Snippets:\n\t\t\t\t\t\t\t\t\titems.push({ id: resolveSnippetsConflictsCommand.id, label: resolveSnippetsConflictsCommand.title });\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\titems.push({ type: 'separator' });\n\t\t\t\t\t}\n\t\t\t\t\titems.push({ id: configureSyncCommand.id, label: configureSyncCommand.title });\n\t\t\t\t\titems.push({ id: showSyncSettingsCommand.id, label: showSyncSettingsCommand.title });\n\t\t\t\t\titems.push({ id: showSyncedDataCommand.id, label: showSyncedDataCommand.title });\n\t\t\t\t\titems.push({ type: 'separator' });\n\t\t\t\t\titems.push({ id: syncNowCommand.id, label: syncNowCommand.title, description: syncNowCommand.description(that.userDataSyncService) });\n\t\t\t\t\tif (that.userDataAutoSyncEnablementService.canToggleEnablement()) {\n\t\t\t\t\t\tconst account = that.userDataSyncWorkbenchService.current;\n\t\t\t\t\t\titems.push({ id: turnOffSyncCommand.id, label: turnOffSyncCommand.title, description: account ? `${account.accountName} (${that.authenticationService.getLabel(account.authenticationProviderId)})` : undefined });\n\t\t\t\t\t}\n\t\t\t\t\tquickPick.items = items;\n\t\t\t\t\tdisposables.add(quickPick.onDidAccept(() => {\n\t\t\t\t\t\tif (quickPick.selectedItems[0] && quickPick.selectedItems[0].id) {\n\t\t\t\t\t\t\tcommandService.executeCommand(quickPick.selectedItems[0].id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tquickPick.hide();\n\t\t\t\t\t}));\n\t\t\t\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\t\t\t\tdisposables.dispose();\n\t\t\t\t\t\tc();\n\t\t\t\t\t}));\n\t\t\t\t\tquickPick.show();\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerEnableSyncViewsAction(): void {\n\t\tconst that = this;\n\t\tconst when = ContextKeyExpr.and(CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized));\n\t\tthis._register(registerAction2(class SyncStatusAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: showSyncedDataCommand.id,\n\t\t\t\t\ttitle: { value: localize('workbench.action.showSyncRemoteBackup', \"Show Synced Data\"), original: `Show Synced Data` },\n\t\t\t\t\tcategory: { value: SYNC_TITLE, original: `Settings Sync` },\n\t\t\t\t\tprecondition: when,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\treturn that.userDataSyncWorkbenchService.showSyncActivity();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerSyncNowAction(): void {\n\t\tconst that = this;\n\t\tthis._register(registerAction2(class SyncNowAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: syncNowCommand.id,\n\t\t\t\t\ttitle: syncNowCommand.title,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_ENABLEMENT, CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized))\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(accessor: ServicesAccessor): Promise<any> {\n\t\t\t\treturn that.userDataSyncWorkbenchService.syncNow();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerTurnOffSyncAction(): void {\n\t\tconst that = this;\n\t\tthis._register(registerAction2(class StopSyncAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: turnOffSyncCommand.id,\n\t\t\t\t\ttitle: turnOffSyncCommand.title,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_SYNC_ENABLEMENT),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<any> {\n\t\t\t\ttry {\n\t\t\t\t\tawait that.turnOff();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (!isPromiseCanceledError(e)) {\n\t\t\t\t\t\tthat.notificationService.error(localize('turn off failed', \"Error while turning off Settings Sync. Please check [logs]({0}) for more details.\", `command:${SHOW_SYNC_LOG_COMMAND_ID}`));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerConfigureSyncAction(): void {\n\t\tconst that = this;\n\t\tconst when = ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized), CONTEXT_SYNC_ENABLEMENT);\n\t\tthis._register(registerAction2(class ConfigureSyncAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: configureSyncCommand.id,\n\t\t\t\t\ttitle: configureSyncCommand.title,\n\t\t\t\t\ticon: Codicon.settingsGear,\n\t\t\t\t\ttooltip: localize('configure', \"Configure...\"),\n\t\t\t\t\tmenu: [{\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\t\t\twhen: ContextKeyEqualsExpr.create('viewContainer', SYNC_VIEW_CONTAINER_ID),\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\torder: 2\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(): any { return that.configureSyncOptions(); }\n\t\t}));\n\t}\n\n\tprivate registerShowLogAction(): void {\n\t\tconst that = this;\n\t\tthis._register(registerAction2(class ShowSyncActivityAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: SHOW_SYNC_LOG_COMMAND_ID,\n\t\t\t\t\ttitle: localize('show sync log title', \"{0}: Show Log\", SYNC_TITLE),\n\t\t\t\t\ttooltip: localize('show sync log toolrip', \"Show Log\"),\n\t\t\t\t\ticon: Codicon.output,\n\t\t\t\t\tmenu: [{\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized)),\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\t\t\twhen: ContextKeyEqualsExpr.create('viewContainer', SYNC_VIEW_CONTAINER_ID),\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\torder: 1\n\t\t\t\t\t}],\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(): any { return that.showSyncActivity(); }\n\t\t}));\n\t}\n\n\tprivate registerShowSettingsAction(): void {\n\t\tthis._register(registerAction2(class ShowSyncSettingsAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: showSyncSettingsCommand.id,\n\t\t\t\t\ttitle: showSyncSettingsCommand.title,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized)),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(accessor: ServicesAccessor): any {\n\t\t\t\taccessor.get(IPreferencesService).openGlobalSettings(false, { query: '@tag:sync' });\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerViews(): void {\n\t\tconst container = this.registerViewContainer();\n\t\tthis.registerDataViews(container);\n\t}\n\n\tprivate registerViewContainer(): ViewContainer {\n\t\treturn Registry.as<IViewContainersRegistry>(Extensions.ViewContainersRegistry).registerViewContainer(\n\t\t\t{\n\t\t\t\tid: SYNC_VIEW_CONTAINER_ID,\n\t\t\t\ttitle: SYNC_TITLE,\n\t\t\t\tctorDescriptor: new SyncDescriptor(\n\t\t\t\t\tViewPaneContainer,\n\t\t\t\t\t[SYNC_VIEW_CONTAINER_ID, { mergeViewWithContainerWhenSingleView: true }]\n\t\t\t\t),\n\t\t\t\ticon: SYNC_VIEW_ICON,\n\t\t\t\thideIfEmpty: true,\n\t\t\t}, ViewContainerLocation.Sidebar);\n\t}\n\n\tprivate registerResetSyncDataAction(): void {\n\t\tconst that = this;\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.actions.syncData.reset',\n\t\t\t\t\ttitle: localize('workbench.actions.syncData.reset', \"Clear Data in Cloud...\"),\n\t\t\t\t\tmenu: [{\n\t\t\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\t\t\twhen: ContextKeyEqualsExpr.create('viewContainer', SYNC_VIEW_CONTAINER_ID)\n\t\t\t\t\t}],\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(): any { return that.userDataSyncWorkbenchService.resetSyncedData(); }\n\t\t}));\n\t}\n\n\tprivate registerDataViews(container: ViewContainer): void {\n\t\tthis._register(this.instantiationService.createInstance(UserDataSyncDataViews, container));\n\t}\n\n}\n\nclass UserDataRemoteContentProvider implements ITextModelContentProvider {\n\n\tconstructor(\n\t\t@IUserDataSyncService private readonly userDataSyncService: IUserDataSyncService,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@IModeService private readonly modeService: IModeService,\n\t) {\n\t}\n\n\tprovideTextContent(uri: URI): Promise<ITextModel> | null {\n\t\tif (uri.scheme === USER_DATA_SYNC_SCHEME) {\n\t\t\treturn this.userDataSyncService.resolveContent(uri).then(content => this.modelService.createModel(content || '', this.modeService.create('jsonc'), uri));\n\t\t}\n\t\treturn null;\n\t}\n}\n\nclass AcceptChangesContribution extends Disposable implements IEditorContribution {\n\n\tstatic get(editor: ICodeEditor): AcceptChangesContribution {\n\t\treturn editor.getContribution<AcceptChangesContribution>(AcceptChangesContribution.ID);\n\t}\n\n\tpublic static readonly ID = 'editor.contrib.acceptChangesButton';\n\n\tprivate acceptChangesButton: FloatingClickWidget | undefined;\n\n\tconstructor(\n\t\tprivate editor: ICodeEditor,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IUserDataSyncService private readonly userDataSyncService: IUserDataSyncService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t) {\n\t\tsuper();\n\n\t\tthis.update();\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.editor.onDidChangeModel(() => this.update()));\n\t\tthis._register(this.userDataSyncService.onDidChangeConflicts(() => this.update()));\n\t\tthis._register(Event.filter(this.configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('diffEditor.renderSideBySide'))(() => this.update()));\n\t}\n\n\tprivate update(): void {\n\t\tif (!this.shouldShowButton(this.editor)) {\n\t\t\tthis.disposeAcceptChangesWidgetRenderer();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.createAcceptChangesWidgetRenderer();\n\t}\n\n\tprivate shouldShowButton(editor: ICodeEditor): boolean {\n\t\tconst model = editor.getModel();\n\t\tif (!model) {\n\t\t\treturn false; // we need a model\n\t\t}\n\n\t\tif (!this.userDataAutoSyncEnablementService.isEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst syncResourceConflicts = this.getSyncResourceConflicts(model.uri);\n\t\tif (!syncResourceConflicts) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (syncResourceConflicts[1].some(({ previewResource }) => isEqual(previewResource, model.uri))) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (syncResourceConflicts[1].some(({ remoteResource }) => isEqual(remoteResource, model.uri))) {\n\t\t\treturn this.configurationService.getValue<boolean>('diffEditor.renderSideBySide');\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate createAcceptChangesWidgetRenderer(): void {\n\t\tif (!this.acceptChangesButton) {\n\t\t\tconst resource = this.editor.getModel()!.uri;\n\t\t\tconst [syncResource, conflicts] = this.getSyncResourceConflicts(resource)!;\n\t\t\tconst isRemote = conflicts.some(({ remoteResource }) => isEqual(remoteResource, resource));\n\t\t\tconst acceptRemoteLabel = localize('accept remote', \"Accept Remote\");\n\t\t\tconst acceptMergesLabel = localize('accept merges', \"Accept Merges\");\n\t\t\tconst acceptRemoteButtonLabel = localize('accept remote button', \"Accept &&Remote\");\n\t\t\tconst acceptMergesButtonLabel = localize('accept merges button', \"Accept &&Merges\");\n\t\t\tthis.acceptChangesButton = this.instantiationService.createInstance(FloatingClickWidget, this.editor, isRemote ? acceptRemoteLabel : acceptMergesLabel, null);\n\t\t\tthis._register(this.acceptChangesButton.onClick(async () => {\n\t\t\t\tconst model = this.editor.getModel();\n\t\t\t\tif (model) {\n\t\t\t\t\tthis.telemetryService.publicLog2<{ source: string, action: string }, SyncConflictsClassification>('sync/handleConflicts', { source: syncResource, action: isRemote ? 'acceptRemote' : 'acceptLocal' });\n\t\t\t\t\tconst syncAreaLabel = getSyncAreaLabel(syncResource);\n\t\t\t\t\tconst result = await this.dialogService.confirm({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\ttitle: isRemote\n\t\t\t\t\t\t\t? localize('Sync accept remote', \"{0}: {1}\", SYNC_TITLE, acceptRemoteLabel)\n\t\t\t\t\t\t\t: localize('Sync accept merges', \"{0}: {1}\", SYNC_TITLE, acceptMergesLabel),\n\t\t\t\t\t\tmessage: isRemote\n\t\t\t\t\t\t\t? localize('confirm replace and overwrite local', \"Would you like to accept remote {0} and replace local {1}?\", syncAreaLabel.toLowerCase(), syncAreaLabel.toLowerCase())\n\t\t\t\t\t\t\t: localize('confirm replace and overwrite remote', \"Would you like to accept merges and replace remote {0}?\", syncAreaLabel.toLowerCase()),\n\t\t\t\t\t\tprimaryButton: isRemote ? acceptRemoteButtonLabel : acceptMergesButtonLabel\n\t\t\t\t\t});\n\t\t\t\t\tif (result.confirmed) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.userDataSyncService.accept(syncResource, model.uri, model.getValue(), true);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tif (e instanceof UserDataSyncError && e.code === UserDataSyncErrorCode.LocalPreconditionFailed) {\n\t\t\t\t\t\t\t\tconst syncResourceCoflicts = this.userDataSyncService.conflicts.filter(syncResourceCoflicts => syncResourceCoflicts[0] === syncResource)[0];\n\t\t\t\t\t\t\t\tif (syncResourceCoflicts && conflicts.some(conflict => isEqual(conflict.previewResource, model.uri) || isEqual(conflict.remoteResource, model.uri))) {\n\t\t\t\t\t\t\t\t\tthis.notificationService.warn(localize('update conflicts', \"Could not resolve conflicts as there is new local version available. Please try again.\"));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.notificationService.error(localize('accept failed', \"Error while accepting changes. Please check [logs]({0}) for more details.\", `command:${SHOW_SYNC_LOG_COMMAND_ID}`));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.acceptChangesButton.render();\n\t\t}\n\t}\n\n\tprivate getSyncResourceConflicts(resource: URI): [SyncResource, IResourcePreview[]] | undefined {\n\t\treturn this.userDataSyncService.conflicts.filter(([, conflicts]) => conflicts.some(({ previewResource, remoteResource }) => isEqual(previewResource, resource) || isEqual(remoteResource, resource)))[0];\n\t}\n\n\tprivate disposeAcceptChangesWidgetRenderer(): void {\n\t\tdispose(this.acceptChangesButton);\n\t\tthis.acceptChangesButton = undefined;\n\t}\n\n\toverride dispose(): void {\n\t\tthis.disposeAcceptChangesWidgetRenderer();\n\t\tsuper.dispose();\n\t}\n}\n"]}