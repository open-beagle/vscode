{"version":3,"sources":["vs/workbench/contrib/terminal/browser/terminalQuickAccess.ts"],"names":[],"mappings":"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","file":"terminalQuickAccess.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from 'vs/nls';\nimport { IQuickPickSeparator } from 'vs/platform/quickinput/common/quickInput';\nimport { IPickerQuickAccessItem, PickerQuickAccessProvider, TriggerAction } from 'vs/platform/quickinput/browser/pickerQuickAccess';\nimport { matchesFuzzy } from 'vs/base/common/filters';\nimport { ITerminalService } from 'vs/workbench/contrib/terminal/browser/terminal';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { TERMINAL_COMMAND_ID } from 'vs/workbench/contrib/terminal/common/terminal';\nimport { ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { killTerminalIcon, renameTerminalIcon } from 'vs/workbench/contrib/terminal/browser/terminalIcons';\n\nexport class TerminalQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\n\tstatic PREFIX = 'term ';\n\n\tconstructor(\n\t\t@ITerminalService private readonly terminalService: ITerminalService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t) {\n\t\tsuper(TerminalQuickAccessProvider.PREFIX, { canAcceptInBackground: true });\n\t}\n\n\tprotected getPicks(filter: string): Array<IPickerQuickAccessItem | IQuickPickSeparator> {\n\t\tconst terminalPicks: Array<IPickerQuickAccessItem | IQuickPickSeparator> = [];\n\n\t\tconst terminalTabs = this.terminalService.terminalTabs;\n\t\tfor (let tabIndex = 0; tabIndex < terminalTabs.length; tabIndex++) {\n\t\t\tconst terminalTab = terminalTabs[tabIndex];\n\t\t\tfor (let terminalIndex = 0; terminalIndex < terminalTab.terminalInstances.length; terminalIndex++) {\n\t\t\t\tconst terminal = terminalTab.terminalInstances[terminalIndex];\n\t\t\t\tconst label = `$(${terminal.icon?.id}) ${tabIndex + 1}.${terminalIndex + 1}: ${terminal.title}`;\n\n\t\t\t\tconst highlights = matchesFuzzy(filter, label, true);\n\t\t\t\tif (highlights) {\n\t\t\t\t\tterminalPicks.push({\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\thighlights: { label: highlights },\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(renameTerminalIcon),\n\t\t\t\t\t\t\t\ttooltip: localize('renameTerminal', \"Rename Terminal\")\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(killTerminalIcon),\n\t\t\t\t\t\t\t\ttooltip: localize('killTerminal', \"Kill Terminal Instance\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttrigger: buttonIndex => {\n\t\t\t\t\t\t\tswitch (buttonIndex) {\n\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\tthis.commandService.executeCommand(TERMINAL_COMMAND_ID.RENAME, terminal);\n\t\t\t\t\t\t\t\t\treturn TriggerAction.NO_ACTION;\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tterminal.dispose(true);\n\t\t\t\t\t\t\t\t\treturn TriggerAction.REMOVE_ITEM;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn TriggerAction.NO_ACTION;\n\t\t\t\t\t\t},\n\t\t\t\t\t\taccept: (keyMod, event) => {\n\t\t\t\t\t\t\tthis.terminalService.setActiveInstance(terminal);\n\t\t\t\t\t\t\tthis.terminalService.showPanel(!event.inBackground);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (terminalPicks.length > 0) {\n\t\t\tterminalPicks.push({ type: 'separator' });\n\t\t}\n\n\t\tconst createTerminalLabel = localize(\"workbench.action.terminal.newplus\", \"Create New Terminal\");\n\t\tterminalPicks.push({\n\t\t\tlabel: `$(plus) ${createTerminalLabel}`,\n\t\t\tariaLabel: createTerminalLabel,\n\t\t\taccept: () => this.commandService.executeCommand(TERMINAL_COMMAND_ID.NEW)\n\t\t});\n\t\tconst createWithProfileLabel = localize(\"workbench.action.terminal.newWithProfilePlus\", \"Create New Terminal With Profile\");\n\t\tterminalPicks.push({\n\t\t\tlabel: `$(plus) ${createWithProfileLabel}`,\n\t\t\tariaLabel: createWithProfileLabel,\n\t\t\taccept: () => this.commandService.executeCommand(TERMINAL_COMMAND_ID.NEW_WITH_PROFILE)\n\t\t});\n\n\t\treturn terminalPicks;\n\n\t}\n}\n"]}