{"version":3,"file":"terminal.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/terminal/node/terminal.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAOhG,IAAI,cAAc,GAAG,sBAAW,CAAC,OAAO,CAAC;IACzC,IAAI,kBAAO,EAAE;QACZ,MAAM,IAAI,GAAG,iBAAiB,CAAC;QAC/B,oBAAc,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,MAAM,EAAC,EAAE;YACnD,IAAI,CAAC,MAAM,EAAE;gBACZ,OAAO;aACP;YACD,MAAM,MAAM,GAAG,MAAM,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAChD,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAI,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBACrC,cAAc,GAAG,sBAAW,CAAC,MAAM,CAAC;aACpC;iBAAM,IAAI,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAC5C,cAAc,GAAG,sBAAW,CAAC,MAAM,CAAC;aACpC;QACF,CAAC,CAAC,CAAC;KACH;IAEY,QAAA,WAAW,GAAG,cAAc,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport { isLinux } from 'vs/base/common/platform';\nimport { SymlinkSupport } from 'vs/base/node/pfs';\nimport { LinuxDistro } from 'vs/workbench/contrib/terminal/common/terminal';\n\nlet detectedDistro = LinuxDistro.Unknown;\nif (isLinux) {\n\tconst file = '/etc/os-release';\n\tSymlinkSupport.existsFile(file).then(async exists => {\n\t\tif (!exists) {\n\t\t\treturn;\n\t\t}\n\t\tconst buffer = await fs.promises.readFile(file);\n\t\tconst contents = buffer.toString();\n\t\tif (/NAME=\"?Fedora\"?/.test(contents)) {\n\t\t\tdetectedDistro = LinuxDistro.Fedora;\n\t\t} else if (/NAME=\"?Ubuntu\"?/.test(contents)) {\n\t\t\tdetectedDistro = LinuxDistro.Ubuntu;\n\t\t}\n\t});\n}\n\nexport const linuxDistro = detectedDistro;\n"]}