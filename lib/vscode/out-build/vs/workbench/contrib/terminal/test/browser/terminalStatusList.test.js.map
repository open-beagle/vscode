{"version":3,"file":"terminalStatusList.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/terminal/test/browser/terminalStatusList.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual, strictEqual } from 'assert';\nimport Severity from 'vs/base/common/severity';\nimport { ITerminalStatus, TerminalStatusList } from 'vs/workbench/contrib/terminal/browser/terminalStatusList';\n\nfunction statusesEqual(list: TerminalStatusList, expected: [string, Severity][]) {\n\tdeepStrictEqual(list.statuses.map(e => [e.id, e.severity]), expected);\n}\n\nsuite('Workbench - TerminalStatusList', () => {\n\tlet list: TerminalStatusList;\n\n\tsetup(() => {\n\t\tlist = new TerminalStatusList();\n\t});\n\n\tteardown(() => {\n\t\tlist.dispose();\n\t});\n\n\ttest('primary', () => {\n\t\tstrictEqual(list.primary?.id, undefined);\n\t\tlist.add({ id: 'info1', severity: Severity.Info });\n\t\tstrictEqual(list.primary?.id, 'info1');\n\t\tlist.add({ id: 'warning1', severity: Severity.Warning });\n\t\tstrictEqual(list.primary?.id, 'warning1');\n\t\tlist.add({ id: 'info2', severity: Severity.Info });\n\t\tstrictEqual(list.primary?.id, 'warning1');\n\t\tlist.add({ id: 'warning2', severity: Severity.Warning });\n\t\tstrictEqual(list.primary?.id, 'warning2');\n\t\tlist.add({ id: 'info3', severity: Severity.Info });\n\t\tstrictEqual(list.primary?.id, 'warning2');\n\t\tlist.add({ id: 'error1', severity: Severity.Error });\n\t\tstrictEqual(list.primary?.id, 'error1');\n\t\tlist.add({ id: 'warning3', severity: Severity.Warning });\n\t\tstrictEqual(list.primary?.id, 'error1');\n\t\tlist.add({ id: 'error2', severity: Severity.Error });\n\t\tstrictEqual(list.primary?.id, 'error2');\n\t\tlist.remove('error1');\n\t\tstrictEqual(list.primary?.id, 'error2');\n\t\tlist.remove('error2');\n\t\tstrictEqual(list.primary?.id, 'warning3');\n\t});\n\n\ttest('statuses', () => {\n\t\tstrictEqual(list.statuses.length, 0);\n\t\tlist.add({ id: 'info', severity: Severity.Info });\n\t\tlist.add({ id: 'warning', severity: Severity.Warning });\n\t\tlist.add({ id: 'error', severity: Severity.Error });\n\t\tstrictEqual(list.statuses.length, 3);\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info],\n\t\t\t['warning', Severity.Warning],\n\t\t\t['error', Severity.Error],\n\t\t]);\n\t\tlist.remove('info');\n\t\tlist.remove('warning');\n\t\tlist.remove('error');\n\t\tstrictEqual(list.statuses.length, 0);\n\t});\n\n\ttest('onDidAddStatus', async () => {\n\t\tconst result = await new Promise<ITerminalStatus>(r => {\n\t\t\tlist.onDidAddStatus(r);\n\t\t\tlist.add({ id: 'test', severity: Severity.Info });\n\t\t});\n\t\tdeepStrictEqual(result, { id: 'test', severity: Severity.Info });\n\t});\n\n\ttest('onDidRemoveStatus', async () => {\n\t\tconst result = await new Promise<ITerminalStatus>(r => {\n\t\t\tlist.onDidRemoveStatus(r);\n\t\t\tlist.add({ id: 'test', severity: Severity.Info });\n\t\t\tlist.remove('test');\n\t\t});\n\t\tdeepStrictEqual(result, { id: 'test', severity: Severity.Info });\n\t});\n\n\ttest('onDidChangePrimaryStatus', async () => {\n\t\tconst result = await new Promise<ITerminalStatus>(r => {\n\t\t\tlist.onDidRemoveStatus(r);\n\t\t\tlist.add({ id: 'test', severity: Severity.Info });\n\t\t\tlist.remove('test');\n\t\t});\n\t\tdeepStrictEqual(result, { id: 'test', severity: Severity.Info });\n\t});\n\n\ttest('add', () => {\n\t\tstatusesEqual(list, []);\n\t\tlist.add({ id: 'info', severity: Severity.Info });\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info]\n\t\t]);\n\t\tlist.add({ id: 'warning', severity: Severity.Warning });\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info],\n\t\t\t['warning', Severity.Warning]\n\t\t]);\n\t\tlist.add({ id: 'error', severity: Severity.Error });\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info],\n\t\t\t['warning', Severity.Warning],\n\t\t\t['error', Severity.Error]\n\t\t]);\n\t});\n\n\ttest('remove', () => {\n\t\tlist.add({ id: 'info', severity: Severity.Info });\n\t\tlist.add({ id: 'warning', severity: Severity.Warning });\n\t\tlist.add({ id: 'error', severity: Severity.Error });\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info],\n\t\t\t['warning', Severity.Warning],\n\t\t\t['error', Severity.Error]\n\t\t]);\n\t\tlist.remove('warning');\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info],\n\t\t\t['error', Severity.Error]\n\t\t]);\n\t\tlist.remove('info');\n\t\tstatusesEqual(list, [\n\t\t\t['error', Severity.Error]\n\t\t]);\n\t\tlist.remove('error');\n\t\tstatusesEqual(list, []);\n\t});\n\n\ttest('toggle', () => {\n\t\tconst status = { id: 'info', severity: Severity.Info };\n\t\tlist.toggle(status, true);\n\t\tstatusesEqual(list, [\n\t\t\t['info', Severity.Info]\n\t\t]);\n\t\tlist.toggle(status, false);\n\t\tstatusesEqual(list, []);\n\t});\n});\n"]}