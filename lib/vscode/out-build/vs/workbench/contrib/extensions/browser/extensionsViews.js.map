{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionsViews.ts"],"names":[],"mappings":"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","file":"extensionsViews.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from 'vs/nls';\nimport { Disposable, DisposableStore, toDisposable } from 'vs/base/common/lifecycle';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { isPromiseCanceledError, getErrorMessage, createErrorWithActions } from 'vs/base/common/errors';\nimport { PagedModel, IPagedModel, IPager, DelayedPagedModel } from 'vs/base/common/paging';\nimport { SortBy, SortOrder, IQueryOptions } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IExtensionManagementServer, IExtensionManagementServerService, EnablementState, IWorkbenchExtensionManagementService } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { IExtensionRecommendationsService } from 'vs/workbench/services/extensionRecommendations/common/extensionRecommendations';\nimport { areSameExtensions } from 'vs/platform/extensionManagement/common/extensionManagementUtil';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { append, $ } from 'vs/base/browser/dom';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { Delegate, Renderer, IExtensionsViewState, EXTENSION_LIST_ELEMENT_HEIGHT } from 'vs/workbench/contrib/extensions/browser/extensionsList';\nimport { ExtensionState, IExtension, IExtensionsWorkbenchService, IWorkspaceRecommendedExtensionsView } from 'vs/workbench/contrib/extensions/common/extensions';\nimport { Query } from 'vs/workbench/contrib/extensions/common/extensionQuery';\nimport { IExtensionService, toExtension } from 'vs/workbench/services/extensions/common/extensions';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { attachBadgeStyler } from 'vs/platform/theme/common/styler';\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { CountBadge } from 'vs/base/browser/ui/countBadge/countBadge';\nimport { ManageExtensionAction, getContextMenuActions, ExtensionAction } from 'vs/workbench/contrib/extensions/browser/extensionsActions';\nimport { WorkbenchPagedList } from 'vs/platform/list/browser/listService';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { INotificationService, Severity } from 'vs/platform/notification/common/notification';\nimport { ViewPane, IViewPaneOptions } from 'vs/workbench/browser/parts/views/viewPane';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { coalesce, distinct, flatten } from 'vs/base/common/arrays';\nimport { IExperimentService, IExperiment, ExperimentActionType } from 'vs/workbench/contrib/experiments/common/experimentService';\nimport { alert } from 'vs/base/browser/ui/aria/aria';\nimport { IListContextMenuEvent } from 'vs/base/browser/ui/list/list';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { IAction, Action, Separator, ActionRunner } from 'vs/base/common/actions';\nimport { ExtensionIdentifier, IExtensionDescription, isLanguagePackExtension } from 'vs/platform/extensions/common/extensions';\nimport { CancelablePromise, createCancelablePromise } from 'vs/base/common/async';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { SeverityIcon } from 'vs/platform/severityIcon/common/severityIcon';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { SIDE_BAR_BACKGROUND } from 'vs/workbench/common/theme';\nimport { IViewDescriptorService } from 'vs/workbench/common/views';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IPreferencesService } from 'vs/workbench/services/preferences/common/preferences';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IExtensionManifestPropertiesService } from 'vs/workbench/services/extensions/common/extensionManifestPropertiesService';\n\n// Extensions that are automatically classified as Programming Language extensions, but should be Feature extensions\nconst FORCE_FEATURE_EXTENSIONS = ['vscode.git', 'vscode.search-result'];\n\ntype WorkspaceRecommendationsClassification = {\n\tcount: { classification: 'SystemMetaData', purpose: 'FeatureInsight', 'isMeasurement': true };\n};\n\nclass ExtensionsViewState extends Disposable implements IExtensionsViewState {\n\n\tprivate readonly _onFocus: Emitter<IExtension> = this._register(new Emitter<IExtension>());\n\treadonly onFocus: Event<IExtension> = this._onFocus.event;\n\n\tprivate readonly _onBlur: Emitter<IExtension> = this._register(new Emitter<IExtension>());\n\treadonly onBlur: Event<IExtension> = this._onBlur.event;\n\n\tprivate currentlyFocusedItems: IExtension[] = [];\n\n\tonFocusChange(extensions: IExtension[]): void {\n\t\tthis.currentlyFocusedItems.forEach(extension => this._onBlur.fire(extension));\n\t\tthis.currentlyFocusedItems = extensions;\n\t\tthis.currentlyFocusedItems.forEach(extension => this._onFocus.fire(extension));\n\t}\n}\n\nexport interface ExtensionsListViewOptions {\n\tserver?: IExtensionManagementServer;\n\tfixedHeight?: boolean;\n\tonDidChangeTitle?: Event<string>;\n}\n\nclass ExtensionListViewWarning extends Error { }\n\ninterface IQueryResult {\n\treadonly model: IPagedModel<IExtension>;\n\treadonly onDidChangeModel?: Event<IPagedModel<IExtension>>;\n\treadonly disposables: DisposableStore;\n}\n\nexport class ExtensionsListView extends ViewPane {\n\n\tprivate bodyTemplate: {\n\t\tmessageContainer: HTMLElement;\n\t\tmessageSeverityIcon: HTMLElement;\n\t\tmessageBox: HTMLElement;\n\t\textensionsList: HTMLElement;\n\t} | undefined;\n\tprivate badge: CountBadge | undefined;\n\tprivate list: WorkbenchPagedList<IExtension> | null = null;\n\tprivate queryRequest: { query: string, request: CancelablePromise<IPagedModel<IExtension>> } | null = null;\n\tprivate queryResult: IQueryResult | undefined;\n\n\tprivate readonly contextMenuActionRunner = this._register(new ActionRunner());\n\n\tconstructor(\n\t\tprotected readonly options: ExtensionsListViewOptions,\n\t\tviewletViewOptions: IViewletViewOptions,\n\t\t@INotificationService protected notificationService: INotificationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionsWorkbenchService protected extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionRecommendationsService protected extensionRecommendationsService: IExtensionRecommendationsService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IWorkspaceContextService protected contextService: IWorkspaceContextService,\n\t\t@IExperimentService private readonly experimentService: IExperimentService,\n\t\t@IExtensionManagementServerService protected readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t\t@IWorkbenchExtensionManagementService protected readonly extensionManagementService: IWorkbenchExtensionManagementService,\n\t\t@IProductService protected readonly productService: IProductService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t) {\n\t\tsuper({\n\t\t\t...(viewletViewOptions as IViewPaneOptions),\n\t\t\tshowActionsAlways: true,\n\t\t\tmaximumBodySize: options.fixedHeight ? storageService.getNumber(viewletViewOptions.id, StorageScope.GLOBAL, 0) : undefined\n\t\t}, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, telemetryService);\n\t\tif (this.options.onDidChangeTitle) {\n\t\t\tthis._register(this.options.onDidChangeTitle(title => this.updateTitle(title)));\n\t\t}\n\n\t\tthis._register(this.contextMenuActionRunner.onDidRun(({ error }) => error && this.notificationService.error(error)));\n\t\tthis.registerActions();\n\t}\n\n\tprotected registerActions(): void { }\n\n\tprotected override renderHeader(container: HTMLElement): void {\n\t\tcontainer.classList.add('extension-view-header');\n\t\tsuper.renderHeader(container);\n\n\t\tthis.badge = new CountBadge(append(container, $('.count-badge-wrapper')));\n\t\tthis._register(attachBadgeStyler(this.badge, this.themeService));\n\t}\n\n\toverride renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tconst extensionsList = append(container, $('.extensions-list'));\n\t\tconst messageContainer = append(container, $('.message-container'));\n\t\tconst messageSeverityIcon = append(messageContainer, $(''));\n\t\tconst messageBox = append(messageContainer, $('.message'));\n\t\tconst delegate = new Delegate();\n\t\tconst extensionsViewState = new ExtensionsViewState();\n\t\tconst renderer = this.instantiationService.createInstance(Renderer, extensionsViewState);\n\t\tthis.list = this.instantiationService.createInstance(WorkbenchPagedList, 'Extensions', extensionsList, delegate, [renderer], {\n\t\t\tmultipleSelectionSupport: false,\n\t\t\tsetRowLineHeight: false,\n\t\t\thorizontalScrolling: false,\n\t\t\taccessibilityProvider: <IListAccessibilityProvider<IExtension | null>>{\n\t\t\t\tgetAriaLabel(extension: IExtension | null): string {\n\t\t\t\t\treturn extension ? localize('extension.arialabel', \"{0}, {1}, {2}, {3}\", extension.displayName, extension.version, extension.publisherDisplayName, extension.description) : '';\n\t\t\t\t},\n\t\t\t\tgetWidgetAriaLabel(): string {\n\t\t\t\t\treturn localize('extensions', \"Extensions\");\n\t\t\t\t}\n\t\t\t},\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: SIDE_BAR_BACKGROUND\n\t\t\t},\n\t\t\topenOnSingleClick: true\n\t\t}) as WorkbenchPagedList<IExtension>;\n\t\tthis._register(this.list.onContextMenu(e => this.onContextMenu(e), this));\n\t\tthis._register(this.list.onDidChangeFocus(e => extensionsViewState.onFocusChange(coalesce(e.elements)), this));\n\t\tthis._register(this.list);\n\t\tthis._register(extensionsViewState);\n\n\t\tthis._register(Event.debounce(Event.filter(this.list.onDidOpen, e => e.element !== null), (_, event) => event, 75, true)(options => {\n\t\t\tthis.openExtension(options.element!, { sideByside: options.sideBySide, ...options.editorOptions });\n\t\t}));\n\n\t\tthis.bodyTemplate = {\n\t\t\textensionsList,\n\t\t\tmessageBox,\n\t\t\tmessageContainer,\n\t\t\tmessageSeverityIcon\n\t\t};\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tif (this.bodyTemplate) {\n\t\t\tthis.bodyTemplate.extensionsList.style.height = height + 'px';\n\t\t}\n\t\tif (this.list) {\n\t\t\tthis.list.layout(height, width);\n\t\t}\n\t}\n\n\tasync show(query: string, refresh?: boolean): Promise<IPagedModel<IExtension>> {\n\t\tif (this.queryRequest) {\n\t\t\tif (!refresh && this.queryRequest.query === query) {\n\t\t\t\treturn this.queryRequest.request;\n\t\t\t}\n\t\t\tthis.queryRequest.request.cancel();\n\t\t\tthis.queryRequest = null;\n\t\t}\n\n\t\tif (this.queryResult) {\n\t\t\tthis.queryResult.disposables.dispose();\n\t\t\tthis.queryResult = undefined;\n\t\t}\n\n\t\tconst parsedQuery = Query.parse(query);\n\n\t\tlet options: IQueryOptions = {\n\t\t\tsortOrder: SortOrder.Default\n\t\t};\n\n\t\tswitch (parsedQuery.sortBy) {\n\t\t\tcase 'installs': options.sortBy = SortBy.InstallCount; break;\n\t\t\tcase 'rating': options.sortBy = SortBy.WeightedRating; break;\n\t\t\tcase 'name': options.sortBy = SortBy.Title; break;\n\t\t\tcase 'publishedDate': options.sortBy = SortBy.PublishedDate; break;\n\t\t}\n\n\t\tconst request = createCancelablePromise(async token => {\n\t\t\ttry {\n\t\t\t\tthis.queryResult = await this.query(parsedQuery, options, token);\n\t\t\t\tconst model = this.queryResult.model;\n\t\t\t\tthis.setModel(model);\n\t\t\t\tif (this.queryResult.onDidChangeModel) {\n\t\t\t\t\tthis.queryResult.disposables.add(this.queryResult.onDidChangeModel(model => this.updateModel(model)));\n\t\t\t\t}\n\t\t\t\treturn model;\n\t\t\t} catch (e) {\n\t\t\t\tconst model = new PagedModel([]);\n\t\t\t\tif (!isPromiseCanceledError(e)) {\n\t\t\t\t\tthis.setModel(model, e);\n\t\t\t\t}\n\t\t\t\treturn this.list ? this.list.model : model;\n\t\t\t}\n\t\t});\n\n\t\trequest.finally(() => this.queryRequest = null);\n\t\tthis.queryRequest = { query, request };\n\t\treturn request;\n\t}\n\n\tcount(): number {\n\t\treturn this.list ? this.list.length : 0;\n\t}\n\n\tprotected showEmptyModel(): Promise<IPagedModel<IExtension>> {\n\t\tconst emptyModel = new PagedModel([]);\n\t\tthis.setModel(emptyModel);\n\t\treturn Promise.resolve(emptyModel);\n\t}\n\n\tprivate async onContextMenu(e: IListContextMenuEvent<IExtension>): Promise<void> {\n\t\tif (e.element) {\n\t\t\tconst runningExtensions = await this.extensionService.getExtensions();\n\t\t\tconst manageExtensionAction = this.instantiationService.createInstance(ManageExtensionAction);\n\t\t\tmanageExtensionAction.extension = e.element;\n\t\t\tlet groups: IAction[][] = [];\n\t\t\tif (manageExtensionAction.enabled) {\n\t\t\t\tgroups = await manageExtensionAction.getActionGroups(runningExtensions);\n\n\t\t\t} else if (e.element) {\n\t\t\t\tgroups = getContextMenuActions(e.element, false, this.instantiationService);\n\t\t\t\tgroups.forEach(group => group.forEach(extensionAction => {\n\t\t\t\t\tif (extensionAction instanceof ExtensionAction) {\n\t\t\t\t\t\textensionAction.extension = e.element!;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t\tlet actions: IAction[] = [];\n\t\t\tfor (const menuActions of groups) {\n\t\t\t\tactions = [...actions, ...menuActions, new Separator()];\n\t\t\t}\n\t\t\tactions.pop();\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tactionRunner: this.contextMenuActionRunner,\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate async query(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IQueryResult> {\n\t\tconst idRegex = /@id:(([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*))/g;\n\t\tconst ids: string[] = [];\n\t\tlet idMatch;\n\t\twhile ((idMatch = idRegex.exec(query.value)) !== null) {\n\t\t\tconst name = idMatch[1];\n\t\t\tids.push(name);\n\t\t}\n\t\tif (ids.length) {\n\t\t\tconst model = await this.queryByIds(ids, options, token);\n\t\t\treturn { model, disposables: new DisposableStore() };\n\t\t}\n\n\t\tif (ExtensionsListView.isLocalExtensionsQuery(query.value)) {\n\t\t\treturn this.queryLocal(query, options);\n\t\t}\n\n\t\ttry {\n\t\t\tconst model = await this.queryGallery(query, options, token);\n\t\t\treturn { model, disposables: new DisposableStore() };\n\t\t} catch (e) {\n\t\t\tconsole.warn('Error querying extensions gallery', getErrorMessage(e));\n\t\t\treturn Promise.reject(new ExtensionListViewWarning(localize('galleryError', \"We cannot connect to the Extensions Marketplace at this time, please try again later.\")));\n\t\t}\n\t}\n\n\tprivate async queryByIds(ids: string[], options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst idsSet: Set<string> = ids.reduce((result, id) => { result.add(id.toLowerCase()); return result; }, new Set<string>());\n\t\tconst result = (await this.extensionsWorkbenchService.queryLocal(this.options.server))\n\t\t\t.filter(e => idsSet.has(e.identifier.id.toLowerCase()));\n\n\t\tif (result.length) {\n\t\t\treturn this.getPagedModel(this.sortExtensions(result, options));\n\t\t}\n\n\t\treturn this.extensionsWorkbenchService.queryGallery({ names: ids, source: 'queryById' }, token)\n\t\t\t.then(pager => this.getPagedModel(pager));\n\t}\n\n\tprivate async queryLocal(query: Query, options: IQueryOptions): Promise<IQueryResult> {\n\t\tconst local = await this.extensionsWorkbenchService.queryLocal(this.options.server);\n\t\tconst runningExtensions = await this.extensionService.getExtensions();\n\t\tlet { extensions, canIncludeInstalledExtensions } = this.filterLocal(local, runningExtensions, query, options);\n\t\tconst disposables = new DisposableStore();\n\t\tconst onDidChangeModel = disposables.add(new Emitter<IPagedModel<IExtension>>());\n\n\t\tif (canIncludeInstalledExtensions) {\n\t\t\tlet isDisposed: boolean = false;\n\t\t\tdisposables.add(toDisposable(() => isDisposed = true));\n\t\t\tdisposables.add(Event.debounce(Event.any(\n\t\t\t\tEvent.filter(this.extensionsWorkbenchService.onChange, e => e?.state === ExtensionState.Installed),\n\t\t\t\tthis.extensionService.onDidChangeExtensions\n\t\t\t), () => undefined)(async () => {\n\t\t\t\tconst local = this.options.server ? this.extensionsWorkbenchService.installed.filter(e => e.server === this.options.server) : this.extensionsWorkbenchService.local;\n\t\t\t\tconst runningExtensions = await this.extensionService.getExtensions();\n\t\t\t\tconst { extensions: newExtensions } = this.filterLocal(local, runningExtensions, query, options);\n\t\t\t\tif (!isDisposed) {\n\t\t\t\t\tconst mergedExtensions = this.mergeAddedExtensions(extensions, newExtensions);\n\t\t\t\t\tif (mergedExtensions) {\n\t\t\t\t\t\textensions = mergedExtensions;\n\t\t\t\t\t\tonDidChangeModel.fire(new PagedModel(extensions));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\treturn {\n\t\t\tmodel: new PagedModel(extensions),\n\t\t\tonDidChangeModel: onDidChangeModel.event,\n\t\t\tdisposables\n\t\t};\n\t}\n\n\tprivate filterLocal(local: IExtension[], runningExtensions: IExtensionDescription[], query: Query, options: IQueryOptions): { extensions: IExtension[], canIncludeInstalledExtensions: boolean } {\n\t\tlet value = query.value;\n\t\tlet extensions: IExtension[] = [];\n\t\tlet canIncludeInstalledExtensions = true;\n\n\t\tif (/@builtin/i.test(value)) {\n\t\t\textensions = this.filterBuiltinExtensions(local, query, options);\n\t\t\tcanIncludeInstalledExtensions = false;\n\t\t}\n\n\t\telse if (/@installed/i.test(value)) {\n\t\t\textensions = this.filterInstalledExtensions(local, runningExtensions, query, options);\n\t\t}\n\n\t\telse if (/@outdated/i.test(value)) {\n\t\t\textensions = this.filterOutdatedExtensions(local, query, options);\n\t\t}\n\n\t\telse if (/@disabled/i.test(value)) {\n\t\t\textensions = this.filterDisabledExtensions(local, runningExtensions, query, options);\n\t\t}\n\n\t\telse if (/@enabled/i.test(value)) {\n\t\t\textensions = this.filterEnabledExtensions(local, runningExtensions, query, options);\n\t\t}\n\n\t\telse if (/@trustRequired/i.test(value)) {\n\t\t\textensions = this.filterTrustRequiredExtensions(local, query, options);\n\t\t}\n\n\t\treturn { extensions, canIncludeInstalledExtensions };\n\t}\n\n\tprivate filterBuiltinExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet value = query.value;\n\t\tconst showThemesOnly = /@builtin:themes/i.test(value);\n\t\tif (showThemesOnly) {\n\t\t\tvalue = value.replace(/@builtin:themes/g, '');\n\t\t}\n\t\tconst showBasicsOnly = /@builtin:basics/i.test(value);\n\t\tif (showBasicsOnly) {\n\t\t\tvalue = value.replace(/@builtin:basics/g, '');\n\t\t}\n\t\tconst showFeaturesOnly = /@builtin:features/i.test(value);\n\t\tif (showFeaturesOnly) {\n\t\t\tvalue = value.replace(/@builtin:features/g, '');\n\t\t}\n\n\t\tvalue = value.replace(/@builtin/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tlet result = local\n\t\t\t.filter(e => e.isBuiltin && (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1));\n\n\t\tconst isThemeExtension = (e: IExtension): boolean => {\n\t\t\treturn (Array.isArray(e.local?.manifest?.contributes?.themes) && e.local!.manifest!.contributes!.themes.length > 0)\n\t\t\t\t|| (Array.isArray(e.local?.manifest?.contributes?.iconThemes) && e.local!.manifest!.contributes!.iconThemes.length > 0);\n\t\t};\n\t\tif (showThemesOnly) {\n\t\t\tconst themesExtensions = result.filter(isThemeExtension);\n\t\t\treturn this.sortExtensions(themesExtensions, options);\n\t\t}\n\n\t\tconst isLangaugeBasicExtension = (e: IExtension): boolean => {\n\t\t\treturn FORCE_FEATURE_EXTENSIONS.indexOf(e.identifier.id) === -1\n\t\t\t\t&& (Array.isArray(e.local?.manifest?.contributes?.grammars) && e.local!.manifest!.contributes!.grammars.length > 0);\n\t\t};\n\t\tif (showBasicsOnly) {\n\t\t\tconst basics = result.filter(isLangaugeBasicExtension);\n\t\t\treturn this.sortExtensions(basics, options);\n\t\t}\n\t\tif (showFeaturesOnly) {\n\t\t\tconst others = result.filter(e => {\n\t\t\t\treturn e.local\n\t\t\t\t\t&& e.local.manifest\n\t\t\t\t\t&& !isThemeExtension(e)\n\t\t\t\t\t&& !isLangaugeBasicExtension(e);\n\t\t\t});\n\t\t\treturn this.sortExtensions(others, options);\n\t\t}\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate parseCategories(value: string): { value: string, categories: string[] } {\n\t\tconst categories: string[] = [];\n\t\tvalue = value.replace(/\\bcategory:(\"([^\"]*)\"|([^\"]\\S*))(\\s+|\\b|$)/g, (_, quotedCategory, category) => {\n\t\t\tconst entry = (category || quotedCategory || '').toLowerCase();\n\t\t\tif (categories.indexOf(entry) === -1) {\n\t\t\t\tcategories.push(entry);\n\t\t\t}\n\t\t\treturn '';\n\t\t});\n\t\treturn { value, categories };\n\t}\n\n\tprivate filterInstalledExtensions(local: IExtension[], runningExtensions: IExtensionDescription[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value.replace(/@installed/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tlet result = local\n\t\t\t.filter(e => !e.isBuiltin\n\t\t\t\t&& (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category))));\n\n\t\tif (options.sortBy !== undefined) {\n\t\t\tresult = this.sortExtensions(result, options);\n\t\t} else {\n\t\t\tconst runningExtensionsById = runningExtensions.reduce((result, e) => { result.set(ExtensionIdentifier.toKey(e.identifier.value), e); return result; }, new Map<string, IExtensionDescription>());\n\t\t\tresult = result.sort((e1, e2) => {\n\t\t\t\tconst running1 = runningExtensionsById.get(ExtensionIdentifier.toKey(e1.identifier.id));\n\t\t\t\tconst isE1Running = running1 && this.extensionManagementServerService.getExtensionManagementServer(toExtension(running1)) === e1.server;\n\t\t\t\tconst running2 = runningExtensionsById.get(ExtensionIdentifier.toKey(e2.identifier.id));\n\t\t\t\tconst isE2Running = running2 && this.extensionManagementServerService.getExtensionManagementServer(toExtension(running2)) === e2.server;\n\t\t\t\tif ((isE1Running && isE2Running)) {\n\t\t\t\t\treturn e1.displayName.localeCompare(e2.displayName);\n\t\t\t\t}\n\t\t\t\tconst isE1LanguagePackExtension = e1.local && isLanguagePackExtension(e1.local.manifest);\n\t\t\t\tconst isE2LanguagePackExtension = e2.local && isLanguagePackExtension(e2.local.manifest);\n\t\t\t\tif (!isE1Running && !isE2Running) {\n\t\t\t\t\tif (isE1LanguagePackExtension) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (isE2LanguagePackExtension) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn e1.displayName.localeCompare(e2.displayName);\n\t\t\t\t}\n\t\t\t\tif ((isE1Running && isE2LanguagePackExtension) || (isE2Running && isE1LanguagePackExtension)) {\n\t\t\t\t\treturn e1.displayName.localeCompare(e2.displayName);\n\t\t\t\t}\n\t\t\t\treturn isE1Running ? -1 : 1;\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate filterOutdatedExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value.replace(/@outdated/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local\n\t\t\t.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName))\n\t\t\t.filter(extension => extension.outdated\n\t\t\t\t&& (extension.name.toLowerCase().indexOf(value) > -1 || extension.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => !!extension.local && extension.local.manifest.categories!.some(c => c.toLowerCase() === category))));\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate filterDisabledExtensions(local: IExtension[], runningExtensions: IExtensionDescription[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value.replace(/@disabled/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local\n\t\t\t.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName))\n\t\t\t.filter(e => runningExtensions.every(r => !areSameExtensions({ id: r.identifier.value, uuid: r.uuid }, e.identifier))\n\t\t\t\t&& (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category))));\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate filterEnabledExtensions(local: IExtension[], runningExtensions: IExtensionDescription[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet { value, categories } = this.parseCategories(query.value);\n\n\t\tvalue = value ? value.replace(/@enabled/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase() : '';\n\n\t\tlocal = local.filter(e => !e.isBuiltin);\n\t\tconst result = local\n\t\t\t.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName))\n\t\t\t.filter(e => runningExtensions.some(r => areSameExtensions({ id: r.identifier.value, uuid: r.uuid }, e.identifier))\n\t\t\t\t&& (e.name.toLowerCase().indexOf(value) > -1 || e.displayName.toLowerCase().indexOf(value) > -1)\n\t\t\t\t&& (!categories.length || categories.some(category => (e.local && e.local.manifest.categories || []).some(c => c.toLowerCase() === category))));\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\tprivate filterTrustRequiredExtensions(local: IExtension[], query: Query, options: IQueryOptions): IExtension[] {\n\t\tlet value = query.value;\n\t\tconst onStartOnly = /@trustRequired:onStart/i.test(value);\n\t\tif (onStartOnly) {\n\t\t\tvalue = value.replace(/@trustRequired:onStart/g, '');\n\t\t}\n\t\tconst onDemandOnly = /@trustRequired:onDemand/i.test(value);\n\t\tif (onDemandOnly) {\n\t\t\tvalue = value.replace(/@trustRequired:onDemand/g, '');\n\t\t}\n\n\t\tvalue = value.replace(/@trustRequired/g, '').replace(/@sort:(\\w+)(-\\w*)?/g, '').trim().toLowerCase();\n\n\t\tconst result = local.filter(extension => extension.local && this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(extension.local.manifest) !== true && (extension.name.toLowerCase().indexOf(value) > -1 || extension.displayName.toLowerCase().indexOf(value) > -1));\n\n\t\tif (onStartOnly) {\n\t\t\tconst onStartExtensions = result.filter(extension => extension.local && this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(extension.local.manifest) === false);\n\t\t\treturn this.sortExtensions(onStartExtensions, options);\n\t\t}\n\n\t\tif (onDemandOnly) {\n\t\t\tconst onDemandExtensions = result.filter(extension => extension.local && this.extensionManifestPropertiesService.getExtensionUntrustedWorkspaceSupportType(extension.local.manifest) === 'limited');\n\t\t\treturn this.sortExtensions(onDemandExtensions, options);\n\t\t}\n\n\t\treturn this.sortExtensions(result, options);\n\t}\n\n\n\tprivate mergeAddedExtensions(extensions: IExtension[], newExtensions: IExtension[]): IExtension[] | undefined {\n\t\tconst oldExtensions = [...extensions];\n\t\tconst findPreviousExtensionIndex = (from: number): number => {\n\t\t\tlet index = -1;\n\t\t\tconst previousExtensionInNew = newExtensions[from];\n\t\t\tif (previousExtensionInNew) {\n\t\t\t\tindex = oldExtensions.findIndex(e => areSameExtensions(e.identifier, previousExtensionInNew.identifier));\n\t\t\t\tif (index === -1) {\n\t\t\t\t\treturn findPreviousExtensionIndex(from - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn index;\n\t\t};\n\n\t\tlet hasChanged: boolean = false;\n\t\tfor (let index = 0; index < newExtensions.length; index++) {\n\t\t\tconst extension = newExtensions[index];\n\t\t\tif (extensions.every(r => !areSameExtensions(r.identifier, extension.identifier))) {\n\t\t\t\thasChanged = true;\n\t\t\t\textensions.splice(findPreviousExtensionIndex(index - 1) + 1, 0, extension);\n\t\t\t}\n\t\t}\n\n\t\treturn hasChanged ? extensions : undefined;\n\t}\n\n\tprivate async queryGallery(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst hasUserDefinedSortOrder = options.sortBy !== undefined;\n\t\tif (!hasUserDefinedSortOrder && !query.value.trim()) {\n\t\t\toptions.sortBy = SortBy.InstallCount;\n\t\t}\n\n\t\tif (this.isRecommendationsQuery(query)) {\n\t\t\treturn this.queryRecommendations(query, options, token);\n\t\t}\n\n\t\tif (/\\bcurated:([^\\s]+)\\b/.test(query.value)) {\n\t\t\treturn this.getCuratedModel(query, options, token);\n\t\t}\n\n\t\tconst text = query.value;\n\n\t\tif (/\\bext:([^\\s]+)\\b/g.test(text)) {\n\t\t\toptions.text = text;\n\t\t\toptions.source = 'file-extension-tags';\n\t\t\treturn this.extensionsWorkbenchService.queryGallery(options, token).then(pager => this.getPagedModel(pager));\n\t\t}\n\n\t\tlet preferredResults: string[] = [];\n\t\tif (text) {\n\t\t\toptions.text = text.substr(0, 350);\n\t\t\toptions.source = 'searchText';\n\t\t\tif (!hasUserDefinedSortOrder) {\n\t\t\t\tconst searchExperiments = await this.getSearchExperiments();\n\t\t\t\tfor (const experiment of searchExperiments) {\n\t\t\t\t\tif (experiment.action && text.toLowerCase() === experiment.action.properties['searchText'] && Array.isArray(experiment.action.properties['preferredResults'])) {\n\t\t\t\t\t\tpreferredResults = experiment.action.properties['preferredResults'];\n\t\t\t\t\t\toptions.source += `-experiment-${experiment.id}`;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\toptions.source = 'viewlet';\n\t\t}\n\n\t\tconst pager = await this.extensionsWorkbenchService.queryGallery(options, token);\n\n\t\tlet positionToUpdate = 0;\n\t\tfor (const preferredResult of preferredResults) {\n\t\t\tfor (let j = positionToUpdate; j < pager.firstPage.length; j++) {\n\t\t\t\tif (areSameExtensions(pager.firstPage[j].identifier, { id: preferredResult })) {\n\t\t\t\t\tif (positionToUpdate !== j) {\n\t\t\t\t\t\tconst preferredExtension = pager.firstPage.splice(j, 1)[0];\n\t\t\t\t\t\tpager.firstPage.splice(positionToUpdate, 0, preferredExtension);\n\t\t\t\t\t\tpositionToUpdate++;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.getPagedModel(pager);\n\n\t}\n\n\tprivate _searchExperiments: Promise<IExperiment[]> | undefined;\n\tprivate getSearchExperiments(): Promise<IExperiment[]> {\n\t\tif (!this._searchExperiments) {\n\t\t\tthis._searchExperiments = this.experimentService.getExperimentsByType(ExperimentActionType.ExtensionSearchResults);\n\t\t}\n\t\treturn this._searchExperiments;\n\t}\n\n\tprivate sortExtensions(extensions: IExtension[], options: IQueryOptions): IExtension[] {\n\t\tswitch (options.sortBy) {\n\t\t\tcase SortBy.InstallCount:\n\t\t\t\textensions = extensions.sort((e1, e2) => typeof e2.installCount === 'number' && typeof e1.installCount === 'number' ? e2.installCount - e1.installCount : NaN);\n\t\t\t\tbreak;\n\t\t\tcase SortBy.AverageRating:\n\t\t\tcase SortBy.WeightedRating:\n\t\t\t\textensions = extensions.sort((e1, e2) => typeof e2.rating === 'number' && typeof e1.rating === 'number' ? e2.rating - e1.rating : NaN);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\textensions = extensions.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName));\n\t\t\t\tbreak;\n\t\t}\n\t\tif (options.sortOrder === SortOrder.Descending) {\n\t\t\textensions = extensions.reverse();\n\t\t}\n\t\treturn extensions;\n\t}\n\n\tprivate async getCuratedModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/curated:/g, '').trim();\n\t\tconst names = await this.experimentService.getCuratedExtensionsList(value);\n\t\tif (Array.isArray(names) && names.length) {\n\t\t\toptions.source = `curated:${value}`;\n\t\t\toptions.names = names;\n\t\t\toptions.pageSize = names.length;\n\t\t\tconst pager = await this.extensionsWorkbenchService.queryGallery(options, token);\n\t\t\tthis.sortFirstPage(pager, names);\n\t\t\treturn this.getPagedModel(pager || []);\n\t\t}\n\t\treturn new PagedModel([]);\n\t}\n\n\tprivate isRecommendationsQuery(query: Query): boolean {\n\t\treturn ExtensionsListView.isWorkspaceRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isKeymapsRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isExeRecommendedExtensionsQuery(query.value)\n\t\t\t|| /@recommended:all/i.test(query.value)\n\t\t\t|| ExtensionsListView.isSearchRecommendedExtensionsQuery(query.value)\n\t\t\t|| ExtensionsListView.isRecommendedExtensionsQuery(query.value);\n\t}\n\n\tprivate async queryRecommendations(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\t// Workspace recommendations\n\t\tif (ExtensionsListView.isWorkspaceRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getWorkspaceRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// Keymap recommendations\n\t\tif (ExtensionsListView.isKeymapsRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getKeymapRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// Exe recommendations\n\t\tif (ExtensionsListView.isExeRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getExeRecommendationsModel(query, options, token);\n\t\t}\n\n\t\t// All recommendations\n\t\tif (/@recommended:all/i.test(query.value)) {\n\t\t\treturn this.getAllRecommendationsModel(options, token);\n\t\t}\n\n\t\t// Search recommendations\n\t\tif (ExtensionsListView.isSearchRecommendedExtensionsQuery(query.value) ||\n\t\t\t(ExtensionsListView.isRecommendedExtensionsQuery(query.value) && options.sortBy !== undefined)) {\n\t\t\treturn this.searchRecommendations(query, options, token);\n\t\t}\n\n\t\t// Other recommendations\n\t\tif (ExtensionsListView.isRecommendedExtensionsQuery(query.value)) {\n\t\t\treturn this.getOtherRecommendationsModel(query, options, token);\n\t\t}\n\n\t\treturn new PagedModel([]);\n\t}\n\n\tprotected async getInstallableRecommendations(recommendations: string[], options: IQueryOptions, token: CancellationToken): Promise<IExtension[]> {\n\t\tconst extensions: IExtension[] = [];\n\t\tif (recommendations.length) {\n\t\t\tconst pager = await this.extensionsWorkbenchService.queryGallery({ ...options, names: recommendations, pageSize: recommendations.length }, token);\n\t\t\tfor (const extension of pager.firstPage) {\n\t\t\t\tif (extension.gallery && (await this.extensionManagementService.canInstall(extension.gallery))) {\n\t\t\t\t\textensions.push(extension);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn extensions;\n\t}\n\n\tprotected async getWorkspaceRecommendations(): Promise<string[]> {\n\t\tconst recommendations = await this.extensionRecommendationsService.getWorkspaceRecommendations();\n\t\tconst { important } = await this.extensionRecommendationsService.getConfigBasedRecommendations();\n\t\tfor (const configBasedRecommendation of important) {\n\t\t\tif (!recommendations.find(extensionId => extensionId === configBasedRecommendation)) {\n\t\t\t\trecommendations.push(configBasedRecommendation);\n\t\t\t}\n\t\t}\n\t\treturn recommendations;\n\t}\n\n\tprivate async getWorkspaceRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst recommendations = await this.getWorkspaceRecommendations();\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations-workspace' }, token));\n\t\tthis.telemetryService.publicLog2<{ count: number }, WorkspaceRecommendationsClassification>('extensionWorkspaceRecommendations:open', { count: installableRecommendations.length });\n\t\tconst result: IExtension[] = coalesce(recommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(result);\n\t}\n\n\tprivate async getKeymapRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/@recommended:keymaps/g, '').trim().toLowerCase();\n\t\tconst recommendations = this.extensionRecommendationsService.getKeymapRecommendations();\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations-keymaps' }, token))\n\t\t\t.filter(extension => extension.identifier.id.toLowerCase().indexOf(value) > -1);\n\t\treturn new PagedModel(installableRecommendations);\n\t}\n\n\tprivate async getExeRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst exe = query.value.replace(/@exe:/g, '').trim().toLowerCase();\n\t\tconst { important, others } = await this.extensionRecommendationsService.getExeBasedRecommendations(exe.startsWith('\"') ? exe.substring(1, exe.length - 1) : exe);\n\t\tconst installableRecommendations = await this.getInstallableRecommendations([...important, ...others], { ...options, source: 'recommendations-exe' }, token);\n\t\treturn new PagedModel(installableRecommendations);\n\t}\n\n\tprivate async getOtherRecommendationsModel(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst otherRecommendations = await this.getOtherRecommendations();\n\t\tconst installableRecommendations = await this.getInstallableRecommendations(otherRecommendations, { ...options, source: 'recommendations-other', sortBy: undefined }, token);\n\t\tconst result = coalesce(otherRecommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(result);\n\t}\n\n\tprivate async getOtherRecommendations(): Promise<string[]> {\n\t\tconst local = (await this.extensionsWorkbenchService.queryLocal(this.options.server))\n\t\t\t.map(e => e.identifier.id.toLowerCase());\n\t\tconst workspaceRecommendations = (await this.getWorkspaceRecommendations())\n\t\t\t.map(extensionId => extensionId.toLowerCase());\n\n\t\treturn distinct(\n\t\t\tflatten(await Promise.all([\n\t\t\t\t// Order is important\n\t\t\t\tthis.extensionRecommendationsService.getImportantRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getFileBasedRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getOtherRecommendations()\n\t\t\t])).filter(extensionId => !local.includes(extensionId.toLowerCase()) && !workspaceRecommendations.includes(extensionId.toLowerCase())\n\t\t\t), extensionId => extensionId.toLowerCase());\n\t}\n\n\t// Get All types of recommendations, trimmed to show a max of 8 at any given time\n\tprivate async getAllRecommendationsModel(options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst local = (await this.extensionsWorkbenchService.queryLocal(this.options.server)).map(e => e.identifier.id.toLowerCase());\n\n\t\tconst allRecommendations = distinct(\n\t\t\tflatten(await Promise.all([\n\t\t\t\t// Order is important\n\t\t\t\tthis.getWorkspaceRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getImportantRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getFileBasedRecommendations(),\n\t\t\t\tthis.extensionRecommendationsService.getOtherRecommendations()\n\t\t\t])).filter(extensionId => !local.includes(extensionId.toLowerCase())\n\t\t\t), extensionId => extensionId.toLowerCase());\n\n\t\tconst installableRecommendations = await this.getInstallableRecommendations(allRecommendations, { ...options, source: 'recommendations-all', sortBy: undefined }, token);\n\t\tconst result: IExtension[] = coalesce(allRecommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(result.slice(0, 8));\n\t}\n\n\tprivate async searchRecommendations(query: Query, options: IQueryOptions, token: CancellationToken): Promise<IPagedModel<IExtension>> {\n\t\tconst value = query.value.replace(/@recommended/g, '').trim().toLowerCase();\n\t\tconst recommendations = distinct([...await this.getWorkspaceRecommendations(), ...await this.getOtherRecommendations()]);\n\t\tconst installableRecommendations = (await this.getInstallableRecommendations(recommendations, { ...options, source: 'recommendations', sortBy: undefined }, token))\n\t\t\t.filter(extension => extension.identifier.id.toLowerCase().indexOf(value) > -1);\n\t\tconst result = coalesce(recommendations.map(id => installableRecommendations.find(i => areSameExtensions(i.identifier, { id }))));\n\t\treturn new PagedModel(this.sortExtensions(result, options));\n\t}\n\n\t// Sorts the firstPage of the pager in the same order as given array of extension ids\n\tprivate sortFirstPage(pager: IPager<IExtension>, ids: string[]) {\n\t\tids = ids.map(x => x.toLowerCase());\n\t\tpager.firstPage.sort((a, b) => {\n\t\t\treturn ids.indexOf(a.identifier.id.toLowerCase()) < ids.indexOf(b.identifier.id.toLowerCase()) ? -1 : 1;\n\t\t});\n\t}\n\n\tprivate setModel(model: IPagedModel<IExtension>, error?: any) {\n\t\tif (this.list) {\n\t\t\tthis.list.model = new DelayedPagedModel(model);\n\t\t\tthis.list.scrollTop = 0;\n\t\t\tthis.updateBody(error);\n\t\t}\n\t}\n\n\tprivate updateBody(error?: any): void {\n\t\tconst count = this.count();\n\t\tif (this.bodyTemplate && this.badge) {\n\n\t\t\tthis.bodyTemplate.extensionsList.classList.toggle('hidden', count === 0);\n\t\t\tthis.bodyTemplate.messageContainer.classList.toggle('hidden', count > 0);\n\t\t\tthis.badge.setCount(count);\n\n\t\t\tif (count === 0 && this.isBodyVisible()) {\n\t\t\t\tif (error) {\n\t\t\t\t\tif (error instanceof ExtensionListViewWarning) {\n\t\t\t\t\t\tthis.bodyTemplate.messageSeverityIcon.className = SeverityIcon.className(Severity.Warning);\n\t\t\t\t\t\tthis.bodyTemplate.messageBox.textContent = getErrorMessage(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.bodyTemplate.messageSeverityIcon.className = SeverityIcon.className(Severity.Error);\n\t\t\t\t\t\tthis.bodyTemplate.messageBox.textContent = localize('error', \"Error while loading extensions. {0}\", getErrorMessage(error));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.bodyTemplate.messageSeverityIcon.className = '';\n\t\t\t\t\tthis.bodyTemplate.messageBox.textContent = localize('no extensions found', \"No extensions found.\");\n\t\t\t\t}\n\t\t\t\talert(this.bodyTemplate.messageBox.textContent);\n\t\t\t}\n\t\t}\n\t\tthis.updateSize();\n\t}\n\n\tprotected updateSize() {\n\t\tif (this.options.fixedHeight) {\n\t\t\tconst length = this.list?.model.length || 0;\n\t\t\tthis.minimumBodySize = Math.min(length, 3) * EXTENSION_LIST_ELEMENT_HEIGHT;\n\t\t\tthis.maximumBodySize = length * EXTENSION_LIST_ELEMENT_HEIGHT;\n\t\t\tthis.storageService.store(this.id, this.maximumBodySize, StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t\t}\n\t}\n\n\tprivate updateModel(model: IPagedModel<IExtension>) {\n\t\tif (this.list) {\n\t\t\tthis.list.model = new DelayedPagedModel(model);\n\t\t\tthis.updateBody();\n\t\t}\n\t}\n\n\tprivate openExtension(extension: IExtension, options: { sideByside?: boolean, preserveFocus?: boolean, pinned?: boolean }): void {\n\t\textension = this.extensionsWorkbenchService.local.filter(e => areSameExtensions(e.identifier, extension.identifier))[0] || extension;\n\t\tthis.extensionsWorkbenchService.open(extension, options).then(undefined, err => this.onError(err));\n\t}\n\n\tprivate onError(err: any): void {\n\t\tif (isPromiseCanceledError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = err && err.message || '';\n\n\t\tif (/ECONNREFUSED/.test(message)) {\n\t\t\tconst error = createErrorWithActions(localize('suggestProxyError', \"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.\"), {\n\t\t\t\tactions: [\n\t\t\t\t\tnew Action('open user settings', localize('open user settings', \"Open User Settings\"), undefined, true, () => this.preferencesService.openGlobalSettings())\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n\n\tprivate getPagedModel(arg: IPager<IExtension> | IExtension[]): IPagedModel<IExtension> {\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn new PagedModel(arg);\n\t\t}\n\t\tconst pager = {\n\t\t\ttotal: arg.total,\n\t\t\tpageSize: arg.pageSize,\n\t\t\tfirstPage: arg.firstPage,\n\t\t\tgetPage: (pageIndex: number, cancellationToken: CancellationToken) => arg.getPage(pageIndex, cancellationToken)\n\t\t};\n\t\treturn new PagedModel(pager);\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tif (this.queryRequest) {\n\t\t\tthis.queryRequest.request.cancel();\n\t\t\tthis.queryRequest = null;\n\t\t}\n\t\tif (this.queryResult) {\n\t\t\tthis.queryResult.disposables.dispose();\n\t\t\tthis.queryResult = undefined;\n\t\t}\n\t\tthis.list = null;\n\t}\n\n\tstatic isLocalExtensionsQuery(query: string): boolean {\n\t\treturn this.isInstalledExtensionsQuery(query)\n\t\t\t|| this.isOutdatedExtensionsQuery(query)\n\t\t\t|| this.isEnabledExtensionsQuery(query)\n\t\t\t|| this.isDisabledExtensionsQuery(query)\n\t\t\t|| this.isBuiltInExtensionsQuery(query)\n\t\t\t|| this.isSearchBuiltInExtensionsQuery(query)\n\t\t\t|| this.isBuiltInGroupExtensionsQuery(query)\n\t\t\t|| this.isSearchTrustRequiredExtensionsQuery(query)\n\t\t\t|| this.isTrustRequiredExtensionsQuery(query)\n\t\t\t|| this.isTrustRequiredGroupExtensionsQuery(query);\n\t}\n\n\tstatic isSearchBuiltInExtensionsQuery(query: string): boolean {\n\t\treturn /@builtin\\s.+/i.test(query);\n\t}\n\n\tstatic isBuiltInExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@builtin$/i.test(query.trim());\n\t}\n\n\tstatic isBuiltInGroupExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@builtin:.+$/i.test(query.trim());\n\t}\n\n\tstatic isSearchTrustRequiredExtensionsQuery(query: string): boolean {\n\t\treturn /@trustRequired\\s.+/i.test(query);\n\t}\n\n\tstatic isTrustRequiredExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@trustRequired$/i.test(query.trim());\n\t}\n\n\tstatic isTrustRequiredGroupExtensionsQuery(query: string): boolean {\n\t\treturn /^\\s*@trustRequired:.+$/i.test(query.trim());\n\t}\n\n\tstatic isInstalledExtensionsQuery(query: string): boolean {\n\t\treturn /@installed/i.test(query);\n\t}\n\n\tstatic isOutdatedExtensionsQuery(query: string): boolean {\n\t\treturn /@outdated/i.test(query);\n\t}\n\n\tstatic isEnabledExtensionsQuery(query: string): boolean {\n\t\treturn /@enabled/i.test(query);\n\t}\n\n\tstatic isDisabledExtensionsQuery(query: string): boolean {\n\t\treturn /@disabled/i.test(query);\n\t}\n\n\tstatic isRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /^@recommended$/i.test(query.trim());\n\t}\n\n\tstatic isSearchRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended\\s.+/i.test(query);\n\t}\n\n\tstatic isWorkspaceRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended:workspace/i.test(query);\n\t}\n\n\tstatic isExeRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@exe:.+/i.test(query);\n\t}\n\n\tstatic isKeymapsRecommendedExtensionsQuery(query: string): boolean {\n\t\treturn /@recommended:keymaps/i.test(query);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tif (!this.list) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(this.list.getFocus().length || this.list.getSelection().length)) {\n\t\t\tthis.list.focusNext();\n\t\t}\n\t\tthis.list.domFocus();\n\t}\n}\n\nexport class ServerInstalledExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query ? query : '@installed';\n\t\tif (!ExtensionsListView.isLocalExtensionsQuery(query)) {\n\t\t\tquery = query += ' @installed';\n\t\t}\n\t\treturn super.show(query.trim());\n\t}\n\n}\n\nexport class EnabledExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query || '@enabled';\n\t\treturn ExtensionsListView.isEnabledExtensionsQuery(query) ? super.show(query) : this.showEmptyModel();\n\t}\n}\n\nexport class DisabledExtensionsView extends ExtensionsListView {\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tquery = query || '@disabled';\n\t\treturn ExtensionsListView.isDisabledExtensionsQuery(query) ? super.show(query) : this.showEmptyModel();\n\t}\n}\n\nexport class BuiltInFeatureExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@builtin') ? this.showEmptyModel() : super.show('@builtin:features');\n\t}\n}\n\nexport class BuiltInThemesExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@builtin') ? this.showEmptyModel() : super.show('@builtin:themes');\n\t}\n}\n\nexport class BuiltInProgrammingLanguageExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@builtin') ? this.showEmptyModel() : super.show('@builtin:basics');\n\t}\n}\n\nexport class TrustRequiredOnStartExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@trustRequired') ? this.showEmptyModel() : super.show('@trustRequired:onStart');\n\t}\n}\n\nexport class TrustRequiredOnDemandExtensionsView extends ExtensionsListView {\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== '@trustRequired') ? this.showEmptyModel() : super.show('@trustRequired:onDemand');\n\t}\n}\n\nexport class DefaultRecommendedExtensionsView extends ExtensionsListView {\n\tprivate readonly recommendedExtensionsQuery = '@recommended:all';\n\n\toverride renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => {\n\t\t\tthis.show('');\n\t\t}));\n\t}\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tif (query && query.trim() !== this.recommendedExtensionsQuery) {\n\t\t\treturn this.showEmptyModel();\n\t\t}\n\t\tconst model = await super.show(this.recommendedExtensionsQuery);\n\t\tif (!this.extensionsWorkbenchService.local.some(e => !e.isBuiltin)) {\n\t\t\t// This is part of popular extensions view. Collapse if no installed extensions.\n\t\t\tthis.setExpanded(model.length > 0);\n\t\t}\n\t\treturn model;\n\t}\n\n}\n\nexport class RecommendedExtensionsView extends ExtensionsListView {\n\tprivate readonly recommendedExtensionsQuery = '@recommended';\n\n\toverride renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => {\n\t\t\tthis.show('');\n\t\t}));\n\t}\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\treturn (query && query.trim() !== this.recommendedExtensionsQuery) ? this.showEmptyModel() : super.show(this.recommendedExtensionsQuery);\n\t}\n}\n\nexport class WorkspaceRecommendedExtensionsView extends ExtensionsListView implements IWorkspaceRecommendedExtensionsView {\n\tprivate readonly recommendedExtensionsQuery = '@recommended:workspace';\n\n\toverride renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._register(this.extensionRecommendationsService.onDidChangeRecommendations(() => this.show(this.recommendedExtensionsQuery)));\n\t\tthis._register(this.contextService.onDidChangeWorkbenchState(() => this.show(this.recommendedExtensionsQuery)));\n\t}\n\n\toverride async show(query: string): Promise<IPagedModel<IExtension>> {\n\t\tlet shouldShowEmptyView = query && query.trim() !== '@recommended' && query.trim() !== '@recommended:workspace';\n\t\tlet model = await (shouldShowEmptyView ? this.showEmptyModel() : super.show(this.recommendedExtensionsQuery));\n\t\tthis.setExpanded(model.length > 0);\n\t\treturn model;\n\t}\n\n\tprivate async getInstallableWorkspaceRecommendations() {\n\t\tconst installed = (await this.extensionsWorkbenchService.queryLocal())\n\t\t\t.filter(l => l.enablementState !== EnablementState.DisabledByExtensionKind); // Filter extensions disabled by kind\n\t\tconst recommendations = (await this.getWorkspaceRecommendations())\n\t\t\t.filter(extensionId => installed.every(local => !areSameExtensions({ id: extensionId }, local.identifier)));\n\t\treturn this.getInstallableRecommendations(recommendations, { source: 'install-all-workspace-recommendations' }, CancellationToken.None);\n\t}\n\n\tasync installWorkspaceRecommendations(): Promise<void> {\n\t\tconst installableRecommendations = await this.getInstallableWorkspaceRecommendations();\n\t\tif (installableRecommendations.length) {\n\t\t\tawait this.extensionManagementService.installExtensions(installableRecommendations.map(i => i.gallery!));\n\t\t} else {\n\t\t\tthis.notificationService.notify({\n\t\t\t\tseverity: Severity.Info,\n\t\t\t\tmessage: localize('no local extensions', \"There are no extensions to install.\")\n\t\t\t});\n\t\t}\n\t}\n\n}\n"]}