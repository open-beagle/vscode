{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionsActions.ts"],"names":[],"mappings":"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","file":"extensionsActions.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/extensionActions';\nimport { localize } from 'vs/nls';\nimport { IAction, Action, Separator, SubmenuAction } from 'vs/base/common/actions';\nimport { Delayer, Promises } from 'vs/base/common/async';\nimport * as DOM from 'vs/base/browser/dom';\nimport { Event } from 'vs/base/common/event';\nimport * as json from 'vs/base/common/json';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { dispose } from 'vs/base/common/lifecycle';\nimport { IExtension, ExtensionState, IExtensionsWorkbenchService, VIEWLET_ID, IExtensionsViewPaneContainer, IExtensionContainer, TOGGLE_IGNORE_EXTENSION_ACTION_ID, SELECT_INSTALL_VSIX_EXTENSION_COMMAND_ID } from 'vs/workbench/contrib/extensions/common/extensions';\nimport { ExtensionsConfigurationInitialContent } from 'vs/workbench/contrib/extensions/common/extensionsFileTemplate';\nimport { IGalleryExtension, IExtensionGalleryService, INSTALL_ERROR_MALICIOUS, INSTALL_ERROR_INCOMPATIBLE, IGalleryExtensionVersion, ILocalExtension, INSTALL_ERROR_NOT_SUPPORTED, InstallOptions, InstallOperation } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IWorkbenchExtensionEnablementService, EnablementState, IExtensionManagementServerService, IExtensionManagementServer, IWorkbenchExtensionManagementService, IWebExtensionsScannerService } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { ExtensionRecommendationReason, IExtensionIgnoredRecommendationsService, IExtensionRecommendationsService } from 'vs/workbench/services/extensionRecommendations/common/extensionRecommendations';\nimport { areSameExtensions } from 'vs/platform/extensionManagement/common/extensionManagementUtil';\nimport { ExtensionType, ExtensionIdentifier, IExtensionDescription, IExtensionManifest, isLanguagePackExtension } from 'vs/platform/extensions/common/extensions';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IViewletService } from 'vs/workbench/services/viewlet/browser/viewlet';\nimport { IFileService, IFileContent } from 'vs/platform/files/common/files';\nimport { IWorkspaceContextService, WorkbenchState, IWorkspaceFolder } from 'vs/platform/workspace/common/workspace';\nimport { IHostService } from 'vs/workbench/services/host/browser/host';\nimport { IExtensionService, toExtension, toExtensionDescription } from 'vs/workbench/services/extensions/common/extensions';\nimport { URI } from 'vs/base/common/uri';\nimport { CommandsRegistry, ICommandService } from 'vs/platform/commands/common/commands';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { registerThemingParticipant, IColorTheme, ICssStyleCollector, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { buttonBackground, buttonForeground, buttonHoverBackground, contrastBorder, registerColor, foreground } from 'vs/platform/theme/common/colorRegistry';\nimport { IJSONEditingService } from 'vs/workbench/services/configuration/common/jsonEditing';\nimport { ITextEditorSelection } from 'vs/platform/editor/common/editor';\nimport { ITextModelService } from 'vs/editor/common/services/resolverService';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { MenuId, IMenuService } from 'vs/platform/actions/common/actions';\nimport { PICK_WORKSPACE_FOLDER_COMMAND_ID } from 'vs/workbench/browser/actions/workspaceCommands';\nimport { INotificationService, IPromptChoice, Severity } from 'vs/platform/notification/common/notification';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IQuickPickItem, IQuickInputService, IQuickPickSeparator } from 'vs/platform/quickinput/common/quickInput';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { alert } from 'vs/base/browser/ui/aria/aria';\nimport { coalesce } from 'vs/base/common/arrays';\nimport { IWorkbenchThemeService, IWorkbenchTheme, IWorkbenchColorTheme, IWorkbenchFileIconTheme, IWorkbenchProductIconTheme } from 'vs/workbench/services/themes/common/workbenchThemeService';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { ITextFileService } from 'vs/workbench/services/textfile/common/textfiles';\nimport { IProductService } from 'vs/platform/product/common/productService';\nimport { IDialogService } from 'vs/platform/dialogs/common/dialogs';\nimport { IProgressService, ProgressLocation } from 'vs/platform/progress/common/progress';\nimport { IActionViewItemOptions, ActionViewItem } from 'vs/base/browser/ui/actionbar/actionViewItems';\nimport { EXTENSIONS_CONFIG, IExtensionsConfigContent } from 'vs/workbench/services/extensionRecommendations/common/workspaceExtensionsConfig';\nimport { getErrorMessage, isPromiseCanceledError } from 'vs/base/common/errors';\nimport { IUserDataAutoSyncEnablementService, IUserDataSyncResourceEnablementService, SyncResource } from 'vs/platform/userDataSync/common/userDataSync';\nimport { ActionWithDropdownActionViewItem, IActionWithDropdownActionViewItemOptions } from 'vs/base/browser/ui/dropdown/dropdownActionViewItem';\nimport { IContextMenuProvider } from 'vs/base/browser/contextmenu';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport * as Constants from 'vs/workbench/contrib/logs/common/logConstants';\nimport { infoIcon, manageExtensionIcon, syncEnabledIcon, syncIgnoredIcon, trustIcon, warningIcon } from 'vs/workbench/contrib/extensions/browser/extensionsIcons';\nimport { isWeb } from 'vs/base/common/platform';\nimport { isWorkspaceTrustEnabled } from 'vs/workbench/services/workspaces/common/workspaceTrust';\nimport { IExtensionManifestPropertiesService } from 'vs/workbench/services/extensions/common/extensionManifestPropertiesService';\n\nfunction getRelativeDateLabel(date: Date): string {\n\tconst delta = new Date().getTime() - date.getTime();\n\n\tconst year = 365 * 24 * 60 * 60 * 1000;\n\tif (delta > year) {\n\t\tconst noOfYears = Math.floor(delta / year);\n\t\treturn noOfYears > 1 ? localize('noOfYearsAgo', \"{0} years ago\", noOfYears) : localize('one year ago', \"1 year ago\");\n\t}\n\n\tconst month = 30 * 24 * 60 * 60 * 1000;\n\tif (delta > month) {\n\t\tconst noOfMonths = Math.floor(delta / month);\n\t\treturn noOfMonths > 1 ? localize('noOfMonthsAgo', \"{0} months ago\", noOfMonths) : localize('one month ago', \"1 month ago\");\n\t}\n\n\tconst day = 24 * 60 * 60 * 1000;\n\tif (delta > day) {\n\t\tconst noOfDays = Math.floor(delta / day);\n\t\treturn noOfDays > 1 ? localize('noOfDaysAgo', \"{0} days ago\", noOfDays) : localize('one day ago', \"1 day ago\");\n\t}\n\n\tconst hour = 60 * 60 * 1000;\n\tif (delta > hour) {\n\t\tconst noOfHours = Math.floor(delta / day);\n\t\treturn noOfHours > 1 ? localize('noOfHoursAgo', \"{0} hours ago\", noOfHours) : localize('one hour ago', \"1 hour ago\");\n\t}\n\n\tif (delta > 0) {\n\t\treturn localize('just now', \"Just now\");\n\t}\n\n\treturn '';\n}\n\nexport class PromptExtensionInstallFailureAction extends Action {\n\n\tconstructor(\n\t\tprivate readonly extension: IExtension,\n\t\tprivate readonly version: string,\n\t\tprivate readonly installOperation: InstallOperation,\n\t\tprivate readonly error: Error,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t\tsuper('extension.promptExtensionInstallFailure');\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tif (isPromiseCanceledError(this.error)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.logService.error(this.error);\n\n\t\tif (this.error.name === INSTALL_ERROR_NOT_SUPPORTED) {\n\t\t\tconst productName = isWeb ? localize({ key: 'vscode web', comment: ['VS Code Web is the name of the product'] }, \"VS Code Web\") : this.productService.nameLong;\n\t\t\tconst message = localize('cannot be installed', \"The '{0}' extension is not available in {1}. Click 'More Information' to learn more.\", this.extension.displayName || this.extension.identifier.id, productName);\n\t\t\tconst result = await this.dialogService.show(Severity.Info, message, [localize('close', \"Close\"), localize('more information', \"More Information\")], { cancelId: 0 });\n\t\t\tif (result.choice === 1) {\n\t\t\t\tthis.openerService.open(isWeb ? URI.parse('https://aka.ms/vscode-remote-codespaces') : URI.parse('https://aka.ms/vscode-remote'));\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ([INSTALL_ERROR_INCOMPATIBLE, INSTALL_ERROR_MALICIOUS].includes(this.error.name)) {\n\t\t\tawait this.dialogService.show(Severity.Info, getErrorMessage(this.error), []);\n\t\t\treturn;\n\t\t}\n\n\n\t\tconst promptChoices: IPromptChoice[] = [];\n\t\tif (this.extension.gallery && this.productService.extensionsGallery) {\n\t\t\tpromptChoices.push({\n\t\t\t\tlabel: localize('download', \"Try Downloading Manually...\"),\n\t\t\t\trun: () => this.openerService.open(URI.parse(`${this.productService.extensionsGallery!.serviceUrl}/publishers/${this.extension.publisher}/vsextensions/${this.extension.name}/${this.version}/vspackage`)).then(() => {\n\t\t\t\t\tthis.notificationService.prompt(\n\t\t\t\t\t\tSeverity.Info,\n\t\t\t\t\t\tlocalize('install vsix', 'Once downloaded, please manually install the downloaded VSIX of \\'{0}\\'.', this.extension.identifier.id),\n\t\t\t\t\t\t[{\n\t\t\t\t\t\t\tlabel: localize('installVSIX', \"Install from VSIX...\"),\n\t\t\t\t\t\t\trun: () => this.commandService.executeCommand(SELECT_INSTALL_VSIX_EXTENSION_COMMAND_ID)\n\t\t\t\t\t\t}]\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\n\t\tconst operationMessage = this.installOperation === InstallOperation.Update ? localize('update operation', \"Error while updating '{0}' extension.\", this.extension.displayName || this.extension.identifier.id)\n\t\t\t: localize('install operation', \"Error while installing '{0}' extension.\", this.extension.displayName || this.extension.identifier.id);\n\t\tconst checkLogsMessage = localize('check logs', \"Please check the [log]({0}) for more details.\", `command:${Constants.showWindowLogActionId}`);\n\t\tthis.notificationService.prompt(Severity.Error, `${operationMessage} ${checkLogsMessage}`, promptChoices);\n\t}\n}\n\nexport abstract class ExtensionAction extends Action implements IExtensionContainer {\n\tstatic readonly EXTENSION_ACTION_CLASS = 'extension-action';\n\tstatic readonly TEXT_ACTION_CLASS = `${ExtensionAction.EXTENSION_ACTION_CLASS} text`;\n\tstatic readonly LABEL_ACTION_CLASS = `${ExtensionAction.EXTENSION_ACTION_CLASS} label`;\n\tstatic readonly ICON_ACTION_CLASS = `${ExtensionAction.EXTENSION_ACTION_CLASS} icon`;\n\tprivate _extension: IExtension | null = null;\n\tget extension(): IExtension | null { return this._extension; }\n\tset extension(extension: IExtension | null) { this._extension = extension; this.update(); }\n\tabstract update(): void;\n}\n\nexport class ActionWithDropDownAction extends ExtensionAction {\n\n\tprivate action: IAction | undefined;\n\n\tprivate _menuActions: IAction[] = [];\n\tget menuActions(): IAction[] { return [...this._menuActions]; }\n\n\toverride get extension(): IExtension | null {\n\t\treturn super.extension;\n\t}\n\n\toverride set extension(extension: IExtension | null) {\n\t\tthis.actions.forEach(a => a.extension = extension);\n\t\tsuper.extension = extension;\n\t}\n\n\tconstructor(\n\t\tid: string, label: string,\n\t\tprotected readonly actions: ExtensionAction[],\n\t) {\n\t\tsuper(id, label);\n\t\tthis.update();\n\t\tthis._register(Event.any(...actions.map(a => a.onDidChange))(() => this.update(true)));\n\t\tactions.forEach(a => this._register(a));\n\t}\n\n\tupdate(donotUpdateActions?: boolean): void {\n\t\tif (!donotUpdateActions) {\n\t\t\tthis.actions.forEach(a => a.update());\n\t\t}\n\n\t\tconst enabledActions = this.actions.filter(a => a.enabled);\n\t\tthis.action = enabledActions[0];\n\t\tthis._menuActions = enabledActions.slice(1);\n\n\t\tthis.enabled = !!this.action;\n\t\tif (this.action) {\n\t\t\tthis.label = this.action.label;\n\t\t\tthis.tooltip = this.action.tooltip;\n\t\t}\n\n\t\tlet clazz = (this.action || this.actions[0])?.class || '';\n\t\tclazz = clazz ? `${clazz} action-dropdown` : 'action-dropdown';\n\t\tif (this._menuActions.length === 0) {\n\t\t\tclazz += ' action-dropdown';\n\t\t}\n\t\tthis.class = clazz;\n\t}\n\n\toverride run(): Promise<void> {\n\t\tconst enabledActions = this.actions.filter(a => a.enabled);\n\t\treturn enabledActions[0].run();\n\t}\n}\n\nexport abstract class AbstractInstallAction extends ExtensionAction {\n\n\tstatic readonly Class = `${ExtensionAction.LABEL_ACTION_CLASS} prominent install`;\n\n\tprotected _manifest: IExtensionManifest | null = null;\n\tset manifest(manifest: IExtensionManifest) {\n\t\tthis._manifest = manifest;\n\t\tthis.updateLabel();\n\t}\n\n\tconstructor(\n\t\tid: string, label: string, cssClass: string,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionService private readonly runtimeExtensionService: IExtensionService,\n\t\t@IWorkbenchThemeService private readonly workbenchThemeService: IWorkbenchThemeService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t) {\n\t\tsuper(id, label, cssClass, false);\n\t\tthis.update();\n\t\tthis._register(this.labelService.onDidChangeFormatters(() => this.updateLabel(), this));\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tif (this.extension && !this.extension.isBuiltin) {\n\t\t\tif (this.extension.state === ExtensionState.Uninstalled && this.extensionsWorkbenchService.canInstall(this.extension)) {\n\t\t\t\tthis.enabled = true;\n\t\t\t\tthis.updateLabel();\n\t\t\t}\n\t\t}\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\tthis.extensionsWorkbenchService.open(this.extension);\n\n\t\talert(localize('installExtensionStart', \"Installing extension {0} started. An editor is now open with more details on this extension\", this.extension.displayName));\n\n\t\tconst extension = await this.install(this.extension);\n\n\t\tif (extension?.local) {\n\t\t\talert(localize('installExtensionComplete', \"Installing extension {0} is completed.\", this.extension.displayName));\n\t\t\tconst runningExtension = await this.getRunningExtension(extension.local);\n\t\t\tif (runningExtension && !(runningExtension.activationEvents && runningExtension.activationEvents.some(activationEent => activationEent.startsWith('onLanguage')))) {\n\t\t\t\tlet action = await SetColorThemeAction.create(this.workbenchThemeService, this.instantiationService, extension)\n\t\t\t\t\t|| await SetFileIconThemeAction.create(this.workbenchThemeService, this.instantiationService, extension)\n\t\t\t\t\t|| await SetProductIconThemeAction.create(this.workbenchThemeService, this.instantiationService, extension);\n\t\t\t\tif (action) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn action.run({ showCurrentTheme: true, ignoreFocusLost: true });\n\t\t\t\t\t} finally {\n\t\t\t\t\t\taction.dispose();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprivate async install(extension: IExtension): Promise<IExtension | undefined> {\n\t\ttry {\n\t\t\treturn await this.extensionsWorkbenchService.install(extension, this.getInstallOptions());\n\t\t} catch (error) {\n\t\t\tawait this.instantiationService.createInstance(PromptExtensionInstallFailureAction, extension, extension.latestVersion, InstallOperation.Install, error).run();\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tprivate async getRunningExtension(extension: ILocalExtension): Promise<IExtensionDescription | null> {\n\t\tconst runningExtension = await this.runtimeExtensionService.getExtension(extension.identifier.id);\n\t\tif (runningExtension) {\n\t\t\treturn runningExtension;\n\t\t}\n\t\tif (this.runtimeExtensionService.canAddExtension(toExtensionDescription(extension))) {\n\t\t\treturn new Promise<IExtensionDescription | null>((c, e) => {\n\t\t\t\tconst disposable = this.runtimeExtensionService.onDidChangeExtensions(async () => {\n\t\t\t\t\tconst runningExtension = await this.runtimeExtensionService.getExtension(extension.identifier.id);\n\t\t\t\t\tif (runningExtension) {\n\t\t\t\t\t\tdisposable.dispose();\n\t\t\t\t\t\tc(runningExtension);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn null;\n\t}\n\n\tprotected abstract updateLabel(): void;\n\tprotected abstract getInstallOptions(): InstallOptions;\n}\n\nexport class InstallAction extends AbstractInstallAction {\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IExtensionService runtimeExtensionService: IExtensionService,\n\t\t@IWorkbenchThemeService workbenchThemeService: IWorkbenchThemeService,\n\t\t@ILabelService labelService: ILabelService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IWorkbenchExtensionManagementService private readonly workbenchExtensioManagementService: IWorkbenchExtensionManagementService,\n\t\t@IUserDataAutoSyncEnablementService protected readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IUserDataSyncResourceEnablementService protected readonly userDataSyncResourceEnablementService: IUserDataSyncResourceEnablementService,\n\t) {\n\t\tsuper(`extensions.installAndSync`, localize('install', \"Install\"), InstallAction.Class,\n\t\t\textensionsWorkbenchService, instantiationService, runtimeExtensionService, workbenchThemeService, labelService);\n\t\tthis.updateLabel();\n\t\tthis._register(labelService.onDidChangeFormatters(() => this.updateLabel(), this));\n\t\tthis._register(Event.any(userDataAutoSyncEnablementService.onDidChangeEnablement,\n\t\t\tEvent.filter(userDataSyncResourceEnablementService.onDidChangeResourceEnablement, e => e[0] === SyncResource.Extensions))(() => this.update()));\n\t}\n\n\tprotected updateLabel(): void {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isMachineScoped = this.getInstallOptions().isMachineScoped;\n\t\tthis.label = isMachineScoped ? localize('install and do no sync', \"Install (Do not sync)\") : localize('install', \"Install\");\n\n\t\t// When remote connection exists\n\t\tif (this._manifest && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\n\t\t\tconst server = this.workbenchExtensioManagementService.getExtensionManagementServerToInstall(this._manifest);\n\n\t\t\tif (server === this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\t\tconst host = this.extensionManagementServerService.remoteExtensionManagementServer.label;\n\t\t\t\tthis.label = isMachineScoped\n\t\t\t\t\t? localize({ key: 'install in remote and do not sync', comment: ['This is the name of the action to install an extension in remote server and do not sync it. Placeholder is for the name of remote server.'] }, \"Install in {0} (Do not sync)\", host)\n\t\t\t\t\t: localize({ key: 'install in remote', comment: ['This is the name of the action to install an extension in remote server. Placeholder is for the name of remote server.'] }, \"Install in {0}\", host);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.label = isMachineScoped ? localize('install locally and do not sync', \"Install Locally (Do not sync)\") : localize('install locally', \"Install Locally\");\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprotected getInstallOptions(): InstallOptions {\n\t\treturn { isMachineScoped: this.userDataAutoSyncEnablementService.isEnabled() && this.userDataSyncResourceEnablementService.isResourceEnabled(SyncResource.Extensions) };\n\t}\n\n}\n\nexport class InstallAndSyncAction extends AbstractInstallAction {\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IExtensionService runtimeExtensionService: IExtensionService,\n\t\t@IWorkbenchThemeService workbenchThemeService: IWorkbenchThemeService,\n\t\t@ILabelService labelService: ILabelService,\n\t\t@IProductService productService: IProductService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IUserDataSyncResourceEnablementService private readonly userDataSyncResourceEnablementService: IUserDataSyncResourceEnablementService,\n\t) {\n\t\tsuper(`extensions.installAndSync`, localize('install', \"Install\"), InstallAndSyncAction.Class,\n\t\t\textensionsWorkbenchService, instantiationService, runtimeExtensionService, workbenchThemeService, labelService);\n\t\tthis.tooltip = localize({ key: 'install everywhere tooltip', comment: ['Placeholder is the name of the product. Eg: Visual Studio Code or Visual Studio Code - Insiders'] }, \"Install this extension in all your synced {0} instances\", productService.nameLong);\n\t\tthis._register(Event.any(userDataAutoSyncEnablementService.onDidChangeEnablement,\n\t\t\tEvent.filter(userDataSyncResourceEnablementService.onDidChangeResourceEnablement, e => e[0] === SyncResource.Extensions))(() => this.update()));\n\t}\n\n\n\toverride update(): void {\n\t\tsuper.update();\n\t\tif (this.enabled) {\n\t\t\tthis.enabled = this.userDataAutoSyncEnablementService.isEnabled() && this.userDataSyncResourceEnablementService.isResourceEnabled(SyncResource.Extensions);\n\t\t}\n\t}\n\n\tprotected updateLabel(): void { }\n\n\tprotected getInstallOptions(): InstallOptions {\n\t\treturn { isMachineScoped: false };\n\t}\n}\n\nexport class InstallDropdownAction extends ActionWithDropDownAction {\n\n\tset manifest(manifest: IExtensionManifest) {\n\t\tthis.actions.forEach(a => (<AbstractInstallAction>a).manifest = manifest);\n\t\tthis.actions.forEach(a => a.update());\n\t\tthis.update();\n\t}\n\n\tconstructor(\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(`extensions.installActions`, '', [\n\t\t\tinstantiationService.createInstance(InstallAndSyncAction),\n\t\t\tinstantiationService.createInstance(InstallAction),\n\t\t]);\n\t}\n\n}\n\nexport class InstallingLabelAction extends ExtensionAction {\n\n\tprivate static readonly LABEL = localize('installing', \"Installing\");\n\tprivate static readonly CLASS = `${ExtensionAction.LABEL_ACTION_CLASS} install installing`;\n\n\tconstructor() {\n\t\tsuper('extension.installing', InstallingLabelAction.LABEL, InstallingLabelAction.CLASS, false);\n\t}\n\n\tupdate(): void {\n\t\tthis.class = `${InstallingLabelAction.CLASS}${this.extension && this.extension.state === ExtensionState.Installing ? '' : ' hide'}`;\n\t}\n}\n\nexport abstract class InstallInOtherServerAction extends ExtensionAction {\n\n\tprotected static readonly INSTALL_LABEL = localize('install', \"Install\");\n\tprotected static readonly INSTALLING_LABEL = localize('installing', \"Installing\");\n\n\tprivate static readonly Class = `${ExtensionAction.LABEL_ACTION_CLASS} prominent install`;\n\tprivate static readonly InstallingClass = `${ExtensionAction.LABEL_ACTION_CLASS} install installing`;\n\n\tupdateWhenCounterExtensionChanges: boolean = true;\n\n\tconstructor(\n\t\tid: string,\n\t\tprivate readonly server: IExtensionManagementServer | null,\n\t\tprivate readonly canInstallAnyWhere: boolean,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService protected readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IProductService productService: IProductService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t) {\n\t\tsuper(id, InstallInOtherServerAction.INSTALL_LABEL, InstallInOtherServerAction.Class, false);\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tthis.class = InstallInOtherServerAction.Class;\n\n\t\tif (this.canInstall()) {\n\t\t\tconst extensionInOtherServer = this.extensionsWorkbenchService.installed.filter(e => areSameExtensions(e.identifier, this.extension!.identifier) && e.server === this.server)[0];\n\t\t\tif (extensionInOtherServer) {\n\t\t\t\t// Getting installed in other server\n\t\t\t\tif (extensionInOtherServer.state === ExtensionState.Installing && !extensionInOtherServer.local) {\n\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\tthis.label = InstallInOtherServerAction.INSTALLING_LABEL;\n\t\t\t\t\tthis.class = InstallInOtherServerAction.InstallingClass;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Not installed in other server\n\t\t\t\tthis.enabled = true;\n\t\t\t\tthis.label = this.getInstallLabel();\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected canInstall(): boolean {\n\t\t// Disable if extension is not installed or not an user extension\n\t\tif (\n\t\t\t!this.extension\n\t\t\t|| !this.server\n\t\t\t|| !this.extension.local\n\t\t\t|| this.extension.state !== ExtensionState.Installed\n\t\t\t|| this.extension.type !== ExtensionType.User\n\t\t\t|| this.extension.enablementState === EnablementState.DisabledByEnvironment\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (isLanguagePackExtension(this.extension.local.manifest)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prefers to run on UI\n\t\tif (this.server === this.extensionManagementServerService.localExtensionManagementServer && this.extensionManifestPropertiesService.prefersExecuteOnUI(this.extension.local.manifest)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prefers to run on Workspace\n\t\tif (this.server === this.extensionManagementServerService.remoteExtensionManagementServer && this.extensionManifestPropertiesService.prefersExecuteOnWorkspace(this.extension.local.manifest)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prefers to run on Web\n\t\tif (this.server === this.extensionManagementServerService.webExtensionManagementServer && this.extensionManifestPropertiesService.prefersExecuteOnWeb(this.extension.local.manifest)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.canInstallAnyWhere) {\n\t\t\t// Can run on UI\n\t\t\tif (this.server === this.extensionManagementServerService.localExtensionManagementServer && this.extensionManifestPropertiesService.canExecuteOnUI(this.extension.local.manifest)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Can run on Workspace\n\t\t\tif (this.server === this.extensionManagementServerService.remoteExtensionManagementServer && this.extensionManifestPropertiesService.canExecuteOnWorkspace(this.extension.local.manifest)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.server) {\n\t\t\tthis.extensionsWorkbenchService.open(this.extension);\n\t\t\talert(localize('installExtensionStart', \"Installing extension {0} started. An editor is now open with more details on this extension\", this.extension.displayName));\n\t\t\tif (this.extension.gallery) {\n\t\t\t\tawait this.server.extensionManagementService.installFromGallery(this.extension.gallery);\n\t\t\t} else {\n\t\t\t\tconst vsix = await this.extension.server!.extensionManagementService.zip(this.extension.local!);\n\t\t\t\tawait this.server.extensionManagementService.install(vsix);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected abstract getInstallLabel(): string;\n}\n\nexport class RemoteInstallAction extends InstallInOtherServerAction {\n\n\tconstructor(\n\t\tcanInstallAnyWhere: boolean,\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IProductService productService: IProductService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IExtensionManifestPropertiesService extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t) {\n\t\tsuper(`extensions.remoteinstall`, extensionManagementServerService.remoteExtensionManagementServer, canInstallAnyWhere, extensionsWorkbenchService, extensionManagementServerService, productService, configurationService, extensionManifestPropertiesService);\n\t}\n\n\tprotected getInstallLabel(): string {\n\t\treturn this.extensionManagementServerService.remoteExtensionManagementServer\n\t\t\t? localize({ key: 'install in remote', comment: ['This is the name of the action to install an extension in remote server. Placeholder is for the name of remote server.'] }, \"Install in {0}\", this.extensionManagementServerService.remoteExtensionManagementServer.label)\n\t\t\t: InstallInOtherServerAction.INSTALL_LABEL;\n\t}\n\n}\n\nexport class LocalInstallAction extends InstallInOtherServerAction {\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IProductService productService: IProductService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IExtensionManifestPropertiesService extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t) {\n\t\tsuper(`extensions.localinstall`, extensionManagementServerService.localExtensionManagementServer, false, extensionsWorkbenchService, extensionManagementServerService, productService, configurationService, extensionManifestPropertiesService);\n\t}\n\n\tprotected getInstallLabel(): string {\n\t\treturn localize('install locally', \"Install Locally\");\n\t}\n\n}\n\nexport class WebInstallAction extends InstallInOtherServerAction {\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IProductService productService: IProductService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IWebExtensionsScannerService private readonly webExtensionsScannerService: IWebExtensionsScannerService,\n\t\t@IExtensionManifestPropertiesService extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t) {\n\t\tsuper(`extensions.webInstall`, extensionManagementServerService.webExtensionManagementServer, false, extensionsWorkbenchService, extensionManagementServerService, productService, configurationService, extensionManifestPropertiesService);\n\t}\n\n\tprotected getInstallLabel(): string {\n\t\treturn localize('install browser', \"Install in Browser\");\n\t}\n\n\tprotected override canInstall(): boolean {\n\t\tif (super.canInstall()) {\n\t\t\treturn !!this.extension?.gallery && this.webExtensionsScannerService.canAddExtension(this.extension.gallery);\n\t\t}\n\t\treturn false;\n\t}\n\n}\n\nexport class UninstallAction extends ExtensionAction {\n\n\tstatic readonly UninstallLabel = localize('uninstallAction', \"Uninstall\");\n\tprivate static readonly UninstallingLabel = localize('Uninstalling', \"Uninstalling\");\n\n\tprivate static readonly UninstallClass = `${ExtensionAction.LABEL_ACTION_CLASS} uninstall`;\n\tprivate static readonly UnInstallingClass = `${ExtensionAction.LABEL_ACTION_CLASS} uninstall uninstalling`;\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private extensionsWorkbenchService: IExtensionsWorkbenchService\n\t) {\n\t\tsuper('extensions.uninstall', UninstallAction.UninstallLabel, UninstallAction.UninstallClass, false);\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tif (!this.extension) {\n\t\t\tthis.enabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst state = this.extension.state;\n\n\t\tif (state === ExtensionState.Uninstalling) {\n\t\t\tthis.label = UninstallAction.UninstallingLabel;\n\t\t\tthis.class = UninstallAction.UnInstallingClass;\n\t\t\tthis.enabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.label = UninstallAction.UninstallLabel;\n\t\tthis.class = UninstallAction.UninstallClass;\n\t\tthis.tooltip = UninstallAction.UninstallLabel;\n\n\t\tif (state !== ExtensionState.Installed) {\n\t\t\tthis.enabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.extension.isBuiltin) {\n\t\t\tthis.enabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.enabled = true;\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\talert(localize('uninstallExtensionStart', \"Uninstalling extension {0} started.\", this.extension.displayName));\n\n\t\treturn this.extensionsWorkbenchService.uninstall(this.extension).then(() => {\n\t\t\talert(localize('uninstallExtensionComplete', \"Please reload Visual Studio Code to complete the uninstallation of the extension {0}.\", this.extension!.displayName));\n\t\t});\n\t}\n}\n\nexport class UpdateAction extends ExtensionAction {\n\n\tprivate static readonly EnabledClass = `${ExtensionAction.LABEL_ACTION_CLASS} prominent update`;\n\tprivate static readonly DisabledClass = `${UpdateAction.EnabledClass} disabled`;\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(`extensions.update`, '', UpdateAction.DisabledClass, false);\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tif (!this.extension) {\n\t\t\tthis.enabled = false;\n\t\t\tthis.class = UpdateAction.DisabledClass;\n\t\t\tthis.label = this.getUpdateLabel();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.extension.type !== ExtensionType.User) {\n\t\t\tthis.enabled = false;\n\t\t\tthis.class = UpdateAction.DisabledClass;\n\t\t\tthis.label = this.getUpdateLabel();\n\t\t\treturn;\n\t\t}\n\n\t\tconst canInstall = this.extensionsWorkbenchService.canInstall(this.extension);\n\t\tconst isInstalled = this.extension.state === ExtensionState.Installed;\n\n\t\tthis.enabled = canInstall && isInstalled && this.extension.outdated;\n\t\tthis.class = this.enabled ? UpdateAction.EnabledClass : UpdateAction.DisabledClass;\n\t\tthis.label = this.extension.outdated ? this.getUpdateLabel(this.extension.latestVersion) : this.getUpdateLabel();\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\talert(localize('updateExtensionStart', \"Updating extension {0} to version {1} started.\", this.extension.displayName, this.extension.latestVersion));\n\t\treturn this.install(this.extension);\n\t}\n\n\tprivate async install(extension: IExtension): Promise<void> {\n\t\ttry {\n\t\t\tawait this.extensionsWorkbenchService.install(extension);\n\t\t\talert(localize('updateExtensionComplete', \"Updating extension {0} to version {1} completed.\", extension.displayName, extension.latestVersion));\n\t\t} catch (err) {\n\t\t\tthis.instantiationService.createInstance(PromptExtensionInstallFailureAction, extension, extension.latestVersion, InstallOperation.Update, err).run();\n\t\t}\n\t}\n\n\tprivate getUpdateLabel(version?: string): string {\n\t\treturn version ? localize('updateTo', \"Update to {0}\", version) : localize('updateAction', \"Update\");\n\t}\n}\n\nexport interface IExtensionActionViewItemOptions extends IActionViewItemOptions {\n\ttabOnlyOnFocus?: boolean;\n}\n\nexport class ExtensionActionWithDropdownActionViewItem extends ActionWithDropdownActionViewItem {\n\n\tconstructor(\n\t\taction: ActionWithDropDownAction,\n\t\toptions: IExtensionActionViewItemOptions & IActionWithDropdownActionViewItemOptions,\n\t\tcontextMenuProvider: IContextMenuProvider\n\t) {\n\t\tsuper(null, action, options, contextMenuProvider);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tthis.updateClass();\n\t}\n\n\toverride updateClass(): void {\n\t\tsuper.updateClass();\n\t\tif (this.element && this.dropdownMenuActionViewItem && this.dropdownMenuActionViewItem.element) {\n\t\t\tthis.element.classList.toggle('empty', (<ActionWithDropDownAction>this._action).menuActions.length === 0);\n\t\t\tthis.dropdownMenuActionViewItem.element.classList.toggle('hide', (<ActionWithDropDownAction>this._action).menuActions.length === 0);\n\t\t}\n\t}\n\n}\n\nexport abstract class ExtensionDropDownAction extends ExtensionAction {\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\tcssClass: string,\n\t\tenabled: boolean,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService\n\t) {\n\t\tsuper(id, label, cssClass, enabled);\n\t}\n\n\tprivate _actionViewItem: DropDownMenuActionViewItem | null = null;\n\tcreateActionViewItem(): DropDownMenuActionViewItem {\n\t\tthis._actionViewItem = this.instantiationService.createInstance(DropDownMenuActionViewItem, this);\n\t\treturn this._actionViewItem;\n\t}\n\n\tpublic override run({ actionGroups, disposeActionsOnHide }: { actionGroups: IAction[][], disposeActionsOnHide: boolean }): Promise<any> {\n\t\tif (this._actionViewItem) {\n\t\t\tthis._actionViewItem.showMenu(actionGroups, disposeActionsOnHide);\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class DropDownMenuActionViewItem extends ActionViewItem {\n\n\tconstructor(action: ExtensionDropDownAction,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService\n\t) {\n\t\tsuper(null, action, { icon: true, label: true });\n\t}\n\n\tpublic showMenu(menuActionGroups: IAction[][], disposeActionsOnHide: boolean): void {\n\t\tif (this.element) {\n\t\t\tconst actions = this.getActions(menuActionGroups);\n\t\t\tlet elementPosition = DOM.getDomNodePagePosition(this.element);\n\t\t\tconst anchor = { x: elementPosition.left, y: elementPosition.top + elementPosition.height + 10 };\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tactionRunner: this.actionRunner,\n\t\t\t\tonHide: () => { if (disposeActionsOnHide) { dispose(actions); } }\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate getActions(menuActionGroups: IAction[][]): IAction[] {\n\t\tlet actions: IAction[] = [];\n\t\tfor (const menuActions of menuActionGroups) {\n\t\t\tactions = [...actions, ...menuActions, new Separator()];\n\t\t}\n\t\treturn actions.length ? actions.slice(0, actions.length - 1) : actions;\n\t}\n}\n\nexport function getContextMenuActions(extension: IExtension | undefined | null, inExtensionEditor: boolean, instantiationService: IInstantiationService): IAction[][] {\n\treturn instantiationService.invokeFunction(accessor => {\n\t\tconst menuService = accessor.get(IMenuService);\n\t\tconst extensionRecommendationsService = accessor.get(IExtensionRecommendationsService);\n\t\tconst extensionIgnoredRecommendationsService = accessor.get(IExtensionIgnoredRecommendationsService);\n\t\tconst cksOverlay: [string, any][] = [];\n\n\t\tif (extension) {\n\t\t\tcksOverlay.push(['extension', extension.identifier.id]);\n\t\t\tcksOverlay.push(['isBuiltinExtension', extension.isBuiltin]);\n\t\t\tcksOverlay.push(['extensionHasConfiguration', extension.local && !!extension.local.manifest.contributes && !!extension.local.manifest.contributes.configuration]);\n\t\t\tcksOverlay.push(['isExtensionRecommended', !!extensionRecommendationsService.getAllRecommendationsWithReason()[extension.identifier.id.toLowerCase()]]);\n\t\t\tcksOverlay.push(['isExtensionWorkspaceRecommended', extensionRecommendationsService.getAllRecommendationsWithReason()[extension.identifier.id.toLowerCase()]?.reasonId === ExtensionRecommendationReason.Workspace]);\n\t\t\tcksOverlay.push(['isUserIgnoredRecommendation', extensionIgnoredRecommendationsService.globalIgnoredRecommendations.some(e => e === extension.identifier.id.toLowerCase())]);\n\t\t\tcksOverlay.push(['inExtensionEditor', inExtensionEditor]);\n\t\t\tif (extension.state === ExtensionState.Installed) {\n\t\t\t\tcksOverlay.push(['extensionStatus', 'installed']);\n\t\t\t}\n\t\t}\n\n\t\tconst contextKeyService = accessor.get(IContextKeyService).createOverlay(cksOverlay);\n\t\tconst groups: IAction[][] = [];\n\t\tconst menu = menuService.createMenu(MenuId.ExtensionContext, contextKeyService);\n\t\tmenu.getActions({ shouldForwardArgs: true }).forEach(([, actions]) => groups.push(actions.map(action => {\n\t\t\tif (action instanceof SubmenuAction) {\n\t\t\t\treturn action;\n\t\t\t}\n\t\t\treturn instantiationService.createInstance(MenuItemExtensionAction, action);\n\t\t})));\n\t\tmenu.dispose();\n\n\t\treturn groups;\n\t});\n}\n\nexport class ManageExtensionAction extends ExtensionDropDownAction {\n\n\tstatic readonly ID = 'extensions.manage';\n\n\tprivate static readonly Class = `${ExtensionAction.ICON_ACTION_CLASS} manage ` + ThemeIcon.asClassName(manageExtensionIcon);\n\tprivate static readonly HideManageExtensionClass = `${ManageExtensionAction.Class} hide`;\n\n\tconstructor(\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IWorkbenchThemeService private readonly workbenchThemeService: IWorkbenchThemeService,\n\t) {\n\n\t\tsuper(ManageExtensionAction.ID, '', '', true, instantiationService);\n\n\t\tthis.tooltip = localize('manage', \"Manage\");\n\n\t\tthis.update();\n\t}\n\n\tasync getActionGroups(runningExtensions: IExtensionDescription[]): Promise<IAction[][]> {\n\t\tconst groups: IAction[][] = [];\n\t\tif (this.extension) {\n\t\t\tconst actions = await Promise.all([\n\t\t\t\tSetColorThemeAction.create(this.workbenchThemeService, this.instantiationService, this.extension),\n\t\t\t\tSetFileIconThemeAction.create(this.workbenchThemeService, this.instantiationService, this.extension),\n\t\t\t\tSetProductIconThemeAction.create(this.workbenchThemeService, this.instantiationService, this.extension)\n\t\t\t]);\n\n\t\t\tconst themesGroup: ExtensionAction[] = [];\n\t\t\tfor (let action of actions) {\n\t\t\t\tif (action) {\n\t\t\t\t\tthemesGroup.push(action);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (themesGroup.length) {\n\t\t\t\tgroups.push(themesGroup);\n\t\t\t}\n\t\t}\n\t\tgroups.push([\n\t\t\tthis.instantiationService.createInstance(EnableGloballyAction),\n\t\t\tthis.instantiationService.createInstance(EnableForWorkspaceAction)\n\t\t]);\n\t\tgroups.push([\n\t\t\tthis.instantiationService.createInstance(DisableGloballyAction, runningExtensions),\n\t\t\tthis.instantiationService.createInstance(DisableForWorkspaceAction, runningExtensions)\n\t\t]);\n\t\tgroups.push([\n\t\t\tthis.instantiationService.createInstance(UninstallAction),\n\t\t\tthis.instantiationService.createInstance(InstallAnotherVersionAction)\n\t\t]);\n\n\t\tgetContextMenuActions(this.extension, false, this.instantiationService).forEach(actions => groups.push(actions));\n\n\t\tgroups.forEach(group => group.forEach(extensionAction => {\n\t\t\tif (extensionAction instanceof ExtensionAction) {\n\t\t\t\textensionAction.extension = this.extension;\n\t\t\t}\n\t\t}));\n\n\t\treturn groups;\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tconst runtimeExtensions = await this.extensionService.getExtensions();\n\t\treturn super.run({ actionGroups: await this.getActionGroups(runtimeExtensions), disposeActionsOnHide: true });\n\t}\n\n\tupdate(): void {\n\t\tthis.class = ManageExtensionAction.HideManageExtensionClass;\n\t\tthis.enabled = false;\n\t\tif (this.extension) {\n\t\t\tconst state = this.extension.state;\n\t\t\tthis.enabled = state === ExtensionState.Installed;\n\t\t\tthis.class = this.enabled || state === ExtensionState.Uninstalling ? ManageExtensionAction.Class : ManageExtensionAction.HideManageExtensionClass;\n\t\t\tthis.tooltip = state === ExtensionState.Uninstalling ? localize('ManageExtensionAction.uninstallingTooltip', \"Uninstalling\") : '';\n\t\t}\n\t}\n}\n\nexport class ExtensionEditorManageExtensionAction extends ExtensionDropDownAction {\n\n\tconstructor(\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tsuper('extensionEditor.manageExtension', '', `${ExtensionAction.ICON_ACTION_CLASS} manage ${ThemeIcon.asClassName(manageExtensionIcon)}`, true, instantiationService);\n\t\tthis.tooltip = localize('manage', \"Manage\");\n\t}\n\n\tupdate(): void { }\n\n\toverride run(): Promise<any> {\n\t\tconst actionGroups: IAction[][] = [];\n\t\tgetContextMenuActions(this.extension, true, this.instantiationService).forEach(actions => actionGroups.push(actions));\n\t\tactionGroups.forEach(group => group.forEach(extensionAction => {\n\t\t\tif (extensionAction instanceof ExtensionAction) {\n\t\t\t\textensionAction.extension = this.extension;\n\t\t\t}\n\t\t}));\n\t\treturn super.run({ actionGroups, disposeActionsOnHide: true });\n\t}\n\n}\n\nexport class MenuItemExtensionAction extends ExtensionAction {\n\n\tconstructor(\n\t\tprivate readonly action: IAction,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t) {\n\t\tsuper(action.id, action.label);\n\t}\n\n\tupdate() {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.action.id === TOGGLE_IGNORE_EXTENSION_ACTION_ID) {\n\t\t\tthis.checked = !this.extensionsWorkbenchService.isExtensionIgnoredToSync(this.extension);\n\t\t}\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tif (this.extension) {\n\t\t\tawait this.action.run(this.extension.identifier.id);\n\t\t}\n\t}\n}\n\nexport class InstallAnotherVersionAction extends ExtensionAction {\n\n\tstatic readonly ID = 'workbench.extensions.action.install.anotherVersion';\n\tstatic readonly LABEL = localize('install another version', \"Install Another Version...\");\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper(InstallAnotherVersionAction.ID, InstallAnotherVersionAction.LABEL, ExtensionAction.LABEL_ACTION_CLASS);\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = !!this.extension && !this.extension.isBuiltin && !!this.extension.gallery && this.extension.state === ExtensionState.Installed;\n\t}\n\n\toverride run(): Promise<any> {\n\t\tif (!this.enabled) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\treturn this.quickInputService.pick(this.getVersionEntries(), { placeHolder: localize('selectVersion', \"Select Version to Install\"), matchOnDetail: true })\n\t\t\t.then(async pick => {\n\t\t\t\tif (pick) {\n\t\t\t\t\tif (this.extension!.version === pick.id) {\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (pick.latest) {\n\t\t\t\t\t\t\tawait this.extensionsWorkbenchService.install(this.extension!);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tawait this.extensionsWorkbenchService.installVersion(this.extension!, pick.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tthis.instantiationService.createInstance(PromptExtensionInstallFailureAction, this.extension!, pick.latest ? this.extension!.latestVersion : pick.id, InstallOperation.Install, error).run();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n\n\tprivate getVersionEntries(): Promise<(IQuickPickItem & { latest: boolean, id: string })[]> {\n\t\treturn this.extensionGalleryService.getAllVersions(this.extension!.gallery!, true)\n\t\t\t.then(allVersions => allVersions.map((v, i) => ({ id: v.version, label: v.version, description: `${getRelativeDateLabel(new Date(Date.parse(v.date)))}${v.version === this.extension!.version ? ` (${localize('current', \"Current\")})` : ''}`, latest: i === 0 })));\n\t}\n}\n\nexport class EnableForWorkspaceAction extends ExtensionAction {\n\n\tstatic readonly ID = 'extensions.enableForWorkspace';\n\tstatic readonly LABEL = localize('enableForWorkspaceAction', \"Enable (Workspace)\");\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService\n\t) {\n\t\tsuper(EnableForWorkspaceAction.ID, EnableForWorkspaceAction.LABEL, ExtensionAction.LABEL_ACTION_CLASS);\n\t\tthis.tooltip = localize('enableForWorkspaceActionToolTip', \"Enable this extension only in this workspace\");\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tif (this.extension && this.extension.local) {\n\t\t\tthis.enabled = this.extension.state === ExtensionState.Installed\n\t\t\t\t&& !this.extensionEnablementService.isEnabled(this.extension.local)\n\t\t\t\t&& this.extensionEnablementService.canChangeWorkspaceEnablement(this.extension.local);\n\t\t}\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.extensionsWorkbenchService.setEnablement(this.extension, EnablementState.EnabledWorkspace);\n\t}\n}\n\nexport class EnableGloballyAction extends ExtensionAction {\n\n\tstatic readonly ID = 'extensions.enableGlobally';\n\tstatic readonly LABEL = localize('enableGloballyAction', \"Enable\");\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService\n\t) {\n\t\tsuper(EnableGloballyAction.ID, EnableGloballyAction.LABEL, ExtensionAction.LABEL_ACTION_CLASS);\n\t\tthis.tooltip = localize('enableGloballyActionToolTip', \"Enable this extension\");\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tif (this.extension && this.extension.local) {\n\t\t\tthis.enabled = this.extension.state === ExtensionState.Installed\n\t\t\t\t&& this.extensionEnablementService.isDisabledGlobally(this.extension.local)\n\t\t\t\t&& this.extensionEnablementService.canChangeEnablement(this.extension.local);\n\t\t}\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.extensionsWorkbenchService.setEnablement(this.extension, EnablementState.EnabledGlobally);\n\t}\n}\n\nexport class DisableForWorkspaceAction extends ExtensionAction {\n\n\tstatic readonly ID = 'extensions.disableForWorkspace';\n\tstatic readonly LABEL = localize('disableForWorkspaceAction', \"Disable (Workspace)\");\n\n\tconstructor(private _runningExtensions: IExtensionDescription[],\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService\n\t) {\n\t\tsuper(DisableForWorkspaceAction.ID, DisableForWorkspaceAction.LABEL, ExtensionAction.LABEL_ACTION_CLASS);\n\t\tthis.tooltip = localize('disableForWorkspaceActionToolTip', \"Disable this extension only in this workspace\");\n\t\tthis.update();\n\t}\n\n\tset runningExtensions(runningExtensions: IExtensionDescription[]) {\n\t\tthis._runningExtensions = runningExtensions;\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tif (this.extension && this.extension.local && this._runningExtensions.some(e => areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier) && this.workspaceContextService.getWorkbenchState() !== WorkbenchState.EMPTY)) {\n\t\t\tthis.enabled = this.extension.state === ExtensionState.Installed\n\t\t\t\t&& (this.extension.enablementState === EnablementState.EnabledGlobally || this.extension.enablementState === EnablementState.EnabledWorkspace)\n\t\t\t\t&& this.extensionEnablementService.canChangeWorkspaceEnablement(this.extension.local);\n\t\t}\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.extensionsWorkbenchService.setEnablement(this.extension, EnablementState.DisabledWorkspace);\n\t}\n}\n\nexport class DisableGloballyAction extends ExtensionAction {\n\n\tstatic readonly ID = 'extensions.disableGlobally';\n\tstatic readonly LABEL = localize('disableGloballyAction', \"Disable\");\n\n\tconstructor(\n\t\tprivate _runningExtensions: IExtensionDescription[],\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService\n\t) {\n\t\tsuper(DisableGloballyAction.ID, DisableGloballyAction.LABEL, ExtensionAction.LABEL_ACTION_CLASS);\n\t\tthis.tooltip = localize('disableGloballyActionToolTip', \"Disable this extension\");\n\t\tthis.update();\n\t}\n\n\tset runningExtensions(runningExtensions: IExtensionDescription[]) {\n\t\tthis._runningExtensions = runningExtensions;\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tif (this.extension && this.extension.local && this._runningExtensions.some(e => areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier))) {\n\t\t\tthis.enabled = this.extension.state === ExtensionState.Installed\n\t\t\t\t&& (this.extension.enablementState === EnablementState.EnabledGlobally || this.extension.enablementState === EnablementState.EnabledWorkspace)\n\t\t\t\t&& this.extensionEnablementService.canChangeEnablement(this.extension.local);\n\t\t}\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tif (!this.extension) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.extensionsWorkbenchService.setEnablement(this.extension, EnablementState.DisabledGlobally);\n\t}\n}\n\nexport class EnableDropDownAction extends ActionWithDropDownAction {\n\n\tconstructor(\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tsuper('extensions.enable', localize('enableAction', \"Enable\"), [\n\t\t\tinstantiationService.createInstance(EnableGloballyAction),\n\t\t\tinstantiationService.createInstance(EnableForWorkspaceAction)\n\t\t]);\n\t}\n}\n\nexport class DisableDropDownAction extends ActionWithDropDownAction {\n\n\tconstructor(\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IInstantiationService instantiationService: IInstantiationService\n\t) {\n\t\tconst actions = [\n\t\t\tinstantiationService.createInstance(DisableGloballyAction, []),\n\t\t\tinstantiationService.createInstance(DisableForWorkspaceAction, [])\n\t\t];\n\t\tsuper('extensions.disable', localize('disableAction', \"Disable\"), actions);\n\n\t\tconst updateRunningExtensions = async () => {\n\t\t\tconst runningExtensions = await extensionService.getExtensions();\n\t\t\tactions.forEach(a => a.runningExtensions = runningExtensions);\n\t\t};\n\t\tupdateRunningExtensions();\n\t\tthis._register(extensionService.onDidChangeExtensions(() => updateRunningExtensions()));\n\t}\n\n}\n\nexport class ReloadAction extends ExtensionAction {\n\n\tprivate static readonly EnabledClass = `${ExtensionAction.LABEL_ACTION_CLASS} reload`;\n\tprivate static readonly DisabledClass = `${ReloadAction.EnabledClass} disabled`;\n\n\tupdateWhenCounterExtensionChanges: boolean = true;\n\tprivate _runningExtensions: IExtensionDescription[] | null = null;\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t\t@IProductService productService: IProductService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper('extensions.reload', localize('reloadAction', \"Reload\"), ReloadAction.DisabledClass, false);\n\t\tthis._register(this.extensionService.onDidChangeExtensions(this.updateRunningExtensions, this));\n\t\tthis.updateRunningExtensions();\n\t}\n\n\tprivate updateRunningExtensions(): void {\n\t\tthis.extensionService.getExtensions().then(runningExtensions => { this._runningExtensions = runningExtensions; this.update(); });\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = false;\n\t\tthis.tooltip = '';\n\t\tif (!this.extension || !this._runningExtensions) {\n\t\t\treturn;\n\t\t}\n\t\tconst state = this.extension.state;\n\t\tif (state === ExtensionState.Installing || state === ExtensionState.Uninstalling) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.extension.local && this.extension.local.manifest && this.extension.local.manifest.contributes && this.extension.local.manifest.contributes.localizations && this.extension.local.manifest.contributes.localizations.length > 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis.computeReloadState();\n\t\tthis.class = this.enabled ? ReloadAction.EnabledClass : ReloadAction.DisabledClass;\n\t}\n\n\tprivate computeReloadState(): void {\n\t\tif (!this._runningExtensions || !this.extension) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isUninstalled = this.extension.state === ExtensionState.Uninstalled;\n\t\tconst runningExtension = this._runningExtensions.find(e => areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier));\n\n\t\tif (isUninstalled) {\n\t\t\tconst canRemoveRunningExtension = runningExtension && this.extensionService.canRemoveExtension(runningExtension);\n\t\t\tconst isSameExtensionRunning = runningExtension && (!this.extension.server || this.extension.server === this.extensionManagementServerService.getExtensionManagementServer(toExtension(runningExtension)));\n\t\t\tif (!canRemoveRunningExtension && isSameExtensionRunning) {\n\t\t\t\tthis.enabled = true;\n\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\tthis.tooltip = localize('postUninstallTooltip', \"Please reload Visual Studio Code to complete the uninstallation of this extension.\");\n\t\t\t\talert(localize('uninstallExtensionComplete', \"Please reload Visual Studio Code to complete the uninstallation of the extension {0}.\", this.extension.displayName));\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this.extension.local) {\n\t\t\tconst isSameExtensionRunning = runningExtension && this.extension.server === this.extensionManagementServerService.getExtensionManagementServer(toExtension(runningExtension));\n\t\t\tconst isEnabled = this.extensionEnablementService.isEnabled(this.extension.local);\n\n\t\t\t// Extension is running\n\t\t\tif (runningExtension) {\n\t\t\t\tif (isEnabled) {\n\t\t\t\t\t// No Reload is required if extension can run without reload\n\t\t\t\t\tif (this.extensionService.canAddExtension(toExtensionDescription(this.extension.local))) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst runningExtensionServer = this.extensionManagementServerService.getExtensionManagementServer(toExtension(runningExtension));\n\n\t\t\t\t\tif (isSameExtensionRunning) {\n\t\t\t\t\t\t// Different version of same extension is running. Requires reload to run the current version\n\t\t\t\t\t\tif (this.extension.version !== runningExtension.version) {\n\t\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\t\tthis.tooltip = localize('postUpdateTooltip', \"Please reload Visual Studio Code to enable the updated extension.\");\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extensionInOtherServer = this.extensionsWorkbenchService.installed.filter(e => areSameExtensions(e.identifier, this.extension!.identifier) && e.server !== this.extension!.server)[0];\n\t\t\t\t\t\tif (extensionInOtherServer) {\n\t\t\t\t\t\t\t// This extension prefers to run on UI/Local side but is running in remote\n\t\t\t\t\t\t\tif (runningExtensionServer === this.extensionManagementServerService.remoteExtensionManagementServer && this.extensionManifestPropertiesService.prefersExecuteOnUI(this.extension.local!.manifest)) {\n\t\t\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\t\t\tthis.tooltip = localize('enable locally', \"Please reload Visual Studio Code to enable this extension locally.\");\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// This extension prefers to run on Workspace/Remote side but is running in local\n\t\t\t\t\t\t\tif (runningExtensionServer === this.extensionManagementServerService.localExtensionManagementServer && this.extensionManifestPropertiesService.prefersExecuteOnWorkspace(this.extension.local!.manifest)) {\n\t\t\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\t\t\tthis.tooltip = localize('enable remote', \"Please reload Visual Studio Code to enable this extension in {0}.\", this.extensionManagementServerService.remoteExtensionManagementServer?.label);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (this.extension.server === this.extensionManagementServerService.localExtensionManagementServer && runningExtensionServer === this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\t\t\t\t\t// This extension prefers to run on UI/Local side but is running in remote\n\t\t\t\t\t\t\tif (this.extensionManifestPropertiesService.prefersExecuteOnUI(this.extension.local!.manifest)) {\n\t\t\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\t\t\tthis.tooltip = localize('postEnableTooltip', \"Please reload Visual Studio Code to enable this extension.\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.extension.server === this.extensionManagementServerService.remoteExtensionManagementServer && runningExtensionServer === this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\t\t\t\t\t// This extension prefers to run on Workspace/Remote side but is running in local\n\t\t\t\t\t\t\tif (this.extensionManifestPropertiesService.prefersExecuteOnWorkspace(this.extension.local!.manifest)) {\n\t\t\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\t\t\tthis.tooltip = localize('postEnableTooltip', \"Please reload Visual Studio Code to enable this extension.\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tif (isSameExtensionRunning) {\n\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\tthis.tooltip = localize('postDisableTooltip', \"Please reload Visual Studio Code to disable this extension.\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Extension is not running\n\t\t\telse {\n\t\t\t\tif (isEnabled && !this.extensionService.canAddExtension(toExtensionDescription(this.extension.local))) {\n\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\tthis.tooltip = localize('postEnableTooltip', \"Please reload Visual Studio Code to enable this extension.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst otherServer = this.extension.server ? this.extension.server === this.extensionManagementServerService.localExtensionManagementServer ? this.extensionManagementServerService.remoteExtensionManagementServer : this.extensionManagementServerService.localExtensionManagementServer : null;\n\t\t\t\tif (otherServer && this.extension.enablementState === EnablementState.DisabledByExtensionKind) {\n\t\t\t\t\tconst extensionInOtherServer = this.extensionsWorkbenchService.local.filter(e => areSameExtensions(e.identifier, this.extension!.identifier) && e.server === otherServer)[0];\n\t\t\t\t\t// Same extension in other server exists and\n\t\t\t\t\tif (extensionInOtherServer && extensionInOtherServer.local && this.extensionEnablementService.isEnabled(extensionInOtherServer.local)) {\n\t\t\t\t\t\tthis.enabled = true;\n\t\t\t\t\t\tthis.label = localize('reloadRequired', \"Reload Required\");\n\t\t\t\t\t\tthis.tooltip = localize('postEnableTooltip', \"Please reload Visual Studio Code to enable this extension.\");\n\t\t\t\t\t\talert(localize('installExtensionCompletedAndReloadRequired', \"Installing extension {0} is completed. Please reload Visual Studio Code to enable it.\", this.extension.displayName));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn Promise.resolve(this.hostService.reload());\n\t}\n}\n\nfunction isThemeFromExtension(theme: IWorkbenchTheme, extension: IExtension | undefined | null): boolean {\n\treturn !!(extension && theme.extensionData && ExtensionIdentifier.equals(theme.extensionData.extensionId, extension.identifier.id));\n}\n\nfunction getQuickPickEntries(themes: IWorkbenchTheme[], currentTheme: IWorkbenchTheme, extension: IExtension | null | undefined, showCurrentTheme: boolean): (IQuickPickItem | IQuickPickSeparator)[] {\n\tconst picks: (IQuickPickItem | IQuickPickSeparator)[] = [];\n\tfor (const theme of themes) {\n\t\tif (isThemeFromExtension(theme, extension) && !(showCurrentTheme && theme === currentTheme)) {\n\t\t\tpicks.push({ label: theme.label, id: theme.id });\n\t\t}\n\t}\n\tif (showCurrentTheme) {\n\t\tpicks.push(<IQuickPickSeparator>{ type: 'separator', label: localize('current', \"Current\") });\n\t\tpicks.push(<IQuickPickItem>{ label: currentTheme.label, id: currentTheme.id });\n\t}\n\treturn picks;\n}\n\n\nexport class SetColorThemeAction extends ExtensionAction {\n\n\tprivate static readonly EnabledClass = `${ExtensionAction.LABEL_ACTION_CLASS} theme`;\n\tprivate static readonly DisabledClass = `${SetColorThemeAction.EnabledClass} disabled`;\n\n\tstatic async create(workbenchThemeService: IWorkbenchThemeService, instantiationService: IInstantiationService, extension: IExtension): Promise<SetColorThemeAction | undefined> {\n\t\tconst themes = await workbenchThemeService.getColorThemes();\n\t\tif (themes.some(th => isThemeFromExtension(th, extension))) {\n\t\t\tconst action = instantiationService.createInstance(SetColorThemeAction, themes);\n\t\t\taction.extension = extension;\n\t\t\treturn action;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tconstructor(\n\t\tprivate colorThemes: IWorkbenchColorTheme[],\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IWorkbenchThemeService private readonly workbenchThemeService: IWorkbenchThemeService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t) {\n\t\tsuper(`extensions.colorTheme`, localize('color theme', \"Set Color Theme\"), SetColorThemeAction.DisabledClass, false);\n\t\tthis._register(Event.any<any>(extensionService.onDidChangeExtensions, workbenchThemeService.onDidColorThemeChange)(() => this.update(), this));\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = !!this.extension && (this.extension.state === ExtensionState.Installed) && this.colorThemes.some(th => isThemeFromExtension(th, this.extension));\n\t\tthis.class = this.enabled ? SetColorThemeAction.EnabledClass : SetColorThemeAction.DisabledClass;\n\t}\n\n\toverride async run({ showCurrentTheme, ignoreFocusLost }: { showCurrentTheme: boolean, ignoreFocusLost: boolean } = { showCurrentTheme: false, ignoreFocusLost: false }): Promise<any> {\n\t\tthis.colorThemes = await this.workbenchThemeService.getColorThemes();\n\n\t\tthis.update();\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\t\tconst currentTheme = this.workbenchThemeService.getColorTheme();\n\n\t\tconst delayer = new Delayer<any>(100);\n\t\tconst picks = getQuickPickEntries(this.colorThemes, currentTheme, this.extension, showCurrentTheme);\n\t\tconst pickedTheme = await this.quickInputService.pick(\n\t\t\tpicks,\n\t\t\t{\n\t\t\t\tplaceHolder: localize('select color theme', \"Select Color Theme\"),\n\t\t\t\tonDidFocus: item => delayer.trigger(() => this.workbenchThemeService.setColorTheme(item.id, undefined)),\n\t\t\t\tignoreFocusLost\n\t\t\t});\n\t\treturn this.workbenchThemeService.setColorTheme(pickedTheme ? pickedTheme.id : currentTheme.id, 'auto');\n\t}\n}\n\nexport class SetFileIconThemeAction extends ExtensionAction {\n\n\tprivate static readonly EnabledClass = `${ExtensionAction.LABEL_ACTION_CLASS} theme`;\n\tprivate static readonly DisabledClass = `${SetFileIconThemeAction.EnabledClass} disabled`;\n\n\tstatic async create(workbenchThemeService: IWorkbenchThemeService, instantiationService: IInstantiationService, extension: IExtension): Promise<SetFileIconThemeAction | undefined> {\n\t\tconst themes = await workbenchThemeService.getFileIconThemes();\n\t\tif (themes.some(th => isThemeFromExtension(th, extension))) {\n\t\t\tconst action = instantiationService.createInstance(SetFileIconThemeAction, themes);\n\t\t\taction.extension = extension;\n\t\t\treturn action;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tconstructor(\n\t\tprivate fileIconThemes: IWorkbenchFileIconTheme[],\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IWorkbenchThemeService private readonly workbenchThemeService: IWorkbenchThemeService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService\n\t) {\n\t\tsuper(`extensions.fileIconTheme`, localize('file icon theme', \"Set File Icon Theme\"), SetFileIconThemeAction.DisabledClass, false);\n\t\tthis._register(Event.any<any>(extensionService.onDidChangeExtensions, workbenchThemeService.onDidFileIconThemeChange)(() => this.update(), this));\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = !!this.extension && (this.extension.state === ExtensionState.Installed) && this.fileIconThemes.some(th => isThemeFromExtension(th, this.extension));\n\t\tthis.class = this.enabled ? SetFileIconThemeAction.EnabledClass : SetFileIconThemeAction.DisabledClass;\n\t}\n\n\toverride async run({ showCurrentTheme, ignoreFocusLost }: { showCurrentTheme: boolean, ignoreFocusLost: boolean } = { showCurrentTheme: false, ignoreFocusLost: false }): Promise<any> {\n\t\tthis.fileIconThemes = await this.workbenchThemeService.getFileIconThemes();\n\t\tthis.update();\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\t\tconst currentTheme = this.workbenchThemeService.getFileIconTheme();\n\n\t\tconst delayer = new Delayer<any>(100);\n\t\tconst picks = getQuickPickEntries(this.fileIconThemes, currentTheme, this.extension, showCurrentTheme);\n\t\tconst pickedTheme = await this.quickInputService.pick(\n\t\t\tpicks,\n\t\t\t{\n\t\t\t\tplaceHolder: localize('select file icon theme', \"Select File Icon Theme\"),\n\t\t\t\tonDidFocus: item => delayer.trigger(() => this.workbenchThemeService.setFileIconTheme(item.id, undefined)),\n\t\t\t\tignoreFocusLost\n\t\t\t});\n\t\treturn this.workbenchThemeService.setFileIconTheme(pickedTheme ? pickedTheme.id : currentTheme.id, 'auto');\n\t}\n}\n\nexport class SetProductIconThemeAction extends ExtensionAction {\n\n\tprivate static readonly EnabledClass = `${ExtensionAction.LABEL_ACTION_CLASS} theme`;\n\tprivate static readonly DisabledClass = `${SetProductIconThemeAction.EnabledClass} disabled`;\n\n\tstatic async create(workbenchThemeService: IWorkbenchThemeService, instantiationService: IInstantiationService, extension: IExtension): Promise<SetProductIconThemeAction | undefined> {\n\t\tconst themes = await workbenchThemeService.getProductIconThemes();\n\t\tif (themes.some(th => isThemeFromExtension(th, extension))) {\n\t\t\tconst action = instantiationService.createInstance(SetProductIconThemeAction, themes);\n\t\t\taction.extension = extension;\n\t\t\treturn action;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tconstructor(\n\t\tprivate productIconThemes: IWorkbenchProductIconTheme[],\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IWorkbenchThemeService private readonly workbenchThemeService: IWorkbenchThemeService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService\n\t) {\n\t\tsuper(`extensions.productIconTheme`, localize('product icon theme', \"Set Product Icon Theme\"), SetProductIconThemeAction.DisabledClass, false);\n\t\tthis._register(Event.any<any>(extensionService.onDidChangeExtensions, workbenchThemeService.onDidProductIconThemeChange)(() => this.update(), this));\n\t\tthis.enabled = true; // enabled by default\n\t\tthis.class = SetProductIconThemeAction.EnabledClass;\n\t\t//\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = !!this.extension && (this.extension.state === ExtensionState.Installed) && this.productIconThemes.some(th => isThemeFromExtension(th, this.extension));\n\t\tthis.class = this.enabled ? SetProductIconThemeAction.EnabledClass : SetProductIconThemeAction.DisabledClass;\n\t}\n\n\toverride async run({ showCurrentTheme, ignoreFocusLost }: { showCurrentTheme: boolean, ignoreFocusLost: boolean } = { showCurrentTheme: false, ignoreFocusLost: false }): Promise<any> {\n\t\tthis.productIconThemes = await this.workbenchThemeService.getProductIconThemes();\n\t\tthis.update();\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentTheme = this.workbenchThemeService.getProductIconTheme();\n\n\t\tconst delayer = new Delayer<any>(100);\n\t\tconst picks = getQuickPickEntries(this.productIconThemes, currentTheme, this.extension, showCurrentTheme);\n\t\tconst pickedTheme = await this.quickInputService.pick(\n\t\t\tpicks,\n\t\t\t{\n\t\t\t\tplaceHolder: localize('select product icon theme', \"Select Product Icon Theme\"),\n\t\t\t\tonDidFocus: item => delayer.trigger(() => this.workbenchThemeService.setProductIconTheme(item.id, undefined)),\n\t\t\t\tignoreFocusLost\n\t\t\t});\n\t\treturn this.workbenchThemeService.setProductIconTheme(pickedTheme ? pickedTheme.id : currentTheme.id, 'auto');\n\t}\n}\n\nexport class ShowRecommendedExtensionAction extends Action {\n\n\tstatic readonly ID = 'workbench.extensions.action.showRecommendedExtension';\n\tstatic readonly LABEL = localize('showRecommendedExtension', \"Show Recommended Extension\");\n\n\tprivate extensionId: string;\n\n\tconstructor(\n\t\textensionId: string,\n\t\t@IViewletService private readonly viewletService: IViewletService,\n\t\t@IExtensionsWorkbenchService private readonly extensionWorkbenchService: IExtensionsWorkbenchService,\n\t) {\n\t\tsuper(ShowRecommendedExtensionAction.ID, ShowRecommendedExtensionAction.LABEL, undefined, false);\n\t\tthis.extensionId = extensionId;\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn this.viewletService.openViewlet(VIEWLET_ID, true)\n\t\t\t.then(viewlet => viewlet?.getViewPaneContainer() as IExtensionsViewPaneContainer)\n\t\t\t.then(viewlet => {\n\t\t\t\tviewlet.search(`@id:${this.extensionId}`);\n\t\t\t\tviewlet.focus();\n\t\t\t\treturn this.extensionWorkbenchService.queryGallery({ names: [this.extensionId], source: 'install-recommendation', pageSize: 1 }, CancellationToken.None)\n\t\t\t\t\t.then(pager => {\n\t\t\t\t\t\tif (pager && pager.firstPage && pager.firstPage.length) {\n\t\t\t\t\t\t\tconst extension = pager.firstPage[0];\n\t\t\t\t\t\t\treturn this.extensionWorkbenchService.open(extension);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport class InstallRecommendedExtensionAction extends Action {\n\n\tstatic readonly ID = 'workbench.extensions.action.installRecommendedExtension';\n\tstatic readonly LABEL = localize('installRecommendedExtension', \"Install Recommended Extension\");\n\n\tprivate extensionId: string;\n\n\tconstructor(\n\t\textensionId: string,\n\t\t@IViewletService private readonly viewletService: IViewletService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionsWorkbenchService private readonly extensionWorkbenchService: IExtensionsWorkbenchService,\n\t) {\n\t\tsuper(InstallRecommendedExtensionAction.ID, InstallRecommendedExtensionAction.LABEL, undefined, false);\n\t\tthis.extensionId = extensionId;\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tconst viewlet = await this.viewletService.openViewlet(VIEWLET_ID, true);\n\t\tconst viewPaneContainer = viewlet?.getViewPaneContainer() as IExtensionsViewPaneContainer;\n\t\tviewPaneContainer.search(`@id:${this.extensionId}`);\n\t\tviewPaneContainer.focus();\n\t\tconst pager = await this.extensionWorkbenchService.queryGallery({ names: [this.extensionId], source: 'install-recommendation', pageSize: 1 }, CancellationToken.None);\n\t\tif (pager && pager.firstPage && pager.firstPage.length) {\n\t\t\tconst extension = pager.firstPage[0];\n\t\t\tawait this.extensionWorkbenchService.open(extension);\n\t\t\ttry {\n\t\t\t\tawait this.extensionWorkbenchService.install(extension);\n\t\t\t} catch (err) {\n\t\t\t\tthis.instantiationService.createInstance(PromptExtensionInstallFailureAction, extension, extension.latestVersion, InstallOperation.Install, err).run();\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class IgnoreExtensionRecommendationAction extends Action {\n\n\tstatic readonly ID = 'extensions.ignore';\n\n\tprivate static readonly Class = `${ExtensionAction.LABEL_ACTION_CLASS} ignore`;\n\n\tconstructor(\n\t\tprivate readonly extension: IExtension,\n\t\t@IExtensionIgnoredRecommendationsService private readonly extensionRecommendationsManagementService: IExtensionIgnoredRecommendationsService,\n\t) {\n\t\tsuper(IgnoreExtensionRecommendationAction.ID, 'Ignore Recommendation');\n\n\t\tthis.class = IgnoreExtensionRecommendationAction.Class;\n\t\tthis.tooltip = localize('ignoreExtensionRecommendation', \"Do not recommend this extension again\");\n\t\tthis.enabled = true;\n\t}\n\n\tpublic override run(): Promise<any> {\n\t\tthis.extensionRecommendationsManagementService.toggleGlobalIgnoredRecommendation(this.extension.identifier.id, true);\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class UndoIgnoreExtensionRecommendationAction extends Action {\n\n\tstatic readonly ID = 'extensions.ignore';\n\n\tprivate static readonly Class = `${ExtensionAction.LABEL_ACTION_CLASS} undo-ignore`;\n\n\tconstructor(\n\t\tprivate readonly extension: IExtension,\n\t\t@IExtensionIgnoredRecommendationsService private readonly extensionRecommendationsManagementService: IExtensionIgnoredRecommendationsService,\n\t) {\n\t\tsuper(UndoIgnoreExtensionRecommendationAction.ID, 'Undo');\n\n\t\tthis.class = UndoIgnoreExtensionRecommendationAction.Class;\n\t\tthis.tooltip = localize('undo', \"Undo\");\n\t\tthis.enabled = true;\n\t}\n\n\tpublic override run(): Promise<any> {\n\t\tthis.extensionRecommendationsManagementService.toggleGlobalIgnoredRecommendation(this.extension.identifier.id, false);\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class SearchExtensionsAction extends Action {\n\n\tconstructor(\n\t\tprivate readonly searchValue: string,\n\t\t@IViewletService private readonly viewletService: IViewletService\n\t) {\n\t\tsuper('extensions.searchExtensions', localize('search recommendations', \"Search Extensions\"), undefined, true);\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tconst viewPaneContainer = (await this.viewletService.openViewlet(VIEWLET_ID, true))?.getViewPaneContainer() as IExtensionsViewPaneContainer;\n\t\tviewPaneContainer.search(this.searchValue);\n\t\tviewPaneContainer.focus();\n\t}\n}\n\nexport abstract class AbstractConfigureRecommendedExtensionsAction extends Action {\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IWorkspaceContextService protected contextService: IWorkspaceContextService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@ITextFileService private readonly textFileService: ITextFileService,\n\t\t@IEditorService protected editorService: IEditorService,\n\t\t@IJSONEditingService private readonly jsonEditingService: IJSONEditingService,\n\t\t@ITextModelService private readonly textModelResolverService: ITextModelService\n\t) {\n\t\tsuper(id, label);\n\t}\n\n\tprotected openExtensionsFile(extensionsFileResource: URI): Promise<any> {\n\t\treturn this.getOrCreateExtensionsFile(extensionsFileResource)\n\t\t\t.then(({ created, content }) =>\n\t\t\t\tthis.getSelectionPosition(content, extensionsFileResource, ['recommendations'])\n\t\t\t\t\t.then(selection => this.editorService.openEditor({\n\t\t\t\t\t\tresource: extensionsFileResource,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tpinned: created,\n\t\t\t\t\t\t\tselection\n\t\t\t\t\t\t}\n\t\t\t\t\t})),\n\t\t\t\terror => Promise.reject(new Error(localize('OpenExtensionsFile.failed', \"Unable to create 'extensions.json' file inside the '.vscode' folder ({0}).\", error))));\n\t}\n\n\tprotected openWorkspaceConfigurationFile(workspaceConfigurationFile: URI): Promise<any> {\n\t\treturn this.getOrUpdateWorkspaceConfigurationFile(workspaceConfigurationFile)\n\t\t\t.then(content => this.getSelectionPosition(content.value.toString(), content.resource, ['extensions', 'recommendations']))\n\t\t\t.then(selection => this.editorService.openEditor({\n\t\t\t\tresource: workspaceConfigurationFile,\n\t\t\t\toptions: {\n\t\t\t\t\tselection,\n\t\t\t\t\tforceReload: true // because content has changed\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\tprivate getOrUpdateWorkspaceConfigurationFile(workspaceConfigurationFile: URI): Promise<IFileContent> {\n\t\treturn Promise.resolve(this.fileService.readFile(workspaceConfigurationFile))\n\t\t\t.then(content => {\n\t\t\t\tconst workspaceRecommendations = <IExtensionsConfigContent>json.parse(content.value.toString())['extensions'];\n\t\t\t\tif (!workspaceRecommendations || !workspaceRecommendations.recommendations) {\n\t\t\t\t\treturn this.jsonEditingService.write(workspaceConfigurationFile, [{ path: ['extensions'], value: { recommendations: [] } }], true)\n\t\t\t\t\t\t.then(() => this.fileService.readFile(workspaceConfigurationFile));\n\t\t\t\t}\n\t\t\t\treturn content;\n\t\t\t});\n\t}\n\n\tprivate getSelectionPosition(content: string, resource: URI, path: json.JSONPath): Promise<ITextEditorSelection | undefined> {\n\t\tconst tree = json.parseTree(content);\n\t\tconst node = json.findNodeAtLocation(tree, path);\n\t\tif (node && node.parent && node.parent.children) {\n\t\t\tconst recommendationsValueNode = node.parent.children[1];\n\t\t\tconst lastExtensionNode = recommendationsValueNode.children && recommendationsValueNode.children.length ? recommendationsValueNode.children[recommendationsValueNode.children.length - 1] : null;\n\t\t\tconst offset = lastExtensionNode ? lastExtensionNode.offset + lastExtensionNode.length : recommendationsValueNode.offset + 1;\n\t\t\treturn Promise.resolve(this.textModelResolverService.createModelReference(resource))\n\t\t\t\t.then(reference => {\n\t\t\t\t\tconst position = reference.object.textEditorModel.getPositionAt(offset);\n\t\t\t\t\treference.dispose();\n\t\t\t\t\treturn <ITextEditorSelection>{\n\t\t\t\t\t\tstartLineNumber: position.lineNumber,\n\t\t\t\t\t\tstartColumn: position.column,\n\t\t\t\t\t\tendLineNumber: position.lineNumber,\n\t\t\t\t\t\tendColumn: position.column,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t}\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tprivate getOrCreateExtensionsFile(extensionsFileResource: URI): Promise<{ created: boolean, extensionsFileResource: URI, content: string }> {\n\t\treturn Promise.resolve(this.fileService.readFile(extensionsFileResource)).then(content => {\n\t\t\treturn { created: false, extensionsFileResource, content: content.value.toString() };\n\t\t}, err => {\n\t\t\treturn this.textFileService.write(extensionsFileResource, ExtensionsConfigurationInitialContent).then(() => {\n\t\t\t\treturn { created: true, extensionsFileResource, content: ExtensionsConfigurationInitialContent };\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport class ConfigureWorkspaceRecommendedExtensionsAction extends AbstractConfigureRecommendedExtensionsAction {\n\n\tstatic readonly ID = 'workbench.extensions.action.configureWorkspaceRecommendedExtensions';\n\tstatic readonly LABEL = localize('configureWorkspaceRecommendedExtensions', \"Configure Recommended Extensions (Workspace)\");\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IFileService fileService: IFileService,\n\t\t@ITextFileService textFileService: ITextFileService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IJSONEditingService jsonEditingService: IJSONEditingService,\n\t\t@ITextModelService textModelResolverService: ITextModelService\n\t) {\n\t\tsuper(id, label, contextService, fileService, textFileService, editorService, jsonEditingService, textModelResolverService);\n\t\tthis._register(this.contextService.onDidChangeWorkbenchState(() => this.update(), this));\n\t\tthis.update();\n\t}\n\n\tprivate update(): void {\n\t\tthis.enabled = this.contextService.getWorkbenchState() !== WorkbenchState.EMPTY;\n\t}\n\n\tpublic override run(): Promise<void> {\n\t\tswitch (this.contextService.getWorkbenchState()) {\n\t\t\tcase WorkbenchState.FOLDER:\n\t\t\t\treturn this.openExtensionsFile(this.contextService.getWorkspace().folders[0].toResource(EXTENSIONS_CONFIG));\n\t\t\tcase WorkbenchState.WORKSPACE:\n\t\t\t\treturn this.openWorkspaceConfigurationFile(this.contextService.getWorkspace().configuration!);\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class ConfigureWorkspaceFolderRecommendedExtensionsAction extends AbstractConfigureRecommendedExtensionsAction {\n\n\tstatic readonly ID = 'workbench.extensions.action.configureWorkspaceFolderRecommendedExtensions';\n\tstatic readonly LABEL = localize('configureWorkspaceFolderRecommendedExtensions', \"Configure Recommended Extensions (Workspace Folder)\");\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IFileService fileService: IFileService,\n\t\t@ITextFileService textFileService: ITextFileService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IJSONEditingService jsonEditingService: IJSONEditingService,\n\t\t@ITextModelService textModelResolverService: ITextModelService,\n\t\t@ICommandService private readonly commandService: ICommandService\n\t) {\n\t\tsuper(id, label, contextService, fileService, textFileService, editorService, jsonEditingService, textModelResolverService);\n\t}\n\n\tpublic override run(): Promise<any> {\n\t\tconst folderCount = this.contextService.getWorkspace().folders.length;\n\t\tconst pickFolderPromise = folderCount === 1 ? Promise.resolve(this.contextService.getWorkspace().folders[0]) : this.commandService.executeCommand<IWorkspaceFolder>(PICK_WORKSPACE_FOLDER_COMMAND_ID);\n\t\treturn Promise.resolve(pickFolderPromise)\n\t\t\t.then(workspaceFolder => {\n\t\t\t\tif (workspaceFolder) {\n\t\t\t\t\treturn this.openExtensionsFile(workspaceFolder.toResource(EXTENSIONS_CONFIG));\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n}\n\nexport class StatusLabelAction extends Action implements IExtensionContainer {\n\n\tprivate static readonly ENABLED_CLASS = `${ExtensionAction.TEXT_ACTION_CLASS} extension-status-label`;\n\tprivate static readonly DISABLED_CLASS = `${StatusLabelAction.ENABLED_CLASS} hide`;\n\n\tprivate initialStatus: ExtensionState | null = null;\n\tprivate status: ExtensionState | null = null;\n\tprivate enablementState: EnablementState | null = null;\n\n\tprivate _extension: IExtension | null = null;\n\tget extension(): IExtension | null { return this._extension; }\n\tset extension(extension: IExtension | null) {\n\t\tif (!(this._extension && extension && areSameExtensions(this._extension.identifier, extension.identifier))) {\n\t\t\t// Different extension. Reset\n\t\t\tthis.initialStatus = null;\n\t\t\tthis.status = null;\n\t\t\tthis.enablementState = null;\n\t\t}\n\t\tthis._extension = extension;\n\t\tthis.update();\n\t}\n\n\tconstructor(\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService\n\t) {\n\t\tsuper('extensions.action.statusLabel', '', StatusLabelAction.DISABLED_CLASS, false);\n\t}\n\n\tupdate(): void {\n\t\tthis.computeLabel()\n\t\t\t.then(label => {\n\t\t\t\tthis.label = label || '';\n\t\t\t\tthis.class = label ? StatusLabelAction.ENABLED_CLASS : StatusLabelAction.DISABLED_CLASS;\n\t\t\t});\n\t}\n\n\tprivate async computeLabel(): Promise<string | null> {\n\t\tif (!this.extension) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst currentStatus = this.status;\n\t\tconst currentEnablementState = this.enablementState;\n\t\tthis.status = this.extension.state;\n\t\tif (this.initialStatus === null) {\n\t\t\tthis.initialStatus = this.status;\n\t\t}\n\t\tthis.enablementState = this.extension.enablementState;\n\n\t\tconst runningExtensions = await this.extensionService.getExtensions();\n\t\tconst canAddExtension = () => {\n\t\t\tconst runningExtension = runningExtensions.filter(e => areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier))[0];\n\t\t\tif (this.extension!.local) {\n\t\t\t\tif (runningExtension && this.extension!.version === runningExtension.version) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn this.extensionService.canAddExtension(toExtensionDescription(this.extension!.local));\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tconst canRemoveExtension = () => {\n\t\t\tif (this.extension!.local) {\n\t\t\t\tif (runningExtensions.every(e => !(areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier) && this.extension!.server === this.extensionManagementServerService.getExtensionManagementServer(toExtension(e))))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn this.extensionService.canRemoveExtension(toExtensionDescription(this.extension!.local));\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tif (currentStatus !== null) {\n\t\t\tif (currentStatus === ExtensionState.Installing && this.status === ExtensionState.Installed) {\n\t\t\t\treturn canAddExtension() ? this.initialStatus === ExtensionState.Installed ? localize('updated', \"Updated\") : localize('installed', \"Installed\") : null;\n\t\t\t}\n\t\t\tif (currentStatus === ExtensionState.Uninstalling && this.status === ExtensionState.Uninstalled) {\n\t\t\t\tthis.initialStatus = this.status;\n\t\t\t\treturn canRemoveExtension() ? localize('uninstalled', \"Uninstalled\") : null;\n\t\t\t}\n\t\t}\n\n\t\tif (currentEnablementState !== null) {\n\t\t\tconst currentlyEnabled = currentEnablementState === EnablementState.EnabledGlobally || currentEnablementState === EnablementState.EnabledWorkspace;\n\t\t\tconst enabled = this.enablementState === EnablementState.EnabledGlobally || this.enablementState === EnablementState.EnabledWorkspace;\n\t\t\tif (!currentlyEnabled && enabled) {\n\t\t\t\treturn canAddExtension() ? localize('enabled', \"Enabled\") : null;\n\t\t\t}\n\t\t\tif (currentlyEnabled && !enabled) {\n\t\t\t\treturn canRemoveExtension() ? localize('disabled', \"Disabled\") : null;\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn Promise.resolve();\n\t}\n\n}\n\nexport class MaliciousStatusLabelAction extends ExtensionAction {\n\n\tprivate static readonly Class = `${ExtensionAction.TEXT_ACTION_CLASS} malicious-status`;\n\n\tconstructor(long: boolean) {\n\t\tconst tooltip = localize('malicious tooltip', \"This extension was reported to be problematic.\");\n\t\tconst label = long ? tooltip : localize({ key: 'malicious', comment: ['Refers to a malicious extension'] }, \"Malicious\");\n\t\tsuper('extensions.install', label, '', false);\n\t\tthis.tooltip = localize('malicious tooltip', \"This extension was reported to be problematic.\");\n\t}\n\n\tupdate(): void {\n\t\tif (this.extension && this.extension.isMalicious) {\n\t\t\tthis.class = `${MaliciousStatusLabelAction.Class} malicious`;\n\t\t} else {\n\t\t\tthis.class = `${MaliciousStatusLabelAction.Class} not-malicious`;\n\t\t}\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn Promise.resolve();\n\t}\n}\n\nexport class ToggleSyncExtensionAction extends ExtensionDropDownAction {\n\n\tprivate static readonly IGNORED_SYNC_CLASS = `${ExtensionAction.ICON_ACTION_CLASS} extension-sync ${ThemeIcon.asClassName(syncIgnoredIcon)}`;\n\tprivate static readonly SYNC_CLASS = `${ToggleSyncExtensionAction.ICON_ACTION_CLASS} extension-sync ${ThemeIcon.asClassName(syncEnabledIcon)}`;\n\n\tconstructor(\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IUserDataAutoSyncEnablementService private readonly userDataAutoSyncEnablementService: IUserDataAutoSyncEnablementService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper('extensions.sync', '', ToggleSyncExtensionAction.SYNC_CLASS, false, instantiationService);\n\t\tthis._register(Event.filter(this.configurationService.onDidChangeConfiguration, e => e.affectedKeys.includes('settingsSync.ignoredExtensions'))(() => this.update()));\n\t\tthis._register(userDataAutoSyncEnablementService.onDidChangeEnablement(() => this.update()));\n\t\tthis.update();\n\t}\n\n\tupdate(): void {\n\t\tthis.enabled = !!this.extension && this.userDataAutoSyncEnablementService.isEnabled() && this.extension.state === ExtensionState.Installed;\n\t\tif (this.extension) {\n\t\t\tconst isIgnored = this.extensionsWorkbenchService.isExtensionIgnoredToSync(this.extension);\n\t\t\tthis.class = isIgnored ? ToggleSyncExtensionAction.IGNORED_SYNC_CLASS : ToggleSyncExtensionAction.SYNC_CLASS;\n\t\t\tthis.tooltip = isIgnored ? localize('ignored', \"This extension is ignored during sync\") : localize('synced', \"This extension is synced\");\n\t\t}\n\t}\n\n\toverride async run(): Promise<any> {\n\t\treturn super.run({\n\t\t\tactionGroups: [\n\t\t\t\t[\n\t\t\t\t\tnew Action(\n\t\t\t\t\t\t'extensions.syncignore',\n\t\t\t\t\t\tthis.extensionsWorkbenchService.isExtensionIgnoredToSync(this.extension!) ? localize('sync', \"Sync this extension\") : localize('do not sync', \"Do not sync this extension\")\n\t\t\t\t\t\t, undefined, true, () => this.extensionsWorkbenchService.toggleExtensionIgnoredToSync(this.extension!))\n\t\t\t\t]\n\t\t\t], disposeActionsOnHide: true\n\t\t});\n\t}\n}\n\nexport class ExtensionToolTipAction extends ExtensionAction {\n\n\tprivate static readonly Class = `${ExtensionAction.TEXT_ACTION_CLASS} disable-status`;\n\n\tupdateWhenCounterExtensionChanges: boolean = true;\n\tprivate _runningExtensions: IExtensionDescription[] | null = null;\n\n\tconstructor(\n\t\tprivate readonly warningAction: SystemDisabledWarningAction,\n\t\tprivate readonly reloadAction: ReloadAction,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService\n\t) {\n\t\tsuper('extensions.tooltip', warningAction.tooltip, `${ExtensionToolTipAction.Class} hide`, false);\n\t\tthis._register(warningAction.onDidChange(() => this.update(), this));\n\t\tthis._register(this.extensionService.onDidChangeExtensions(this.updateRunningExtensions, this));\n\t\tthis.updateRunningExtensions();\n\t}\n\n\tprivate updateRunningExtensions(): void {\n\t\tthis.extensionService.getExtensions().then(runningExtensions => { this._runningExtensions = runningExtensions; this.update(); });\n\t}\n\n\tupdate(): void {\n\t\tthis.label = this.getTooltip();\n\t\tthis.class = ExtensionToolTipAction.Class;\n\t\tif (!this.label) {\n\t\t\tthis.class = `${ExtensionToolTipAction.Class} hide`;\n\t\t}\n\t}\n\n\tprivate getTooltip(): string {\n\t\tif (!this.extension) {\n\t\t\treturn '';\n\t\t}\n\t\tif (this.reloadAction.enabled) {\n\t\t\treturn this.reloadAction.tooltip;\n\t\t}\n\t\tif (this.warningAction.tooltip) {\n\t\t\treturn this.warningAction.tooltip;\n\t\t}\n\t\tif (this.extension && this.extension.local && this.extension.state === ExtensionState.Installed && this._runningExtensions) {\n\t\t\tconst isRunning = this._runningExtensions.some(e => areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier));\n\t\t\tconst isEnabled = this.extensionEnablementService.isEnabled(this.extension.local);\n\n\t\t\tif (isEnabled && isRunning) {\n\t\t\t\tif (this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\t\t\tif (this.extension.server === this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\t\t\t\treturn localize('extension enabled on remote', \"Extension is enabled on '{0}'\", this.extension.server.label);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.extension.enablementState === EnablementState.EnabledGlobally) {\n\t\t\t\t\treturn localize('globally enabled', \"This extension is enabled globally.\");\n\t\t\t\t}\n\t\t\t\tif (this.extension.enablementState === EnablementState.EnabledWorkspace) {\n\t\t\t\t\treturn localize('workspace enabled', \"This extension is enabled for this workspace by the user.\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!isEnabled && !isRunning) {\n\t\t\t\tif (this.extension.enablementState === EnablementState.DisabledGlobally) {\n\t\t\t\t\treturn localize('globally disabled', \"This extension is disabled globally by the user.\");\n\t\t\t\t}\n\t\t\t\tif (this.extension.enablementState === EnablementState.DisabledWorkspace) {\n\t\t\t\t\treturn localize('workspace disabled', \"This extension is disabled for this workspace by the user.\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn Promise.resolve(null);\n\t}\n}\n\nexport class SystemDisabledWarningAction extends ExtensionAction {\n\n\tprivate static readonly CLASS = `${ExtensionAction.ICON_ACTION_CLASS} system-disable`;\n\tprivate static readonly WARNING_CLASS = `${SystemDisabledWarningAction.CLASS} ${ThemeIcon.asClassName(warningIcon)}`;\n\tprivate static readonly INFO_CLASS = `${SystemDisabledWarningAction.CLASS} ${ThemeIcon.asClassName(infoIcon)}`;\n\tprivate static readonly TRUST_CLASS = `${SystemDisabledWarningAction.CLASS} ${ThemeIcon.asClassName(trustIcon)}`;\n\n\tupdateWhenCounterExtensionChanges: boolean = true;\n\tprivate _runningExtensions: IExtensionDescription[] | null = null;\n\n\tconstructor(\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExtensionManifestPropertiesService private readonly extensionManifestPropertiesService: IExtensionManifestPropertiesService,\n\t) {\n\t\tsuper('extensions.install', '', `${SystemDisabledWarningAction.CLASS} hide`, false);\n\t\tthis._register(this.labelService.onDidChangeFormatters(() => this.update(), this));\n\t\tthis._register(this.extensionService.onDidChangeExtensions(this.updateRunningExtensions, this));\n\t\tthis.updateRunningExtensions();\n\t\tthis.update();\n\t}\n\n\tprivate updateRunningExtensions(): void {\n\t\tthis.extensionService.getExtensions().then(runningExtensions => { this._runningExtensions = runningExtensions; this.update(); });\n\t}\n\n\tupdate(): void {\n\t\tthis.class = `${SystemDisabledWarningAction.CLASS} hide`;\n\t\tthis.tooltip = '';\n\t\tif (\n\t\t\t!this.extension ||\n\t\t\t!this.extension.local ||\n\t\t\t!this.extension.server ||\n\t\t\t!this._runningExtensions ||\n\t\t\tthis.extension.state !== ExtensionState.Installed\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.extension.enablementState === EnablementState.DisabledByVirtualWorkspace) {\n\t\t\tthis.class = `${SystemDisabledWarningAction.INFO_CLASS}`;\n\t\t\tthis.tooltip = localize('disabled because of virtual workspace', \"This extension has been disabled because it does not support virtual workspaces.\");\n\t\t\treturn;\n\t\t}\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tif (isLanguagePackExtension(this.extension.local.manifest)) {\n\t\t\t\tif (!this.extensionsWorkbenchService.installed.some(e => areSameExtensions(e.identifier, this.extension!.identifier) && e.server !== this.extension!.server)) {\n\t\t\t\t\tthis.class = `${SystemDisabledWarningAction.INFO_CLASS}`;\n\t\t\t\t\tthis.tooltip = this.extension.server === this.extensionManagementServerService.localExtensionManagementServer\n\t\t\t\t\t\t? localize('Install language pack also in remote server', \"Install the language pack extension on '{0}' to enable it there also.\", this.extensionManagementServerService.remoteExtensionManagementServer.label)\n\t\t\t\t\t\t: localize('Install language pack also locally', \"Install the language pack extension locally to enable it there also.\");\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (this.extension.enablementState === EnablementState.DisabledByExtensionKind) {\n\t\t\tif (!this.extensionsWorkbenchService.installed.some(e => areSameExtensions(e.identifier, this.extension!.identifier) && e.server !== this.extension!.server)) {\n\t\t\t\tconst server = this.extensionManagementServerService.localExtensionManagementServer === this.extension.server ? this.extensionManagementServerService.remoteExtensionManagementServer : this.extensionManagementServerService.localExtensionManagementServer;\n\t\t\t\tthis.class = `${SystemDisabledWarningAction.WARNING_CLASS}`;\n\t\t\t\tif (server) {\n\t\t\t\t\tthis.tooltip = localize('Install in other server to enable', \"Install the extension on '{0}' to enable.\", server.label);\n\t\t\t\t} else {\n\t\t\t\t\tthis.tooltip = localize('disabled because of extension kind', \"This extension has defined that it cannot run on the remote server\");\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tconst runningExtension = this._runningExtensions.filter(e => areSameExtensions({ id: e.identifier.value, uuid: e.uuid }, this.extension!.identifier))[0];\n\t\t\tconst runningExtensionServer = runningExtension ? this.extensionManagementServerService.getExtensionManagementServer(toExtension(runningExtension)) : null;\n\t\t\tif (this.extension.server === this.extensionManagementServerService.localExtensionManagementServer && runningExtensionServer === this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\t\tif (this.extensionManifestPropertiesService.prefersExecuteOnWorkspace(this.extension.local!.manifest)) {\n\t\t\t\t\tthis.class = `${SystemDisabledWarningAction.INFO_CLASS}`;\n\t\t\t\t\tthis.tooltip = localize('disabled locally', \"Extension is enabled on '{0}' and disabled locally.\", this.extensionManagementServerService.remoteExtensionManagementServer.label);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.extension.server === this.extensionManagementServerService.remoteExtensionManagementServer && runningExtensionServer === this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\t\tif (this.extensionManifestPropertiesService.prefersExecuteOnUI(this.extension.local!.manifest)) {\n\t\t\t\t\tthis.class = `${SystemDisabledWarningAction.INFO_CLASS}`;\n\t\t\t\t\tthis.tooltip = localize('disabled remotely', \"Extension is enabled locally and disabled on '{0}'.\", this.extensionManagementServerService.remoteExtensionManagementServer.label);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (isWorkspaceTrustEnabled(this.configurationService) && this.extension.enablementState === EnablementState.DisabledByTrustRequirement) {\n\t\t\tthis.class = `${SystemDisabledWarningAction.TRUST_CLASS}`;\n\t\t\tthis.tooltip = localize('extension disabled because of trust requirement', \"This extension has been disabled because the current workspace is not trusted\");\n\t\t\treturn;\n\t\t}\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn Promise.resolve(null);\n\t}\n}\n\nexport class ReinstallAction extends Action {\n\n\tstatic readonly ID = 'workbench.extensions.action.reinstall';\n\tstatic readonly LABEL = localize('reinstall', \"Reinstall Extension...\");\n\n\tconstructor(\n\t\tid: string = ReinstallAction.ID, label: string = ReinstallAction.LABEL,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService\n\t) {\n\t\tsuper(id, label);\n\t}\n\n\toverride get enabled(): boolean {\n\t\treturn this.extensionsWorkbenchService.local.filter(l => !l.isBuiltin && l.local).length > 0;\n\t}\n\n\toverride run(): Promise<any> {\n\t\treturn this.quickInputService.pick(this.getEntries(), { placeHolder: localize('selectExtensionToReinstall', \"Select Extension to Reinstall\") })\n\t\t\t.then(pick => pick && this.reinstallExtension(pick.extension));\n\t}\n\n\tprivate getEntries(): Promise<(IQuickPickItem & { extension: IExtension })[]> {\n\t\treturn this.extensionsWorkbenchService.queryLocal()\n\t\t\t.then(local => {\n\t\t\t\tconst entries = local\n\t\t\t\t\t.filter(extension => !extension.isBuiltin)\n\t\t\t\t\t.map(extension => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: extension.identifier.id,\n\t\t\t\t\t\t\tlabel: extension.displayName,\n\t\t\t\t\t\t\tdescription: extension.identifier.id,\n\t\t\t\t\t\t\textension,\n\t\t\t\t\t\t} as (IQuickPickItem & { extension: IExtension });\n\t\t\t\t\t});\n\t\t\t\treturn entries;\n\t\t\t});\n\t}\n\n\tprivate reinstallExtension(extension: IExtension): Promise<void> {\n\t\treturn this.instantiationService.createInstance(SearchExtensionsAction, '@installed ').run()\n\t\t\t.then(() => {\n\t\t\t\treturn this.extensionsWorkbenchService.reinstall(extension)\n\t\t\t\t\t.then(extension => {\n\t\t\t\t\t\tconst requireReload = !(extension.local && this.extensionService.canAddExtension(toExtensionDescription(extension.local)));\n\t\t\t\t\t\tconst message = requireReload ? localize('ReinstallAction.successReload', \"Please reload Visual Studio Code to complete reinstalling the extension {0}.\", extension.identifier.id)\n\t\t\t\t\t\t\t: localize('ReinstallAction.success', \"Reinstalling the extension {0} is completed.\", extension.identifier.id);\n\t\t\t\t\t\tconst actions = requireReload ? [{\n\t\t\t\t\t\t\tlabel: localize('InstallVSIXAction.reloadNow', \"Reload Now\"),\n\t\t\t\t\t\t\trun: () => this.hostService.reload()\n\t\t\t\t\t\t}] : [];\n\t\t\t\t\t\tthis.notificationService.prompt(\n\t\t\t\t\t\t\tSeverity.Info,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t\t{ sticky: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t}, error => this.notificationService.error(error));\n\t\t\t});\n\t}\n}\n\nexport class InstallSpecificVersionOfExtensionAction extends Action {\n\n\tstatic readonly ID = 'workbench.extensions.action.install.specificVersion';\n\tstatic readonly LABEL = localize('install previous version', \"Install Specific Version of Extension...\");\n\n\tconstructor(\n\t\tid: string = InstallSpecificVersionOfExtensionAction.ID, label: string = InstallSpecificVersionOfExtensionAction.LABEL,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t) {\n\t\tsuper(id, label);\n\t}\n\n\toverride get enabled(): boolean {\n\t\treturn this.extensionsWorkbenchService.local.some(l => this.isEnabled(l));\n\t}\n\n\toverride async run(): Promise<any> {\n\t\tconst extensionPick = await this.quickInputService.pick(this.getExtensionEntries(), { placeHolder: localize('selectExtension', \"Select Extension\"), matchOnDetail: true });\n\t\tif (extensionPick && extensionPick.extension) {\n\t\t\tconst versionPick = await this.quickInputService.pick(extensionPick.versions.map(v => ({ id: v.version, label: v.version, description: `${getRelativeDateLabel(new Date(Date.parse(v.date)))}${v.version === extensionPick.extension.version ? ` (${localize('current', \"Current\")})` : ''}` })), { placeHolder: localize('selectVersion', \"Select Version to Install\"), matchOnDetail: true });\n\t\t\tif (versionPick) {\n\t\t\t\tif (extensionPick.extension.version !== versionPick.id) {\n\t\t\t\t\tawait this.install(extensionPick.extension, versionPick.id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate isEnabled(extension: IExtension): boolean {\n\t\treturn !!extension.gallery && !!extension.local && this.extensionEnablementService.isEnabled(extension.local);\n\t}\n\n\tprivate async getExtensionEntries(): Promise<(IQuickPickItem & { extension: IExtension, versions: IGalleryExtensionVersion[] })[]> {\n\t\tconst installed = await this.extensionsWorkbenchService.queryLocal();\n\t\tconst versionsPromises: Promise<{ extension: IExtension, versions: IGalleryExtensionVersion[] } | null>[] = [];\n\t\tfor (const extension of installed) {\n\t\t\tif (this.isEnabled(extension)) {\n\t\t\t\tversionsPromises.push(this.extensionGalleryService.getAllVersions(extension.gallery!, true)\n\t\t\t\t\t.then(versions => (versions.length ? { extension, versions } : null)));\n\t\t\t}\n\t\t}\n\n\t\tconst extensions = await Promise.all(versionsPromises);\n\t\treturn coalesce(extensions)\n\t\t\t.sort((e1, e2) => e1.extension.displayName.localeCompare(e2.extension.displayName))\n\t\t\t.map(({ extension, versions }) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: extension.identifier.id,\n\t\t\t\t\tlabel: extension.displayName || extension.identifier.id,\n\t\t\t\t\tdescription: extension.identifier.id,\n\t\t\t\t\textension,\n\t\t\t\t\tversions\n\t\t\t\t} as (IQuickPickItem & { extension: IExtension, versions: IGalleryExtensionVersion[] });\n\t\t\t});\n\t}\n\n\tprivate install(extension: IExtension, version: string): Promise<void> {\n\t\treturn this.instantiationService.createInstance(SearchExtensionsAction, '@installed ').run()\n\t\t\t.then(() => {\n\t\t\t\treturn this.extensionsWorkbenchService.installVersion(extension, version)\n\t\t\t\t\t.then(extension => {\n\t\t\t\t\t\tconst requireReload = !(extension.local && this.extensionService.canAddExtension(toExtensionDescription(extension.local)));\n\t\t\t\t\t\tconst message = requireReload ? localize('InstallAnotherVersionExtensionAction.successReload', \"Please reload Visual Studio Code to complete installing the extension {0}.\", extension.identifier.id)\n\t\t\t\t\t\t\t: localize('InstallAnotherVersionExtensionAction.success', \"Installing the extension {0} is completed.\", extension.identifier.id);\n\t\t\t\t\t\tconst actions = requireReload ? [{\n\t\t\t\t\t\t\tlabel: localize('InstallAnotherVersionExtensionAction.reloadNow', \"Reload Now\"),\n\t\t\t\t\t\t\trun: () => this.hostService.reload()\n\t\t\t\t\t\t}] : [];\n\t\t\t\t\t\tthis.notificationService.prompt(\n\t\t\t\t\t\t\tSeverity.Info,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t\t{ sticky: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t}, error => this.notificationService.error(error));\n\t\t\t});\n\t}\n}\n\ninterface IExtensionPickItem extends IQuickPickItem {\n\textension?: IExtension;\n}\n\nexport abstract class AbstractInstallExtensionsInServerAction extends Action {\n\n\tprivate extensions: IExtension[] | undefined = undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\t@IExtensionsWorkbenchService protected readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t) {\n\t\tsuper(id);\n\t\tthis.update();\n\t\tthis.extensionsWorkbenchService.queryLocal().then(() => this.updateExtensions());\n\t\tthis._register(this.extensionsWorkbenchService.onChange(() => {\n\t\t\tif (this.extensions) {\n\t\t\t\tthis.updateExtensions();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate updateExtensions(): void {\n\t\tthis.extensions = this.extensionsWorkbenchService.local;\n\t\tthis.update();\n\t}\n\n\tprivate update(): void {\n\t\tthis.enabled = !!this.extensions && this.getExtensionsToInstall(this.extensions).length > 0;\n\t\tthis.tooltip = this.label;\n\t}\n\n\toverride async run(): Promise<void> {\n\t\treturn this.selectAndInstallExtensions();\n\t}\n\n\tprivate async queryExtensionsToInstall(): Promise<IExtension[]> {\n\t\tconst local = await this.extensionsWorkbenchService.queryLocal();\n\t\treturn this.getExtensionsToInstall(local);\n\t}\n\n\tprivate async selectAndInstallExtensions(): Promise<void> {\n\t\tconst quickPick = this.quickInputService.createQuickPick<IExtensionPickItem>();\n\t\tquickPick.busy = true;\n\t\tconst disposable = quickPick.onDidAccept(() => {\n\t\t\tdisposable.dispose();\n\t\t\tquickPick.hide();\n\t\t\tquickPick.dispose();\n\t\t\tthis.onDidAccept(quickPick.selectedItems);\n\t\t});\n\t\tquickPick.show();\n\t\tconst localExtensionsToInstall = await this.queryExtensionsToInstall();\n\t\tquickPick.busy = false;\n\t\tif (localExtensionsToInstall.length) {\n\t\t\tquickPick.title = this.getQuickPickTitle();\n\t\t\tquickPick.placeholder = localize('select extensions to install', \"Select extensions to install\");\n\t\t\tquickPick.canSelectMany = true;\n\t\t\tlocalExtensionsToInstall.sort((e1, e2) => e1.displayName.localeCompare(e2.displayName));\n\t\t\tquickPick.items = localExtensionsToInstall.map<IExtensionPickItem>(extension => ({ extension, label: extension.displayName, description: extension.version }));\n\t\t} else {\n\t\t\tquickPick.hide();\n\t\t\tquickPick.dispose();\n\t\t\tthis.notificationService.notify({\n\t\t\t\tseverity: Severity.Info,\n\t\t\t\tmessage: localize('no local extensions', \"There are no extensions to install.\")\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate async onDidAccept(selectedItems: ReadonlyArray<IExtensionPickItem>): Promise<void> {\n\t\tif (selectedItems.length) {\n\t\t\tconst localExtensionsToInstall = selectedItems.filter(r => !!r.extension).map(r => r.extension!);\n\t\t\tif (localExtensionsToInstall.length) {\n\t\t\t\tawait this.progressService.withProgress(\n\t\t\t\t\t{\n\t\t\t\t\t\tlocation: ProgressLocation.Notification,\n\t\t\t\t\t\ttitle: localize('installing extensions', \"Installing Extensions...\")\n\t\t\t\t\t},\n\t\t\t\t\t() => this.installExtensions(localExtensionsToInstall));\n\t\t\t\tthis.notificationService.info(localize('finished installing', \"Successfully installed extensions.\"));\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected abstract getQuickPickTitle(): string;\n\tprotected abstract getExtensionsToInstall(local: IExtension[]): IExtension[];\n\tprotected abstract installExtensions(extensions: IExtension[]): Promise<void>;\n}\n\nexport class InstallLocalExtensionsInRemoteAction extends AbstractInstallExtensionsInServerAction {\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IQuickInputService quickInputService: IQuickInputService,\n\t\t@IProgressService progressService: IProgressService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tsuper('workbench.extensions.actions.installLocalExtensionsInRemote', extensionsWorkbenchService, quickInputService, notificationService, progressService);\n\t}\n\n\toverride get label(): string {\n\t\tif (this.extensionManagementServerService && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\treturn localize('select and install local extensions', \"Install Local Extensions in '{0}'...\", this.extensionManagementServerService.remoteExtensionManagementServer.label);\n\t\t}\n\t\treturn '';\n\t}\n\n\tprotected getQuickPickTitle(): string {\n\t\treturn localize('install local extensions title', \"Install Local Extensions in '{0}'\", this.extensionManagementServerService.remoteExtensionManagementServer!.label);\n\t}\n\n\tprotected getExtensionsToInstall(local: IExtension[]): IExtension[] {\n\t\treturn local.filter(extension => {\n\t\t\tconst action = this.instantiationService.createInstance(RemoteInstallAction, true);\n\t\t\taction.extension = extension;\n\t\t\treturn action.enabled;\n\t\t});\n\t}\n\n\tprotected async installExtensions(localExtensionsToInstall: IExtension[]): Promise<void> {\n\t\tconst galleryExtensions: IGalleryExtension[] = [];\n\t\tconst vsixs: URI[] = [];\n\t\tawait Promises.settled(localExtensionsToInstall.map(async extension => {\n\t\t\tif (this.extensionGalleryService.isEnabled()) {\n\t\t\t\tconst gallery = await this.extensionGalleryService.getCompatibleExtension(extension.identifier, extension.version);\n\t\t\t\tif (gallery) {\n\t\t\t\t\tgalleryExtensions.push(gallery);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst vsix = await this.extensionManagementServerService.localExtensionManagementServer!.extensionManagementService.zip(extension.local!);\n\t\t\tvsixs.push(vsix);\n\t\t}));\n\n\t\tawait Promises.settled(galleryExtensions.map(gallery => this.extensionManagementServerService.remoteExtensionManagementServer!.extensionManagementService.installFromGallery(gallery)));\n\t\tawait Promises.settled(vsixs.map(vsix => this.extensionManagementServerService.remoteExtensionManagementServer!.extensionManagementService.install(vsix)));\n\t}\n}\n\nexport class InstallRemoteExtensionsInLocalAction extends AbstractInstallExtensionsInServerAction {\n\n\tconstructor(\n\t\tid: string,\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IQuickInputService quickInputService: IQuickInputService,\n\t\t@IProgressService progressService: IProgressService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t) {\n\t\tsuper(id, extensionsWorkbenchService, quickInputService, notificationService, progressService);\n\t}\n\n\toverride get label(): string {\n\t\treturn localize('select and install remote extensions', \"Install Remote Extensions Locally...\");\n\t}\n\n\tprotected getQuickPickTitle(): string {\n\t\treturn localize('install remote extensions', \"Install Remote Extensions Locally\");\n\t}\n\n\tprotected getExtensionsToInstall(local: IExtension[]): IExtension[] {\n\t\treturn local.filter(extension =>\n\t\t\textension.type === ExtensionType.User && extension.server !== this.extensionManagementServerService.localExtensionManagementServer\n\t\t\t&& !this.extensionsWorkbenchService.installed.some(e => e.server === this.extensionManagementServerService.localExtensionManagementServer && areSameExtensions(e.identifier, extension.identifier)));\n\t}\n\n\tprotected async installExtensions(extensions: IExtension[]): Promise<void> {\n\t\tconst galleryExtensions: IGalleryExtension[] = [];\n\t\tconst vsixs: URI[] = [];\n\t\tawait Promises.settled(extensions.map(async extension => {\n\t\t\tif (this.extensionGalleryService.isEnabled()) {\n\t\t\t\tconst gallery = await this.extensionGalleryService.getCompatibleExtension(extension.identifier, extension.version);\n\t\t\t\tif (gallery) {\n\t\t\t\t\tgalleryExtensions.push(gallery);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst vsix = await this.extensionManagementServerService.remoteExtensionManagementServer!.extensionManagementService.zip(extension.local!);\n\t\t\tvsixs.push(vsix);\n\t\t}));\n\n\t\tawait Promises.settled(galleryExtensions.map(gallery => this.extensionManagementServerService.localExtensionManagementServer!.extensionManagementService.installFromGallery(gallery)));\n\t\tawait Promises.settled(vsixs.map(vsix => this.extensionManagementServerService.localExtensionManagementServer!.extensionManagementService.install(vsix)));\n\t}\n}\n\nCommandsRegistry.registerCommand('workbench.extensions.action.showExtensionsForLanguage', function (accessor: ServicesAccessor, fileExtension: string) {\n\tconst viewletService = accessor.get(IViewletService);\n\n\treturn viewletService.openViewlet(VIEWLET_ID, true)\n\t\t.then(viewlet => viewlet?.getViewPaneContainer() as IExtensionsViewPaneContainer)\n\t\t.then(viewlet => {\n\t\t\tviewlet.search(`ext:${fileExtension.replace(/^\\./, '')}`);\n\t\t\tviewlet.focus();\n\t\t});\n});\n\nCommandsRegistry.registerCommand('workbench.extensions.action.showExtensionsWithIds', function (accessor: ServicesAccessor, extensionIds: string[]) {\n\tconst viewletService = accessor.get(IViewletService);\n\n\treturn viewletService.openViewlet(VIEWLET_ID, true)\n\t\t.then(viewlet => viewlet?.getViewPaneContainer() as IExtensionsViewPaneContainer)\n\t\t.then(viewlet => {\n\t\t\tconst query = extensionIds\n\t\t\t\t.map(id => `@id:${id}`)\n\t\t\t\t.join(' ');\n\t\t\tviewlet.search(query);\n\t\t\tviewlet.focus();\n\t\t});\n});\n\nexport const extensionButtonProminentBackground = registerColor('extensionButton.prominentBackground', {\n\tdark: buttonBackground,\n\tlight: buttonBackground,\n\thc: null\n}, localize('extensionButtonProminentBackground', \"Button background color for actions extension that stand out (e.g. install button).\"));\n\nexport const extensionButtonProminentForeground = registerColor('extensionButton.prominentForeground', {\n\tdark: buttonForeground,\n\tlight: buttonForeground,\n\thc: null\n}, localize('extensionButtonProminentForeground', \"Button foreground color for actions extension that stand out (e.g. install button).\"));\n\nexport const extensionButtonProminentHoverBackground = registerColor('extensionButton.prominentHoverBackground', {\n\tdark: buttonHoverBackground,\n\tlight: buttonHoverBackground,\n\thc: null\n}, localize('extensionButtonProminentHoverBackground', \"Button background hover color for actions extension that stand out (e.g. install button).\"));\n\nregisterThemingParticipant((theme: IColorTheme, collector: ICssStyleCollector) => {\n\tconst foregroundColor = theme.getColor(foreground);\n\tif (foregroundColor) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item .action-label.extension-action.built-in-status { border-color: ${foregroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item .action-label.extension-action.built-in-status { border-color: ${foregroundColor}; }`);\n\t}\n\n\tconst buttonBackgroundColor = theme.getColor(buttonBackground);\n\tif (buttonBackgroundColor) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item .action-label.extension-action.label { background-color: ${buttonBackgroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item .action-label.extension-action.label { background-color: ${buttonBackgroundColor}; }`);\n\t}\n\n\tconst buttonForegroundColor = theme.getColor(buttonForeground);\n\tif (buttonForegroundColor) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item .action-label.extension-action.label { color: ${buttonForegroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item .action-label.extension-action.label { color: ${buttonForegroundColor}; }`);\n\t}\n\n\tconst buttonHoverBackgroundColor = theme.getColor(buttonHoverBackground);\n\tif (buttonHoverBackgroundColor) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item:hover .action-label.extension-action.label { background-color: ${buttonHoverBackgroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item:hover .action-label.extension-action.label { background-color: ${buttonHoverBackgroundColor}; }`);\n\t}\n\n\tconst extensionButtonProminentBackgroundColor = theme.getColor(extensionButtonProminentBackground);\n\tif (extensionButtonProminentBackground) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item .action-label.extension-action.label.prominent { background-color: ${extensionButtonProminentBackgroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item .action-label.extension-action.label.prominent { background-color: ${extensionButtonProminentBackgroundColor}; }`);\n\t}\n\n\tconst extensionButtonProminentForegroundColor = theme.getColor(extensionButtonProminentForeground);\n\tif (extensionButtonProminentForeground) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item .action-label.extension-action.label.prominent { color: ${extensionButtonProminentForegroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item .action-label.extension-action.label.prominent { color: ${extensionButtonProminentForegroundColor}; }`);\n\t}\n\n\tconst extensionButtonProminentHoverBackgroundColor = theme.getColor(extensionButtonProminentHoverBackground);\n\tif (extensionButtonProminentHoverBackground) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item:hover .action-label.extension-action.label.prominent { background-color: ${extensionButtonProminentHoverBackgroundColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item:hover .action-label.extension-action.label.prominent { background-color: ${extensionButtonProminentHoverBackgroundColor}; }`);\n\t}\n\n\tconst contrastBorderColor = theme.getColor(contrastBorder);\n\tif (contrastBorderColor) {\n\t\tcollector.addRule(`.extension-list-item .monaco-action-bar .action-item .action-label.extension-action:not(.disabled) { border: 1px solid ${contrastBorderColor}; }`);\n\t\tcollector.addRule(`.extension-editor .monaco-action-bar .action-item .action-label.extension-action:not(.disabled) { border: 1px solid ${contrastBorderColor}; }`);\n\t}\n});\n"]}