{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionsViewlet.ts"],"names":[],"mappings":"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","file":"extensionsViewlet.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/extensionsViewlet';\nimport { localize } from 'vs/nls';\nimport { timeout, Delayer, Promises } from 'vs/base/common/async';\nimport { createErrorWithActions, isPromiseCanceledError } from 'vs/base/common/errors';\nimport { IWorkbenchContribution } from 'vs/workbench/common/contributions';\nimport { Disposable, MutableDisposable } from 'vs/base/common/lifecycle';\nimport { Event } from 'vs/base/common/event';\nimport { Action } from 'vs/base/common/actions';\nimport { IViewlet } from 'vs/workbench/common/viewlet';\nimport { IViewletService } from 'vs/workbench/services/viewlet/browser/viewlet';\nimport { append, $, Dimension, hide, show } from 'vs/base/browser/dom';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { IExtensionsWorkbenchService, IExtensionsViewPaneContainer, VIEWLET_ID, CloseExtensionDetailsOnViewChangeKey, INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID, DefaultViewsContext, ExtensionsSortByContext, WORKSPACE_RECOMMENDATIONS_VIEW_ID } from '../common/extensions';\nimport { InstallLocalExtensionsInRemoteAction, InstallRemoteExtensionsInLocalAction } from 'vs/workbench/contrib/extensions/browser/extensionsActions';\nimport { IExtensionManagementService } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IWorkbenchExtensionEnablementService, IExtensionManagementServerService, IExtensionManagementServer } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { ExtensionsInput } from 'vs/workbench/contrib/extensions/common/extensionsInput';\nimport { ExtensionsListView, EnabledExtensionsView, DisabledExtensionsView, RecommendedExtensionsView, WorkspaceRecommendedExtensionsView, BuiltInFeatureExtensionsView, BuiltInThemesExtensionsView, BuiltInProgrammingLanguageExtensionsView, ServerInstalledExtensionsView, DefaultRecommendedExtensionsView, TrustRequiredOnStartExtensionsView, TrustRequiredOnDemandExtensionsView } from 'vs/workbench/contrib/extensions/browser/extensionsViews';\nimport { IProgressService, ProgressLocation } from 'vs/platform/progress/common/progress';\nimport { IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport Severity from 'vs/base/common/severity';\nimport { IActivityService, NumberBadge } from 'vs/workbench/services/activity/common/activity';\nimport { IThemeService, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { IViewsRegistry, IViewDescriptor, Extensions, ViewContainer, IViewDescriptorService, IAddedViewDescriptorRef } from 'vs/workbench/common/views';\nimport { IStorageService, StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { IContextKeyService, ContextKeyExpr, RawContextKey, IContextKey, ContextKeyEqualsExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { getMaliciousExtensionsSet } from 'vs/platform/extensionManagement/common/extensionManagementUtil';\nimport { ILogService } from 'vs/platform/log/common/log';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IHostService } from 'vs/workbench/services/host/browser/host';\nimport { IWorkbenchLayoutService } from 'vs/workbench/services/layout/browser/layoutService';\nimport { ViewPaneContainer } from 'vs/workbench/browser/parts/views/viewPaneContainer';\nimport { ViewPane } from 'vs/workbench/browser/parts/views/viewPane';\nimport { Query } from 'vs/workbench/contrib/extensions/common/extensionQuery';\nimport { SuggestEnabledInput, attachSuggestEnabledInputBoxStyler } from 'vs/workbench/contrib/codeEditor/browser/suggestEnabledInput/suggestEnabledInput';\nimport { alert } from 'vs/base/browser/ui/aria/aria';\nimport { ExtensionType } from 'vs/platform/extensions/common/extensions';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { MementoObject } from 'vs/workbench/common/memento';\nimport { SyncDescriptor } from 'vs/platform/instantiation/common/descriptors';\nimport { IPreferencesService } from 'vs/workbench/services/preferences/common/preferences';\nimport { DragAndDropObserver } from 'vs/workbench/browser/dnd';\nimport { URI } from 'vs/base/common/uri';\nimport { SIDE_BAR_DRAG_AND_DROP_BACKGROUND } from 'vs/workbench/common/theme';\nimport { IWorkbenchEnvironmentService } from 'vs/workbench/services/environment/common/environmentService';\nimport { WorkbenchStateContext } from 'vs/workbench/browser/contextkeys';\nimport { ICommandService } from 'vs/platform/commands/common/commands';\nimport { textLinkForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { isWeb } from 'vs/base/common/platform';\nimport { installLocalInRemoteIcon } from 'vs/workbench/contrib/extensions/browser/extensionsIcons';\nimport { registerAction2, Action2, MenuId } from 'vs/platform/actions/common/actions';\n\nconst SearchMarketplaceExtensionsContext = new RawContextKey<boolean>('searchMarketplaceExtensions', false);\nconst SearchIntalledExtensionsContext = new RawContextKey<boolean>('searchInstalledExtensions', false);\nconst SearchOutdatedExtensionsContext = new RawContextKey<boolean>('searchOutdatedExtensions', false);\nconst SearchEnabledExtensionsContext = new RawContextKey<boolean>('searchEnabledExtensions', false);\nconst SearchDisabledExtensionsContext = new RawContextKey<boolean>('searchDisabledExtensions', false);\nconst HasInstalledExtensionsContext = new RawContextKey<boolean>('hasInstalledExtensions', true);\nconst HasInstalledWebExtensionsContext = new RawContextKey<boolean>('hasInstalledWebExtensions', false);\nconst BuiltInExtensionsContext = new RawContextKey<boolean>('builtInExtensions', false);\nconst SearchBuiltInExtensionsContext = new RawContextKey<boolean>('searchBuiltInExtensions', false);\nconst TrustRequiredExtensionsContext = new RawContextKey<boolean>('trustRequiredExtensions', false);\nconst SearchTrustRequiredExtensionsContext = new RawContextKey<boolean>('searchTrustRequiredExtensions', false);\nconst RecommendedExtensionsContext = new RawContextKey<boolean>('recommendedExtensions', false);\n\nexport class ExtensionsViewletViewsContribution implements IWorkbenchContribution {\n\n\tprivate readonly container: ViewContainer;\n\n\tconstructor(\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService\n\t) {\n\t\tthis.container = viewDescriptorService.getViewContainerById(VIEWLET_ID)!;\n\t\tthis.registerViews();\n\t}\n\n\tprivate registerViews(): void {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/* Default views */\n\t\tviewDescriptors.push(...this.createDefaultExtensionsViewDescriptors());\n\n\t\t/* Search views */\n\t\tviewDescriptors.push(...this.createSearchExtensionsViewDescriptors());\n\n\t\t/* Recommendations views */\n\t\tviewDescriptors.push(...this.createRecommendedExtensionsViewDescriptors());\n\n\t\t/* Built-in extensions views */\n\t\tviewDescriptors.push(...this.createBuiltinExtensionsViewDescriptors());\n\n\t\t/* Trust Required extensions views */\n\t\tviewDescriptors.push(...this.createTrustRequiredExtensionsViewDescriptors());\n\n\t\tRegistry.as<IViewsRegistry>(Extensions.ViewsRegistry).registerViews(viewDescriptors, this.container);\n\t}\n\n\tprivate createDefaultExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/*\n\t\t * Default installed extensions views - Shows all user installed extensions.\n\t\t */\n\t\tconst servers: IExtensionManagementServer[] = [];\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.localExtensionManagementServer);\n\t\t}\n\t\tif (this.extensionManagementServerService.webExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.webExtensionManagementServer);\n\t\t}\n\t\tif (this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.remoteExtensionManagementServer);\n\t\t}\n\t\tconst getViewName = (viewTitle: string, server: IExtensionManagementServer): string => {\n\t\t\tif (servers.length > 1) {\n\t\t\t\t// In Web, use view title as is for remote server, when web extension server is enabled and no web extensions are installed\n\t\t\t\tif (isWeb && server === this.extensionManagementServerService.remoteExtensionManagementServer &&\n\t\t\t\t\tthis.extensionManagementServerService.webExtensionManagementServer && !this.contextKeyService.getContextKeyValue<boolean>('hasInstalledWebExtensions')) {\n\t\t\t\t\treturn viewTitle;\n\t\t\t\t}\n\t\t\t\treturn `${server.label} - ${viewTitle}`;\n\t\t\t}\n\t\t\treturn viewTitle;\n\t\t};\n\t\tlet installedWebExtensionsContextChangeEvent = Event.None;\n\t\tif (this.extensionManagementServerService.webExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tconst interestingContextKeys = new Set();\n\t\t\tinterestingContextKeys.add('hasInstalledWebExtensions');\n\t\t\tinstalledWebExtensionsContextChangeEvent = Event.filter(this.contextKeyService.onDidChangeContext, e => e.affectsSome(interestingContextKeys));\n\t\t}\n\t\tconst serverLabelChangeEvent = Event.any(this.labelService.onDidChangeFormatters, installedWebExtensionsContextChangeEvent);\n\t\tfor (const server of servers) {\n\t\t\tconst getInstalledViewName = (): string => getViewName(localize('installed', \"Installed\"), server);\n\t\t\tconst onDidChangeTitle = Event.map<void, string>(serverLabelChangeEvent, () => getInstalledViewName());\n\t\t\tconst id = servers.length > 1 ? `workbench.views.extensions.${server.id}.installed` : `workbench.views.extensions.installed`;\n\t\t\tconst isWebServer = server === this.extensionManagementServerService.webExtensionManagementServer;\n\t\t\tif (!isWebServer) {\n\t\t\t\t/* Empty installed extensions view */\n\t\t\t\tviewDescriptors.push({\n\t\t\t\t\tid: `${id}.empty`,\n\t\t\t\t\tget name() { return getInstalledViewName(); },\n\t\t\t\t\tweight: 100,\n\t\t\t\t\torder: 1,\n\t\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.not('hasInstalledExtensions')),\n\t\t\t\t\t/* Empty installed extensions view shall have fixed height */\n\t\t\t\t\tctorDescriptor: new SyncDescriptor(ServerInstalledExtensionsView, [{ server, fixedHeight: true, onDidChangeTitle }]),\n\t\t\t\t\t/* Empty installed extensions views shall not be allowed to hidden */\n\t\t\t\t\tcanToggleVisibility: false\n\t\t\t\t});\n\t\t\t}\n\t\t\t/* Installed extensions view */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid,\n\t\t\t\tget name() { return getInstalledViewName(); },\n\t\t\t\tweight: 100,\n\t\t\t\torder: 1,\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, isWebServer ? ContextKeyExpr.has('hasInstalledWebExtensions') : ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\tctorDescriptor: new SyncDescriptor(ServerInstalledExtensionsView, [{ server, onDidChangeTitle }]),\n\t\t\t\t/* Installed extensions views shall not be allowed to hidden when there are more than one server */\n\t\t\t\tcanToggleVisibility: servers.length === 1\n\t\t\t});\n\n\t\t\tif (server === this.extensionManagementServerService.remoteExtensionManagementServer && this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\t\tregisterAction2(class InstallLocalExtensionsInRemoteAction2 extends Action2 {\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper({\n\t\t\t\t\t\t\tid: 'workbench.extensions.installLocalExtensions',\n\t\t\t\t\t\t\tget title() { return localize('select and install local extensions', \"Install Local Extensions in '{0}'...\", server.label); },\n\t\t\t\t\t\t\tcategory: localize({ key: 'remote', comment: ['Remote as in remote machine'] }, \"Remote\"),\n\t\t\t\t\t\t\ticon: installLocalInRemoteIcon,\n\t\t\t\t\t\t\tf1: true,\n\t\t\t\t\t\t\tmenu: {\n\t\t\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\t\t\twhen: ContextKeyEqualsExpr.create('view', id),\n\t\t\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\t\treturn accessor.get(IInstantiationService).createInstance(InstallLocalExtensionsInRemoteAction).run();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tregisterAction2(class InstallRemoteExtensionsInLocalAction2 extends Action2 {\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper({\n\t\t\t\t\t\tid: 'workbench.extensions.actions.installLocalExtensionsInRemote',\n\t\t\t\t\t\ttitle: { value: localize('install remote in local', \"Install Remote Extensions Locally...\"), original: 'Install Remote Extensions Locally...' },\n\t\t\t\t\t\tcategory: localize({ key: 'remote', comment: ['Remote as in remote machine'] }, \"Remote\"),\n\t\t\t\t\t\tf1: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\treturn accessor.get(IInstantiationService).createInstance(InstallRemoteExtensionsInLocalAction, 'workbench.extensions.actions.installLocalExtensionsInRemote').run();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Default popular extensions view\n\t\t * Separate view for popular extensions required as we need to show popular and recommended sections\n\t\t * in the default view when there is no search text, and user has no installed extensions.\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.popular',\n\t\t\tname: localize('popularExtensions', \"Popular\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.not('hasInstalledExtensions')),\n\t\t\tweight: 60,\n\t\t\torder: 2,\n\t\t\tcanToggleVisibility: false\n\t\t});\n\n\t\t/*\n\t\t * Default recommended extensions view\n\t\t * When user has installed extensions, this is shown along with the views for enabled & disabled extensions\n\t\t * When user has no installed extensions, this is shown along with the view for popular extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'extensions.recommendedList',\n\t\t\tname: localize('recommendedExtensions', \"Recommended\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DefaultRecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.not('config.extensions.showRecommendationsOnlyOnDemand')),\n\t\t\tweight: 40,\n\t\t\torder: 3,\n\t\t\tcanToggleVisibility: true\n\t\t});\n\n\t\t/* Installed views shall be default in multi server window  */\n\t\tif (servers.length === 1) {\n\t\t\t/*\n\t\t\t * Default enabled extensions view - Shows all user installed enabled extensions.\n\t\t\t * Hidden by default\n\t\t\t */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid: 'workbench.views.extensions.enabled',\n\t\t\t\tname: localize('enabledExtensions', \"Enabled\"),\n\t\t\t\tctorDescriptor: new SyncDescriptor(EnabledExtensionsView, [{}]),\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\thideByDefault: true,\n\t\t\t\tweight: 40,\n\t\t\t\torder: 4,\n\t\t\t\tcanToggleVisibility: true\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Default disabled extensions view - Shows all disabled extensions.\n\t\t\t * Hidden by default\n\t\t\t */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid: 'workbench.views.extensions.disabled',\n\t\t\t\tname: localize('disabledExtensions', \"Disabled\"),\n\t\t\t\tctorDescriptor: new SyncDescriptor(DisabledExtensionsView, [{}]),\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\thideByDefault: true,\n\t\t\t\tweight: 10,\n\t\t\t\torder: 5,\n\t\t\t\tcanToggleVisibility: true\n\t\t\t});\n\n\t\t}\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createSearchExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/*\n\t\t * View used for searching Marketplace\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.marketplace',\n\t\t\tname: localize('marketPlace', \"Marketplace\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchMarketplaceExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching all installed extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchInstalled',\n\t\t\tname: localize('installed', \"Installed\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchInstalledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching enabled extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchEnabled',\n\t\t\tname: localize('enabled', \"Enabled\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchEnabledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching disabled extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchDisabled',\n\t\t\tname: localize('disabled', \"Disabled\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchDisabledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching outdated extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchOutdated',\n\t\t\tname: localize('outdated', \"Outdated\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchOutdatedExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching builtin extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchBuiltin',\n\t\t\tname: localize('builtin', \"Builtin\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchBuiltInExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching trustRequired extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchTrustRequired',\n\t\t\tname: localize('trustRequired', \"Trust Required\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchTrustRequiredExtensions')),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createRecommendedExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: WORKSPACE_RECOMMENDATIONS_VIEW_ID,\n\t\t\tname: localize('workspaceRecommendedExtensions', \"Workspace Recommendations\"),\n\t\t\tctorDescriptor: new SyncDescriptor(WorkspaceRecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('recommendedExtensions'), WorkbenchStateContext.notEqualsTo('empty')),\n\t\t\torder: 1\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.otherRecommendations',\n\t\t\tname: localize('otherRecommendedExtensions', \"Other Recommendations\"),\n\t\t\tctorDescriptor: new SyncDescriptor(RecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('recommendedExtensions'),\n\t\t\torder: 2\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createBuiltinExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinFeatureExtensions',\n\t\t\tname: localize('builtinFeatureExtensions', \"Features\"),\n\t\t\tctorDescriptor: new SyncDescriptor(BuiltInFeatureExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinThemeExtensions',\n\t\t\tname: localize('builtInThemesExtensions', \"Themes\"),\n\t\t\tctorDescriptor: new SyncDescriptor(BuiltInThemesExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinProgrammingLanguageExtensions',\n\t\t\tname: localize('builtinProgrammingLanguageExtensions', \"Programming Languages\"),\n\t\t\tctorDescriptor: new SyncDescriptor(BuiltInProgrammingLanguageExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createTrustRequiredExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.trustRequiredOnStartExtensions',\n\t\t\tname: localize('trustRequiredOnStartExtensions', \"Trust Required To Enable\"),\n\t\t\tctorDescriptor: new SyncDescriptor(TrustRequiredOnStartExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('trustRequiredExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.trustRequiredOnDemandExtensions',\n\t\t\tname: localize('trustRequiredOnDemandExtensions', \"Trust Required For Features\"),\n\t\t\tctorDescriptor: new SyncDescriptor(TrustRequiredOnDemandExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('trustRequiredExtensions'),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n}\n\nexport class ExtensionsViewPaneContainer extends ViewPaneContainer implements IExtensionsViewPaneContainer {\n\n\tprivate defaultViewsContextKey: IContextKey<boolean>;\n\tprivate sortByContextKey: IContextKey<string>;\n\tprivate searchMarketplaceExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchInstalledExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchOutdatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchEnabledExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchDisabledExtensionsContextKey: IContextKey<boolean>;\n\tprivate hasInstalledExtensionsContextKey: IContextKey<boolean>;\n\tprivate hasInstalledWebExtensionsContextKey: IContextKey<boolean>;\n\tprivate builtInExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchBuiltInExtensionsContextKey: IContextKey<boolean>;\n\tprivate trustRequiredExtensionsContextKey: IContextKey<boolean>;\n\tprivate searchTrustRequiredExtensionsContextKey: IContextKey<boolean>;\n\tprivate recommendedExtensionsContextKey: IContextKey<boolean>;\n\n\tprivate searchDelayer: Delayer<void>;\n\tprivate root: HTMLElement | undefined;\n\tprivate searchBox: SuggestEnabledInput | undefined;\n\tprivate readonly searchViewletState: MementoObject;\n\n\tconstructor(\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IViewletService private readonly viewletService: IViewletService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@ICommandService private readonly commandService: ICommandService\n\t) {\n\t\tsuper(VIEWLET_ID, { mergeViewWithContainerWhenSingleView: true }, instantiationService, configurationService, layoutService, contextMenuService, telemetryService, extensionService, themeService, storageService, contextService, viewDescriptorService);\n\n\t\tthis.searchDelayer = new Delayer(500);\n\t\tthis.defaultViewsContextKey = DefaultViewsContext.bindTo(contextKeyService);\n\t\tthis.sortByContextKey = ExtensionsSortByContext.bindTo(contextKeyService);\n\t\tthis.searchMarketplaceExtensionsContextKey = SearchMarketplaceExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchInstalledExtensionsContextKey = SearchIntalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.trustRequiredExtensionsContextKey = TrustRequiredExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchTrustRequiredExtensionsContextKey = SearchTrustRequiredExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchOutdatedExtensionsContextKey = SearchOutdatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchEnabledExtensionsContextKey = SearchEnabledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchDisabledExtensionsContextKey = SearchDisabledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.hasInstalledExtensionsContextKey = HasInstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.hasInstalledWebExtensionsContextKey = HasInstalledWebExtensionsContext.bindTo(contextKeyService);\n\t\tthis.builtInExtensionsContextKey = BuiltInExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchBuiltInExtensionsContextKey = SearchBuiltInExtensionsContext.bindTo(contextKeyService);\n\t\tthis.recommendedExtensionsContextKey = RecommendedExtensionsContext.bindTo(contextKeyService);\n\t\tthis._register(this.viewletService.onDidViewletOpen(this.onViewletOpen, this));\n\t\tthis.searchViewletState = this.getMemento(StorageScope.WORKSPACE, StorageTarget.USER);\n\n\t\tif (extensionManagementServerService.webExtensionManagementServer) {\n\t\t\tthis._register(extensionsWorkbenchService.onChange(() => {\n\t\t\t\t// show installed web extensions view only when it is not visible\n\t\t\t\t// Do not hide the view automatically when it is visible\n\t\t\t\tif (!this.hasInstalledWebExtensionsContextKey.get()) {\n\t\t\t\t\tthis.updateInstalledWebExtensionsContext();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tget searchValue(): string | undefined {\n\t\treturn this.searchBox?.getValue();\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tparent.classList.add('extensions-viewlet');\n\t\tthis.root = parent;\n\n\t\tconst overlay = append(this.root, $('.overlay'));\n\t\tconst overlayBackgroundColor = this.getColor(SIDE_BAR_DRAG_AND_DROP_BACKGROUND) ?? '';\n\t\toverlay.style.backgroundColor = overlayBackgroundColor;\n\t\thide(overlay);\n\n\t\t// NOTE@coder this UI element helps users understand the extension marketplace divergence\n\t\tconst extensionHelperLocalStorageKey = 'coder.extension-help-message';\n\n\t\tif (localStorage.getItem(extensionHelperLocalStorageKey) === null) {\n\t\t\tconst helperHeader = append(this.root, $('.header'));\n\t\t\thelperHeader.id = 'codeServerMarketplaceHelper';\n\t\t\thelperHeader.style.height = 'auto';\n\t\t\thelperHeader.style.fontWeight = '600';\n\t\t\thelperHeader.style.padding = 'padding: 5px 16px';\n\t\t\thelperHeader.style.position = 'relative';\n\n\t\t\tconst helperText = append(helperHeader, $('div'));\n\n\t\t\t// We call this function because it gives us access to the current theme\n\t\t\t// Then we can apply the link color to the links in the helper header\n\t\t\tregisterThemingParticipant((theme) => {\n\t\t\t\tconst linkColor = theme.getColor(textLinkForeground);\n\t\t\t\thelperText.innerHTML = `\n\t\t\t\t<div style=\"margin-bottom: 8px;\">\n\t\t\t\t<p style=\"margin-bottom: 0; display: flex; align-items: center\"><span class=\"codicon codicon-warning\" style=\"margin-right: 2px; color: #C4A103\"></span>WARNING</p>\n\t\t\t\t<p style=\"margin-top: 0; margin-bottom: 4px\">\n\t\t\t\tThese extensions are not official. Find additional open-source extensions\n\t\t\t\t<a style=\"color: ${linkColor}\" href=\"https://open-vsx.org/\" target=\"_blank\">here</a>.\n\t\t\t\tSee <a style=\"color: ${linkColor}\" href=\"https://github.com/cdr/code-server/blob/master/docs/FAQ.md#differences-compared-to-vs-code\" target=\"_blank\">docs</a>.\n\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t\t\t`;\n\t\t\t});\n\n\t\t\tconst dismiss = append(helperHeader, $('span'));\n\t\t\tdismiss.innerHTML = 'Dismiss';\n\t\t\tdismiss.style.display = 'block';\n\t\t\tdismiss.style.textAlign = 'right';\n\t\t\tdismiss.style.cursor = 'pointer';\n\t\t\tdismiss.tabIndex = 0;\n\t\t\tdismiss.onclick = () => {\n\t\t\t\thelperHeader.remove();\n\t\t\t\tlocalStorage.setItem(extensionHelperLocalStorageKey, 'viewed');\n\t\t\t};\n\t\t}\n\n\t\tconst header = append(this.root, $('.header'));\n\t\tconst placeholder = localize('searchExtensions', \"Search Extensions in Marketplace\");\n\t\tconst searchValue = this.searchViewletState['query.value'] ? this.searchViewletState['query.value'] : '';\n\n\t\tthis.searchBox = this._register(this.instantiationService.createInstance(SuggestEnabledInput, `${VIEWLET_ID}.searchbox`, header, {\n\t\t\ttriggerCharacters: ['@'],\n\t\t\tsortKey: (item: string) => {\n\t\t\t\tif (item.indexOf(':') === -1) { return 'a'; }\n\t\t\t\telse if (/ext:/.test(item) || /id:/.test(item) || /tag:/.test(item)) { return 'b'; }\n\t\t\t\telse if (/sort:/.test(item)) { return 'c'; }\n\t\t\t\telse { return 'd'; }\n\t\t\t},\n\t\t\tprovideResults: (query: string) => Query.suggestions(query)\n\t\t}, placeholder, 'extensions:searchinput', { placeholderText: placeholder, value: searchValue }));\n\n\t\tthis.updateInstalledExtensionsContexts();\n\t\tif (this.searchBox.getValue()) {\n\t\t\tthis.triggerSearch();\n\t\t}\n\n\t\tthis._register(attachSuggestEnabledInputBoxStyler(this.searchBox, this.themeService));\n\n\t\tthis._register(this.searchBox.onInputDidChange(() => {\n\t\t\tthis.sortByContextKey.set(Query.parse(this.searchBox!.getValue() || '').sortBy);\n\t\t\tthis.triggerSearch();\n\t\t}, this));\n\n\t\tthis._register(this.searchBox.onShouldFocusResults(() => this.focusListView(), this));\n\n\t\tthis._register(this.onDidChangeVisibility(visible => {\n\t\t\tif (visible) {\n\t\t\t\tthis.searchBox!.focus();\n\t\t\t}\n\t\t}));\n\n\t\t// Register DragAndDrop support\n\t\tthis._register(new DragAndDropObserver(this.root, {\n\t\t\tonDragEnd: (e: DragEvent) => undefined,\n\t\t\tonDragEnter: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\tshow(overlay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragLeave: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\thide(overlay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\te.dataTransfer!.dropEffect = 'copy';\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDrop: async (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\thide(overlay);\n\n\t\t\t\t\tif (e.dataTransfer && e.dataTransfer.files.length > 0) {\n\t\t\t\t\t\tlet vsixPaths: URI[] = [];\n\t\t\t\t\t\tfor (let index = 0; index < e.dataTransfer.files.length; index++) {\n\t\t\t\t\t\t\tconst path = e.dataTransfer.files.item(index)!.path;\n\t\t\t\t\t\t\tif (path.indexOf('.vsix') !== -1) {\n\t\t\t\t\t\t\t\tvsixPaths.push(URI.file(path));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Attempt to install the extension(s)\n\t\t\t\t\t\t\tawait this.commandService.executeCommand(INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID, vsixPaths);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\t\tthis.notificationService.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tsuper.create(append(this.root, $('.extensions')));\n\t}\n\n\toverride focus(): void {\n\t\tif (this.searchBox) {\n\t\t\tthis.searchBox.focus();\n\t\t}\n\t}\n\n\toverride layout(dimension: Dimension): void {\n\t\tif (this.root) {\n\t\t\tthis.root.classList.toggle('narrow', dimension.width <= 300);\n\t\t}\n\t\tif (this.searchBox) {\n\t\t\tthis.searchBox.layout(new Dimension(dimension.width - 34, 20));\n\t\t}\n\t\tsuper.layout(new Dimension(dimension.width, dimension.height - 41));\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\treturn 400;\n\t}\n\n\tsearch(value: string): void {\n\t\tif (this.searchBox && this.searchBox.getValue() !== value) {\n\t\t\tthis.searchBox.setValue(value);\n\t\t}\n\t}\n\n\tasync refresh(): Promise<void> {\n\t\tawait this.updateInstalledExtensionsContexts();\n\t\tthis.doSearch(true);\n\t}\n\n\tprivate async updateInstalledExtensionsContexts(): Promise<void> {\n\t\tconst result = await this.extensionsWorkbenchService.queryLocal();\n\t\tthis.hasInstalledExtensionsContextKey.set(result.some(r => !r.isBuiltin));\n\t\tthis.updateInstalledWebExtensionsContext();\n\t}\n\n\tprivate updateInstalledWebExtensionsContext(): void {\n\t\tthis.hasInstalledWebExtensionsContextKey.set(!!this.extensionManagementServerService.webExtensionManagementServer && this.extensionsWorkbenchService.installed.some(r => r.server === this.extensionManagementServerService.webExtensionManagementServer));\n\t}\n\n\tprivate triggerSearch(): void {\n\t\tthis.searchDelayer.trigger(() => this.doSearch(), this.searchBox && this.searchBox.getValue() ? 500 : 0).then(undefined, err => this.onError(err));\n\t}\n\n\tprivate normalizedQuery(): string {\n\t\treturn this.searchBox\n\t\t\t? this.searchBox.getValue()\n\t\t\t\t.replace(/@category/g, 'category')\n\t\t\t\t.replace(/@tag:/g, 'tag:')\n\t\t\t\t.replace(/@ext:/g, 'ext:')\n\t\t\t\t.replace(/@featured/g, 'featured')\n\t\t\t\t.replace(/@web/g, 'tag:\"__web_extension\"')\n\t\t\t\t.replace(/@popular/g, '@sort:installs')\n\t\t\t: '';\n\t}\n\n\toverride saveState(): void {\n\t\tconst value = this.searchBox ? this.searchBox.getValue() : '';\n\t\tif (ExtensionsListView.isLocalExtensionsQuery(value)) {\n\t\t\tthis.searchViewletState['query.value'] = value;\n\t\t} else {\n\t\t\tthis.searchViewletState['query.value'] = '';\n\t\t}\n\t\tsuper.saveState();\n\t}\n\n\tprivate doSearch(refresh?: boolean): Promise<void> {\n\t\tconst value = this.normalizedQuery();\n\t\tconst isRecommendedExtensionsQuery = ExtensionsListView.isRecommendedExtensionsQuery(value);\n\t\tthis.searchInstalledExtensionsContextKey.set(ExtensionsListView.isInstalledExtensionsQuery(value));\n\t\tthis.searchOutdatedExtensionsContextKey.set(ExtensionsListView.isOutdatedExtensionsQuery(value));\n\t\tthis.searchEnabledExtensionsContextKey.set(ExtensionsListView.isEnabledExtensionsQuery(value));\n\t\tthis.searchDisabledExtensionsContextKey.set(ExtensionsListView.isDisabledExtensionsQuery(value));\n\t\tthis.searchBuiltInExtensionsContextKey.set(ExtensionsListView.isSearchBuiltInExtensionsQuery(value));\n\t\tthis.trustRequiredExtensionsContextKey.set(ExtensionsListView.isTrustRequiredExtensionsQuery(value));\n\t\tthis.searchTrustRequiredExtensionsContextKey.set(ExtensionsListView.isSearchTrustRequiredExtensionsQuery(value));\n\t\tthis.builtInExtensionsContextKey.set(ExtensionsListView.isBuiltInExtensionsQuery(value));\n\t\tthis.recommendedExtensionsContextKey.set(isRecommendedExtensionsQuery);\n\t\tthis.searchMarketplaceExtensionsContextKey.set(!!value && !ExtensionsListView.isLocalExtensionsQuery(value) && !isRecommendedExtensionsQuery);\n\t\tthis.defaultViewsContextKey.set(!value);\n\t\tthis.updateInstalledWebExtensionsContext();\n\n\t\treturn this.progress(Promise.all(this.panes.map(view =>\n\t\t\t(<ExtensionsListView>view).show(this.normalizedQuery(), refresh)\n\t\t\t\t.then(model => this.alertSearchResult(model.length, view.id))\n\t\t))).then(() => undefined);\n\t}\n\n\tprotected override onDidAddViewDescriptors(added: IAddedViewDescriptorRef[]): ViewPane[] {\n\t\tconst addedViews = super.onDidAddViewDescriptors(added);\n\t\tthis.progress(Promise.all(addedViews.map(addedView =>\n\t\t\t(<ExtensionsListView>addedView).show(this.normalizedQuery())\n\t\t\t\t.then(model => this.alertSearchResult(model.length, addedView.id))\n\t\t)));\n\t\treturn addedViews;\n\t}\n\n\tprivate alertSearchResult(count: number, viewId: string): void {\n\t\tconst view = this.viewContainerModel.visibleViewDescriptors.find(view => view.id === viewId);\n\t\tswitch (count) {\n\t\t\tcase 0:\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tif (view) {\n\t\t\t\t\talert(localize('extensionFoundInSection', \"1 extension found in the {0} section.\", view.name));\n\t\t\t\t} else {\n\t\t\t\t\talert(localize('extensionFound', \"1 extension found.\"));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (view) {\n\t\t\t\t\talert(localize('extensionsFoundInSection', \"{0} extensions found in the {1} section.\", count, view.name));\n\t\t\t\t} else {\n\t\t\t\t\talert(localize('extensionsFound', \"{0} extensions found.\", count));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate count(): number {\n\t\treturn this.panes.reduce((count, view) => (<ExtensionsListView>view).count() + count, 0);\n\t}\n\n\tprivate focusListView(): void {\n\t\tif (this.count() > 0) {\n\t\t\tthis.panes[0].focus();\n\t\t}\n\t}\n\n\tprivate onViewletOpen(viewlet: IViewlet): void {\n\t\tif (!viewlet || viewlet.getId() === VIEWLET_ID) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.configurationService.getValue<boolean>(CloseExtensionDetailsOnViewChangeKey)) {\n\t\t\tconst promises = this.editorGroupService.groups.map(group => {\n\t\t\t\tconst editors = group.editors.filter(input => input instanceof ExtensionsInput);\n\n\t\t\t\treturn group.closeEditors(editors);\n\t\t\t});\n\n\t\t\tPromise.all(promises);\n\t\t}\n\t}\n\n\tprivate progress<T>(promise: Promise<T>): Promise<T> {\n\t\treturn this.progressService.withProgress({ location: ProgressLocation.Extensions }, () => promise);\n\t}\n\n\tprivate onError(err: Error): void {\n\t\tif (isPromiseCanceledError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = err && err.message || '';\n\n\t\tif (/ECONNREFUSED/.test(message)) {\n\t\t\tconst error = createErrorWithActions(localize('suggestProxyError', \"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.\"), {\n\t\t\t\tactions: [\n\t\t\t\t\tnew Action('open user settings', localize('open user settings', \"Open User Settings\"), undefined, true, () => this.preferencesService.openGlobalSettings())\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n\n\tprivate isSupportedDragElement(e: DragEvent): boolean {\n\t\tif (e.dataTransfer) {\n\t\t\tconst typesLowerCase = e.dataTransfer.types.map(t => t.toLocaleLowerCase());\n\t\t\treturn typesLowerCase.indexOf('files') !== -1;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport class StatusUpdater extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly badgeHandle = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\t@IActivityService private readonly activityService: IActivityService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService\n\t) {\n\t\tsuper();\n\t\tthis._register(extensionsWorkbenchService.onChange(this.onServiceChange, this));\n\t}\n\n\tprivate onServiceChange(): void {\n\t\tthis.badgeHandle.clear();\n\n\t\tconst outdated = this.extensionsWorkbenchService.outdated.reduce((r, e) => r + (this.extensionEnablementService.isEnabled(e.local!) ? 1 : 0), 0);\n\t\tif (outdated > 0) {\n\t\t\tconst badge = new NumberBadge(outdated, n => localize('outdatedExtensions', '{0} Outdated Extensions', n));\n\t\t\tthis.badgeHandle.value = this.activityService.showViewContainerActivity(VIEWLET_ID, { badge, clazz: 'extensions-badge count-badge' });\n\t\t}\n\t}\n}\n\nexport class MaliciousExtensionChecker implements IWorkbenchContribution {\n\n\tconstructor(\n\t\t@IExtensionManagementService private readonly extensionsManagementService: IExtensionManagementService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService\n\t) {\n\t\tif (!this.environmentService.disableExtensions) {\n\t\t\tthis.loopCheckForMaliciousExtensions();\n\t\t}\n\t}\n\n\tprivate loopCheckForMaliciousExtensions(): void {\n\t\tthis.checkForMaliciousExtensions()\n\t\t\t.then(() => timeout(1000 * 60 * 5)) // every five minutes\n\t\t\t.then(() => this.loopCheckForMaliciousExtensions());\n\t}\n\n\tprivate checkForMaliciousExtensions(): Promise<void> {\n\t\treturn this.extensionsManagementService.getExtensionsReport().then(report => {\n\t\t\tconst maliciousSet = getMaliciousExtensionsSet(report);\n\n\t\t\treturn this.extensionsManagementService.getInstalled(ExtensionType.User).then(installed => {\n\t\t\t\tconst maliciousExtensions = installed\n\t\t\t\t\t.filter(e => maliciousSet.has(e.identifier.id));\n\n\t\t\t\tif (maliciousExtensions.length) {\n\t\t\t\t\treturn Promises.settled(maliciousExtensions.map(e => this.extensionsManagementService.uninstall(e).then(() => {\n\t\t\t\t\t\tthis.notificationService.prompt(\n\t\t\t\t\t\t\tSeverity.Warning,\n\t\t\t\t\t\t\tlocalize('malicious warning', \"We have uninstalled '{0}' which was reported to be problematic.\", e.identifier.id),\n\t\t\t\t\t\t\t[{\n\t\t\t\t\t\t\t\tlabel: localize('reloadNow', \"Reload Now\"),\n\t\t\t\t\t\t\t\trun: () => this.hostService.reload()\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t{ sticky: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t})));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve(undefined);\n\t\t\t\t}\n\t\t\t}).then(() => undefined);\n\t\t}, err => this.logService.error(err));\n\t}\n}\n"]}