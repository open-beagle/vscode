{"version":3,"file":"extensionQuery.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/extensions/test/common/extensionQuery.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;IAKhG,KAAK,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC7B,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE;YAClB,IAAI,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAC5B,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAErC,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC7B,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACzC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAErC,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACvC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;YAC/C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAErC,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC7B,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACzC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAErC,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC9B,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAErC,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YAClC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAErC,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;YAC5C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACvC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;YACzC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;YAC9C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YAC5C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAE7C,KAAK,GAAG,sBAAK,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;YACpD,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE;YACrB,IAAI,KAAK,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACvC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC;YAE9C,KAAK,GAAG,IAAI,sBAAK,CAAC,aAAa,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,aAAa,CAAC,CAAC;YAEpD,KAAK,GAAG,IAAI,sBAAK,CAAC,aAAa,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC;YAE9C,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,gBAAgB,CAAC,CAAC;YAEvD,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,gBAAgB,CAAC,CAAC;YAEvD,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,gBAAgB,CAAC,CAAC;YAEvD,KAAK,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YAC3C,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,sBAAsB,CAAC,CAAC;YAE7D,KAAK,GAAG,IAAI,sBAAK,CAAC,eAAe,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACnD,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,sBAAsB,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE;YACpB,IAAI,KAAK,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACvC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,aAAa,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,aAAa,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACtC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YAC3C,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAExB,KAAK,GAAG,IAAI,sBAAK,CAAC,eAAe,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YACnD,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;YACnB,IAAI,MAAM,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACxC,IAAI,MAAM,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACxC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAE9B,MAAM,GAAG,IAAI,sBAAK,CAAC,aAAa,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAC1C,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAE/B,MAAM,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YAC5C,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAE/B,MAAM,GAAG,IAAI,sBAAK,CAAC,OAAO,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;YAC5C,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE;YACzB,sBAAK,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,iBAAiB,CAAC,CAAC;YACjE,sBAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,eAAe,CAAC,CAAC;YAEtE,sBAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,8BAA8B,CAAC,CAAC;YACpF,sBAAK,CAAC,WAAW,CAAC,6BAA6B,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,uBAAuB,CAAC,CAAC;QAC5F,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { Query } from 'vs/workbench/contrib/extensions/common/extensionQuery';\n\nsuite('Extension query', () => {\n\ttest('parse', () => {\n\t\tlet query = Query.parse('');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, '');\n\n\t\tquery = Query.parse('hello');\n\t\tassert.strictEqual(query.value, 'hello');\n\t\tassert.strictEqual(query.sortBy, '');\n\n\t\tquery = Query.parse('   hello world ');\n\t\tassert.strictEqual(query.value, 'hello world');\n\t\tassert.strictEqual(query.sortBy, '');\n\n\t\tquery = Query.parse('@sort');\n\t\tassert.strictEqual(query.value, '@sort');\n\t\tassert.strictEqual(query.sortBy, '');\n\n\t\tquery = Query.parse('@sort:');\n\t\tassert.strictEqual(query.value, '@sort:');\n\t\tassert.strictEqual(query.sortBy, '');\n\n\t\tquery = Query.parse('  @sort:  ');\n\t\tassert.strictEqual(query.value, '@sort:');\n\t\tassert.strictEqual(query.sortBy, '');\n\n\t\tquery = Query.parse('@sort:installs');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('   @sort:installs   ');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('@sort:installs-');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('@sort:installs-foo');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('@sort:installs');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('@sort:installs');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('vs @sort:installs');\n\t\tassert.strictEqual(query.value, 'vs');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('vs @sort:installs code');\n\t\tassert.strictEqual(query.value, 'vs  code');\n\t\tassert.strictEqual(query.sortBy, 'installs');\n\n\t\tquery = Query.parse('@sort:installs @sort:ratings');\n\t\tassert.strictEqual(query.value, '');\n\t\tassert.strictEqual(query.sortBy, 'ratings');\n\t});\n\n\ttest('toString', () => {\n\t\tlet query = new Query('hello', '', '');\n\t\tassert.strictEqual(query.toString(), 'hello');\n\n\t\tquery = new Query('hello world', '', '');\n\t\tassert.strictEqual(query.toString(), 'hello world');\n\n\t\tquery = new Query('  hello    ', '', '');\n\t\tassert.strictEqual(query.toString(), 'hello');\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert.strictEqual(query.toString(), '@sort:installs');\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert.strictEqual(query.toString(), '@sort:installs');\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert.strictEqual(query.toString(), '@sort:installs');\n\n\t\tquery = new Query('hello', 'installs', '');\n\t\tassert.strictEqual(query.toString(), 'hello @sort:installs');\n\n\t\tquery = new Query('  hello      ', 'installs', '');\n\t\tassert.strictEqual(query.toString(), 'hello @sort:installs');\n\t});\n\n\ttest('isValid', () => {\n\t\tlet query = new Query('hello', '', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('hello world', '', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('  hello    ', '', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('', 'installs', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('hello', 'installs', '');\n\t\tassert(query.isValid());\n\n\t\tquery = new Query('  hello      ', 'installs', '');\n\t\tassert(query.isValid());\n\t});\n\n\ttest('equals', () => {\n\t\tlet query1 = new Query('hello', '', '');\n\t\tlet query2 = new Query('hello', '', '');\n\t\tassert(query1.equals(query2));\n\n\t\tquery2 = new Query('hello world', '', '');\n\t\tassert(!query1.equals(query2));\n\n\t\tquery2 = new Query('hello', 'installs', '');\n\t\tassert(!query1.equals(query2));\n\n\t\tquery2 = new Query('hello', 'installs', '');\n\t\tassert(!query1.equals(query2));\n\t});\n\n\ttest('autocomplete', () => {\n\t\tQuery.suggestions('@sort:in').some(x => x === '@sort:installs ');\n\t\tQuery.suggestions('@sort:installs').every(x => x !== '@sort:rating ');\n\n\t\tQuery.suggestions('@category:blah').some(x => x === '@category:\"extension packs\" ');\n\t\tQuery.suggestions('@category:\"extension packs\"').every(x => x !== '@category:formatters ');\n\t});\n});\n"]}