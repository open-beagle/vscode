{"version":3,"file":"extensionsViews.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/extensions/test/electron-browser/extensionsViews.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { generateUuid } from 'vs/base/common/uuid';\nimport { ExtensionsListView } from 'vs/workbench/contrib/extensions/browser/extensionsViews';\nimport { TestInstantiationService } from 'vs/platform/instantiation/test/common/instantiationServiceMock';\nimport { IExtensionsWorkbenchService } from 'vs/workbench/contrib/extensions/common/extensions';\nimport { ExtensionsWorkbenchService } from 'vs/workbench/contrib/extensions/browser/extensionsWorkbenchService';\nimport {\n\tIExtensionManagementService, IExtensionGalleryService, ILocalExtension, IGalleryExtension, IQueryOptions,\n\tDidInstallExtensionEvent, DidUninstallExtensionEvent, InstallExtensionEvent, IExtensionIdentifier, SortBy\n} from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IWorkbenchExtensionEnablementService, EnablementState, IExtensionManagementServerService, IExtensionManagementServer } from 'vs/workbench/services/extensionManagement/common/extensionManagement';\nimport { IExtensionRecommendationsService, ExtensionRecommendationReason } from 'vs/workbench/services/extensionRecommendations/common/extensionRecommendations';\nimport { getGalleryExtensionId } from 'vs/platform/extensionManagement/common/extensionManagementUtil';\nimport { TestExtensionEnablementService } from 'vs/workbench/services/extensionManagement/test/browser/extensionEnablementService.test';\nimport { ExtensionGalleryService } from 'vs/platform/extensionManagement/common/extensionGalleryService';\nimport { IURLService } from 'vs/platform/url/common/url';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { IPager } from 'vs/base/common/paging';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { NullTelemetryService } from 'vs/platform/telemetry/common/telemetryUtils';\nimport { IExtensionService, toExtensionDescription } from 'vs/workbench/services/extensions/common/extensions';\nimport { IWorkspaceContextService } from 'vs/platform/workspace/common/workspace';\nimport { TestMenuService } from 'vs/workbench/test/browser/workbenchTestServices';\nimport { TestSharedProcessService } from 'vs/workbench/test/electron-browser/workbenchTestServices';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { ILogService, NullLogService } from 'vs/platform/log/common/log';\nimport { NativeURLService } from 'vs/platform/url/common/urlService';\nimport { URI } from 'vs/base/common/uri';\nimport { TestConfigurationService } from 'vs/platform/configuration/test/common/testConfigurationService';\nimport { SinonStub } from 'sinon';\nimport { IExperimentService, ExperimentState, ExperimentActionType, ExperimentService } from 'vs/workbench/contrib/experiments/common/experimentService';\nimport { IRemoteAgentService } from 'vs/workbench/services/remote/common/remoteAgentService';\nimport { RemoteAgentService } from 'vs/workbench/services/remote/electron-sandbox/remoteAgentServiceImpl';\nimport { ExtensionType, IExtension, IExtensionDescription } from 'vs/platform/extensions/common/extensions';\nimport { ISharedProcessService } from 'vs/platform/ipc/electron-sandbox/services';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { MockContextKeyService } from 'vs/platform/keybinding/test/common/mockKeybindingService';\nimport { IMenuService } from 'vs/platform/actions/common/actions';\nimport { TestContextService } from 'vs/workbench/test/common/workbenchTestServices';\nimport { IViewDescriptorService, ViewContainerLocation } from 'vs/workbench/common/views';\nimport { Schemas } from 'vs/base/common/network';\n\nsuite('ExtensionsListView Tests', () => {\n\n\tlet instantiationService: TestInstantiationService;\n\tlet testableView: ExtensionsListView;\n\tlet installEvent: Emitter<InstallExtensionEvent>,\n\t\tdidInstallEvent: Emitter<DidInstallExtensionEvent>,\n\t\tuninstallEvent: Emitter<IExtensionIdentifier>,\n\t\tdidUninstallEvent: Emitter<DidUninstallExtensionEvent>;\n\n\tconst localEnabledTheme = aLocalExtension('first-enabled-extension', { categories: ['Themes', 'random'] });\n\tconst localEnabledLanguage = aLocalExtension('second-enabled-extension', { categories: ['Programming languages'] });\n\tconst localDisabledTheme = aLocalExtension('first-disabled-extension', { categories: ['themes'] });\n\tconst localDisabledLanguage = aLocalExtension('second-disabled-extension', { categories: ['programming languages'] });\n\tconst localRandom = aLocalExtension('random-enabled-extension', { categories: ['random'] });\n\tconst builtInTheme = aLocalExtension('my-theme', { contributes: { themes: ['my-theme'] } }, { type: ExtensionType.System });\n\tconst builtInBasic = aLocalExtension('my-lang', { contributes: { grammars: [{ language: 'my-language' }] } }, { type: ExtensionType.System });\n\n\tconst workspaceRecommendationA = aGalleryExtension('workspace-recommendation-A');\n\tconst workspaceRecommendationB = aGalleryExtension('workspace-recommendation-B');\n\tconst configBasedRecommendationA = aGalleryExtension('configbased-recommendation-A');\n\tconst configBasedRecommendationB = aGalleryExtension('configbased-recommendation-B');\n\tconst fileBasedRecommendationA = aGalleryExtension('filebased-recommendation-A');\n\tconst fileBasedRecommendationB = aGalleryExtension('filebased-recommendation-B');\n\tconst otherRecommendationA = aGalleryExtension('other-recommendation-A');\n\n\tsuiteSetup(() => {\n\t\tinstallEvent = new Emitter<InstallExtensionEvent>();\n\t\tdidInstallEvent = new Emitter<DidInstallExtensionEvent>();\n\t\tuninstallEvent = new Emitter<IExtensionIdentifier>();\n\t\tdidUninstallEvent = new Emitter<DidUninstallExtensionEvent>();\n\n\t\tinstantiationService = new TestInstantiationService();\n\t\tinstantiationService.stub(ITelemetryService, NullTelemetryService);\n\t\tinstantiationService.stub(ILogService, NullLogService);\n\n\t\tinstantiationService.stub(IWorkspaceContextService, new TestContextService());\n\t\tinstantiationService.stub(IConfigurationService, new TestConfigurationService());\n\n\t\tinstantiationService.stub(IExtensionGalleryService, ExtensionGalleryService);\n\t\tinstantiationService.stub(ISharedProcessService, TestSharedProcessService);\n\t\tinstantiationService.stub(IExperimentService, ExperimentService);\n\n\t\tinstantiationService.stub(IExtensionManagementService, <Partial<IExtensionManagementService>>{\n\t\t\tonInstallExtension: installEvent.event,\n\t\t\tonDidInstallExtension: didInstallEvent.event,\n\t\t\tonUninstallExtension: uninstallEvent.event,\n\t\t\tonDidUninstallExtension: didUninstallEvent.event,\n\t\t\tasync getInstalled() { return []; },\n\t\t\tasync canInstall() { return true; },\n\t\t\tasync getExtensionsReport() { return []; },\n\t\t});\n\t\tinstantiationService.stub(IRemoteAgentService, RemoteAgentService);\n\t\tinstantiationService.stub(IContextKeyService, new MockContextKeyService());\n\t\tinstantiationService.stub(IMenuService, new TestMenuService());\n\n\t\tconst localExtensionManagementServer = { extensionManagementService: instantiationService.get(IExtensionManagementService), label: 'local', id: 'vscode-local' };\n\t\tinstantiationService.stub(IExtensionManagementServerService, <Partial<IExtensionManagementServerService>>{\n\t\t\tget localExtensionManagementServer(): IExtensionManagementServer {\n\t\t\t\treturn localExtensionManagementServer;\n\t\t\t},\n\t\t\tgetExtensionManagementServer(extension: IExtension): IExtensionManagementServer | null {\n\t\t\t\tif (extension.location.scheme === Schemas.file) {\n\t\t\t\t\treturn localExtensionManagementServer;\n\t\t\t\t}\n\t\t\t\tthrow new Error(`Invalid Extension ${extension.location}`);\n\t\t\t}\n\t\t});\n\n\t\tinstantiationService.stub(IWorkbenchExtensionEnablementService, new TestExtensionEnablementService(instantiationService));\n\n\t\tconst reasons: { [key: string]: any } = {};\n\t\treasons[workspaceRecommendationA.identifier.id] = { reasonId: ExtensionRecommendationReason.Workspace };\n\t\treasons[workspaceRecommendationB.identifier.id] = { reasonId: ExtensionRecommendationReason.Workspace };\n\t\treasons[fileBasedRecommendationA.identifier.id] = { reasonId: ExtensionRecommendationReason.File };\n\t\treasons[fileBasedRecommendationB.identifier.id] = { reasonId: ExtensionRecommendationReason.File };\n\t\treasons[otherRecommendationA.identifier.id] = { reasonId: ExtensionRecommendationReason.Executable };\n\t\treasons[configBasedRecommendationA.identifier.id] = { reasonId: ExtensionRecommendationReason.WorkspaceConfig };\n\t\tinstantiationService.stub(IExtensionRecommendationsService, <Partial<IExtensionRecommendationsService>>{\n\t\t\tgetWorkspaceRecommendations() {\n\t\t\t\treturn Promise.resolve([\n\t\t\t\t\tworkspaceRecommendationA.identifier.id,\n\t\t\t\t\tworkspaceRecommendationB.identifier.id]);\n\t\t\t},\n\t\t\tgetConfigBasedRecommendations() {\n\t\t\t\treturn Promise.resolve({\n\t\t\t\t\timportant: [configBasedRecommendationA.identifier.id],\n\t\t\t\t\tothers: [configBasedRecommendationB.identifier.id],\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetImportantRecommendations(): Promise<string[]> {\n\t\t\t\treturn Promise.resolve([]);\n\t\t\t},\n\t\t\tgetFileBasedRecommendations() {\n\t\t\t\treturn [\n\t\t\t\t\tfileBasedRecommendationA.identifier.id,\n\t\t\t\t\tfileBasedRecommendationB.identifier.id\n\t\t\t\t];\n\t\t\t},\n\t\t\tgetOtherRecommendations() {\n\t\t\t\treturn Promise.resolve([\n\t\t\t\t\tconfigBasedRecommendationB.identifier.id,\n\t\t\t\t\totherRecommendationA.identifier.id\n\t\t\t\t]);\n\t\t\t},\n\t\t\tgetAllRecommendationsWithReason() {\n\t\t\t\treturn reasons;\n\t\t\t}\n\t\t});\n\t\tinstantiationService.stub(IURLService, NativeURLService);\n\t});\n\n\tsetup(async () => {\n\t\tinstantiationService.stubPromise(IExtensionManagementService, 'getInstalled', [localEnabledTheme, localEnabledLanguage, localRandom, localDisabledTheme, localDisabledLanguage, builtInTheme, builtInBasic]);\n\t\tinstantiationService.stubPromise(IExtensionManagementService, 'getExtensionsReport', []);\n\t\tinstantiationService.stubPromise(IExtensionGalleryService, 'query', aPage());\n\t\tinstantiationService.stubPromise(IExperimentService, 'getExperimentsByType', []);\n\n\t\tinstantiationService.stub(IViewDescriptorService, {\n\t\t\tgetViewLocationById(): ViewContainerLocation {\n\t\t\t\treturn ViewContainerLocation.Sidebar;\n\t\t\t},\n\t\t\tonDidChangeLocation: Event.None\n\t\t});\n\n\t\tinstantiationService.stub(IExtensionService, <Partial<IExtensionService>>{\n\t\t\tonDidChangeExtensions: Event.None,\n\t\t\tgetExtensions: (): Promise<IExtensionDescription[]> => {\n\t\t\t\treturn Promise.resolve([\n\t\t\t\t\ttoExtensionDescription(localEnabledTheme),\n\t\t\t\t\ttoExtensionDescription(localEnabledLanguage),\n\t\t\t\t\ttoExtensionDescription(localRandom),\n\t\t\t\t\ttoExtensionDescription(builtInTheme),\n\t\t\t\t\ttoExtensionDescription(builtInBasic)\n\t\t\t\t]);\n\t\t\t}\n\t\t});\n\t\tawait (<TestExtensionEnablementService>instantiationService.get(IWorkbenchExtensionEnablementService)).setEnablement([localDisabledTheme], EnablementState.DisabledGlobally);\n\t\tawait (<TestExtensionEnablementService>instantiationService.get(IWorkbenchExtensionEnablementService)).setEnablement([localDisabledLanguage], EnablementState.DisabledGlobally);\n\n\t\tinstantiationService.set(IExtensionsWorkbenchService, instantiationService.createInstance(ExtensionsWorkbenchService));\n\t\ttestableView = instantiationService.createInstance(ExtensionsListView, {}, {});\n\t});\n\n\tteardown(() => {\n\t\t(<ExtensionsWorkbenchService>instantiationService.get(IExtensionsWorkbenchService)).dispose();\n\t\ttestableView.dispose();\n\t});\n\n\ttest('Test query types', () => {\n\t\tassert.strictEqual(ExtensionsListView.isBuiltInExtensionsQuery('@builtin'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@installed'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@enabled'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@disabled'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@outdated'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@installed searchText'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@enabled searchText'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@disabled searchText'), true);\n\t\tassert.strictEqual(ExtensionsListView.isLocalExtensionsQuery('@outdated searchText'), true);\n\t});\n\n\ttest('Test empty query equates to sort by install count', () => {\n\t\tconst target = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage());\n\t\treturn testableView.show('').then(() => {\n\t\t\tassert.ok(target.calledOnce);\n\t\t\tconst options: IQueryOptions = target.args[0][0];\n\t\t\tassert.strictEqual(options.sortBy, SortBy.InstallCount);\n\t\t});\n\t});\n\n\ttest('Test non empty query without sort doesnt use sortBy', () => {\n\t\tconst target = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage());\n\t\treturn testableView.show('some extension').then(() => {\n\t\t\tassert.ok(target.calledOnce);\n\t\t\tconst options: IQueryOptions = target.args[0][0];\n\t\t\tassert.strictEqual(options.sortBy, undefined);\n\t\t});\n\t});\n\n\ttest('Test query with sort uses sortBy', () => {\n\t\tconst target = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage());\n\t\treturn testableView.show('some extension @sort:rating').then(() => {\n\t\t\tassert.ok(target.calledOnce);\n\t\t\tconst options: IQueryOptions = target.args[0][0];\n\t\t\tassert.strictEqual(options.sortBy, SortBy.WeightedRating);\n\t\t});\n\t});\n\n\ttest('Test installed query results', async () => {\n\t\tawait testableView.show('@installed').then(result => {\n\t\t\tassert.strictEqual(result.length, 5, 'Unexpected number of results for @installed query');\n\t\t\tconst actual = [result.get(0).name, result.get(1).name, result.get(2).name, result.get(3).name, result.get(4).name].sort();\n\t\t\tconst expected = [localDisabledTheme.manifest.name, localEnabledTheme.manifest.name, localRandom.manifest.name, localDisabledLanguage.manifest.name, localEnabledLanguage.manifest.name];\n\t\t\tfor (let i = 0; i < result.length; i++) {\n\t\t\t\tassert.strictEqual(actual[i], expected[i], 'Unexpected extension for @installed query.');\n\t\t\t}\n\t\t});\n\n\t\tawait testableView.show('@installed first').then(result => {\n\t\t\tassert.strictEqual(result.length, 2, 'Unexpected number of results for @installed query');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @installed query with search text.');\n\t\t\tassert.strictEqual(result.get(1).name, localDisabledTheme.manifest.name, 'Unexpected extension for @installed query with search text.');\n\t\t});\n\n\t\tawait testableView.show('@disabled').then(result => {\n\t\t\tassert.strictEqual(result.length, 2, 'Unexpected number of results for @disabled query');\n\t\t\tassert.strictEqual(result.get(0).name, localDisabledTheme.manifest.name, 'Unexpected extension for @disabled query.');\n\t\t\tassert.strictEqual(result.get(1).name, localDisabledLanguage.manifest.name, 'Unexpected extension for @disabled query.');\n\t\t});\n\n\t\tawait testableView.show('@enabled').then(result => {\n\t\t\tassert.strictEqual(result.length, 3, 'Unexpected number of results for @enabled query');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @enabled query.');\n\t\t\tassert.strictEqual(result.get(1).name, localRandom.manifest.name, 'Unexpected extension for @enabled query.');\n\t\t\tassert.strictEqual(result.get(2).name, localEnabledLanguage.manifest.name, 'Unexpected extension for @enabled query.');\n\t\t});\n\n\t\tawait testableView.show('@builtin:themes').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @builtin:themes query');\n\t\t\tassert.strictEqual(result.get(0).name, builtInTheme.manifest.name, 'Unexpected extension for @builtin:themes query.');\n\t\t});\n\n\t\tawait testableView.show('@builtin:basics').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @builtin:basics query');\n\t\t\tassert.strictEqual(result.get(0).name, builtInBasic.manifest.name, 'Unexpected extension for @builtin:basics query.');\n\t\t});\n\n\t\tawait testableView.show('@builtin').then(result => {\n\t\t\tassert.strictEqual(result.length, 2, 'Unexpected number of results for @builtin query');\n\t\t\tassert.strictEqual(result.get(0).name, builtInBasic.manifest.name, 'Unexpected extension for @builtin query.');\n\t\t\tassert.strictEqual(result.get(1).name, builtInTheme.manifest.name, 'Unexpected extension for @builtin query.');\n\t\t});\n\n\t\tawait testableView.show('@builtin my-theme').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @builtin query');\n\t\t\tassert.strictEqual(result.get(0).name, builtInTheme.manifest.name, 'Unexpected extension for @builtin query.');\n\t\t});\n\t});\n\n\ttest('Test installed query with category', async () => {\n\t\tawait testableView.show('@installed category:themes').then(result => {\n\t\t\tassert.strictEqual(result.length, 2, 'Unexpected number of results for @installed query with category');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @installed query with category.');\n\t\t\tassert.strictEqual(result.get(1).name, localDisabledTheme.manifest.name, 'Unexpected extension for @installed query with category.');\n\t\t});\n\n\t\tawait testableView.show('@installed category:\"themes\"').then(result => {\n\t\t\tassert.strictEqual(result.length, 2, 'Unexpected number of results for @installed query with quoted category');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @installed query with quoted category.');\n\t\t\tassert.strictEqual(result.get(1).name, localDisabledTheme.manifest.name, 'Unexpected extension for @installed query with quoted category.');\n\t\t});\n\n\t\tawait testableView.show('@installed category:\"programming languages\"').then(result => {\n\t\t\tassert.strictEqual(result.length, 2, 'Unexpected number of results for @installed query with quoted category including space');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledLanguage.manifest.name, 'Unexpected extension for @installed query with quoted category including space.');\n\t\t\tassert.strictEqual(result.get(1).name, localDisabledLanguage.manifest.name, 'Unexpected extension for @installed query with quoted category inlcuding space.');\n\t\t});\n\n\t\tawait testableView.show('@installed category:themes category:random').then(result => {\n\t\t\tassert.strictEqual(result.length, 3, 'Unexpected number of results for @installed query with multiple category');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @installed query with multiple category.');\n\t\t\tassert.strictEqual(result.get(1).name, localRandom.manifest.name, 'Unexpected extension for @installed query with multiple category.');\n\t\t\tassert.strictEqual(result.get(2).name, localDisabledTheme.manifest.name, 'Unexpected extension for @installed query with multiple category.');\n\t\t});\n\n\t\tawait testableView.show('@enabled category:themes').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @enabled query with category');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @enabled query with category.');\n\t\t});\n\n\t\tawait testableView.show('@enabled category:\"themes\"').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @enabled query with quoted category');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledTheme.manifest.name, 'Unexpected extension for @enabled query with quoted category.');\n\t\t});\n\n\t\tawait testableView.show('@enabled category:\"programming languages\"').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @enabled query with quoted category inlcuding space');\n\t\t\tassert.strictEqual(result.get(0).name, localEnabledLanguage.manifest.name, 'Unexpected extension for @enabled query with quoted category including space.');\n\t\t});\n\n\t\tawait testableView.show('@disabled category:themes').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @disabled query with category');\n\t\t\tassert.strictEqual(result.get(0).name, localDisabledTheme.manifest.name, 'Unexpected extension for @disabled query with category.');\n\t\t});\n\n\t\tawait testableView.show('@disabled category:\"themes\"').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @disabled query with quoted category');\n\t\t\tassert.strictEqual(result.get(0).name, localDisabledTheme.manifest.name, 'Unexpected extension for @disabled query with quoted category.');\n\t\t});\n\n\t\tawait testableView.show('@disabled category:\"programming languages\"').then(result => {\n\t\t\tassert.strictEqual(result.length, 1, 'Unexpected number of results for @disabled query with quoted category inlcuding space');\n\t\t\tassert.strictEqual(result.get(0).name, localDisabledLanguage.manifest.name, 'Unexpected extension for @disabled query with quoted category including space.');\n\t\t});\n\t});\n\n\ttest('Test @recommended:workspace query', () => {\n\t\tconst workspaceRecommendedExtensions = [\n\t\t\tworkspaceRecommendationA,\n\t\t\tworkspaceRecommendationB,\n\t\t\tconfigBasedRecommendationA,\n\t\t];\n\t\tconst target = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...workspaceRecommendedExtensions));\n\n\t\treturn testableView.show('@recommended:workspace').then(result => {\n\t\t\tassert.ok(target.calledOnce);\n\t\t\tconst options: IQueryOptions = target.args[0][0];\n\t\t\tassert.strictEqual(options.names!.length, workspaceRecommendedExtensions.length);\n\t\t\tassert.strictEqual(result.length, workspaceRecommendedExtensions.length);\n\t\t\tfor (let i = 0; i < workspaceRecommendedExtensions.length; i++) {\n\t\t\t\tassert.strictEqual(options.names![i], workspaceRecommendedExtensions[i].identifier.id);\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, workspaceRecommendedExtensions[i].identifier.id);\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('Test @recommended query', () => {\n\t\tconst allRecommendedExtensions = [\n\t\t\tfileBasedRecommendationA,\n\t\t\tfileBasedRecommendationB,\n\t\t\tconfigBasedRecommendationB,\n\t\t\totherRecommendationA\n\t\t];\n\t\tconst target = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...allRecommendedExtensions));\n\n\t\treturn testableView.show('@recommended').then(result => {\n\t\t\tconst options: IQueryOptions = target.args[0][0];\n\n\t\t\tassert.ok(target.calledOnce);\n\t\t\tassert.strictEqual(options.names!.length, allRecommendedExtensions.length);\n\t\t\tassert.strictEqual(result.length, allRecommendedExtensions.length);\n\t\t\tfor (let i = 0; i < allRecommendedExtensions.length; i++) {\n\t\t\t\tassert.strictEqual(options.names![i], allRecommendedExtensions[i].identifier.id);\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, allRecommendedExtensions[i].identifier.id);\n\t\t\t}\n\t\t});\n\t});\n\n\n\ttest('Test @recommended:all query', () => {\n\t\tconst allRecommendedExtensions = [\n\t\t\tworkspaceRecommendationA,\n\t\t\tworkspaceRecommendationB,\n\t\t\tconfigBasedRecommendationA,\n\t\t\tfileBasedRecommendationA,\n\t\t\tfileBasedRecommendationB,\n\t\t\tconfigBasedRecommendationB,\n\t\t\totherRecommendationA,\n\t\t];\n\t\tconst target = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...allRecommendedExtensions));\n\n\t\treturn testableView.show('@recommended:all').then(result => {\n\t\t\tconst options: IQueryOptions = target.args[0][0];\n\n\t\t\tassert.ok(target.calledOnce);\n\t\t\tassert.strictEqual(options.names!.length, allRecommendedExtensions.length);\n\t\t\tassert.strictEqual(result.length, allRecommendedExtensions.length);\n\t\t\tfor (let i = 0; i < allRecommendedExtensions.length; i++) {\n\t\t\t\tassert.strictEqual(options.names![i], allRecommendedExtensions[i].identifier.id);\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, allRecommendedExtensions[i].identifier.id);\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('Test curated list experiment', () => {\n\t\tconst curatedList = [\n\t\t\tworkspaceRecommendationA,\n\t\t\tfileBasedRecommendationA\n\t\t];\n\t\tconst experimentTarget = <SinonStub>instantiationService.stubPromise(IExperimentService, 'getCuratedExtensionsList', curatedList.map(e => e.identifier.id));\n\t\tconst queryTarget = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...curatedList));\n\n\t\treturn testableView.show('curated:mykey').then(result => {\n\t\t\tconst curatedKey: string = experimentTarget.args[0][0];\n\t\t\tconst options: IQueryOptions = queryTarget.args[0][0];\n\n\t\t\tassert.ok(experimentTarget.calledOnce);\n\t\t\tassert.ok(queryTarget.calledOnce);\n\t\t\tassert.strictEqual(options.names!.length, curatedList.length);\n\t\t\tassert.strictEqual(result.length, curatedList.length);\n\t\t\tfor (let i = 0; i < curatedList.length; i++) {\n\t\t\t\tassert.strictEqual(options.names![i], curatedList[i].identifier.id);\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, curatedList[i].identifier.id);\n\t\t\t}\n\t\t\tassert.strictEqual(curatedKey, 'mykey');\n\t\t});\n\t});\n\n\ttest('Test search', () => {\n\t\tconst searchText = 'search-me';\n\t\tconst results = [\n\t\t\tfileBasedRecommendationA,\n\t\t\tworkspaceRecommendationA,\n\t\t\totherRecommendationA,\n\t\t\tworkspaceRecommendationB\n\t\t];\n\t\tconst queryTarget = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...results));\n\t\treturn testableView.show('search-me').then(result => {\n\t\t\tconst options: IQueryOptions = queryTarget.args[0][0];\n\n\t\t\tassert.ok(queryTarget.calledOnce);\n\t\t\tassert.strictEqual(options.text, searchText);\n\t\t\tassert.strictEqual(result.length, results.length);\n\t\t\tfor (let i = 0; i < results.length; i++) {\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, results[i].identifier.id);\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('Test preferred search experiment', () => {\n\t\tconst searchText = 'search-me';\n\t\tconst actual = [\n\t\t\tfileBasedRecommendationA,\n\t\t\tworkspaceRecommendationA,\n\t\t\totherRecommendationA,\n\t\t\tworkspaceRecommendationB\n\t\t];\n\t\tconst expected = [\n\t\t\tworkspaceRecommendationA,\n\t\t\tworkspaceRecommendationB,\n\t\t\tfileBasedRecommendationA,\n\t\t\totherRecommendationA\n\t\t];\n\n\t\tconst queryTarget = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...actual));\n\t\tconst experimentTarget = <SinonStub>instantiationService.stubPromise(IExperimentService, 'getExperimentsByType', [{\n\t\t\tid: 'someId',\n\t\t\tenabled: true,\n\t\t\tstate: ExperimentState.Run,\n\t\t\taction: {\n\t\t\t\ttype: ExperimentActionType.ExtensionSearchResults,\n\t\t\t\tproperties: {\n\t\t\t\t\tsearchText: 'search-me',\n\t\t\t\t\tpreferredResults: [\n\t\t\t\t\t\tworkspaceRecommendationA.identifier.id,\n\t\t\t\t\t\t'something-that-wasnt-in-first-page',\n\t\t\t\t\t\tworkspaceRecommendationB.identifier.id\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\ttestableView.dispose();\n\t\ttestableView = instantiationService.createInstance(ExtensionsListView, {}, {});\n\n\t\treturn testableView.show('search-me').then(result => {\n\t\t\tconst options: IQueryOptions = queryTarget.args[0][0];\n\n\t\t\tassert.ok(experimentTarget.calledOnce);\n\t\t\tassert.ok(queryTarget.calledOnce);\n\t\t\tassert.strictEqual(options.text, searchText);\n\t\t\tassert.strictEqual(result.length, expected.length);\n\t\t\tfor (let i = 0; i < expected.length; i++) {\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, expected[i].identifier.id);\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('Skip preferred search experiment when user defines sort order', () => {\n\t\tconst searchText = 'search-me';\n\t\tconst realResults = [\n\t\t\tfileBasedRecommendationA,\n\t\t\tworkspaceRecommendationA,\n\t\t\totherRecommendationA,\n\t\t\tworkspaceRecommendationB\n\t\t];\n\n\t\tconst queryTarget = <SinonStub>instantiationService.stubPromise(IExtensionGalleryService, 'query', aPage(...realResults));\n\n\t\ttestableView.dispose();\n\t\ttestableView = instantiationService.createInstance(ExtensionsListView, {}, {});\n\n\t\treturn testableView.show('search-me @sort:installs').then(result => {\n\t\t\tconst options: IQueryOptions = queryTarget.args[0][0];\n\n\t\t\tassert.ok(queryTarget.calledOnce);\n\t\t\tassert.strictEqual(options.text, searchText);\n\t\t\tassert.strictEqual(result.length, realResults.length);\n\t\t\tfor (let i = 0; i < realResults.length; i++) {\n\t\t\t\tassert.strictEqual(result.get(i).identifier.id, realResults[i].identifier.id);\n\t\t\t}\n\t\t});\n\t});\n\n\tfunction aLocalExtension(name: string = 'someext', manifest: any = {}, properties: any = {}): ILocalExtension {\n\t\tmanifest = { name, publisher: 'pub', version: '1.0.0', ...manifest };\n\t\tproperties = {\n\t\t\ttype: ExtensionType.User,\n\t\t\tlocation: URI.file(`pub.${name}`),\n\t\t\tidentifier: { id: getGalleryExtensionId(manifest.publisher, manifest.name) },\n\t\t\tmetadata: { id: getGalleryExtensionId(manifest.publisher, manifest.name), publisherId: manifest.publisher, publisherDisplayName: 'somename' },\n\t\t\t...properties\n\t\t};\n\t\tproperties.isBuiltin = properties.type === ExtensionType.System;\n\t\treturn <ILocalExtension>Object.create({ manifest, ...properties });\n\t}\n\n\tfunction aGalleryExtension(name: string, properties: any = {}, galleryExtensionProperties: any = {}, assets: any = {}): IGalleryExtension {\n\t\tconst galleryExtension = <IGalleryExtension>Object.create({ name, publisher: 'pub', version: '1.0.0', properties: {}, assets: {}, ...properties });\n\t\tgalleryExtension.properties = { ...galleryExtension.properties, dependencies: [], ...galleryExtensionProperties };\n\t\tgalleryExtension.assets = { ...galleryExtension.assets, ...assets };\n\t\tgalleryExtension.identifier = { id: getGalleryExtensionId(galleryExtension.publisher, galleryExtension.name), uuid: generateUuid() };\n\t\treturn <IGalleryExtension>galleryExtension;\n\t}\n\n\tfunction aPage<T>(...objects: T[]): IPager<T> {\n\t\treturn { firstPage: objects, total: objects.length, pageSize: objects.length, getPage: () => null! };\n\t}\n\n});\n\n"]}