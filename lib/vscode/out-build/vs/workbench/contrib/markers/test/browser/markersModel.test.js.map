{"version":3,"file":"markersModel.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/contrib/markers/test/browser/markersModel.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { URI } from 'vs/base/common/uri';\nimport { IMarker, MarkerSeverity, IRelatedInformation } from 'vs/platform/markers/common/markers';\nimport { MarkersModel, Marker, ResourceMarkers, RelatedInformation } from 'vs/workbench/contrib/markers/browser/markersModel';\nimport { groupBy } from 'vs/base/common/collections';\n\nclass TestMarkersModel extends MarkersModel {\n\n\tconstructor(markers: IMarker[]) {\n\t\tsuper();\n\n\t\tconst byResource = groupBy(markers, r => r.resource.toString());\n\n\t\tObject.keys(byResource).forEach(key => {\n\t\t\tconst markers = byResource[key];\n\t\t\tconst resource = markers[0].resource;\n\n\t\t\tthis.setResourceMarkers([[resource, markers]]);\n\t\t});\n\t}\n}\n\nsuite('MarkersModel Test', () => {\n\n\ttest('marker ids are unique', function () {\n\t\tconst marker1 = anErrorWithRange(3);\n\t\tconst marker2 = anErrorWithRange(3);\n\t\tconst marker3 = aWarningWithRange(3);\n\t\tconst marker4 = aWarningWithRange(3);\n\n\t\tconst testObject = new TestMarkersModel([marker1, marker2, marker3, marker4]);\n\t\tconst actuals = testObject.resourceMarkers[0].markers;\n\n\t\tassert.notStrictEqual(actuals[0].id, actuals[1].id);\n\t\tassert.notStrictEqual(actuals[0].id, actuals[2].id);\n\t\tassert.notStrictEqual(actuals[0].id, actuals[3].id);\n\t\tassert.notStrictEqual(actuals[1].id, actuals[2].id);\n\t\tassert.notStrictEqual(actuals[1].id, actuals[3].id);\n\t\tassert.notStrictEqual(actuals[2].id, actuals[3].id);\n\t});\n\n\ttest('sort palces resources with no errors at the end', function () {\n\t\tconst marker1 = aMarker('a/res1', MarkerSeverity.Warning);\n\t\tconst marker2 = aMarker('a/res2');\n\t\tconst marker3 = aMarker('res4');\n\t\tconst marker4 = aMarker('b/res3');\n\t\tconst marker5 = aMarker('res4');\n\t\tconst marker6 = aMarker('c/res2', MarkerSeverity.Info);\n\t\tconst testObject = new TestMarkersModel([marker1, marker2, marker3, marker4, marker5, marker6]);\n\n\t\tconst actuals = testObject.resourceMarkers;\n\n\t\tassert.strictEqual(5, actuals.length);\n\t\tassert.ok(compareResource(actuals[0], 'a/res2'));\n\t\tassert.ok(compareResource(actuals[1], 'b/res3'));\n\t\tassert.ok(compareResource(actuals[2], 'res4'));\n\t\tassert.ok(compareResource(actuals[3], 'a/res1'));\n\t\tassert.ok(compareResource(actuals[4], 'c/res2'));\n\t});\n\n\ttest('sort resources by file path', function () {\n\t\tconst marker1 = aMarker('a/res1');\n\t\tconst marker2 = aMarker('a/res2');\n\t\tconst marker3 = aMarker('res4');\n\t\tconst marker4 = aMarker('b/res3');\n\t\tconst marker5 = aMarker('res4');\n\t\tconst marker6 = aMarker('c/res2');\n\t\tconst testObject = new TestMarkersModel([marker1, marker2, marker3, marker4, marker5, marker6]);\n\n\t\tconst actuals = testObject.resourceMarkers;\n\n\t\tassert.strictEqual(5, actuals.length);\n\t\tassert.ok(compareResource(actuals[0], 'a/res1'));\n\t\tassert.ok(compareResource(actuals[1], 'a/res2'));\n\t\tassert.ok(compareResource(actuals[2], 'b/res3'));\n\t\tassert.ok(compareResource(actuals[3], 'c/res2'));\n\t\tassert.ok(compareResource(actuals[4], 'res4'));\n\t});\n\n\ttest('sort markers by severity, line and column', function () {\n\t\tconst marker1 = aWarningWithRange(8, 1, 9, 3);\n\t\tconst marker2 = aWarningWithRange(3);\n\t\tconst marker3 = anErrorWithRange(8, 1, 9, 3);\n\t\tconst marker4 = anIgnoreWithRange(5);\n\t\tconst marker5 = anInfoWithRange(8, 1, 8, 4, 'ab');\n\t\tconst marker6 = anErrorWithRange(3);\n\t\tconst marker7 = anErrorWithRange(5);\n\t\tconst marker8 = anInfoWithRange(5);\n\t\tconst marker9 = anErrorWithRange(8, 1, 8, 4, 'ab');\n\t\tconst marker10 = anErrorWithRange(10);\n\t\tconst marker11 = anErrorWithRange(8, 1, 8, 4, 'ba');\n\t\tconst marker12 = anIgnoreWithRange(3);\n\t\tconst marker13 = aWarningWithRange(5);\n\t\tconst marker14 = anErrorWithRange(4);\n\t\tconst marker15 = anErrorWithRange(8, 2, 8, 4);\n\t\tconst testObject = new TestMarkersModel([marker1, marker2, marker3, marker4, marker5, marker6, marker7, marker8, marker9, marker10, marker11, marker12, marker13, marker14, marker15]);\n\n\t\tconst actuals = testObject.resourceMarkers[0].markers;\n\n\t\tassert.strictEqual(actuals[0].marker, marker6);\n\t\tassert.strictEqual(actuals[1].marker, marker14);\n\t\tassert.strictEqual(actuals[2].marker, marker7);\n\t\tassert.strictEqual(actuals[3].marker, marker9);\n\t\tassert.strictEqual(actuals[4].marker, marker11);\n\t\tassert.strictEqual(actuals[5].marker, marker3);\n\t\tassert.strictEqual(actuals[6].marker, marker15);\n\t\tassert.strictEqual(actuals[7].marker, marker10);\n\t\tassert.strictEqual(actuals[8].marker, marker2);\n\t\tassert.strictEqual(actuals[9].marker, marker13);\n\t\tassert.strictEqual(actuals[10].marker, marker1);\n\t\tassert.strictEqual(actuals[11].marker, marker8);\n\t\tassert.strictEqual(actuals[12].marker, marker5);\n\t\tassert.strictEqual(actuals[13].marker, marker12);\n\t\tassert.strictEqual(actuals[14].marker, marker4);\n\t});\n\n\ttest('toString()', () => {\n\t\tlet marker = aMarker('a/res1');\n\t\tmarker.code = '1234';\n\t\tassert.strictEqual(JSON.stringify({ ...marker, resource: marker.resource.path }, null, '\\t'), new Marker('1', marker).toString());\n\n\t\tmarker = aMarker('a/res2', MarkerSeverity.Warning);\n\t\tassert.strictEqual(JSON.stringify({ ...marker, resource: marker.resource.path }, null, '\\t'), new Marker('2', marker).toString());\n\n\t\tmarker = aMarker('a/res2', MarkerSeverity.Info, 1, 2, 1, 8, 'Info', '');\n\t\tassert.strictEqual(JSON.stringify({ ...marker, resource: marker.resource.path }, null, '\\t'), new Marker('3', marker).toString());\n\n\t\tmarker = aMarker('a/res2', MarkerSeverity.Hint, 1, 2, 1, 8, 'Ignore message', 'Ignore');\n\t\tassert.strictEqual(JSON.stringify({ ...marker, resource: marker.resource.path }, null, '\\t'), new Marker('4', marker).toString());\n\n\t\tmarker = aMarker('a/res2', MarkerSeverity.Warning, 1, 2, 1, 8, 'Warning message', '', [{ startLineNumber: 2, startColumn: 5, endLineNumber: 2, endColumn: 10, message: 'some info', resource: URI.file('a/res3') }]);\n\t\tconst testObject = new Marker('5', marker, null!);\n\n\t\t// hack\n\t\t(testObject as any).relatedInformation = marker.relatedInformation!.map(r => new RelatedInformation('6', marker, r));\n\t\tassert.strictEqual(JSON.stringify({ ...marker, resource: marker.resource.path, relatedInformation: marker.relatedInformation!.map(r => ({ ...r, resource: r.resource.path })) }, null, '\\t'), testObject.toString());\n\t});\n\n\ttest('Markers for same-document but different fragment', function () {\n\t\tconst model = new TestMarkersModel([anErrorWithRange(1)]);\n\n\t\tassert.strictEqual(model.total, 1);\n\n\t\tconst document = URI.parse('foo://test/path/file');\n\t\tconst frag1 = URI.parse('foo://test/path/file#1');\n\t\tconst frag2 = URI.parse('foo://test/path/file#two');\n\n\t\tmodel.setResourceMarkers([[document, [{ ...aMarker(), resource: frag1 }, { ...aMarker(), resource: frag2 }]]]);\n\n\t\tassert.strictEqual(model.total, 3);\n\t\tlet a = model.getResourceMarkers(document);\n\t\tlet b = model.getResourceMarkers(frag1);\n\t\tlet c = model.getResourceMarkers(frag2);\n\t\tassert.ok(a === b);\n\t\tassert.ok(a === c);\n\n\t\tmodel.setResourceMarkers([[document, [{ ...aMarker(), resource: frag2 }]]]);\n\t\tassert.strictEqual(model.total, 2);\n\t});\n\n\ttest('Problems are no sorted correctly #99135', function () {\n\t\tconst model = new TestMarkersModel([]);\n\t\tassert.strictEqual(model.total, 0);\n\n\t\tconst document = URI.parse('foo://test/path/file');\n\t\tconst frag1 = URI.parse('foo://test/path/file#1');\n\t\tconst frag2 = URI.parse('foo://test/path/file#2');\n\n\t\tmodel.setResourceMarkers([[frag1, [\n\t\t\t{ ...aMarker(), resource: frag1 },\n\t\t\t{ ...aMarker(undefined, MarkerSeverity.Warning), resource: frag1 },\n\t\t]]]);\n\n\t\tmodel.setResourceMarkers([[frag2, [\n\t\t\t{ ...aMarker(), resource: frag2 }\n\t\t]]]);\n\n\t\tassert.strictEqual(model.total, 3);\n\t\tconst markers = model.getResourceMarkers(document)?.markers;\n\t\tassert.deepStrictEqual(markers?.map(m => m.marker.severity), [MarkerSeverity.Error, MarkerSeverity.Error, MarkerSeverity.Warning]);\n\t\tassert.deepStrictEqual(markers?.map(m => m.marker.resource.toString()), [frag1.toString(), frag2.toString(), frag1.toString()]);\n\t});\n\n\tfunction compareResource(a: ResourceMarkers, b: string): boolean {\n\t\treturn a.resource.toString() === URI.file(b).toString();\n\t}\n\n\tfunction anErrorWithRange(startLineNumber: number = 10,\n\t\tstartColumn: number = 5,\n\t\tendLineNumber: number = startLineNumber + 1,\n\t\tendColumn: number = startColumn + 5,\n\t\tmessage: string = 'some message',\n\t): IMarker {\n\t\treturn aMarker('some resource', MarkerSeverity.Error, startLineNumber, startColumn, endLineNumber, endColumn, message);\n\t}\n\n\tfunction aWarningWithRange(startLineNumber: number = 10,\n\t\tstartColumn: number = 5,\n\t\tendLineNumber: number = startLineNumber + 1,\n\t\tendColumn: number = startColumn + 5,\n\t\tmessage: string = 'some message',\n\t): IMarker {\n\t\treturn aMarker('some resource', MarkerSeverity.Warning, startLineNumber, startColumn, endLineNumber, endColumn, message);\n\t}\n\n\tfunction anInfoWithRange(startLineNumber: number = 10,\n\t\tstartColumn: number = 5,\n\t\tendLineNumber: number = startLineNumber + 1,\n\t\tendColumn: number = startColumn + 5,\n\t\tmessage: string = 'some message',\n\t): IMarker {\n\t\treturn aMarker('some resource', MarkerSeverity.Info, startLineNumber, startColumn, endLineNumber, endColumn, message);\n\t}\n\n\tfunction anIgnoreWithRange(startLineNumber: number = 10,\n\t\tstartColumn: number = 5,\n\t\tendLineNumber: number = startLineNumber + 1,\n\t\tendColumn: number = startColumn + 5,\n\t\tmessage: string = 'some message',\n\t): IMarker {\n\t\treturn aMarker('some resource', MarkerSeverity.Hint, startLineNumber, startColumn, endLineNumber, endColumn, message);\n\t}\n\n\tfunction aMarker(resource: string = 'some resource',\n\t\tseverity: MarkerSeverity = MarkerSeverity.Error,\n\t\tstartLineNumber: number = 10,\n\t\tstartColumn: number = 5,\n\t\tendLineNumber: number = startLineNumber + 1,\n\t\tendColumn: number = startColumn + 5,\n\t\tmessage: string = 'some message',\n\t\tsource: string = 'tslint',\n\t\trelatedInformation?: IRelatedInformation[]\n\t): IMarker {\n\t\treturn {\n\t\t\towner: 'someOwner',\n\t\t\tresource: URI.file(resource),\n\t\t\tseverity,\n\t\t\tmessage,\n\t\t\tstartLineNumber,\n\t\t\tstartColumn,\n\t\t\tendLineNumber,\n\t\t\tendColumn,\n\t\t\tsource,\n\t\t\trelatedInformation\n\t\t};\n\t}\n});\n"]}