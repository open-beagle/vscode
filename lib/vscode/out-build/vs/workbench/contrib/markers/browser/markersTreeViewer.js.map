{"version":3,"sources":["vs/workbench/contrib/markers/browser/markersTreeViewer.ts"],"names":[],"mappings":"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","file":"markersTreeViewer.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport * as network from 'vs/base/common/network';\nimport * as paths from 'vs/base/common/path';\nimport { CountBadge } from 'vs/base/browser/ui/countBadge/countBadge';\nimport { ResourceLabels, IResourceLabel } from 'vs/workbench/browser/labels';\nimport { HighlightedLabel } from 'vs/base/browser/ui/highlightedlabel/highlightedLabel';\nimport { IMarker, MarkerSeverity } from 'vs/platform/markers/common/markers';\nimport { ResourceMarkers, Marker, RelatedInformation, MarkerElement } from 'vs/workbench/contrib/markers/browser/markersModel';\nimport Messages from 'vs/workbench/contrib/markers/browser/messages';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { attachBadgeStyler } from 'vs/platform/theme/common/styler';\nimport { IThemeService, registerThemingParticipant, ThemeIcon } from 'vs/platform/theme/common/themeService';\nimport { IDisposable, dispose, Disposable, toDisposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { QuickFixAction, QuickFixActionViewItem } from 'vs/workbench/contrib/markers/browser/markersViewActions';\nimport { ILabelService } from 'vs/platform/label/common/label';\nimport { dirname, basename, isEqual } from 'vs/base/common/resources';\nimport { IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { ITreeFilter, TreeVisibility, TreeFilterResult, ITreeRenderer, ITreeNode, ITreeDragAndDrop, ITreeDragOverReaction } from 'vs/base/browser/ui/tree/tree';\nimport { FilterOptions } from 'vs/workbench/contrib/markers/browser/markersFilterOptions';\nimport { IMatch } from 'vs/base/common/filters';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { IListAccessibilityProvider } from 'vs/base/browser/ui/list/listWidget';\nimport { isUndefinedOrNull } from 'vs/base/common/types';\nimport { URI } from 'vs/base/common/uri';\nimport { Action, IAction } from 'vs/base/common/actions';\nimport { localize } from 'vs/nls';\nimport { IDragAndDropData } from 'vs/base/browser/dnd';\nimport { ElementsDragAndDropData } from 'vs/base/browser/ui/list/listView';\nimport { fillResourceDataTransfers } from 'vs/workbench/browser/dnd';\nimport { CancelablePromise, createCancelablePromise, Delayer } from 'vs/base/common/async';\nimport { IModelService } from 'vs/editor/common/services/modelService';\nimport { Range } from 'vs/editor/common/core/range';\nimport { getCodeActions, CodeActionSet } from 'vs/editor/contrib/codeAction/codeAction';\nimport { CodeActionKind } from 'vs/editor/contrib/codeAction/types';\nimport { ITextModel } from 'vs/editor/common/model';\nimport { IEditorService, ACTIVE_GROUP } from 'vs/workbench/services/editor/common/editorService';\nimport { applyCodeAction } from 'vs/editor/contrib/codeAction/codeActionCommands';\nimport { SeverityIcon } from 'vs/platform/severityIcon/common/severityIcon';\nimport { CodeActionTriggerType } from 'vs/editor/common/modes';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { textLinkForeground } from 'vs/platform/theme/common/colorRegistry';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { OS, OperatingSystem } from 'vs/base/common/platform';\nimport { IFileService } from 'vs/platform/files/common/files';\nimport { domEvent } from 'vs/base/browser/event';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode } from 'vs/base/common/keyCodes';\nimport { Progress } from 'vs/platform/progress/common/progress';\nimport { ActionViewItem } from 'vs/base/browser/ui/actionbar/actionViewItems';\nimport { Codicon } from 'vs/base/common/codicons';\nimport { registerIcon } from 'vs/platform/theme/common/iconRegistry';\n\ninterface IResourceMarkersTemplateData {\n\tresourceLabel: IResourceLabel;\n\tcount: CountBadge;\n\tstyler: IDisposable;\n}\n\ninterface IMarkerTemplateData {\n\tmarkerWidget: MarkerWidget;\n}\n\ninterface IRelatedInformationTemplateData {\n\tresourceLabel: HighlightedLabel;\n\tlnCol: HTMLElement;\n\tdescription: HighlightedLabel;\n}\n\nexport class MarkersTreeAccessibilityProvider implements IListAccessibilityProvider<MarkerElement> {\n\n\tconstructor(@ILabelService private readonly labelService: ILabelService) { }\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('problemsView', \"Problems View\");\n\t}\n\n\tpublic getAriaLabel(element: MarkerElement): string | null {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\tconst path = this.labelService.getUriLabel(element.resource, { relative: true }) || element.resource.fsPath;\n\t\t\treturn Messages.MARKERS_TREE_ARIA_LABEL_RESOURCE(element.markers.length, element.name, paths.dirname(path));\n\t\t}\n\t\tif (element instanceof Marker) {\n\t\t\treturn Messages.MARKERS_TREE_ARIA_LABEL_MARKER(element);\n\t\t}\n\t\tif (element instanceof RelatedInformation) {\n\t\t\treturn Messages.MARKERS_TREE_ARIA_LABEL_RELATED_INFORMATION(element.raw);\n\t\t}\n\t\treturn null;\n\t}\n}\n\nconst enum TemplateId {\n\tResourceMarkers = 'rm',\n\tMarker = 'm',\n\tRelatedInformation = 'ri'\n}\n\nexport class VirtualDelegate implements IListVirtualDelegate<MarkerElement> {\n\n\tstatic LINE_HEIGHT: number = 22;\n\n\tconstructor(private readonly markersViewState: MarkersViewModel) { }\n\n\tgetHeight(element: MarkerElement): number {\n\t\tif (element instanceof Marker) {\n\t\t\tconst viewModel = this.markersViewState.getViewModel(element);\n\t\t\tconst noOfLines = !viewModel || viewModel.multiline ? element.lines.length : 1;\n\t\t\treturn noOfLines * VirtualDelegate.LINE_HEIGHT;\n\t\t}\n\t\treturn VirtualDelegate.LINE_HEIGHT;\n\t}\n\n\tgetTemplateId(element: MarkerElement): string {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\treturn TemplateId.ResourceMarkers;\n\t\t} else if (element instanceof Marker) {\n\t\t\treturn TemplateId.Marker;\n\t\t} else {\n\t\t\treturn TemplateId.RelatedInformation;\n\t\t}\n\t}\n}\n\nconst enum FilterDataType {\n\tResourceMarkers,\n\tMarker,\n\tRelatedInformation\n}\n\ninterface ResourceMarkersFilterData {\n\ttype: FilterDataType.ResourceMarkers;\n\turiMatches: IMatch[];\n}\n\ninterface MarkerFilterData {\n\ttype: FilterDataType.Marker;\n\tlineMatches: IMatch[][];\n\tsourceMatches: IMatch[];\n\tcodeMatches: IMatch[];\n}\n\ninterface RelatedInformationFilterData {\n\ttype: FilterDataType.RelatedInformation;\n\turiMatches: IMatch[];\n\tmessageMatches: IMatch[];\n}\n\nexport type FilterData = ResourceMarkersFilterData | MarkerFilterData | RelatedInformationFilterData;\n\nexport class ResourceMarkersRenderer implements ITreeRenderer<ResourceMarkers, ResourceMarkersFilterData, IResourceMarkersTemplateData> {\n\n\tprivate renderedNodes = new Map<ITreeNode<ResourceMarkers, ResourceMarkersFilterData>, IResourceMarkersTemplateData>();\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels,\n\t\tonDidChangeRenderNodeCount: Event<ITreeNode<ResourceMarkers, ResourceMarkersFilterData>>,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IFileService private readonly fileService: IFileService\n\t) {\n\t\tonDidChangeRenderNodeCount(this.onDidChangeRenderNodeCount, this, this.disposables);\n\t}\n\n\ttemplateId = TemplateId.ResourceMarkers;\n\n\trenderTemplate(container: HTMLElement): IResourceMarkersTemplateData {\n\t\tconst data = <IResourceMarkersTemplateData>Object.create(null);\n\n\t\tconst resourceLabelContainer = dom.append(container, dom.$('.resource-label-container'));\n\t\tdata.resourceLabel = this.labels.create(resourceLabelContainer, { supportHighlights: true });\n\n\t\tconst badgeWrapper = dom.append(container, dom.$('.count-badge-wrapper'));\n\t\tdata.count = new CountBadge(badgeWrapper);\n\t\tdata.styler = attachBadgeStyler(data.count, this.themeService);\n\n\t\treturn data;\n\t}\n\n\trenderElement(node: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>, _: number, templateData: IResourceMarkersTemplateData): void {\n\t\tconst resourceMarkers = node.element;\n\t\tconst uriMatches = node.filterData && node.filterData.uriMatches || [];\n\n\t\tif (this.fileService.canHandleResource(resourceMarkers.resource) || resourceMarkers.resource.scheme === network.Schemas.untitled) {\n\t\t\ttemplateData.resourceLabel.setFile(resourceMarkers.resource, { matches: uriMatches });\n\t\t} else {\n\t\t\ttemplateData.resourceLabel.setResource({ name: resourceMarkers.name, description: this.labelService.getUriLabel(dirname(resourceMarkers.resource), { relative: true }), resource: resourceMarkers.resource }, { matches: uriMatches });\n\t\t}\n\n\t\tthis.updateCount(node, templateData);\n\t\tthis.renderedNodes.set(node, templateData);\n\t}\n\n\tdisposeElement(node: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>): void {\n\t\tthis.renderedNodes.delete(node);\n\t}\n\n\tdisposeTemplate(templateData: IResourceMarkersTemplateData): void {\n\t\ttemplateData.resourceLabel.dispose();\n\t\ttemplateData.styler.dispose();\n\t}\n\n\tprivate onDidChangeRenderNodeCount(node: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>): void {\n\t\tconst templateData = this.renderedNodes.get(node);\n\n\t\tif (!templateData) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateCount(node, templateData);\n\t}\n\n\tprivate updateCount(node: ITreeNode<ResourceMarkers, ResourceMarkersFilterData>, templateData: IResourceMarkersTemplateData): void {\n\t\ttemplateData.count.setCount(node.children.reduce((r, n) => r + (n.visible ? 1 : 0), 0));\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables.dispose();\n\t}\n}\n\nexport class FileResourceMarkersRenderer extends ResourceMarkersRenderer {\n}\n\nexport class MarkerRenderer implements ITreeRenderer<Marker, MarkerFilterData, IMarkerTemplateData> {\n\n\tconstructor(\n\t\tprivate readonly markersViewState: MarkersViewModel,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService,\n\t\t@IOpenerService protected openerService: IOpenerService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\t) { }\n\n\ttemplateId = TemplateId.Marker;\n\n\trenderTemplate(container: HTMLElement): IMarkerTemplateData {\n\t\tconst data: IMarkerTemplateData = Object.create(null);\n\t\tdata.markerWidget = new MarkerWidget(container, this.markersViewState, this.openerService, this._configurationService, this.instantiationService);\n\t\treturn data;\n\t}\n\n\trenderElement(node: ITreeNode<Marker, MarkerFilterData>, _: number, templateData: IMarkerTemplateData): void {\n\t\ttemplateData.markerWidget.render(node.element, node.filterData);\n\t}\n\n\tdisposeTemplate(templateData: IMarkerTemplateData): void {\n\t\ttemplateData.markerWidget.dispose();\n\t}\n\n}\n\nconst expandedIcon = registerIcon('markers-view-multi-line-expanded', Codicon.chevronUp, localize('expandedIcon', 'Icon indicating that multiple lines are shown in the markers view.'));\nconst collapsedIcon = registerIcon('markers-view-multi-line-collapsed', Codicon.chevronDown, localize('collapsedIcon', 'Icon indicating that multiple lines are collapsed in the markers view.'));\n\nconst toggleMultilineAction = 'problems.action.toggleMultiline';\n\nclass ToggleMultilineActionViewItem extends ActionViewItem {\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tthis.updateExpandedAttribute();\n\t}\n\n\toverride updateClass(): void {\n\t\tsuper.updateClass();\n\t\tthis.updateExpandedAttribute();\n\t}\n\n\tprivate updateExpandedAttribute(): void {\n\t\tif (this.element) {\n\t\t\tthis.element.setAttribute('aria-expanded', `${this._action.class === ThemeIcon.asClassName(expandedIcon)}`);\n\t\t}\n\t}\n\n}\n\ntype ModifierKey = 'meta' | 'ctrl' | 'alt';\n\nclass MarkerWidget extends Disposable {\n\n\tprivate readonly actionBar: ActionBar;\n\tprivate readonly icon: HTMLElement;\n\tprivate readonly multilineActionbar: ActionBar;\n\tprivate readonly messageAndDetailsContainer: HTMLElement;\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tprivate _clickModifierKey: ModifierKey;\n\tprivate _codeLink?: HTMLElement;\n\n\tconstructor(\n\t\tprivate parent: HTMLElement,\n\t\tprivate readonly markersViewModel: MarkersViewModel,\n\t\tprivate readonly _openerService: IOpenerService,\n\t\tprivate readonly _configurationService: IConfigurationService,\n\t\t_instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis.actionBar = this._register(new ActionBar(dom.append(parent, dom.$('.actions')), {\n\t\t\tactionViewItemProvider: (action: IAction) => action.id === QuickFixAction.ID ? _instantiationService.createInstance(QuickFixActionViewItem, <QuickFixAction>action) : undefined\n\t\t}));\n\t\tthis.icon = dom.append(parent, dom.$(''));\n\t\tthis.multilineActionbar = this._register(new ActionBar(dom.append(parent, dom.$('.multiline-actions')), {\n\t\t\tactionViewItemProvider: (action) => {\n\t\t\t\tif (action.id === toggleMultilineAction) {\n\t\t\t\t\treturn new ToggleMultilineActionViewItem(undefined, action, { icon: true });\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\t\tthis.messageAndDetailsContainer = dom.append(parent, dom.$('.marker-message-details-container'));\n\n\t\tthis._clickModifierKey = this._getClickModifierKey();\n\t}\n\n\trender(element: Marker, filterData: MarkerFilterData | undefined): void {\n\t\tthis.actionBar.clear();\n\t\tthis.multilineActionbar.clear();\n\t\tthis.disposables.clear();\n\t\tdom.clearNode(this.messageAndDetailsContainer);\n\n\t\tthis.icon.className = `marker-icon codicon ${SeverityIcon.className(MarkerSeverity.toSeverity(element.marker.severity))}`;\n\t\tthis.renderQuickfixActionbar(element);\n\t\tthis.renderMultilineActionbar(element);\n\n\t\tthis.renderMessageAndDetails(element, filterData);\n\t\tthis.disposables.add(dom.addDisposableListener(this.parent, dom.EventType.MOUSE_OVER, () => this.markersViewModel.onMarkerMouseHover(element)));\n\t\tthis.disposables.add(dom.addDisposableListener(this.parent, dom.EventType.MOUSE_LEAVE, () => this.markersViewModel.onMarkerMouseLeave(element)));\n\n\t\tthis.disposables.add((this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('editor.multiCursorModifier')) {\n\t\t\t\tthis._clickModifierKey = this._getClickModifierKey();\n\t\t\t\tif (this._codeLink) {\n\t\t\t\t\tthis._codeLink.setAttribute('title', this._getCodelinkTooltip());\n\t\t\t\t}\n\t\t\t}\n\t\t})));\n\t}\n\n\tprivate renderQuickfixActionbar(marker: Marker): void {\n\t\tconst viewModel = this.markersViewModel.getViewModel(marker);\n\t\tif (viewModel) {\n\t\t\tconst quickFixAction = viewModel.quickFixAction;\n\t\t\tthis.actionBar.push([quickFixAction], { icon: true, label: false });\n\t\t\tthis.icon.classList.toggle('quickFix', quickFixAction.enabled);\n\t\t\tquickFixAction.onDidChange(({ enabled }) => {\n\t\t\t\tif (!isUndefinedOrNull(enabled)) {\n\t\t\t\t\tthis.icon.classList.toggle('quickFix', enabled);\n\t\t\t\t}\n\t\t\t}, this, this.disposables);\n\t\t\tquickFixAction.onShowQuickFixes(() => {\n\t\t\t\tconst quickFixActionViewItem = <QuickFixActionViewItem>this.actionBar.viewItems[0];\n\t\t\t\tif (quickFixActionViewItem) {\n\t\t\t\t\tquickFixActionViewItem.showQuickFixes();\n\t\t\t\t}\n\t\t\t}, this, this.disposables);\n\t\t}\n\t}\n\n\tprivate renderMultilineActionbar(marker: Marker): void {\n\t\tconst viewModel = this.markersViewModel.getViewModel(marker);\n\t\tconst multiline = viewModel && viewModel.multiline;\n\t\tconst action = new Action(toggleMultilineAction);\n\t\taction.enabled = !!viewModel && marker.lines.length > 1;\n\t\taction.tooltip = multiline ? localize('single line', \"Show message in single line\") : localize('multi line', \"Show message in multiple lines\");\n\t\taction.class = ThemeIcon.asClassName(multiline ? expandedIcon : collapsedIcon);\n\t\taction.run = () => { if (viewModel) { viewModel.multiline = !viewModel.multiline; } return Promise.resolve(); };\n\t\tthis.multilineActionbar.push([action], { icon: true, label: false });\n\t}\n\n\tprivate renderMessageAndDetails(element: Marker, filterData: MarkerFilterData | undefined) {\n\t\tconst { marker, lines } = element;\n\t\tconst viewState = this.markersViewModel.getViewModel(element);\n\t\tconst multiline = !viewState || viewState.multiline;\n\t\tconst lineMatches = filterData && filterData.lineMatches || [];\n\n\t\tlet lastLineElement: HTMLElement | undefined = undefined;\n\t\tthis.messageAndDetailsContainer.title = element.marker.message;\n\t\tfor (let index = 0; index < (multiline ? lines.length : 1); index++) {\n\t\t\tlastLineElement = dom.append(this.messageAndDetailsContainer, dom.$('.marker-message-line'));\n\t\t\tconst messageElement = dom.append(lastLineElement, dom.$('.marker-message'));\n\t\t\tconst highlightedLabel = new HighlightedLabel(messageElement, false);\n\t\t\thighlightedLabel.set(lines[index].length > 1000 ? `${lines[index].substring(0, 1000)}...` : lines[index], lineMatches[index]);\n\t\t\tif (lines[index] === '') {\n\t\t\t\tlastLineElement.style.height = `${VirtualDelegate.LINE_HEIGHT}px`;\n\t\t\t}\n\t\t}\n\t\tthis.renderDetails(marker, filterData, lastLineElement || dom.append(this.messageAndDetailsContainer, dom.$('.marker-message-line')));\n\t}\n\n\tprivate renderDetails(marker: IMarker, filterData: MarkerFilterData | undefined, parent: HTMLElement): void {\n\t\tparent.classList.add('details-container');\n\n\t\tif (marker.source || marker.code) {\n\t\t\tconst source = new HighlightedLabel(dom.append(parent, dom.$('.marker-source')), false);\n\t\t\tconst sourceMatches = filterData && filterData.sourceMatches || [];\n\t\t\tsource.set(marker.source, sourceMatches);\n\n\t\t\tif (marker.code) {\n\t\t\t\tif (typeof marker.code === 'string') {\n\t\t\t\t\tconst code = new HighlightedLabel(dom.append(parent, dom.$('.marker-code')), false);\n\t\t\t\t\tconst codeMatches = filterData && filterData.codeMatches || [];\n\t\t\t\t\tcode.set(marker.code, codeMatches);\n\t\t\t\t} else {\n\t\t\t\t\tthis._codeLink = dom.$('a.code-link');\n\t\t\t\t\tthis._codeLink.setAttribute('title', this._getCodelinkTooltip());\n\n\t\t\t\t\tconst codeUri = marker.code.target;\n\t\t\t\t\tconst codeLink = codeUri.toString();\n\n\t\t\t\t\tdom.append(parent, this._codeLink);\n\t\t\t\t\tthis._codeLink.setAttribute('href', codeLink);\n\t\t\t\t\tthis._codeLink.tabIndex = 0;\n\n\t\t\t\t\tconst onClick = Event.chain(domEvent(this._codeLink, 'click'))\n\t\t\t\t\t\t.filter(e => ((this._clickModifierKey === 'meta' && e.metaKey) || (this._clickModifierKey === 'ctrl' && e.ctrlKey) || (this._clickModifierKey === 'alt' && e.altKey)))\n\t\t\t\t\t\t.event;\n\t\t\t\t\tconst onEnterPress = Event.chain(domEvent(this._codeLink, 'keydown'))\n\t\t\t\t\t\t.map(e => new StandardKeyboardEvent(e))\n\t\t\t\t\t\t.filter(e => e.keyCode === KeyCode.Enter)\n\t\t\t\t\t\t.event;\n\t\t\t\t\tconst onOpen = Event.any<dom.EventLike>(onClick, onEnterPress);\n\n\t\t\t\t\tthis._register(onOpen(e => {\n\t\t\t\t\t\tdom.EventHelper.stop(e, true);\n\t\t\t\t\t\tthis._openerService.open(codeUri, { allowCommands: true });\n\t\t\t\t\t}));\n\n\t\t\t\t\tconst code = new HighlightedLabel(dom.append(this._codeLink, dom.$('.marker-code')), false);\n\t\t\t\t\tconst codeMatches = filterData && filterData.codeMatches || [];\n\t\t\t\t\tcode.set(marker.code.value, codeMatches);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst lnCol = dom.append(parent, dom.$('span.marker-line'));\n\t\tlnCol.textContent = Messages.MARKERS_PANEL_AT_LINE_COL_NUMBER(marker.startLineNumber, marker.startColumn);\n\t}\n\n\tprivate _getClickModifierKey(): ModifierKey {\n\t\tconst value = this._configurationService.getValue<'ctrlCmd' | 'alt'>('editor.multiCursorModifier');\n\t\tif (value === 'ctrlCmd') {\n\t\t\treturn 'alt';\n\t\t} else {\n\t\t\tif (OS === OperatingSystem.Macintosh) {\n\t\t\t\treturn 'meta';\n\t\t\t} else {\n\t\t\t\treturn 'ctrl';\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _getCodelinkTooltip(): string {\n\t\tconst tooltipLabel = localize('links.navigate.follow', 'Follow link');\n\t\tconst tooltipKeybinding = this._clickModifierKey === 'ctrl'\n\t\t\t? localize('links.navigate.kb.meta', 'ctrl + click')\n\t\t\t:\n\t\t\tthis._clickModifierKey === 'meta'\n\t\t\t\t? OS === OperatingSystem.Macintosh ? localize('links.navigate.kb.meta.mac', 'cmd + click') : localize('links.navigate.kb.meta', 'ctrl + click')\n\t\t\t\t: OS === OperatingSystem.Macintosh ? localize('links.navigate.kb.alt.mac', 'option + click') : localize('links.navigate.kb.alt', 'alt + click');\n\n\t\treturn `${tooltipLabel} (${tooltipKeybinding})`;\n\t}\n}\n\nexport class RelatedInformationRenderer implements ITreeRenderer<RelatedInformation, RelatedInformationFilterData, IRelatedInformationTemplateData> {\n\n\tconstructor(\n\t\t@ILabelService private readonly labelService: ILabelService\n\t) { }\n\n\ttemplateId = TemplateId.RelatedInformation;\n\n\trenderTemplate(container: HTMLElement): IRelatedInformationTemplateData {\n\t\tconst data: IRelatedInformationTemplateData = Object.create(null);\n\n\t\tdom.append(container, dom.$('.actions'));\n\t\tdom.append(container, dom.$('.icon'));\n\n\t\tdata.resourceLabel = new HighlightedLabel(dom.append(container, dom.$('.related-info-resource')), false);\n\t\tdata.lnCol = dom.append(container, dom.$('span.marker-line'));\n\n\t\tconst separator = dom.append(container, dom.$('span.related-info-resource-separator'));\n\t\tseparator.textContent = ':';\n\t\tseparator.style.paddingRight = '4px';\n\n\t\tdata.description = new HighlightedLabel(dom.append(container, dom.$('.marker-description')), false);\n\t\treturn data;\n\t}\n\n\trenderElement(node: ITreeNode<RelatedInformation, RelatedInformationFilterData>, _: number, templateData: IRelatedInformationTemplateData): void {\n\t\tconst relatedInformation = node.element.raw;\n\t\tconst uriMatches = node.filterData && node.filterData.uriMatches || [];\n\t\tconst messageMatches = node.filterData && node.filterData.messageMatches || [];\n\n\t\ttemplateData.resourceLabel.set(basename(relatedInformation.resource), uriMatches);\n\t\ttemplateData.resourceLabel.element.title = this.labelService.getUriLabel(relatedInformation.resource, { relative: true });\n\t\ttemplateData.lnCol.textContent = Messages.MARKERS_PANEL_AT_LINE_COL_NUMBER(relatedInformation.startLineNumber, relatedInformation.startColumn);\n\t\ttemplateData.description.set(relatedInformation.message, messageMatches);\n\t\ttemplateData.description.element.title = relatedInformation.message;\n\t}\n\n\tdisposeTemplate(templateData: IRelatedInformationTemplateData): void {\n\t\t// noop\n\t}\n}\n\nexport class Filter implements ITreeFilter<MarkerElement, FilterData> {\n\n\tconstructor(public options: FilterOptions) { }\n\n\tfilter(element: MarkerElement, parentVisibility: TreeVisibility): TreeFilterResult<FilterData> {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\treturn this.filterResourceMarkers(element);\n\t\t} else if (element instanceof Marker) {\n\t\t\treturn this.filterMarker(element, parentVisibility);\n\t\t} else {\n\t\t\treturn this.filterRelatedInformation(element, parentVisibility);\n\t\t}\n\t}\n\n\tprivate filterResourceMarkers(resourceMarkers: ResourceMarkers): TreeFilterResult<FilterData> {\n\t\tif (resourceMarkers.resource.scheme === network.Schemas.walkThrough || resourceMarkers.resource.scheme === network.Schemas.walkThroughSnippet) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Filter resource by pattern first (globs)\n\t\t// Excludes pattern\n\t\tif (this.options.excludesMatcher.matches(resourceMarkers.resource)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Includes pattern\n\t\tif (this.options.includesMatcher.matches(resourceMarkers.resource)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Fiter by text. Do not apply negated filters on resources instead use exclude patterns\n\t\tif (this.options.textFilter.text && !this.options.textFilter.negate) {\n\t\t\tconst uriMatches = FilterOptions._filter(this.options.textFilter.text, basename(resourceMarkers.resource));\n\t\t\tif (uriMatches) {\n\t\t\t\treturn { visibility: true, data: { type: FilterDataType.ResourceMarkers, uriMatches: uriMatches || [] } };\n\t\t\t}\n\t\t}\n\n\t\treturn TreeVisibility.Recurse;\n\t}\n\n\tprivate filterMarker(marker: Marker, parentVisibility: TreeVisibility): TreeFilterResult<FilterData> {\n\n\t\tconst matchesSeverity = this.options.showErrors && MarkerSeverity.Error === marker.marker.severity ||\n\t\t\tthis.options.showWarnings && MarkerSeverity.Warning === marker.marker.severity ||\n\t\t\tthis.options.showInfos && MarkerSeverity.Info === marker.marker.severity;\n\n\t\tif (!matchesSeverity) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.options.textFilter.text) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst lineMatches: IMatch[][] = [];\n\t\tfor (const line of marker.lines) {\n\t\t\tconst lineMatch = FilterOptions._messageFilter(this.options.textFilter.text, line);\n\t\t\tlineMatches.push(lineMatch || []);\n\t\t}\n\n\t\tconst sourceMatches = marker.marker.source ? FilterOptions._filter(this.options.textFilter.text, marker.marker.source) : undefined;\n\t\tconst codeMatches = marker.marker.code ? FilterOptions._filter(this.options.textFilter.text, typeof marker.marker.code === 'string' ? marker.marker.code : marker.marker.code.value) : undefined;\n\t\tconst matched = sourceMatches || codeMatches || lineMatches.some(lineMatch => lineMatch.length > 0);\n\n\t\t// Matched and not negated\n\t\tif (matched && !this.options.textFilter.negate) {\n\t\t\treturn { visibility: true, data: { type: FilterDataType.Marker, lineMatches, sourceMatches: sourceMatches || [], codeMatches: codeMatches || [] } };\n\t\t}\n\n\t\t// Matched and negated - exclude it only if parent visibility is not set\n\t\tif (matched && this.options.textFilter.negate && parentVisibility === TreeVisibility.Recurse) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Not matched and negated - include it only if parent visibility is not set\n\t\tif (!matched && this.options.textFilter.negate && parentVisibility === TreeVisibility.Recurse) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn parentVisibility;\n\t}\n\n\tprivate filterRelatedInformation(relatedInformation: RelatedInformation, parentVisibility: TreeVisibility): TreeFilterResult<FilterData> {\n\t\tif (!this.options.textFilter.text) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst uriMatches = FilterOptions._filter(this.options.textFilter.text, basename(relatedInformation.raw.resource));\n\t\tconst messageMatches = FilterOptions._messageFilter(this.options.textFilter.text, paths.basename(relatedInformation.raw.message));\n\t\tconst matched = uriMatches || messageMatches;\n\n\t\t// Matched and not negated\n\t\tif (matched && !this.options.textFilter.negate) {\n\t\t\treturn { visibility: true, data: { type: FilterDataType.RelatedInformation, uriMatches: uriMatches || [], messageMatches: messageMatches || [] } };\n\t\t}\n\n\t\t// Matched and negated - exclude it only if parent visibility is not set\n\t\tif (matched && this.options.textFilter.negate && parentVisibility === TreeVisibility.Recurse) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Not matched and negated - include it only if parent visibility is not set\n\t\tif (!matched && this.options.textFilter.negate && parentVisibility === TreeVisibility.Recurse) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn parentVisibility;\n\t}\n}\n\nexport class MarkerViewModel extends Disposable {\n\n\tprivate readonly _onDidChange: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tprivate modelPromise: CancelablePromise<ITextModel> | null = null;\n\tprivate codeActionsPromise: CancelablePromise<CodeActionSet> | null = null;\n\n\tconstructor(\n\t\tprivate readonly marker: Marker,\n\t\t@IModelService private modelService: IModelService,\n\t\t@IInstantiationService private instantiationService: IInstantiationService,\n\t\t@IEditorService private readonly editorService: IEditorService\n\t) {\n\t\tsuper();\n\t\tthis._register(toDisposable(() => {\n\t\t\tif (this.modelPromise) {\n\t\t\t\tthis.modelPromise.cancel();\n\t\t\t}\n\t\t\tif (this.codeActionsPromise) {\n\t\t\t\tthis.codeActionsPromise.cancel();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _multiline: boolean = true;\n\tget multiline(): boolean {\n\t\treturn this._multiline;\n\t}\n\n\tset multiline(value: boolean) {\n\t\tif (this._multiline !== value) {\n\t\t\tthis._multiline = value;\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate _quickFixAction: QuickFixAction | null = null;\n\tget quickFixAction(): QuickFixAction {\n\t\tif (!this._quickFixAction) {\n\t\t\tthis._quickFixAction = this._register(this.instantiationService.createInstance(QuickFixAction, this.marker));\n\t\t}\n\t\treturn this._quickFixAction;\n\t}\n\n\tshowLightBulb(): void {\n\t\tthis.setQuickFixes(true);\n\t}\n\n\tshowQuickfixes(): void {\n\t\tthis.setQuickFixes(false).then(() => this.quickFixAction.run());\n\t}\n\n\tasync getQuickFixes(waitForModel: boolean): Promise<IAction[]> {\n\t\tconst codeActions = await this.getCodeActions(waitForModel);\n\t\treturn codeActions ? this.toActions(codeActions) : [];\n\t}\n\n\tprivate async setQuickFixes(waitForModel: boolean): Promise<void> {\n\t\tconst codeActions = await this.getCodeActions(waitForModel);\n\t\tthis.quickFixAction.quickFixes = codeActions ? this.toActions(codeActions) : [];\n\t\tthis.quickFixAction.autoFixable(!!codeActions && codeActions.hasAutoFix);\n\t}\n\n\tprivate getCodeActions(waitForModel: boolean): Promise<CodeActionSet | null> {\n\t\tif (this.codeActionsPromise !== null) {\n\t\t\treturn this.codeActionsPromise;\n\t\t}\n\t\treturn this.getModel(waitForModel)\n\t\t\t.then<CodeActionSet | null>(model => {\n\t\t\t\tif (model) {\n\t\t\t\t\tif (!this.codeActionsPromise) {\n\t\t\t\t\t\tthis.codeActionsPromise = createCancelablePromise(cancellationToken => {\n\t\t\t\t\t\t\treturn getCodeActions(model, new Range(this.marker.range.startLineNumber, this.marker.range.startColumn, this.marker.range.endLineNumber, this.marker.range.endColumn), {\n\t\t\t\t\t\t\t\ttype: CodeActionTriggerType.Invoke, filter: { include: CodeActionKind.QuickFix }\n\t\t\t\t\t\t\t}, Progress.None, cancellationToken).then(actions => {\n\t\t\t\t\t\t\t\treturn this._register(actions);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn this.codeActionsPromise;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t}\n\n\tprivate toActions(codeActions: CodeActionSet): IAction[] {\n\t\treturn codeActions.validActions.map(item => new Action(\n\t\t\titem.action.command ? item.action.command.id : item.action.title,\n\t\t\titem.action.title,\n\t\t\tundefined,\n\t\t\ttrue,\n\t\t\t() => {\n\t\t\t\treturn this.openFileAtMarker(this.marker)\n\t\t\t\t\t.then(() => this.instantiationService.invokeFunction(applyCodeAction, item));\n\t\t\t}));\n\t}\n\n\tprivate openFileAtMarker(element: Marker): Promise<void> {\n\t\tconst { resource, selection } = { resource: element.resource, selection: element.range };\n\t\treturn this.editorService.openEditor({\n\t\t\tresource,\n\t\t\toptions: {\n\t\t\t\tselection,\n\t\t\t\tpreserveFocus: true,\n\t\t\t\tpinned: false,\n\t\t\t\trevealIfVisible: true\n\t\t\t},\n\t\t}, ACTIVE_GROUP).then(() => undefined);\n\t}\n\n\tprivate getModel(waitForModel: boolean): Promise<ITextModel | null> {\n\t\tconst model = this.modelService.getModel(this.marker.resource);\n\t\tif (model) {\n\t\t\treturn Promise.resolve(model);\n\t\t}\n\t\tif (waitForModel) {\n\t\t\tif (!this.modelPromise) {\n\t\t\t\tthis.modelPromise = createCancelablePromise(cancellationToken => {\n\t\t\t\t\treturn new Promise((c) => {\n\t\t\t\t\t\tthis._register(this.modelService.onModelAdded(model => {\n\t\t\t\t\t\t\tif (isEqual(model.uri, this.marker.resource)) {\n\t\t\t\t\t\t\t\tc(model);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.modelPromise;\n\t\t}\n\t\treturn Promise.resolve(null);\n\t}\n\n}\n\nexport class MarkersViewModel extends Disposable {\n\n\tprivate readonly _onDidChange: Emitter<Marker | undefined> = this._register(new Emitter<Marker | undefined>());\n\treadonly onDidChange: Event<Marker | undefined> = this._onDidChange.event;\n\n\tprivate readonly markersViewStates: Map<string, { viewModel: MarkerViewModel, disposables: IDisposable[] }> = new Map<string, { viewModel: MarkerViewModel, disposables: IDisposable[] }>();\n\tprivate readonly markersPerResource: Map<string, Marker[]> = new Map<string, Marker[]>();\n\n\tprivate bulkUpdate: boolean = false;\n\n\tprivate hoveredMarker: Marker | null = null;\n\tprivate hoverDelayer: Delayer<void> = new Delayer<void>(300);\n\n\tconstructor(\n\t\tmultiline: boolean = true,\n\t\t@IInstantiationService private instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis._multiline = multiline;\n\t}\n\n\tadd(marker: Marker): void {\n\t\tif (!this.markersViewStates.has(marker.id)) {\n\t\t\tconst viewModel = this.instantiationService.createInstance(MarkerViewModel, marker);\n\t\t\tconst disposables: IDisposable[] = [viewModel];\n\t\t\tviewModel.multiline = this.multiline;\n\t\t\tviewModel.onDidChange(() => {\n\t\t\t\tif (!this.bulkUpdate) {\n\t\t\t\t\tthis._onDidChange.fire(marker);\n\t\t\t\t}\n\t\t\t}, this, disposables);\n\t\t\tthis.markersViewStates.set(marker.id, { viewModel, disposables });\n\n\t\t\tconst markers = this.markersPerResource.get(marker.resource.toString()) || [];\n\t\t\tmarkers.push(marker);\n\t\t\tthis.markersPerResource.set(marker.resource.toString(), markers);\n\t\t}\n\t}\n\n\tremove(resource: URI): void {\n\t\tconst markers = this.markersPerResource.get(resource.toString()) || [];\n\t\tfor (const marker of markers) {\n\t\t\tconst value = this.markersViewStates.get(marker.id);\n\t\t\tif (value) {\n\t\t\t\tdispose(value.disposables);\n\t\t\t}\n\t\t\tthis.markersViewStates.delete(marker.id);\n\t\t\tif (this.hoveredMarker === marker) {\n\t\t\t\tthis.hoveredMarker = null;\n\t\t\t}\n\t\t}\n\t\tthis.markersPerResource.delete(resource.toString());\n\t}\n\n\tgetViewModel(marker: Marker): MarkerViewModel | null {\n\t\tconst value = this.markersViewStates.get(marker.id);\n\t\treturn value ? value.viewModel : null;\n\t}\n\n\tonMarkerMouseHover(marker: Marker): void {\n\t\tthis.hoveredMarker = marker;\n\t\tthis.hoverDelayer.trigger(() => {\n\t\t\tif (this.hoveredMarker) {\n\t\t\t\tconst model = this.getViewModel(this.hoveredMarker);\n\t\t\t\tif (model) {\n\t\t\t\t\tmodel.showLightBulb();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tonMarkerMouseLeave(marker: Marker): void {\n\t\tif (this.hoveredMarker === marker) {\n\t\t\tthis.hoveredMarker = null;\n\t\t}\n\t}\n\n\tprivate _multiline: boolean = true;\n\tget multiline(): boolean {\n\t\treturn this._multiline;\n\t}\n\n\tset multiline(value: boolean) {\n\t\tlet changed = false;\n\t\tif (this._multiline !== value) {\n\t\t\tthis._multiline = value;\n\t\t\tchanged = true;\n\t\t}\n\t\tthis.bulkUpdate = true;\n\t\tthis.markersViewStates.forEach(({ viewModel }) => {\n\t\t\tif (viewModel.multiline !== value) {\n\t\t\t\tviewModel.multiline = value;\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\t\tthis.bulkUpdate = false;\n\t\tif (changed) {\n\t\t\tthis._onDidChange.fire(undefined);\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tthis.markersViewStates.forEach(({ disposables }) => dispose(disposables));\n\t\tthis.markersViewStates.clear();\n\t\tthis.markersPerResource.clear();\n\t\tsuper.dispose();\n\t}\n\n}\n\nexport class ResourceDragAndDrop implements ITreeDragAndDrop<MarkerElement> {\n\tconstructor(\n\t\tprivate instantiationService: IInstantiationService\n\t) { }\n\n\tonDragOver(data: IDragAndDropData, targetElement: MarkerElement, targetIndex: number, originalEvent: DragEvent): boolean | ITreeDragOverReaction {\n\t\treturn false;\n\t}\n\n\tgetDragURI(element: MarkerElement): string | null {\n\t\tif (element instanceof ResourceMarkers) {\n\t\t\treturn element.resource.toString();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetDragLabel?(elements: MarkerElement[]): string | undefined {\n\t\tif (elements.length > 1) {\n\t\t\treturn String(elements.length);\n\t\t}\n\t\tconst element = elements[0];\n\t\treturn element instanceof ResourceMarkers ? basename(element.resource) : undefined;\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tconst elements = (data as ElementsDragAndDropData<MarkerElement>).elements;\n\t\tconst resources: URI[] = elements\n\t\t\t.filter(e => e instanceof ResourceMarkers)\n\t\t\t.map(resourceMarker => (resourceMarker as ResourceMarkers).resource);\n\n\t\tif (resources.length) {\n\t\t\t// Apply some datatransfer types to allow for dragging the element outside of the application\n\t\t\tthis.instantiationService.invokeFunction(fillResourceDataTransfers, resources, undefined, originalEvent);\n\t\t}\n\t}\n\n\tdrop(data: IDragAndDropData, targetElement: MarkerElement, targetIndex: number, originalEvent: DragEvent): void {\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst linkFg = theme.getColor(textLinkForeground);\n\tif (linkFg) {\n\t\tcollector.addRule(`.markers-panel .markers-panel-container .tree-container .monaco-tl-contents .details-container a.code-link .marker-code > span:hover { color: ${linkFg}; }`);\n\t\tcollector.addRule(`.markers-panel .markers-panel-container .tree-container .monaco-list:focus .monaco-tl-contents .details-container a.code-link .marker-code > span:hover { color: inherit; }`);\n\t}\n});\n"]}