{"version":3,"file":"part.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/test/browser/part.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { Part } from 'vs/workbench/browser/part';\nimport { isEmptyObject } from 'vs/base/common/types';\nimport { TestThemeService } from 'vs/platform/theme/test/common/testThemeService';\nimport { append, $, hide } from 'vs/base/browser/dom';\nimport { TestLayoutService } from 'vs/workbench/test/browser/workbenchTestServices';\nimport { StorageScope, StorageTarget } from 'vs/platform/storage/common/storage';\nimport { TestStorageService } from 'vs/workbench/test/common/workbenchTestServices';\n\nsuite('Workbench parts', () => {\n\n\tclass SimplePart extends Part {\n\n\t\tminimumWidth: number = 50;\n\t\tmaximumWidth: number = 50;\n\t\tminimumHeight: number = 50;\n\t\tmaximumHeight: number = 50;\n\n\t\toverride layout(width: number, height: number): void {\n\t\t\tthrow new Error('Method not implemented.');\n\t\t}\n\n\t\ttoJSON(): object {\n\t\t\tthrow new Error('Method not implemented.');\n\t\t}\n\t}\n\n\tclass MyPart extends SimplePart {\n\n\t\tconstructor(private expectedParent: HTMLElement) {\n\t\t\tsuper('myPart', { hasTitle: true }, new TestThemeService(), new TestStorageService(), new TestLayoutService());\n\t\t}\n\n\t\toverride createTitleArea(parent: HTMLElement): HTMLElement {\n\t\t\tassert.strictEqual(parent, this.expectedParent);\n\t\t\treturn super.createTitleArea(parent)!;\n\t\t}\n\n\t\toverride createContentArea(parent: HTMLElement): HTMLElement {\n\t\t\tassert.strictEqual(parent, this.expectedParent);\n\t\t\treturn super.createContentArea(parent)!;\n\t\t}\n\n\t\toverride getMemento(scope: StorageScope, target: StorageTarget) {\n\t\t\treturn super.getMemento(scope, target);\n\t\t}\n\n\t\toverride saveState(): void {\n\t\t\treturn super.saveState();\n\t\t}\n\t}\n\n\tclass MyPart2 extends SimplePart {\n\n\t\tconstructor() {\n\t\t\tsuper('myPart2', { hasTitle: true }, new TestThemeService(), new TestStorageService(), new TestLayoutService());\n\t\t}\n\n\t\toverride createTitleArea(parent: HTMLElement): HTMLElement {\n\t\t\tconst titleContainer = append(parent, $('div'));\n\t\t\tconst titleLabel = append(titleContainer, $('span'));\n\t\t\ttitleLabel.id = 'myPart.title';\n\t\t\ttitleLabel.innerText = 'Title';\n\n\t\t\treturn titleContainer;\n\t\t}\n\n\t\toverride createContentArea(parent: HTMLElement): HTMLElement {\n\t\t\tconst contentContainer = append(parent, $('div'));\n\t\t\tconst contentSpan = append(contentContainer, $('span'));\n\t\t\tcontentSpan.id = 'myPart.content';\n\t\t\tcontentSpan.innerText = 'Content';\n\n\t\t\treturn contentContainer;\n\t\t}\n\t}\n\n\tclass MyPart3 extends SimplePart {\n\n\t\tconstructor() {\n\t\t\tsuper('myPart2', { hasTitle: false }, new TestThemeService(), new TestStorageService(), new TestLayoutService());\n\t\t}\n\n\t\toverride createTitleArea(parent: HTMLElement): HTMLElement {\n\t\t\treturn null!;\n\t\t}\n\n\t\toverride createContentArea(parent: HTMLElement): HTMLElement {\n\t\t\tconst contentContainer = append(parent, $('div'));\n\t\t\tconst contentSpan = append(contentContainer, $('span'));\n\t\t\tcontentSpan.id = 'myPart.content';\n\t\t\tcontentSpan.innerText = 'Content';\n\n\t\t\treturn contentContainer;\n\t\t}\n\t}\n\n\tlet fixture: HTMLElement;\n\tlet fixtureId = 'workbench-part-fixture';\n\n\tsetup(() => {\n\t\tfixture = document.createElement('div');\n\t\tfixture.id = fixtureId;\n\t\tdocument.body.appendChild(fixture);\n\t});\n\n\tteardown(() => {\n\t\tdocument.body.removeChild(fixture);\n\t});\n\n\ttest('Creation', () => {\n\t\tlet b = document.createElement('div');\n\t\tdocument.getElementById(fixtureId)!.appendChild(b);\n\t\thide(b);\n\n\t\tlet part = new MyPart(b);\n\t\tpart.create(b);\n\n\t\tassert.strictEqual(part.getId(), 'myPart');\n\n\t\t// Memento\n\t\tlet memento = part.getMemento(StorageScope.GLOBAL, StorageTarget.MACHINE) as any;\n\t\tassert(memento);\n\t\tmemento.foo = 'bar';\n\t\tmemento.bar = [1, 2, 3];\n\n\t\tpart.saveState();\n\n\t\t// Re-Create to assert memento contents\n\t\tpart = new MyPart(b);\n\n\t\tmemento = part.getMemento(StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t\tassert(memento);\n\t\tassert.strictEqual(memento.foo, 'bar');\n\t\tassert.strictEqual(memento.bar.length, 3);\n\n\t\t// Empty Memento stores empty object\n\t\tdelete memento.foo;\n\t\tdelete memento.bar;\n\n\t\tpart.saveState();\n\t\tpart = new MyPart(b);\n\t\tmemento = part.getMemento(StorageScope.GLOBAL, StorageTarget.MACHINE);\n\t\tassert(memento);\n\t\tassert.strictEqual(isEmptyObject(memento), true);\n\t});\n\n\ttest('Part Layout with Title and Content', function () {\n\t\tlet b = document.createElement('div');\n\t\tdocument.getElementById(fixtureId)!.appendChild(b);\n\t\thide(b);\n\n\t\tlet part = new MyPart2();\n\t\tpart.create(b);\n\n\t\tassert(document.getElementById('myPart.title'));\n\t\tassert(document.getElementById('myPart.content'));\n\t});\n\n\ttest('Part Layout with Content only', function () {\n\t\tlet b = document.createElement('div');\n\t\tdocument.getElementById(fixtureId)!.appendChild(b);\n\t\thide(b);\n\n\t\tlet part = new MyPart3();\n\t\tpart.create(b);\n\n\t\tassert(!document.getElementById('myPart.title'));\n\t\tassert(document.getElementById('myPart.content'));\n\t});\n});\n"]}