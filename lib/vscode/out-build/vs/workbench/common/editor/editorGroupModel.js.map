{"version":3,"file":"editorGroupModel.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/workbench/common/editor/editorGroupModel.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { IEditorInputFactoryRegistry, EditorInput, IEditorIdentifier, IEditorCloseEvent, GroupIdentifier, SideBySideEditorInput, IEditorInput, EditorsOrder, EditorExtensions } from 'vs/workbench/common/editor';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { dispose, Disposable, DisposableStore } from 'vs/base/common/lifecycle';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { coalesce } from 'vs/base/common/arrays';\n\nconst EditorOpenPositioning = {\n\tLEFT: 'left',\n\tRIGHT: 'right',\n\tFIRST: 'first',\n\tLAST: 'last'\n};\n\nexport interface EditorCloseEvent extends IEditorCloseEvent {\n\treadonly editor: EditorInput;\n}\n\nexport interface EditorIdentifier extends IEditorIdentifier {\n\treadonly groupId: GroupIdentifier;\n\treadonly editor: EditorInput;\n}\n\nexport interface IEditorOpenOptions {\n\treadonly pinned?: boolean;\n\tsticky?: boolean;\n\tactive?: boolean;\n\treadonly index?: number;\n}\n\nexport interface IEditorOpenResult {\n\treadonly editor: EditorInput;\n\treadonly isNew: boolean;\n}\n\nexport interface ISerializedEditorInput {\n\treadonly id: string;\n\treadonly value: string;\n}\n\nexport interface ISerializedEditorGroupModel {\n\treadonly id: number;\n\treadonly editors: ISerializedEditorInput[];\n\treadonly mru: number[];\n\treadonly preview?: number;\n\tsticky?: number;\n}\n\nexport function isSerializedEditorGroupModel(obj?: unknown): obj is ISerializedEditorGroupModel {\n\tconst group = obj as ISerializedEditorGroupModel;\n\n\treturn !!(obj && typeof obj === 'object' && Array.isArray(group.editors) && Array.isArray(group.mru));\n}\n\nexport class EditorGroupModel extends Disposable {\n\n\tprivate static IDS = 0;\n\n\t//#region events\n\n\tprivate readonly _onDidActivateEditor = this._register(new Emitter<EditorInput>());\n\treadonly onDidActivateEditor = this._onDidActivateEditor.event;\n\n\tprivate readonly _onDidOpenEditor = this._register(new Emitter<EditorInput>());\n\treadonly onDidOpenEditor = this._onDidOpenEditor.event;\n\n\tprivate readonly _onDidCloseEditor = this._register(new Emitter<EditorCloseEvent>());\n\treadonly onDidCloseEditor = this._onDidCloseEditor.event;\n\n\tprivate readonly _onWillDisposeEditor = this._register(new Emitter<EditorInput>());\n\treadonly onWillDisposeEditor = this._onWillDisposeEditor.event;\n\n\tprivate readonly _onDidChangeEditorDirty = this._register(new Emitter<EditorInput>());\n\treadonly onDidChangeEditorDirty = this._onDidChangeEditorDirty.event;\n\n\tprivate readonly _onDidChangeEditorLabel = this._register(new Emitter<EditorInput>());\n\treadonly onDidEditorLabelChange = this._onDidChangeEditorLabel.event;\n\n\tprivate readonly _onDidMoveEditor = this._register(new Emitter<EditorInput>());\n\treadonly onDidMoveEditor = this._onDidMoveEditor.event;\n\n\tprivate readonly _onDidChangeEditorPinned = this._register(new Emitter<EditorInput>());\n\treadonly onDidChangeEditorPinned = this._onDidChangeEditorPinned.event;\n\n\tprivate readonly _onDidChangeEditorSticky = this._register(new Emitter<EditorInput>());\n\treadonly onDidChangeEditorSticky = this._onDidChangeEditorSticky.event;\n\n\t//#endregion\n\n\tprivate _id: GroupIdentifier;\n\tget id(): GroupIdentifier { return this._id; }\n\n\tprivate editors: EditorInput[] = [];\n\tprivate mru: EditorInput[] = [];\n\n\tprivate preview: EditorInput | null = null; // editor in preview state\n\tprivate active: EditorInput | null = null;  // editor in active state\n\tprivate sticky: number = -1; // index of first editor in sticky state\n\n\tprivate editorOpenPositioning: ('left' | 'right' | 'first' | 'last') | undefined;\n\tprivate focusRecentEditorAfterClose: boolean | undefined;\n\n\tconstructor(\n\t\tlabelOrSerializedGroup: ISerializedEditorGroupModel | undefined,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\n\t\tif (isSerializedEditorGroupModel(labelOrSerializedGroup)) {\n\t\t\tthis._id = this.deserialize(labelOrSerializedGroup);\n\t\t} else {\n\t\t\tthis._id = EditorGroupModel.IDS++;\n\t\t}\n\n\t\tthis.onConfigurationUpdated();\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(() => this.onConfigurationUpdated()));\n\t}\n\n\tprivate onConfigurationUpdated(): void {\n\t\tthis.editorOpenPositioning = this.configurationService.getValue('workbench.editor.openPositioning');\n\t\tthis.focusRecentEditorAfterClose = this.configurationService.getValue('workbench.editor.focusRecentEditorAfterClose');\n\t}\n\n\tget count(): number {\n\t\treturn this.editors.length;\n\t}\n\n\tget stickyCount(): number {\n\t\treturn this.sticky + 1;\n\t}\n\n\tgetEditors(order: EditorsOrder, options?: { excludeSticky?: boolean }): EditorInput[] {\n\t\tconst editors = order === EditorsOrder.MOST_RECENTLY_ACTIVE ? this.mru.slice(0) : this.editors.slice(0);\n\n\t\tif (options?.excludeSticky) {\n\n\t\t\t// MRU: need to check for index on each\n\t\t\tif (order === EditorsOrder.MOST_RECENTLY_ACTIVE) {\n\t\t\t\treturn editors.filter(editor => !this.isSticky(editor));\n\t\t\t}\n\n\t\t\t// Sequential: simply start after sticky index\n\t\t\treturn editors.slice(this.sticky + 1);\n\t\t}\n\n\t\treturn editors;\n\t}\n\n\tgetEditorByIndex(index: number): EditorInput | undefined {\n\t\treturn this.editors[index];\n\t}\n\n\tget activeEditor(): EditorInput | null {\n\t\treturn this.active;\n\t}\n\n\tisActive(editor: EditorInput): boolean {\n\t\treturn this.matches(this.active, editor);\n\t}\n\n\tget previewEditor(): EditorInput | null {\n\t\treturn this.preview;\n\t}\n\n\topenEditor(candidate: EditorInput, options?: IEditorOpenOptions): IEditorOpenResult {\n\t\tconst makeSticky = options?.sticky || (typeof options?.index === 'number' && this.isSticky(options.index));\n\t\tconst makePinned = options?.pinned || options?.sticky;\n\t\tconst makeActive = options?.active || !this.activeEditor || (!makePinned && this.matches(this.preview, this.activeEditor));\n\n\t\tconst existingEditorAndIndex = this.findEditor(candidate);\n\n\t\t// New editor\n\t\tif (!existingEditorAndIndex) {\n\t\t\tconst newEditor = candidate;\n\t\t\tconst indexOfActive = this.indexOf(this.active);\n\n\t\t\t// Insert into specific position\n\t\t\tlet targetIndex: number;\n\t\t\tif (options && typeof options.index === 'number') {\n\t\t\t\ttargetIndex = options.index;\n\t\t\t}\n\n\t\t\t// Insert to the BEGINNING\n\t\t\telse if (this.editorOpenPositioning === EditorOpenPositioning.FIRST) {\n\t\t\t\ttargetIndex = 0;\n\n\t\t\t\t// Always make sure targetIndex is after sticky editors\n\t\t\t\t// unless we are explicitly told to make the editor sticky\n\t\t\t\tif (!makeSticky && this.isSticky(targetIndex)) {\n\t\t\t\t\ttargetIndex = this.sticky + 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Insert to the END\n\t\t\telse if (this.editorOpenPositioning === EditorOpenPositioning.LAST) {\n\t\t\t\ttargetIndex = this.editors.length;\n\t\t\t}\n\n\t\t\t// Insert to LEFT or RIGHT of active editor\n\t\t\telse {\n\n\t\t\t\t// Insert to the LEFT of active editor\n\t\t\t\tif (this.editorOpenPositioning === EditorOpenPositioning.LEFT) {\n\t\t\t\t\tif (indexOfActive === 0 || !this.editors.length) {\n\t\t\t\t\t\ttargetIndex = 0; // to the left becoming first editor in list\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttargetIndex = indexOfActive; // to the left of active editor\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Insert to the RIGHT of active editor\n\t\t\t\telse {\n\t\t\t\t\ttargetIndex = indexOfActive + 1;\n\t\t\t\t}\n\n\t\t\t\t// Always make sure targetIndex is after sticky editors\n\t\t\t\t// unless we are explicitly told to make the editor sticky\n\t\t\t\tif (!makeSticky && this.isSticky(targetIndex)) {\n\t\t\t\t\ttargetIndex = this.sticky + 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If the editor becomes sticky, increment the sticky index and adjust\n\t\t\t// the targetIndex to be at the end of sticky editors unless already.\n\t\t\tif (makeSticky) {\n\t\t\t\tthis.sticky++;\n\n\t\t\t\tif (!this.isSticky(targetIndex)) {\n\t\t\t\t\ttargetIndex = this.sticky;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Insert into our list of editors if pinned or we have no preview editor\n\t\t\tif (makePinned || !this.preview) {\n\t\t\t\tthis.splice(targetIndex, false, newEditor);\n\t\t\t}\n\n\t\t\t// Handle preview\n\t\t\tif (!makePinned) {\n\n\t\t\t\t// Replace existing preview with this editor if we have a preview\n\t\t\t\tif (this.preview) {\n\t\t\t\t\tconst indexOfPreview = this.indexOf(this.preview);\n\t\t\t\t\tif (targetIndex > indexOfPreview) {\n\t\t\t\t\t\ttargetIndex--; // accomodate for the fact that the preview editor closes\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.replaceEditor(this.preview, newEditor, targetIndex, !makeActive);\n\t\t\t\t}\n\n\t\t\t\tthis.preview = newEditor;\n\t\t\t}\n\n\t\t\t// Listeners\n\t\t\tthis.registerEditorListeners(newEditor);\n\n\t\t\t// Event\n\t\t\tthis._onDidOpenEditor.fire(newEditor);\n\n\t\t\t// Handle active\n\t\t\tif (makeActive) {\n\t\t\t\tthis.doSetActive(newEditor);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\teditor: newEditor,\n\t\t\t\tisNew: true\n\t\t\t};\n\t\t}\n\n\t\t// Existing editor\n\t\telse {\n\t\t\tconst [existingEditor] = existingEditorAndIndex;\n\n\t\t\t// Pin it\n\t\t\tif (makePinned) {\n\t\t\t\tthis.doPin(existingEditor);\n\t\t\t}\n\n\t\t\t// Activate it\n\t\t\tif (makeActive) {\n\t\t\t\tthis.doSetActive(existingEditor);\n\t\t\t}\n\n\t\t\t// Respect index\n\t\t\tif (options && typeof options.index === 'number') {\n\t\t\t\tthis.moveEditor(existingEditor, options.index);\n\t\t\t}\n\n\t\t\t// Stick it (intentionally after the moveEditor call in case\n\t\t\t// the editor was already moved into the sticky range)\n\t\t\tif (makeSticky) {\n\t\t\t\tthis.doStick(existingEditor, this.indexOf(existingEditor));\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\teditor: existingEditor,\n\t\t\t\tisNew: false\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate registerEditorListeners(editor: EditorInput): void {\n\t\tconst listeners = new DisposableStore();\n\n\t\t// Re-emit disposal of editor input as our own event\n\t\tlisteners.add(Event.once(editor.onWillDispose)(() => {\n\t\t\tif (this.indexOf(editor) >= 0) {\n\t\t\t\tthis._onWillDisposeEditor.fire(editor);\n\t\t\t}\n\t\t}));\n\n\t\t// Re-Emit dirty state changes\n\t\tlisteners.add(editor.onDidChangeDirty(() => {\n\t\t\tthis._onDidChangeEditorDirty.fire(editor);\n\t\t}));\n\n\t\t// Re-Emit label changes\n\t\tlisteners.add(editor.onDidChangeLabel(() => {\n\t\t\tthis._onDidChangeEditorLabel.fire(editor);\n\t\t}));\n\n\t\t// Clean up dispose listeners once the editor gets closed\n\t\tlisteners.add(this.onDidCloseEditor(event => {\n\t\t\tif (event.editor.matches(editor)) {\n\t\t\t\tdispose(listeners);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate replaceEditor(toReplace: EditorInput, replaceWith: EditorInput, replaceIndex: number, openNext = true): void {\n\t\tconst event = this.doCloseEditor(toReplace, openNext, true); // optimization to prevent multiple setActive() in one call\n\n\t\t// We want to first add the new editor into our model before emitting the close event because\n\t\t// firing the close event can trigger a dispose on the same editor that is now being added.\n\t\t// This can lead into opening a disposed editor which is not what we want.\n\t\tthis.splice(replaceIndex, false, replaceWith);\n\n\t\tif (event) {\n\t\t\tthis._onDidCloseEditor.fire(event);\n\t\t}\n\t}\n\n\tcloseEditor(candidate: EditorInput, openNext = true): EditorInput | undefined {\n\t\tconst event = this.doCloseEditor(candidate, openNext, false);\n\n\t\tif (event) {\n\t\t\tthis._onDidCloseEditor.fire(event);\n\n\t\t\treturn event.editor;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate doCloseEditor(candidate: EditorInput, openNext: boolean, replaced: boolean): EditorCloseEvent | undefined {\n\t\tconst index = this.indexOf(candidate);\n\t\tif (index === -1) {\n\t\t\treturn undefined; // not found\n\t\t}\n\n\t\tconst editor = this.editors[index];\n\t\tconst sticky = this.isSticky(index);\n\n\t\t// Active Editor closed\n\t\tif (openNext && this.matches(this.active, editor)) {\n\n\t\t\t// More than one editor\n\t\t\tif (this.mru.length > 1) {\n\t\t\t\tlet newActive: EditorInput;\n\t\t\t\tif (this.focusRecentEditorAfterClose) {\n\t\t\t\t\tnewActive = this.mru[1]; // active editor is always first in MRU, so pick second editor after as new active\n\t\t\t\t} else {\n\t\t\t\t\tif (index === this.editors.length - 1) {\n\t\t\t\t\t\tnewActive = this.editors[index - 1]; // last editor is closed, pick previous as new active\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewActive = this.editors[index + 1]; // pick next editor as new active\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.doSetActive(newActive);\n\t\t\t}\n\n\t\t\t// One Editor\n\t\t\telse {\n\t\t\t\tthis.active = null;\n\t\t\t}\n\t\t}\n\n\t\t// Preview Editor closed\n\t\tif (this.matches(this.preview, editor)) {\n\t\t\tthis.preview = null;\n\t\t}\n\n\t\t// Remove from arrays\n\t\tthis.splice(index, true);\n\n\t\t// Event\n\t\treturn { editor, replaced, sticky, index, groupId: this.id };\n\t}\n\n\tmoveEditor(candidate: EditorInput, toIndex: number): EditorInput | undefined {\n\n\t\t// Ensure toIndex is in bounds of our model\n\t\tif (toIndex >= this.editors.length) {\n\t\t\ttoIndex = this.editors.length - 1;\n\t\t} else if (toIndex < 0) {\n\t\t\ttoIndex = 0;\n\t\t}\n\n\t\tconst index = this.indexOf(candidate);\n\t\tif (index < 0 || toIndex === index) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = this.editors[index];\n\n\t\t// Adjust sticky index: editor moved out of sticky state into unsticky state\n\t\tif (this.isSticky(index) && toIndex > this.sticky) {\n\t\t\tthis.sticky--;\n\t\t}\n\n\t\t// ...or editor moved into sticky state from unsticky state\n\t\telse if (!this.isSticky(index) && toIndex <= this.sticky) {\n\t\t\tthis.sticky++;\n\t\t}\n\n\t\t// Move\n\t\tthis.editors.splice(index, 1);\n\t\tthis.editors.splice(toIndex, 0, editor);\n\n\t\t// Event\n\t\tthis._onDidMoveEditor.fire(editor);\n\n\t\treturn editor;\n\t}\n\n\tsetActive(candidate: EditorInput): EditorInput | undefined {\n\t\tconst res = this.findEditor(candidate);\n\t\tif (!res) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\tconst [editor] = res;\n\n\t\tthis.doSetActive(editor);\n\n\t\treturn editor;\n\t}\n\n\tprivate doSetActive(editor: EditorInput): void {\n\t\tif (this.matches(this.active, editor)) {\n\t\t\treturn; // already active\n\t\t}\n\n\t\tthis.active = editor;\n\n\t\t// Bring to front in MRU list\n\t\tconst mruIndex = this.indexOf(editor, this.mru);\n\t\tthis.mru.splice(mruIndex, 1);\n\t\tthis.mru.unshift(editor);\n\n\t\t// Event\n\t\tthis._onDidActivateEditor.fire(editor);\n\t}\n\n\tpin(candidate: EditorInput): EditorInput | undefined {\n\t\tconst res = this.findEditor(candidate);\n\t\tif (!res) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\tconst [editor] = res;\n\n\t\tthis.doPin(editor);\n\n\t\treturn editor;\n\t}\n\n\tprivate doPin(editor: EditorInput): void {\n\t\tif (this.isPinned(editor)) {\n\t\t\treturn; // can only pin a preview editor\n\t\t}\n\n\t\t// Convert the preview editor to be a pinned editor\n\t\tthis.preview = null;\n\n\t\t// Event\n\t\tthis._onDidChangeEditorPinned.fire(editor);\n\t}\n\n\tunpin(candidate: EditorInput): EditorInput | undefined {\n\t\tconst res = this.findEditor(candidate);\n\t\tif (!res) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\tconst [editor] = res;\n\n\t\tthis.doUnpin(editor);\n\n\t\treturn editor;\n\t}\n\n\tprivate doUnpin(editor: EditorInput): void {\n\t\tif (!this.isPinned(editor)) {\n\t\t\treturn; // can only unpin a pinned editor\n\t\t}\n\n\t\t// Set new\n\t\tconst oldPreview = this.preview;\n\t\tthis.preview = editor;\n\n\t\t// Event\n\t\tthis._onDidChangeEditorPinned.fire(editor);\n\n\t\t// Close old preview editor if any\n\t\tif (oldPreview) {\n\t\t\tthis.closeEditor(oldPreview);\n\t\t}\n\t}\n\n\tisPinned(editorOrIndex: EditorInput | number): boolean {\n\t\tlet editor: EditorInput;\n\t\tif (typeof editorOrIndex === 'number') {\n\t\t\teditor = this.editors[editorOrIndex];\n\t\t} else {\n\t\t\teditor = editorOrIndex;\n\t\t}\n\n\t\treturn !this.matches(this.preview, editor);\n\t}\n\n\tstick(candidate: EditorInput): EditorInput | undefined {\n\t\tconst res = this.findEditor(candidate);\n\t\tif (!res) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\tconst [editor, index] = res;\n\n\t\tthis.doStick(editor, index);\n\n\t\treturn editor;\n\t}\n\n\tprivate doStick(editor: EditorInput, index: number): void {\n\t\tif (this.isSticky(index)) {\n\t\t\treturn; // can only stick a non-sticky editor\n\t\t}\n\n\t\t// Pin editor\n\t\tthis.pin(editor);\n\n\t\t// Move editor to be the last sticky editor\n\t\tthis.moveEditor(editor, this.sticky + 1);\n\n\t\t// Adjust sticky index\n\t\tthis.sticky++;\n\n\t\t// Event\n\t\tthis._onDidChangeEditorSticky.fire(editor);\n\t}\n\n\tunstick(candidate: EditorInput): EditorInput | undefined {\n\t\tconst res = this.findEditor(candidate);\n\t\tif (!res) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\tconst [editor, index] = res;\n\n\t\tthis.doUnstick(editor, index);\n\n\t\treturn editor;\n\t}\n\n\tprivate doUnstick(editor: EditorInput, index: number): void {\n\t\tif (!this.isSticky(index)) {\n\t\t\treturn; // can only unstick a sticky editor\n\t\t}\n\n\t\t// Move editor to be the first non-sticky editor\n\t\tthis.moveEditor(editor, this.sticky);\n\n\t\t// Adjust sticky index\n\t\tthis.sticky--;\n\n\t\t// Event\n\t\tthis._onDidChangeEditorSticky.fire(editor);\n\t}\n\n\tisSticky(candidateOrIndex: EditorInput | number): boolean {\n\t\tif (this.sticky < 0) {\n\t\t\treturn false; // no sticky editor\n\t\t}\n\n\t\tlet index: number;\n\t\tif (typeof candidateOrIndex === 'number') {\n\t\t\tindex = candidateOrIndex;\n\t\t} else {\n\t\t\tindex = this.indexOf(candidateOrIndex);\n\t\t}\n\n\t\tif (index < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn index <= this.sticky;\n\t}\n\n\tprivate splice(index: number, del: boolean, editor?: EditorInput): void {\n\t\tconst editorToDeleteOrReplace = this.editors[index];\n\n\t\t// Perform on sticky index\n\t\tif (del && this.isSticky(index)) {\n\t\t\tthis.sticky--;\n\t\t}\n\n\t\t// Perform on editors array\n\t\tif (editor) {\n\t\t\tthis.editors.splice(index, del ? 1 : 0, editor);\n\t\t} else {\n\t\t\tthis.editors.splice(index, del ? 1 : 0);\n\t\t}\n\n\t\t// Perform on MRU\n\t\t{\n\t\t\t// Add\n\t\t\tif (!del && editor) {\n\t\t\t\tif (this.mru.length === 0) {\n\t\t\t\t\t// the list of most recent editors is empty\n\t\t\t\t\t// so this editor can only be the most recent\n\t\t\t\t\tthis.mru.push(editor);\n\t\t\t\t} else {\n\t\t\t\t\t// we have most recent editors. as such we\n\t\t\t\t\t// put this newly opened editor right after\n\t\t\t\t\t// the current most recent one because it cannot\n\t\t\t\t\t// be the most recently active one unless\n\t\t\t\t\t// it becomes active. but it is still more\n\t\t\t\t\t// active then any other editor in the list.\n\t\t\t\t\tthis.mru.splice(1, 0, editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove / Replace\n\t\t\telse {\n\t\t\t\tconst indexInMRU = this.indexOf(editorToDeleteOrReplace, this.mru);\n\n\t\t\t\t// Remove\n\t\t\t\tif (del && !editor) {\n\t\t\t\t\tthis.mru.splice(indexInMRU, 1); // remove from MRU\n\t\t\t\t}\n\n\t\t\t\t// Replace\n\t\t\t\telse if (del && editor) {\n\t\t\t\t\tthis.mru.splice(indexInMRU, 1, editor); // replace MRU at location\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tindexOf(candidate: IEditorInput | null, editors = this.editors): number {\n\t\tif (!candidate) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tfor (let i = 0; i < editors.length; i++) {\n\t\t\tif (this.matches(editors[i], candidate)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\tprivate findEditor(candidate: EditorInput | null): [EditorInput, number /* index */] | undefined {\n\t\tconst index = this.indexOf(candidate, this.editors);\n\t\tif (index === -1) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn [this.editors[index], index];\n\t}\n\n\tcontains(candidate: EditorInput, options?: { supportSideBySide?: boolean, strictEquals?: boolean }): boolean {\n\t\tfor (const editor of this.editors) {\n\t\t\tif (this.matches(editor, candidate, options?.strictEquals)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (options?.supportSideBySide && editor instanceof SideBySideEditorInput) {\n\t\t\t\tif (this.matches(editor.primary, candidate, options?.strictEquals) || this.matches(editor.secondary, candidate, options?.strictEquals)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate matches(editor: IEditorInput | null, candidate: IEditorInput | null, strictEquals?: boolean): boolean {\n\t\tif (!editor || !candidate) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (strictEquals) {\n\t\t\treturn editor === candidate;\n\t\t}\n\n\t\treturn editor.matches(candidate);\n\t}\n\n\tclone(): EditorGroupModel {\n\t\tconst clone = this.instantiationService.createInstance(EditorGroupModel, undefined);\n\n\t\t// Copy over group properties\n\t\tclone.editors = this.editors.slice(0);\n\t\tclone.mru = this.mru.slice(0);\n\t\tclone.preview = this.preview;\n\t\tclone.active = this.active;\n\t\tclone.sticky = this.sticky;\n\n\t\t// Ensure to register listeners for each editor\n\t\tfor (const editor of clone.editors) {\n\t\t\tclone.registerEditorListeners(editor);\n\t\t}\n\n\t\treturn clone;\n\t}\n\n\tserialize(): ISerializedEditorGroupModel {\n\t\tconst registry = Registry.as<IEditorInputFactoryRegistry>(EditorExtensions.EditorInputFactories);\n\n\t\t// Serialize all editor inputs so that we can store them.\n\t\t// Editors that cannot be serialized need to be ignored\n\t\t// from mru, active, preview and sticky if any.\n\t\tlet serializableEditors: EditorInput[] = [];\n\t\tlet serializedEditors: ISerializedEditorInput[] = [];\n\t\tlet serializablePreviewIndex: number | undefined;\n\t\tlet serializableSticky = this.sticky;\n\n\t\tfor (let i = 0; i < this.editors.length; i++) {\n\t\t\tconst editor = this.editors[i];\n\t\t\tlet canSerializeEditor = false;\n\n\t\t\tconst editorSerializer = registry.getEditorInputSerializer(editor);\n\t\t\tif (editorSerializer) {\n\t\t\t\tconst value = editorSerializer.serialize(editor);\n\n\t\t\t\t// Editor can be serialized\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\tcanSerializeEditor = true;\n\n\t\t\t\t\tserializedEditors.push({ id: editor.typeId, value });\n\t\t\t\t\tserializableEditors.push(editor);\n\n\t\t\t\t\tif (this.preview === editor) {\n\t\t\t\t\t\tserializablePreviewIndex = serializableEditors.length - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Editor cannot be serialized\n\t\t\t\telse {\n\t\t\t\t\tcanSerializeEditor = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Adjust index of sticky editors if the editor cannot be serialized and is pinned\n\t\t\tif (!canSerializeEditor && this.isSticky(i)) {\n\t\t\t\tserializableSticky--;\n\t\t\t}\n\t\t}\n\n\t\tconst serializableMru = this.mru.map(editor => this.indexOf(editor, serializableEditors)).filter(i => i >= 0);\n\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\teditors: serializedEditors,\n\t\t\tmru: serializableMru,\n\t\t\tpreview: serializablePreviewIndex,\n\t\t\tsticky: serializableSticky >= 0 ? serializableSticky : undefined\n\t\t};\n\t}\n\n\tprivate deserialize(data: ISerializedEditorGroupModel): number {\n\t\tconst registry = Registry.as<IEditorInputFactoryRegistry>(EditorExtensions.EditorInputFactories);\n\n\t\tif (typeof data.id === 'number') {\n\t\t\tthis._id = data.id;\n\n\t\t\tEditorGroupModel.IDS = Math.max(data.id + 1, EditorGroupModel.IDS); // make sure our ID generator is always larger\n\t\t} else {\n\t\t\tthis._id = EditorGroupModel.IDS++; // backwards compatibility\n\t\t}\n\n\t\tthis.editors = coalesce(data.editors.map((e, index) => {\n\t\t\tlet editor: EditorInput | undefined = undefined;\n\n\t\t\tconst editorSerializer = registry.getEditorInputSerializer(e.id);\n\t\t\tif (editorSerializer) {\n\t\t\t\teditor = editorSerializer.deserialize(this.instantiationService, e.value);\n\t\t\t\tif (editor) {\n\t\t\t\t\tthis.registerEditorListeners(editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!editor && typeof data.sticky === 'number' && index <= data.sticky) {\n\t\t\t\tdata.sticky--; // if editor cannot be deserialized but was sticky, we need to decrease sticky index\n\t\t\t}\n\n\t\t\treturn editor;\n\t\t}));\n\n\t\tthis.mru = coalesce(data.mru.map(i => this.editors[i]));\n\n\t\tthis.active = this.mru[0];\n\n\t\tif (typeof data.preview === 'number') {\n\t\t\tthis.preview = this.editors[data.preview];\n\t\t}\n\n\t\tif (typeof data.sticky === 'number') {\n\t\t\tthis.sticky = data.sticky;\n\t\t}\n\n\t\treturn this._id;\n\t}\n}\n"]}