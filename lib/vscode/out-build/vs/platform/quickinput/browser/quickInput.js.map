{"version":3,"file":"quickInput.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/platform/quickinput/browser/quickInput.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IQuickInputService, IQuickPickItem, IPickOptions, IInputOptions, IQuickNavigateConfiguration, IQuickPick, IQuickInputButton, IInputBox, QuickPickInput, IKeyMods } from 'vs/platform/quickinput/common/quickInput';\nimport { ILayoutService } from 'vs/platform/layout/browser/layoutService';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IThemeService, Themable } from 'vs/platform/theme/common/themeService';\nimport { inputBackground, inputForeground, inputBorder, inputValidationInfoBackground, inputValidationInfoForeground, inputValidationInfoBorder, inputValidationWarningBackground, inputValidationWarningForeground, inputValidationWarningBorder, inputValidationErrorBackground, inputValidationErrorForeground, inputValidationErrorBorder, badgeBackground, badgeForeground, contrastBorder, buttonForeground, buttonBackground, buttonHoverBackground, progressBarBackground, widgetShadow, listFocusForeground, activeContrastBorder, pickerGroupBorder, pickerGroupForeground, quickInputForeground, quickInputBackground, quickInputTitleBackground, quickInputListFocusBackground, keybindingLabelBackground, keybindingLabelForeground, keybindingLabelBorder, keybindingLabelBottomBorder } from 'vs/platform/theme/common/colorRegistry';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { computeStyles } from 'vs/platform/theme/common/styler';\nimport { IContextKeyService, RawContextKey, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { IAccessibilityService } from 'vs/platform/accessibility/common/accessibility';\nimport { QuickInputController, IQuickInputStyles, IQuickInputOptions } from 'vs/base/parts/quickinput/browser/quickInput';\nimport { WorkbenchList, IWorkbenchListOptions } from 'vs/platform/list/browser/listService';\nimport { List } from 'vs/base/browser/ui/list/listWidget';\nimport { IListVirtualDelegate, IListRenderer } from 'vs/base/browser/ui/list/list';\nimport { IQuickAccessController } from 'vs/platform/quickinput/common/quickAccess';\nimport { QuickAccessController } from 'vs/platform/quickinput/browser/quickAccess';\n\nexport interface IQuickInputControllerHost extends ILayoutService { }\n\nexport class QuickInputService extends Themable implements IQuickInputService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tget backButton(): IQuickInputButton { return this.controller.backButton; }\n\n\tget onShow() { return this.controller.onShow; }\n\tget onHide() { return this.controller.onHide; }\n\n\tprivate _controller: QuickInputController | undefined;\n\tprivate get controller(): QuickInputController {\n\t\tif (!this._controller) {\n\t\t\tthis._controller = this._register(this.createController());\n\t\t}\n\n\t\treturn this._controller;\n\t}\n\n\tprivate _quickAccess: IQuickAccessController | undefined;\n\tget quickAccess(): IQuickAccessController {\n\t\tif (!this._quickAccess) {\n\t\t\tthis._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n\t\t}\n\n\t\treturn this._quickAccess;\n\t}\n\n\tprivate readonly contexts = new Map<string, IContextKey<boolean>>();\n\n\tconstructor(\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextKeyService protected readonly contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@ILayoutService protected readonly layoutService: ILayoutService\n\t) {\n\t\tsuper(themeService);\n\t}\n\n\tprotected createController(host: IQuickInputControllerHost = this.layoutService, options?: Partial<IQuickInputOptions>): QuickInputController {\n\t\tconst defaultOptions: IQuickInputOptions = {\n\t\t\tidPrefix: 'quickInput_', // Constant since there is still only one.\n\t\t\tcontainer: host.container,\n\t\t\tignoreFocusOut: () => false,\n\t\t\tisScreenReaderOptimized: () => this.accessibilityService.isScreenReaderOptimized(),\n\t\t\tbackKeybindingLabel: () => undefined,\n\t\t\tsetContextKey: (id?: string) => this.setContextKey(id),\n\t\t\treturnFocus: () => host.focus(),\n\t\t\tcreateList: <T>(\n\t\t\t\tuser: string,\n\t\t\t\tcontainer: HTMLElement,\n\t\t\t\tdelegate: IListVirtualDelegate<T>,\n\t\t\t\trenderers: IListRenderer<T, any>[],\n\t\t\t\toptions: IWorkbenchListOptions<T>,\n\t\t\t) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options) as List<T>,\n\t\t\tstyles: this.computeStyles()\n\t\t};\n\n\t\tconst controller = this._register(new QuickInputController({\n\t\t\t...defaultOptions,\n\t\t\t...options\n\t\t}));\n\n\t\tcontroller.layout(host.dimension, host.offset?.top ?? 0);\n\n\t\t// Layout changes\n\t\tthis._register(host.onDidLayout(dimension => controller.layout(dimension, host.offset?.top ?? 0)));\n\n\t\t// Context keys\n\t\tthis._register(controller.onShow(() => this.resetContextKeys()));\n\t\tthis._register(controller.onHide(() => this.resetContextKeys()));\n\n\t\treturn controller;\n\t}\n\n\tprivate setContextKey(id?: string) {\n\t\tlet key: IContextKey<boolean> | undefined;\n\t\tif (id) {\n\t\t\tkey = this.contexts.get(id);\n\t\t\tif (!key) {\n\t\t\t\tkey = new RawContextKey<boolean>(id, false)\n\t\t\t\t\t.bindTo(this.contextKeyService);\n\t\t\t\tthis.contexts.set(id, key);\n\t\t\t}\n\t\t}\n\n\t\tif (key && key.get()) {\n\t\t\treturn; // already active context\n\t\t}\n\n\t\tthis.resetContextKeys();\n\n\t\tif (key) {\n\t\t\tkey.set(true);\n\t\t}\n\t}\n\n\tprivate resetContextKeys() {\n\t\tthis.contexts.forEach(context => {\n\t\t\tif (context.get()) {\n\t\t\t\tcontext.reset();\n\t\t\t}\n\t\t});\n\t}\n\n\tpick<T extends IQuickPickItem, O extends IPickOptions<T>>(picks: Promise<QuickPickInput<T>[]> | QuickPickInput<T>[], options: O = <O>{}, token: CancellationToken = CancellationToken.None): Promise<(O extends { canPickMany: true } ? T[] : T) | undefined> {\n\t\treturn this.controller.pick(picks, options, token);\n\t}\n\n\tinput(options: IInputOptions = {}, token: CancellationToken = CancellationToken.None): Promise<string | undefined> {\n\t\treturn this.controller.input(options, token);\n\t}\n\n\tcreateQuickPick<T extends IQuickPickItem>(): IQuickPick<T> {\n\t\treturn this.controller.createQuickPick();\n\t}\n\n\tcreateInputBox(): IInputBox {\n\t\treturn this.controller.createInputBox();\n\t}\n\n\tfocus() {\n\t\tthis.controller.focus();\n\t}\n\n\ttoggle() {\n\t\tthis.controller.toggle();\n\t}\n\n\tnavigate(next: boolean, quickNavigate?: IQuickNavigateConfiguration) {\n\t\tthis.controller.navigate(next, quickNavigate);\n\t}\n\n\taccept(keyMods?: IKeyMods) {\n\t\treturn this.controller.accept(keyMods);\n\t}\n\n\tback() {\n\t\treturn this.controller.back();\n\t}\n\n\tcancel() {\n\t\treturn this.controller.cancel();\n\t}\n\n\tprotected override updateStyles() {\n\t\tthis.controller.applyStyles(this.computeStyles());\n\t}\n\n\tprivate computeStyles(): IQuickInputStyles {\n\t\treturn {\n\t\t\twidget: {\n\t\t\t\t...computeStyles(this.theme, {\n\t\t\t\t\tquickInputBackground,\n\t\t\t\t\tquickInputForeground,\n\t\t\t\t\tquickInputTitleBackground,\n\t\t\t\t\tcontrastBorder,\n\t\t\t\t\twidgetShadow\n\t\t\t\t}),\n\t\t\t},\n\t\t\tinputBox: computeStyles(this.theme, {\n\t\t\t\tinputForeground,\n\t\t\t\tinputBackground,\n\t\t\t\tinputBorder,\n\t\t\t\tinputValidationInfoBackground,\n\t\t\t\tinputValidationInfoForeground,\n\t\t\t\tinputValidationInfoBorder,\n\t\t\t\tinputValidationWarningBackground,\n\t\t\t\tinputValidationWarningForeground,\n\t\t\t\tinputValidationWarningBorder,\n\t\t\t\tinputValidationErrorBackground,\n\t\t\t\tinputValidationErrorForeground,\n\t\t\t\tinputValidationErrorBorder\n\t\t\t}),\n\t\t\tcountBadge: computeStyles(this.theme, {\n\t\t\t\tbadgeBackground,\n\t\t\t\tbadgeForeground,\n\t\t\t\tbadgeBorder: contrastBorder\n\t\t\t}),\n\t\t\tbutton: computeStyles(this.theme, {\n\t\t\t\tbuttonForeground,\n\t\t\t\tbuttonBackground,\n\t\t\t\tbuttonHoverBackground,\n\t\t\t\tbuttonBorder: contrastBorder\n\t\t\t}),\n\t\t\tprogressBar: computeStyles(this.theme, {\n\t\t\t\tprogressBarBackground\n\t\t\t}),\n\t\t\tkeybindingLabel: computeStyles(this.theme, {\n\t\t\t\tkeybindingLabelBackground,\n\t\t\t\tkeybindingLabelForeground,\n\t\t\t\tkeybindingLabelBorder,\n\t\t\t\tkeybindingLabelBottomBorder,\n\t\t\t\tkeybindingLabelShadow: widgetShadow\n\t\t\t}),\n\t\t\tlist: computeStyles(this.theme, {\n\t\t\t\tlistBackground: quickInputBackground,\n\t\t\t\t// Look like focused when inactive.\n\t\t\t\tlistInactiveFocusForeground: listFocusForeground,\n\t\t\t\tlistInactiveFocusBackground: quickInputListFocusBackground,\n\t\t\t\tlistFocusOutline: activeContrastBorder,\n\t\t\t\tlistInactiveFocusOutline: activeContrastBorder,\n\t\t\t\tpickerGroupBorder,\n\t\t\t\tpickerGroupForeground\n\t\t\t})\n\t\t};\n\t}\n}\n"]}