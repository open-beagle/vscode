{"version":3,"file":"contextkey.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/platform/contextkey/test/browser/contextkey.test.ts"],"names":[],"mappings":";;;IAQA,KAAK,CAAC,mBAAmB,EAAE,GAAG,EAAE;QAC/B,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE;YACzB,MAAM,IAAI,GAAG,IAAI,qCAAiB,CAAC,IAAI,mDAAwB,EAAE,CAAC,CAAC;YACnE,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;YACjE,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;YAEjE,MAAM,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;YAClE,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAE9B,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAE9B,IAAI,QAAoB,CAAC;YACzB,IAAI,MAA4B,CAAC;YACjC,MAAM,CAAC,GAAG,IAAI,OAAO,CAAO,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;gBAClD,QAAQ,GAAG,SAAS,CAAC;gBACrB,MAAM,GAAG,OAAO,CAAC;YAClB,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE;gBAC5B,IAAI;oBACH,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;oBAC9D,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;oBAC9D,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;oBAC9D,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,sBAAsB,CAAC,CAAC;oBAEtE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,SAAS,CAAC,CAAC;oBACjE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;iBACzD;gBAAC,OAAO,GAAG,EAAE;oBACb,MAAM,CAAC,GAAG,CAAC,CAAC;oBACZ,OAAO;iBACP;gBAED,QAAQ,EAAE,CAAC;YACZ,CAAC,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YAE5B,OAAO,CAAC,CAAC;QACV,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { TestConfigurationService } from 'vs/platform/configuration/test/common/testConfigurationService';\nimport { ContextKeyService } from 'vs/platform/contextkey/browser/contextKeyService';\nimport * as assert from 'assert';\n\nsuite('ContextKeyService', () => {\n\ttest('updateParent', () => {\n\t\tconst root = new ContextKeyService(new TestConfigurationService());\n\t\tconst parent1 = root.createScoped(document.createElement('div'));\n\t\tconst parent2 = root.createScoped(document.createElement('div'));\n\n\t\tconst child = parent1.createScoped(document.createElement('div'));\n\t\tparent1.createKey('testA', 1);\n\t\tparent1.createKey('testB', 2);\n\t\tparent1.createKey('testD', 0);\n\n\t\tparent2.createKey('testA', 3);\n\t\tparent2.createKey('testC', 4);\n\t\tparent2.createKey('testD', 0);\n\n\t\tlet complete: () => void;\n\t\tlet reject: (err: Error) => void;\n\t\tconst p = new Promise<void>((_complete, _reject) => {\n\t\t\tcomplete = _complete;\n\t\t\treject = _reject;\n\t\t});\n\t\tchild.onDidChangeContext(e => {\n\t\t\ttry {\n\t\t\t\tassert.ok(e.affectsSome(new Set(['testA'])), 'testA changed');\n\t\t\t\tassert.ok(e.affectsSome(new Set(['testB'])), 'testB changed');\n\t\t\t\tassert.ok(e.affectsSome(new Set(['testC'])), 'testC changed');\n\t\t\t\tassert.ok(!e.affectsSome(new Set(['testD'])), 'testD did not change');\n\n\t\t\t\tassert.strictEqual(child.getContextKeyValue('testA'), 3);\n\t\t\t\tassert.strictEqual(child.getContextKeyValue('testB'), undefined);\n\t\t\t\tassert.strictEqual(child.getContextKeyValue('testC'), 4);\n\t\t\t\tassert.strictEqual(child.getContextKeyValue('testD'), 0);\n\t\t\t} catch (err) {\n\t\t\t\treject(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcomplete();\n\t\t});\n\n\t\tchild.updateParent(parent2);\n\n\t\treturn p;\n\t});\n});\n"]}