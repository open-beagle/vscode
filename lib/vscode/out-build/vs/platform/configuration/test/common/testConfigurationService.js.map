{"version":3,"file":"testConfigurationService.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/platform/configuration/test/common/testConfigurationService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;IAOhG,MAAa,wBAAwB;QAMpC,YAAY,aAAmB;YAFtB,6BAAwB,GAAG,IAAI,eAAO,EAAO,CAAC,KAAK,CAAC;YAMrD,wBAAmB,GAAmC,uBAAiB,CAAC,QAAQ,EAAO,CAAC;YAH/F,IAAI,CAAC,aAAa,GAAG,aAAa,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC3D,CAAC;QAIM,mBAAmB;YACzB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QACzC,CAAC;QAEM,QAAQ,CAAC,IAAU,EAAE,IAAU;YACrC,IAAI,aAAa,CAAC;YAClB,MAAM,SAAS,GAAG,CAAA,GAAA,wCAAwB,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA,GAAA,wCAAwB,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;YAC5G,IAAI,SAAS,EAAE;gBACd,IAAI,SAAS,CAAC,QAAQ,EAAE;oBACvB,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC/E;aACD;YACD,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;YACnE,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;gBACrC,OAAO,CAAA,GAAA,qCAAqB,CAAA,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;aAClD;YACD,OAAO,aAAa,CAAC;QACtB,CAAC;QAEM,WAAW,CAAC,GAAW,EAAE,KAAU;YACzC,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAEM,oBAAoB,CAAC,GAAQ,EAAE,KAAU,EAAE,IAAU;YAC3D,IAAI,IAAI,EAAE;gBACT,MAAM,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACvF,aAAa,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;aACzD;iBAAM;gBACN,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aAChC;YAED,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAEM,OAAO,CAAI,GAAW,EAAE,SAAmC;YACjE,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAEnD,OAAO;gBACN,KAAK,EAAE,CAAA,GAAA,qCAAqB,CAAA,CAAI,MAAM,EAAE,GAAG,CAAC;gBAC5C,YAAY,EAAE,CAAA,GAAA,qCAAqB,CAAA,CAAI,MAAM,EAAE,GAAG,CAAC;gBACnD,SAAS,EAAE,CAAA,GAAA,qCAAqB,CAAA,CAAI,MAAM,EAAE,GAAG,CAAC;aAChD,CAAC;QACH,CAAC;QAEM,IAAI;YACV,OAAO;gBACN,OAAO,EAAE,CAAA,GAAA,oCAAoB,CAAA,EAAE;gBAC/B,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;gBACrC,SAAS,EAAE,EAAE;gBACb,eAAe,EAAE,EAAE;aACnB,CAAC;QACH,CAAC;QAEM,oBAAoB;YAC1B,OAAO,IAAI,CAAC;QACb,CAAC;KACD;IArED,4DAqEC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TernarySearchTree } from 'vs/base/common/map';\nimport { URI } from 'vs/base/common/uri';\nimport { getConfigurationKeys, IConfigurationOverrides, IConfigurationService, getConfigurationValue, isConfigurationOverrides, IConfigurationValue } from 'vs/platform/configuration/common/configuration';\nimport { Emitter } from 'vs/base/common/event';\n\nexport class TestConfigurationService implements IConfigurationService {\n\tpublic _serviceBrand: undefined;\n\n\tprivate configuration: any;\n\treadonly onDidChangeConfiguration = new Emitter<any>().event;\n\n\tconstructor(configuration?: any) {\n\t\tthis.configuration = configuration || Object.create(null);\n\t}\n\n\tprivate configurationByRoot: TernarySearchTree<string, any> = TernarySearchTree.forPaths<any>();\n\n\tpublic reloadConfiguration<T>(): Promise<T> {\n\t\treturn Promise.resolve(this.getValue());\n\t}\n\n\tpublic getValue(arg1?: any, arg2?: any): any {\n\t\tlet configuration;\n\t\tconst overrides = isConfigurationOverrides(arg1) ? arg1 : isConfigurationOverrides(arg2) ? arg2 : undefined;\n\t\tif (overrides) {\n\t\t\tif (overrides.resource) {\n\t\t\t\tconfiguration = this.configurationByRoot.findSubstr(overrides.resource.fsPath);\n\t\t\t}\n\t\t}\n\t\tconfiguration = configuration ? configuration : this.configuration;\n\t\tif (arg1 && typeof arg1 === 'string') {\n\t\t\treturn getConfigurationValue(configuration, arg1);\n\t\t}\n\t\treturn configuration;\n\t}\n\n\tpublic updateValue(key: string, value: any): Promise<void> {\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic setUserConfiguration(key: any, value: any, root?: URI): Promise<void> {\n\t\tif (root) {\n\t\t\tconst configForRoot = this.configurationByRoot.get(root.fsPath) || Object.create(null);\n\t\t\tconfigForRoot[key] = value;\n\t\t\tthis.configurationByRoot.set(root.fsPath, configForRoot);\n\t\t} else {\n\t\t\tthis.configuration[key] = value;\n\t\t}\n\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic inspect<T>(key: string, overrides?: IConfigurationOverrides): IConfigurationValue<T> {\n\t\tconst config = this.getValue(undefined, overrides);\n\n\t\treturn {\n\t\t\tvalue: getConfigurationValue<T>(config, key),\n\t\t\tdefaultValue: getConfigurationValue<T>(config, key),\n\t\t\tuserValue: getConfigurationValue<T>(config, key)\n\t\t};\n\t}\n\n\tpublic keys() {\n\t\treturn {\n\t\t\tdefault: getConfigurationKeys(),\n\t\t\tuser: Object.keys(this.configuration),\n\t\t\tworkspace: [],\n\t\t\tworkspaceFolder: []\n\t\t};\n\t}\n\n\tpublic getConfigurationData() {\n\t\treturn null;\n\t}\n}\n"]}