{"version":3,"file":"jsonEdit.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/base/test/common/jsonEdit.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { FormattingOptions, Edit } from 'vs/base/common/jsonFormatter';\nimport { setProperty, removeProperty } from 'vs/base/common/jsonEdit';\nimport * as assert from 'assert';\n\nsuite('JSON - edits', () => {\n\n\tfunction assertEdit(content: string, edits: Edit[], expected: string) {\n\t\tassert(edits);\n\t\tlet lastEditOffset = content.length;\n\t\tfor (let i = edits.length - 1; i >= 0; i--) {\n\t\t\tlet edit = edits[i];\n\t\t\tassert(edit.offset >= 0 && edit.length >= 0 && edit.offset + edit.length <= content.length);\n\t\t\tassert(typeof edit.content === 'string');\n\t\t\tassert(lastEditOffset >= edit.offset + edit.length); // make sure all edits are ordered\n\t\t\tlastEditOffset = edit.offset;\n\t\t\tcontent = content.substring(0, edit.offset) + edit.content + content.substring(edit.offset + edit.length);\n\t\t}\n\t\tassert.strictEqual(content, expected);\n\t}\n\n\tlet formatterOptions: FormattingOptions = {\n\t\tinsertSpaces: true,\n\t\ttabSize: 2,\n\t\teol: '\\n'\n\t};\n\n\ttest('set property', () => {\n\t\tlet content = '{\\n  \"x\": \"y\"\\n}';\n\t\tlet edits = setProperty(content, ['x'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": \"bar\"\\n}');\n\n\t\tcontent = 'true';\n\t\tedits = setProperty(content, [], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '\"bar\"');\n\n\t\tcontent = '{\\n  \"x\": \"y\"\\n}';\n\t\tedits = setProperty(content, ['x'], { key: true }, formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": {\\n    \"key\": true\\n  }\\n}');\n\t\tcontent = '{\\n  \"a\": \"b\",  \"x\": \"y\"\\n}';\n\t\tedits = setProperty(content, ['a'], null, formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"a\": null,  \"x\": \"y\"\\n}');\n\t});\n\n\ttest('insert property', () => {\n\t\tlet content = '{}';\n\t\tlet edits = setProperty(content, ['foo'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"foo\": \"bar\"\\n}');\n\n\t\tedits = setProperty(content, ['foo', 'foo2'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"foo\": {\\n    \"foo2\": \"bar\"\\n  }\\n}');\n\n\t\tcontent = '{\\n}';\n\t\tedits = setProperty(content, ['foo'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"foo\": \"bar\"\\n}');\n\n\t\tcontent = '  {\\n  }';\n\t\tedits = setProperty(content, ['foo'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '  {\\n    \"foo\": \"bar\"\\n  }');\n\n\t\tcontent = '{\\n  \"x\": \"y\"\\n}';\n\t\tedits = setProperty(content, ['foo'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": \"y\",\\n  \"foo\": \"bar\"\\n}');\n\n\t\tcontent = '{\\n  \"x\": \"y\"\\n}';\n\t\tedits = setProperty(content, ['e'], 'null', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": \"y\",\\n  \"e\": \"null\"\\n}');\n\n\t\tedits = setProperty(content, ['x'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": \"bar\"\\n}');\n\n\t\tcontent = '{\\n  \"x\": {\\n    \"a\": 1,\\n    \"b\": true\\n  }\\n}\\n';\n\t\tedits = setProperty(content, ['x'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": \"bar\"\\n}\\n');\n\n\t\tedits = setProperty(content, ['x', 'b'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": {\\n    \"a\": 1,\\n    \"b\": \"bar\"\\n  }\\n}\\n');\n\n\t\tedits = setProperty(content, ['x', 'c'], 'bar', formatterOptions, () => 0);\n\t\tassertEdit(content, edits, '{\\n  \"x\": {\\n    \"c\": \"bar\",\\n    \"a\": 1,\\n    \"b\": true\\n  }\\n}\\n');\n\n\t\tedits = setProperty(content, ['x', 'c'], 'bar', formatterOptions, () => 1);\n\t\tassertEdit(content, edits, '{\\n  \"x\": {\\n    \"a\": 1,\\n    \"c\": \"bar\",\\n    \"b\": true\\n  }\\n}\\n');\n\n\t\tedits = setProperty(content, ['x', 'c'], 'bar', formatterOptions, () => 2);\n\t\tassertEdit(content, edits, '{\\n  \"x\": {\\n    \"a\": 1,\\n    \"b\": true,\\n    \"c\": \"bar\"\\n  }\\n}\\n');\n\n\t\tedits = setProperty(content, ['c'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": {\\n    \"a\": 1,\\n    \"b\": true\\n  },\\n  \"c\": \"bar\"\\n}\\n');\n\n\t\tcontent = '{\\n  \"a\": [\\n    {\\n    } \\n  ]  \\n}';\n\t\tedits = setProperty(content, ['foo'], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"a\": [\\n    {\\n    } \\n  ],\\n  \"foo\": \"bar\"\\n}');\n\n\t\tcontent = '';\n\t\tedits = setProperty(content, ['foo', 0], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"foo\": [\\n    \"bar\"\\n  ]\\n}');\n\n\t\tcontent = '//comment';\n\t\tedits = setProperty(content, ['foo', 0], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"foo\": [\\n    \"bar\"\\n  ]\\n} //comment');\n\t});\n\n\ttest('remove property', () => {\n\t\tlet content = '{\\n  \"x\": \"y\"\\n}';\n\t\tlet edits = removeProperty(content, ['x'], formatterOptions);\n\t\tassertEdit(content, edits, '{\\n}');\n\n\t\tcontent = '{\\n  \"x\": \"y\", \"a\": []\\n}';\n\t\tedits = removeProperty(content, ['x'], formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"a\": []\\n}');\n\n\t\tcontent = '{\\n  \"x\": \"y\", \"a\": []\\n}';\n\t\tedits = removeProperty(content, ['a'], formatterOptions);\n\t\tassertEdit(content, edits, '{\\n  \"x\": \"y\"\\n}');\n\t});\n\n\ttest('insert item at 0', () => {\n\t\tlet content = '[\\n  2,\\n  3\\n]';\n\t\tlet edits = setProperty(content, [0], 1, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  2,\\n  3\\n]');\n\t});\n\n\ttest('insert item at 0 in empty array', () => {\n\t\tlet content = '[\\n]';\n\t\tlet edits = setProperty(content, [0], 1, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1\\n]');\n\t});\n\n\ttest('insert item at an index', () => {\n\t\tlet content = '[\\n  1,\\n  3\\n]';\n\t\tlet edits = setProperty(content, [1], 2, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  2,\\n  3\\n]');\n\t});\n\n\ttest('insert item at an index im empty array', () => {\n\t\tlet content = '[\\n]';\n\t\tlet edits = setProperty(content, [1], 1, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1\\n]');\n\t});\n\n\ttest('insert item at end index', () => {\n\t\tlet content = '[\\n  1,\\n  2\\n]';\n\t\tlet edits = setProperty(content, [2], 3, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  2,\\n  3\\n]');\n\t});\n\n\ttest('insert item at end to empty array', () => {\n\t\tlet content = '[\\n]';\n\t\tlet edits = setProperty(content, [-1], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  \"bar\"\\n]');\n\t});\n\n\ttest('insert item at end', () => {\n\t\tlet content = '[\\n  1,\\n  2\\n]';\n\t\tlet edits = setProperty(content, [-1], 'bar', formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  2,\\n  \"bar\"\\n]');\n\t});\n\n\ttest('remove item in array with one item', () => {\n\t\tlet content = '[\\n  1\\n]';\n\t\tlet edits = setProperty(content, [0], undefined, formatterOptions);\n\t\tassertEdit(content, edits, '[]');\n\t});\n\n\ttest('remove item in the middle of the array', () => {\n\t\tlet content = '[\\n  1,\\n  2,\\n  3\\n]';\n\t\tlet edits = setProperty(content, [1], undefined, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  3\\n]');\n\t});\n\n\ttest('remove last item in the array', () => {\n\t\tlet content = '[\\n  1,\\n  2,\\n  \"bar\"\\n]';\n\t\tlet edits = setProperty(content, [2], undefined, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  2\\n]');\n\t});\n\n\ttest('remove last item in the array if ends with comma', () => {\n\t\tlet content = '[\\n  1,\\n  \"foo\",\\n  \"bar\",\\n]';\n\t\tlet edits = setProperty(content, [2], undefined, formatterOptions);\n\t\tassertEdit(content, edits, '[\\n  1,\\n  \"foo\"\\n]');\n\t});\n\n\ttest('remove last item in the array if there is a comment in the beginning', () => {\n\t\tlet content = '// This is a comment\\n[\\n  1,\\n  \"foo\",\\n  \"bar\"\\n]';\n\t\tlet edits = setProperty(content, [2], undefined, formatterOptions);\n\t\tassertEdit(content, edits, '// This is a comment\\n[\\n  1,\\n  \"foo\"\\n]');\n\t});\n\n});\n"]}