{"version":3,"file":"extpath.test.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/base/test/node/extpath.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;IAShG,CAAA,GAAA,sBAAU,CAAA,CAAC,SAAS,EAAE,GAAG,EAAE;QAC1B,IAAI,OAAe,CAAC;QAEpB,KAAK,CAAC,GAAG,EAAE;YACV,OAAO,GAAG,CAAA,GAAA,6BAAiB,CAAA,CAAC,CAAA,GAAA,WAAM,CAAA,EAAE,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;YAE7D,OAAO,aAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,GAAG,EAAE;YACb,OAAO,CAAA,GAAA,YAAM,CAAA,CAAC,OAAO,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,EAAE,KAAK,IAAI,EAAE;YAE3B,sCAAsC;YACtC,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;gBAClE,MAAM,KAAK,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;gBACpC,MAAM,IAAI,GAAG,CAAA,GAAA,sBAAY,CAAA,CAAC,KAAK,CAAC,CAAC;gBAEjC,IAAI,IAAI,EAAE,EAAE,2CAA2C;oBACtD,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;oBACnC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC;oBAC9C,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;iBAClC;aACD;YAED,yDAAyD;iBACpD;gBACJ,MAAM,IAAI,GAAG,CAAA,GAAA,sBAAY,CAAA,CAAC,OAAO,CAAC,CAAC;gBACnC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;aAClC;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,EAAE,KAAK,IAAI,EAAE;YAC3B,MAAM,WAAW,GAAG,MAAM,CAAA,GAAA,kBAAQ,CAAA,CAAC,OAAO,CAAC,CAAC;YAC5C,MAAM,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE;YACzB,MAAM,QAAQ,GAAG,CAAA,GAAA,sBAAY,CAAA,CAAC,OAAO,CAAC,CAAC;YACvC,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as assert from 'assert';\nimport { tmpdir } from 'os';\nimport { promises } from 'fs';\nimport { rimraf } from 'vs/base/node/pfs';\nimport { realcaseSync, realpath, realpathSync } from 'vs/base/node/extpath';\nimport { flakySuite, getRandomTestPath } from 'vs/base/test/node/testUtils';\n\nflakySuite('Extpath', () => {\n\tlet testDir: string;\n\n\tsetup(() => {\n\t\ttestDir = getRandomTestPath(tmpdir(), 'vsctests', 'extpath');\n\n\t\treturn promises.mkdir(testDir, { recursive: true });\n\t});\n\n\tteardown(() => {\n\t\treturn rimraf(testDir);\n\t});\n\n\ttest('realcase', async () => {\n\n\t\t// assume case insensitive file system\n\t\tif (process.platform === 'win32' || process.platform === 'darwin') {\n\t\t\tconst upper = testDir.toUpperCase();\n\t\t\tconst real = realcaseSync(upper);\n\n\t\t\tif (real) { // can be null in case of permission errors\n\t\t\t\tassert.notStrictEqual(real, upper);\n\t\t\t\tassert.strictEqual(real.toUpperCase(), upper);\n\t\t\t\tassert.strictEqual(real, testDir);\n\t\t\t}\n\t\t}\n\n\t\t// linux, unix, etc. -> assume case sensitive file system\n\t\telse {\n\t\t\tconst real = realcaseSync(testDir);\n\t\t\tassert.strictEqual(real, testDir);\n\t\t}\n\t});\n\n\ttest('realpath', async () => {\n\t\tconst realpathVal = await realpath(testDir);\n\t\tassert.ok(realpathVal);\n\t});\n\n\ttest('realpathSync', () => {\n\t\tconst realpath = realpathSync(testDir);\n\t\tassert.ok(realpath);\n\t});\n});\n"]}