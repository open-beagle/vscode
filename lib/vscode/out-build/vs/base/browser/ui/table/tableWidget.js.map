{"version":3,"file":"tableWidget.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/base/browser/ui/table/tableWidget.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./table';\nimport { IListOptions, IListOptionsUpdate, IListStyles, List } from 'vs/base/browser/ui/list/listWidget';\nimport { ITableColumn, ITableContextMenuEvent, ITableEvent, ITableGestureEvent, ITableMouseEvent, ITableRenderer, ITableTouchEvent, ITableVirtualDelegate } from 'vs/base/browser/ui/table/table';\nimport { ISpliceable } from 'vs/base/common/sequence';\nimport { IThemable } from 'vs/base/common/styler';\nimport { IDisposable } from 'vs/base/common/lifecycle';\nimport { $, append, clearNode, createStyleSheet, getContentHeight, getContentWidth } from 'vs/base/browser/dom';\nimport { ISplitViewDescriptor, IView, Orientation, SplitView } from 'vs/base/browser/ui/splitview/splitview';\nimport { IListRenderer, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { Emitter, Event } from 'vs/base/common/event';\nimport { ScrollbarVisibility, ScrollEvent } from 'vs/base/common/scrollable';\n\n// TODO@joao\ntype TCell = any;\n\ninterface RowTemplateData {\n\treadonly container: HTMLElement;\n\treadonly cellContainers: HTMLElement[];\n\treadonly cellTemplateData: unknown[];\n}\n\nclass TableListRenderer<TRow> implements IListRenderer<TRow, RowTemplateData> {\n\n\tstatic TemplateId = 'row';\n\treadonly templateId = TableListRenderer.TemplateId;\n\tprivate renderers: ITableRenderer<TCell, unknown>[];\n\tprivate renderedTemplates = new Set<RowTemplateData>();\n\n\tconstructor(\n\t\tprivate columns: ITableColumn<TRow, TCell>[],\n\t\trenderers: ITableRenderer<TCell, unknown>[],\n\t\tprivate getColumnSize: (index: number) => number\n\t) {\n\t\tconst rendererMap = new Map(renderers.map(r => [r.templateId, r]));\n\t\tthis.renderers = [];\n\n\t\tfor (const column of columns) {\n\t\t\tconst renderer = rendererMap.get(column.templateId);\n\n\t\t\tif (!renderer) {\n\t\t\t\tthrow new Error(`Table cell renderer for template id ${column.templateId} not found.`);\n\t\t\t}\n\n\t\t\tthis.renderers.push(renderer);\n\t\t}\n\t}\n\n\trenderTemplate(container: HTMLElement) {\n\t\tconst rowContainer = append(container, $('.monaco-table-tr'));\n\t\tconst cellContainers: HTMLElement[] = [];\n\t\tconst cellTemplateData: unknown[] = [];\n\n\t\tfor (let i = 0; i < this.columns.length; i++) {\n\t\t\tconst renderer = this.renderers[i];\n\t\t\tconst cellContainer = append(rowContainer, $('.monaco-table-td', { 'data-col-index': i }));\n\n\t\t\tcellContainer.style.width = `${this.getColumnSize(i)}px`;\n\t\t\tcellContainers.push(cellContainer);\n\t\t\tcellTemplateData.push(renderer.renderTemplate(cellContainer));\n\t\t}\n\n\t\tconst result = { container, cellContainers, cellTemplateData };\n\t\tthis.renderedTemplates.add(result);\n\n\t\treturn result;\n\t}\n\n\trenderElement(element: TRow, index: number, templateData: RowTemplateData, height: number | undefined): void {\n\t\tfor (let i = 0; i < this.columns.length; i++) {\n\t\t\tconst column = this.columns[i];\n\t\t\tconst cell = column.project(element);\n\t\t\tconst renderer = this.renderers[i];\n\t\t\trenderer.renderElement(cell, index, templateData.cellTemplateData[i], height);\n\t\t}\n\t}\n\n\tdisposeElement(element: TRow, index: number, templateData: RowTemplateData, height: number | undefined): void {\n\t\tfor (let i = 0; i < this.columns.length; i++) {\n\t\t\tconst renderer = this.renderers[i];\n\n\t\t\tif (renderer.disposeElement) {\n\t\t\t\tconst column = this.columns[i];\n\t\t\t\tconst cell = column.project(element);\n\n\t\t\t\trenderer.disposeElement(cell, index, templateData.cellTemplateData[i], height);\n\t\t\t}\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: RowTemplateData): void {\n\t\tfor (let i = 0; i < this.columns.length; i++) {\n\t\t\tconst renderer = this.renderers[i];\n\t\t\trenderer.disposeTemplate(templateData.cellTemplateData[i]);\n\t\t}\n\n\t\tclearNode(templateData.container);\n\t\tthis.renderedTemplates.delete(templateData);\n\t}\n\n\tlayoutColumn(index: number, size: number): void {\n\t\tfor (const { cellContainers } of this.renderedTemplates) {\n\t\t\tcellContainers[index].style.width = `${size}px`;\n\t\t}\n\t}\n}\n\nfunction asListVirtualDelegate<TRow>(delegate: ITableVirtualDelegate<TRow>): IListVirtualDelegate<TRow> {\n\treturn {\n\t\tgetHeight(row) { return delegate.getHeight(row); },\n\t\tgetTemplateId() { return TableListRenderer.TemplateId; },\n\t};\n}\n\nclass ColumnHeader<TRow, TCell> implements IView {\n\n\treadonly element: HTMLElement;\n\n\tget minimumSize() { return this.column.minimumWidth ?? 120; }\n\tget maximumSize() { return this.column.maximumWidth ?? Number.POSITIVE_INFINITY; }\n\tget onDidChange() { return this.column.onDidChangeWidthConstraints ?? Event.None; }\n\n\tprivate _onDidLayout = new Emitter<[number, number]>();\n\treadonly onDidLayout = this._onDidLayout.event;\n\n\tconstructor(readonly column: ITableColumn<TRow, TCell>, private index: number) {\n\t\tthis.element = $('.monaco-table-th', { 'data-col-index': index, title: column.tooltip }, column.label);\n\t}\n\n\tlayout(size: number): void {\n\t\tthis._onDidLayout.fire([this.index, size]);\n\t}\n}\n\nexport interface ITableOptions<TRow> extends IListOptions<TRow> { }\nexport interface ITableOptionsUpdate extends IListOptionsUpdate { }\nexport interface ITableStyles extends IListStyles { }\n\nexport class Table<TRow> implements ISpliceable<TRow>, IThemable, IDisposable {\n\n\tprivate static InstanceCount = 0;\n\treadonly domId = `table_id_${++Table.InstanceCount}`;\n\n\treadonly domNode: HTMLElement;\n\tprivate splitview: SplitView;\n\tprivate list: List<TRow>;\n\tprivate columnLayoutDisposable: IDisposable;\n\tprivate cachedHeight: number = 0;\n\tprivate styleElement: HTMLStyleElement;\n\n\tget onDidChangeFocus(): Event<ITableEvent<TRow>> { return this.list.onDidChangeFocus; }\n\tget onDidChangeSelection(): Event<ITableEvent<TRow>> { return this.list.onDidChangeSelection; }\n\n\tget onDidScroll(): Event<ScrollEvent> { return this.list.onDidScroll; }\n\tget onMouseClick(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseClick; }\n\tget onMouseDblClick(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseDblClick; }\n\tget onMouseMiddleClick(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseMiddleClick; }\n\tget onPointer(): Event<ITableMouseEvent<TRow>> { return this.list.onPointer; }\n\tget onMouseUp(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseUp; }\n\tget onMouseDown(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseDown; }\n\tget onMouseOver(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseOver; }\n\tget onMouseMove(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseMove; }\n\tget onMouseOut(): Event<ITableMouseEvent<TRow>> { return this.list.onMouseOut; }\n\tget onTouchStart(): Event<ITableTouchEvent<TRow>> { return this.list.onTouchStart; }\n\tget onTap(): Event<ITableGestureEvent<TRow>> { return this.list.onTap; }\n\tget onContextMenu(): Event<ITableContextMenuEvent<TRow>> { return this.list.onContextMenu; }\n\n\tget onDidFocus(): Event<void> { return this.list.onDidFocus; }\n\tget onDidBlur(): Event<void> { return this.list.onDidBlur; }\n\n\tget scrollTop(): number { return this.list.scrollTop; }\n\tset scrollTop(scrollTop: number) { this.list.scrollTop = scrollTop; }\n\tget scrollLeft(): number { return this.list.scrollLeft; }\n\tset scrollLeft(scrollLeft: number) { this.list.scrollLeft = scrollLeft; }\n\tget scrollHeight(): number { return this.list.scrollHeight; }\n\tget renderHeight(): number { return this.list.renderHeight; }\n\tget onDidDispose(): Event<void> { return this.list.onDidDispose; }\n\n\tconstructor(\n\t\tuser: string,\n\t\tcontainer: HTMLElement,\n\t\tprivate virtualDelegate: ITableVirtualDelegate<TRow>,\n\t\tcolumns: ITableColumn<TRow, TCell>[],\n\t\trenderers: ITableRenderer<TCell, unknown>[],\n\t\t_options?: ITableOptions<TRow>\n\t) {\n\t\tthis.domNode = append(container, $(`.monaco-table.${this.domId}`));\n\n\t\tconst headers = columns.map((c, i) => new ColumnHeader(c, i));\n\t\tconst descriptor: ISplitViewDescriptor = {\n\t\t\tsize: headers.reduce((a, b) => a + b.column.weight, 0),\n\t\t\tviews: headers.map(view => ({ size: view.column.weight, view }))\n\t\t};\n\n\t\tthis.splitview = new SplitView(this.domNode, {\n\t\t\torientation: Orientation.HORIZONTAL,\n\t\t\tscrollbarVisibility: ScrollbarVisibility.Hidden,\n\t\t\tgetSashOrthogonalSize: () => this.cachedHeight,\n\t\t\tdescriptor\n\t\t});\n\n\t\tthis.splitview.el.style.height = `${virtualDelegate.headerRowHeight}px`;\n\t\tthis.splitview.el.style.lineHeight = `${virtualDelegate.headerRowHeight}px`;\n\n\t\tconst renderer = new TableListRenderer(columns, renderers, i => this.splitview.getViewSize(i));\n\t\tthis.list = new List(user, this.domNode, asListVirtualDelegate(virtualDelegate), [renderer], _options);\n\n\t\tthis.columnLayoutDisposable = Event.any(...headers.map(h => h.onDidLayout))\n\t\t\t(([index, size]) => renderer.layoutColumn(index, size));\n\n\t\tthis.styleElement = createStyleSheet(this.domNode);\n\t\tthis.style({});\n\t}\n\n\tupdateOptions(options: ITableOptionsUpdate): void {\n\t\tthis.list.updateOptions(options);\n\t}\n\n\tsplice(start: number, deleteCount: number, elements: TRow[] = []): void {\n\t\tthis.list.splice(start, deleteCount, elements);\n\t}\n\n\trerender(): void {\n\t\tthis.list.rerender();\n\t}\n\n\trow(index: number): TRow {\n\t\treturn this.list.element(index);\n\t}\n\n\tindexOf(element: TRow): number {\n\t\treturn this.list.indexOf(element);\n\t}\n\n\tget length(): number {\n\t\treturn this.list.length;\n\t}\n\n\tgetHTMLElement(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tlayout(height?: number, width?: number): void {\n\t\theight = height ?? getContentHeight(this.domNode);\n\t\twidth = width ?? getContentWidth(this.domNode);\n\n\t\tthis.cachedHeight = height;\n\t\tthis.splitview.layout(width);\n\n\t\tconst listHeight = height - this.virtualDelegate.headerRowHeight;\n\t\tthis.list.getHTMLElement().style.height = `${listHeight}px`;\n\t\tthis.list.layout(listHeight, width);\n\t}\n\n\ttoggleKeyboardNavigation(): void {\n\t\tthis.list.toggleKeyboardNavigation();\n\t}\n\n\tstyle(styles: ITableStyles): void {\n\t\tconst content: string[] = [];\n\n\t\tcontent.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight + 1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`);\n\n\t\tthis.styleElement.textContent = content.join('\\n');\n\t\tthis.list.style(styles);\n\t}\n\n\tdomFocus(): void {\n\t\tthis.list.domFocus();\n\t}\n\n\tsetAnchor(index: number | undefined): void {\n\t\tthis.list.setAnchor(index);\n\t}\n\n\tgetAnchor(): number | undefined {\n\t\treturn this.list.getAnchor();\n\t}\n\n\tgetSelectedElements(): TRow[] {\n\t\treturn this.list.getSelectedElements();\n\t}\n\n\tsetSelection(indexes: number[], browserEvent?: UIEvent): void {\n\t\tthis.list.setSelection(indexes, browserEvent);\n\t}\n\n\tgetSelection(): number[] {\n\t\treturn this.list.getSelection();\n\t}\n\n\tsetFocus(indexes: number[], browserEvent?: UIEvent): void {\n\t\tthis.list.setFocus(indexes, browserEvent);\n\t}\n\n\tfocusNext(n = 1, loop = false, browserEvent?: UIEvent): void {\n\t\tthis.list.focusNext(n, loop, browserEvent);\n\t}\n\n\tfocusPrevious(n = 1, loop = false, browserEvent?: UIEvent): void {\n\t\tthis.list.focusPrevious(n, loop, browserEvent);\n\t}\n\n\tfocusNextPage(browserEvent?: UIEvent): Promise<void> {\n\t\treturn this.list.focusNextPage(browserEvent);\n\t}\n\n\tfocusPreviousPage(browserEvent?: UIEvent): Promise<void> {\n\t\treturn this.list.focusPreviousPage(browserEvent);\n\t}\n\n\tfocusFirst(browserEvent?: UIEvent): void {\n\t\tthis.list.focusFirst(browserEvent);\n\t}\n\n\tfocusLast(browserEvent?: UIEvent): void {\n\t\tthis.list.focusLast(browserEvent);\n\t}\n\n\tgetFocus(): number[] {\n\t\treturn this.list.getFocus();\n\t}\n\n\tgetFocusedElements(): TRow[] {\n\t\treturn this.list.getFocusedElements();\n\t}\n\n\treveal(index: number, relativeTop?: number): void {\n\t\tthis.list.reveal(index, relativeTop);\n\t}\n\n\tdispose(): void {\n\t\tthis.splitview.dispose();\n\t\tthis.list.dispose();\n\t\tthis.columnLayoutDisposable.dispose();\n\t}\n}\n"]}