{"version":3,"file":"mouseEvent.js","sourceRoot":"file:///go/src/gitlab.wodcloud.com/cloud/vscode/lib/vscode/src","sources":["vs/base/browser/mouseEvent.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as browser from 'vs/base/browser/browser';\nimport { IframeUtils } from 'vs/base/browser/iframe';\nimport * as platform from 'vs/base/common/platform';\n\nexport interface IMouseEvent {\n\treadonly browserEvent: MouseEvent;\n\treadonly leftButton: boolean;\n\treadonly middleButton: boolean;\n\treadonly rightButton: boolean;\n\treadonly buttons: number;\n\treadonly target: HTMLElement;\n\treadonly detail: number;\n\treadonly posx: number;\n\treadonly posy: number;\n\treadonly ctrlKey: boolean;\n\treadonly shiftKey: boolean;\n\treadonly altKey: boolean;\n\treadonly metaKey: boolean;\n\treadonly timestamp: number;\n\n\tpreventDefault(): void;\n\tstopPropagation(): void;\n}\n\nexport class StandardMouseEvent implements IMouseEvent {\n\n\tpublic readonly browserEvent: MouseEvent;\n\n\tpublic readonly leftButton: boolean;\n\tpublic readonly middleButton: boolean;\n\tpublic readonly rightButton: boolean;\n\tpublic readonly buttons: number;\n\tpublic readonly target: HTMLElement;\n\tpublic detail: number;\n\tpublic readonly posx: number;\n\tpublic readonly posy: number;\n\tpublic readonly ctrlKey: boolean;\n\tpublic readonly shiftKey: boolean;\n\tpublic readonly altKey: boolean;\n\tpublic readonly metaKey: boolean;\n\tpublic readonly timestamp: number;\n\n\tconstructor(e: MouseEvent) {\n\t\tthis.timestamp = Date.now();\n\t\tthis.browserEvent = e;\n\t\tthis.leftButton = e.button === 0;\n\t\tthis.middleButton = e.button === 1;\n\t\tthis.rightButton = e.button === 2;\n\t\tthis.buttons = e.buttons;\n\n\t\tthis.target = <HTMLElement>e.target;\n\n\t\tthis.detail = e.detail || 1;\n\t\tif (e.type === 'dblclick') {\n\t\t\tthis.detail = 2;\n\t\t}\n\t\tthis.ctrlKey = e.ctrlKey;\n\t\tthis.shiftKey = e.shiftKey;\n\t\tthis.altKey = e.altKey;\n\t\tthis.metaKey = e.metaKey;\n\n\t\tif (typeof e.pageX === 'number') {\n\t\t\tthis.posx = e.pageX;\n\t\t\tthis.posy = e.pageY;\n\t\t} else {\n\t\t\t// Probably hit by MSGestureEvent\n\t\t\tthis.posx = e.clientX + document.body.scrollLeft + document.documentElement!.scrollLeft;\n\t\t\tthis.posy = e.clientY + document.body.scrollTop + document.documentElement!.scrollTop;\n\t\t}\n\n\t\t// Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n\t\tlet iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self, e.view);\n\t\tthis.posx -= iframeOffsets.left;\n\t\tthis.posy -= iframeOffsets.top;\n\t}\n\n\tpublic preventDefault(): void {\n\t\tthis.browserEvent.preventDefault();\n\t}\n\n\tpublic stopPropagation(): void {\n\t\tthis.browserEvent.stopPropagation();\n\t}\n}\n\nexport interface IDataTransfer {\n\tdropEffect: string;\n\teffectAllowed: string;\n\ttypes: any[];\n\tfiles: any[];\n\n\tsetData(type: string, data: string): void;\n\tsetDragImage(image: any, x: number, y: number): void;\n\n\tgetData(type: string): string;\n\tclearData(types?: string[]): void;\n}\n\nexport class DragMouseEvent extends StandardMouseEvent {\n\n\tpublic readonly dataTransfer: IDataTransfer;\n\n\tconstructor(e: MouseEvent) {\n\t\tsuper(e);\n\t\tthis.dataTransfer = (<any>e).dataTransfer;\n\t}\n\n}\n\nexport interface IMouseWheelEvent extends MouseEvent {\n\treadonly wheelDelta: number;\n\treadonly wheelDeltaX: number;\n\treadonly wheelDeltaY: number;\n\n\treadonly deltaX: number;\n\treadonly deltaY: number;\n\treadonly deltaZ: number;\n\treadonly deltaMode: number;\n}\n\ninterface IWebKitMouseWheelEvent {\n\twheelDeltaY: number;\n\twheelDeltaX: number;\n}\n\ninterface IGeckoMouseWheelEvent {\n\tHORIZONTAL_AXIS: number;\n\tVERTICAL_AXIS: number;\n\taxis: number;\n\tdetail: number;\n}\n\nexport class StandardWheelEvent {\n\n\tpublic readonly browserEvent: IMouseWheelEvent | null;\n\tpublic readonly deltaY: number;\n\tpublic readonly deltaX: number;\n\tpublic readonly target: Node;\n\n\tconstructor(e: IMouseWheelEvent | null, deltaX: number = 0, deltaY: number = 0) {\n\n\t\tthis.browserEvent = e || null;\n\t\tthis.target = e ? (e.target || (<any>e).targetNode || e.srcElement) : null;\n\n\t\tthis.deltaY = deltaY;\n\t\tthis.deltaX = deltaX;\n\n\t\tif (e) {\n\t\t\t// Old (deprecated) wheel events\n\t\t\tlet e1 = <IWebKitMouseWheelEvent><any>e;\n\t\t\tlet e2 = <IGeckoMouseWheelEvent><any>e;\n\n\t\t\t// vertical delta scroll\n\t\t\tif (typeof e1.wheelDeltaY !== 'undefined') {\n\t\t\t\tthis.deltaY = e1.wheelDeltaY / 120;\n\t\t\t} else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n\t\t\t\tthis.deltaY = -e2.detail / 3;\n\t\t\t} else if (e.type === 'wheel') {\n\t\t\t\t// Modern wheel event\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n\t\t\t\tconst ev = <WheelEvent><unknown>e;\n\n\t\t\t\tif (ev.deltaMode === ev.DOM_DELTA_LINE) {\n\t\t\t\t\t// the deltas are expressed in lines\n\t\t\t\t\tif (browser.isFirefox && !platform.isMacintosh) {\n\t\t\t\t\t\tthis.deltaY = -e.deltaY / 3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.deltaY = -e.deltaY;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaY = -e.deltaY / 40;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// horizontal delta scroll\n\t\t\tif (typeof e1.wheelDeltaX !== 'undefined') {\n\t\t\t\tif (browser.isSafari && platform.isWindows) {\n\t\t\t\t\tthis.deltaX = - (e1.wheelDeltaX / 120);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaX = e1.wheelDeltaX / 120;\n\t\t\t\t}\n\t\t\t} else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n\t\t\t\tthis.deltaX = -e.detail / 3;\n\t\t\t} else if (e.type === 'wheel') {\n\t\t\t\t// Modern wheel event\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n\t\t\t\tconst ev = <WheelEvent><unknown>e;\n\n\t\t\t\tif (ev.deltaMode === ev.DOM_DELTA_LINE) {\n\t\t\t\t\t// the deltas are expressed in lines\n\t\t\t\t\tif (browser.isFirefox && !platform.isMacintosh) {\n\t\t\t\t\t\tthis.deltaX = -e.deltaX / 3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.deltaX = -e.deltaX;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaX = -e.deltaX / 40;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Assume a vertical scroll if nothing else worked\n\t\t\tif (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n\t\t\t\tthis.deltaY = e.wheelDelta / 120;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic preventDefault(): void {\n\t\tif (this.browserEvent) {\n\t\t\tthis.browserEvent.preventDefault();\n\t\t}\n\t}\n\n\tpublic stopPropagation(): void {\n\t\tif (this.browserEvent) {\n\t\t\tthis.browserEvent.stopPropagation();\n\t\t}\n\t}\n}\n"]}